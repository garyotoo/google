window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPgo8IS0tVGhpcyBpcyBhIHJvZ3VlbGl0ZSBkdW5nZW9uIGNyYXdsZXIuIFVzZXMganNkZWxpdnItLSE+Cgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4tdXMiPgo8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvU3RpbmthbGlzdGljL1VHU0BtYWluL1VOSVRZL2R1bmdlb25yYWlkLyI+CiAgPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+CiAgICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+CiAgICA8dGl0bGU+RHVuZ2VvblJhaWQ8L3RpdGxlPgogICAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJUZW1wbGF0ZURhdGEvZmF2aWNvbi5pY28iPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJUZW1wbGF0ZURhdGEvc3R5bGUuY3NzIj4KICAgIDxsaW5rIHJlbD0ibWFuaWZlc3QiIGhyZWY9Im1hbmlmZXN0LndlYm1hbmlmZXN0Ij4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8ZGl2IGlkPSJ1bml0eS1jb250YWluZXIiPgogICAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiIHdpZHRoPTEwMDAgaGVpZ2h0PTYwMCB0YWJpbmRleD0iLTEiPjwvY2FudmFzPgogICAgICA8ZGl2IGlkPSJ1bml0eS1sb2FkaW5nLWJhciI+CiAgICAgICAgPGRpdiBpZD0idW5pdHktbG9nbyI+PC9kaXY+CiAgICAgICAgPGRpdiBpZD0idW5pdHktcHJvZ3Jlc3MtYmFyLWVtcHR5Ij4KICAgICAgICAgIDxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1mdWxsIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9InVuaXR5LXdhcm5pbmciPiA8L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCJzZXJ2aWNlV29ya2VyIiBpbiBuYXZpZ2F0b3IpIHsKICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCJTZXJ2aWNlV29ya2VyLmpzIik7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY29udGFpbmVyIik7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7CiAgICAgIHZhciBsb2FkaW5nQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LWxvYWRpbmctYmFyIik7CiAgICAgIHZhciBwcm9ncmVzc0JhckZ1bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktcHJvZ3Jlc3MtYmFyLWZ1bGwiKTsKICAgICAgdmFyIHdhcm5pbmdCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktd2FybmluZyIpOwoKICAgICAgLy8gU2hvd3MgYSB0ZW1wb3JhcnkgbWVzc2FnZSBiYW5uZXIvcmliYm9uIGZvciBhIGZldyBzZWNvbmRzLCBvcgogICAgICAvLyBhIHBlcm1hbmVudCBlcnJvciBtZXNzYWdlIG9uIHRvcCBvZiB0aGUgY2FudmFzIGlmIHR5cGU9PSdlcnJvcicuCiAgICAgIC8vIElmIHR5cGU9PSd3YXJuaW5nJywgYSB5ZWxsb3cgaGlnaGxpZ2h0IGNvbG9yIGlzIHVzZWQuCiAgICAgIC8vIE1vZGlmeSBvciByZW1vdmUgdGhpcyBmdW5jdGlvbiB0byBjdXN0b21pemUgdGhlIHZpc3VhbGx5IHByZXNlbnRlZAogICAgICAvLyB3YXkgdGhhdCBub24tY3JpdGljYWwgd2FybmluZ3MgYW5kIGVycm9yIG1lc3NhZ2VzIGFyZSBwcmVzZW50ZWQgdG8gdGhlCiAgICAgIC8vIHVzZXIuCiAgICAgIGZ1bmN0aW9uIHVuaXR5U2hvd0Jhbm5lcihtc2csIHR5cGUpIHsKICAgICAgICBmdW5jdGlvbiB1cGRhdGVCYW5uZXJWaXNpYmlsaXR5KCkgewogICAgICAgICAgd2FybmluZ0Jhbm5lci5zdHlsZS5kaXNwbGF5ID0gd2FybmluZ0Jhbm5lci5jaGlsZHJlbi5sZW5ndGggPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgIH0KICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZGl2LmlubmVySFRNTCA9IG1zZzsKICAgICAgICB3YXJuaW5nQmFubmVyLmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgaWYgKHR5cGUgPT0gJ2Vycm9yJykgZGl2LnN0eWxlID0gJ2JhY2tncm91bmQ6IHJlZDsgcGFkZGluZzogMTBweDsnOwogICAgICAgIGVsc2UgewogICAgICAgICAgaWYgKHR5cGUgPT0gJ3dhcm5pbmcnKSBkaXYuc3R5bGUgPSAnYmFja2dyb3VuZDogeWVsbG93OyBwYWRkaW5nOiAxMHB4Oyc7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICB3YXJuaW5nQmFubmVyLnJlbW92ZUNoaWxkKGRpdik7CiAgICAgICAgICAgIHVwZGF0ZUJhbm5lclZpc2liaWxpdHkoKTsKICAgICAgICAgIH0sIDUwMDApOwogICAgICAgIH0KICAgICAgICB1cGRhdGVCYW5uZXJWaXNpYmlsaXR5KCk7CiAgICAgIH0KCiAgICAgIHZhciBidWlsZFVybCA9ICJCdWlsZCI7CiAgICAgIHZhciBsb2FkZXJVcmwgPSBidWlsZFVybCArICIvRHVuZ2VvblJhaWQubG9hZGVyLmpzIjsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBhcmd1bWVudHM6IFtdLAogICAgICAgIGRhdGFVcmw6IGJ1aWxkVXJsICsgIi9EdW5nZW9uUmFpZC5kYXRhLnVuaXR5d2ViIiwKICAgICAgICBmcmFtZXdvcmtVcmw6IGJ1aWxkVXJsICsgIi9EdW5nZW9uUmFpZC5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLAogICAgICAgIGNvZGVVcmw6IGJ1aWxkVXJsICsgIi9EdW5nZW9uUmFpZC53YXNtLnVuaXR5d2ViIiwKICAgICAgICBzdHJlYW1pbmdBc3NldHNVcmw6ICJTdHJlYW1pbmdBc3NldHMiLAogICAgICAgIGNvbXBhbnlOYW1lOiAiRm91ckNhdHMiLAogICAgICAgIHByb2R1Y3ROYW1lOiAiRHVuZ2VvblJhaWQiLAogICAgICAgIHByb2R1Y3RWZXJzaW9uOiAiMS4wLjAuODAiLAogICAgICAgIHNob3dCYW5uZXI6IHVuaXR5U2hvd0Jhbm5lciwKICAgICAgfTsKCiAgICAgIC8vIEJ5IGRlZmF1bHQgVW5pdHkga2VlcHMgV2ViR0wgY2FudmFzIHJlbmRlciB0YXJnZXQgc2l6ZSBtYXRjaGVkIHdpdGgKICAgICAgLy8gdGhlIERPTSBzaXplIG9mIHRoZSBjYW52YXMgZWxlbWVudCAoc2NhbGVkIGJ5IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKQogICAgICAvLyBTZXQgdGhpcyB0byBmYWxzZSBpZiB5b3Ugd2FudCB0byBkZWNvdXBsZSB0aGlzIHN5bmNocm9uaXphdGlvbiBmcm9tCiAgICAgIC8vIGhhcHBlbmluZyBpbnNpZGUgdGhlIGVuZ2luZSwgYW5kIHlvdSB3b3VsZCBpbnN0ZWFkIGxpa2UgdG8gc2l6ZSB1cAogICAgICAvLyB0aGUgY2FudmFzIERPTSBzaXplIGFuZCBXZWJHTCByZW5kZXIgdGFyZ2V0IHNpemVzIHlvdXJzZWxmLgogICAgICAvLyBjb25maWcubWF0Y2hXZWJHTFRvQ2FudmFzU2l6ZSA9IGZhbHNlOwoKICAgICAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgICAgLy8gTW9iaWxlIGRldmljZSBzdHlsZTogZmlsbCB0aGUgd2hvbGUgYnJvd3NlciBjbGllbnQgYXJlYSB3aXRoIHRoZSBnYW1lIGNhbnZhczoKICAgICAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsKICAgICAgICBtZXRhLm5hbWUgPSAndmlld3BvcnQnOwogICAgICAgIG1ldGEuY29udGVudCA9ICd3aWR0aD1kZXZpY2Utd2lkdGgsIGhlaWdodD1kZXZpY2UtaGVpZ2h0LCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgc2hyaW5rLXRvLWZpdD15ZXMnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobWV0YSk7CiAgICAgIH0KCiAgICAgIGxvYWRpbmdCYXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgIHNjcmlwdC5zcmMgPSBsb2FkZXJVcmw7CiAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIGNvbmZpZywgKHByb2dyZXNzKSA9PiB7CiAgICAgICAgICBwcm9ncmVzc0JhckZ1bGwuc3R5bGUud2lkdGggPSAxMDAgKiBwcm9ncmVzcyArICIlIjsKICAgICAgICB9KS50aGVuKCh1bml0eUluc3RhbmNlKSA9PiB7CiAgICAgICAgICBsb2FkaW5nQmFyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IHsKICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K";
