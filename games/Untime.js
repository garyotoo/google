window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbi11cyI+DQo8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvU3RpbmthbGlzdGljL1VHU0BtYWluL1VOSVRZL3VudGltZS8iPg0KPGhlYWQ+DQogIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPg0KICA8dGl0bGU+Z2FtZSA6RDwvdGl0bGU+DQogIDxzdHlsZT4NCiAgICBodG1sLCBib2R5IHsNCiAgICAgIGJhY2tncm91bmQ6ICMwMDA7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIG92ZXJmbG93OiB2aXNpYmxlOw0KICAgICAgcGFkZGluZzogMDsNCiAgICAgIG1hcmdpbjogMDsNCiAgICB9DQoNCiAgICAjZ2FtZUNvbnRhaW5lciB7DQogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50Ow0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIH0NCg0KICAgICNnYW1lQ29udGFpbmVyIGNhbnZhcyB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgfQ0KDQogICAgI2dhbWVDb250YWluZXIgY2FudmFzW2RhdGEtcGl4ZWwtYXJ0PSJ0cnVlIl0gew0KICAgICAgaW1hZ2UtcmVuZGVyaW5nOiBvcHRpbWl6ZVNwZWVkOw0KICAgICAgaW1hZ2UtcmVuZGVyaW5nOiAtd2Via2l0LWNyaXNwLWVkZ2VzOw0KICAgICAgaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzOw0KICAgICAgaW1hZ2UtcmVuZGVyaW5nOiAtby1jcmlzcC1lZGdlczsNCiAgICAgIGltYWdlLXJlbmRlcmluZzogY3Jpc3AtZWRnZXM7DQogICAgICBpbWFnZS1yZW5kZXJpbmc6IHBpeGVsYXRlZDsNCiAgICAgIC1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IG5lYXJlc3QtbmVpZ2hib3I7DQogICAgfQ0KDQogICAgI2xvYWRpbmctdGV4dCB7DQogICAgICBjb2xvcjogd2hpdGU7DQogICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIG1hcmdpbi10b3A6IDFlbTsNCiAgICB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQoNCjxib2R5Pg0KICA8ZGl2IGlkPSJnYW1lQ29udGFpbmVyIj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiIGRhdGEtcGl4ZWwtYXJ0PjwvY2FudmFzPg0KICAgIDxkaXYgaWQ9ImxvYWRpbmctdGV4dCI+TE9BRElORy4uLjwvZGl2Pg0KICA8L2Rpdj4NCg0KICA8c2NyaXB0IHNyYz0iQnVpbGQvbG9hZGVyLmpzIj48L3NjcmlwdD4NCiAgPHNjcmlwdD4NCiAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7DQogICAgICBtZXRhLm5hbWUgPSAndmlld3BvcnQnOw0KICAgICAgbWV0YS5jb250ZW50ID0gJ3dpZHRoPWRldmljZS13aWR0aCwgaGVpZ2h0PWRldmljZS1oZWlnaHQsIGluaXRpYWwtc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vLCBzaHJpbmstdG8tZml0PXllcyc7DQogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG1ldGEpOw0KICAgIH0NCg0KICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctdGV4dCIpOw0KICAgIGxldCB0b3RhbEJ5dGVzID0gMDsNCiAgICBsZXQgbG9hZGVkQnl0ZXMgPSAwOw0KDQogICAgZnVuY3Rpb24gZm9ybWF0U2l6ZShieXRlcykgew0KICAgICAgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQgKiAxMDI0KSByZXR1cm4gKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiIEdCIjsNCiAgICAgIGlmIChieXRlcyA+IDEwMjQgKiAxMDI0KSByZXR1cm4gKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSArICIgTUIiOw0KICAgICAgaWYgKGJ5dGVzID4gMTAyNCkgcmV0dXJuIChieXRlcyAvIDEwMjQpLnRvRml4ZWQoMikgKyAiIEtCIjsNCiAgICAgIHJldHVybiBieXRlcyArICIgQiI7DQogICAgfQ0KDQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0U2l6ZSh1cmwpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBtZXRob2Q6ICJIRUFEIiB9KTsNCiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHJlcy5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKSB8fCAiMCIsIDEwKTsNCiAgICAgIH0gY2F0Y2ggew0KICAgICAgICByZXR1cm4gMDsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFBhcnQodXJsKSB7DQogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHsNCiAgICAgICAgY29uc3QgYWIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpOw0KICAgICAgICBsb2FkZWRCeXRlcyArPSBhYi5ieXRlTGVuZ3RoOw0KICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9IGBMT0FESU5HLi4uICR7Zm9ybWF0U2l6ZShsb2FkZWRCeXRlcyl9IC8gJHtmb3JtYXRTaXplKHRvdGFsQnl0ZXMpfWA7DQogICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhYik7DQogICAgICB9DQogICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpOw0KICAgICAgY29uc3QgY2h1bmtzID0gW107DQogICAgICBsZXQgcmVjZWl2ZWQgPSAwOw0KICAgICAgd2hpbGUgKHRydWUpIHsNCiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTsNCiAgICAgICAgaWYgKGRvbmUpIGJyZWFrOw0KICAgICAgICByZWNlaXZlZCArPSB2YWx1ZS5sZW5ndGg7DQogICAgICAgIGxvYWRlZEJ5dGVzICs9IHZhbHVlLmxlbmd0aDsNCiAgICAgICAgY2h1bmtzLnB1c2godmFsdWUpOw0KICAgICAgICBjb25zdCBwZXJjZW50ID0gdG90YWxCeXRlcyA+IDAgPyAoKGxvYWRlZEJ5dGVzIC8gdG90YWxCeXRlcykgKiAxMDApLnRvRml4ZWQoMSkgOiAiPyI7DQogICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gYExPQURJTkcuLi4gJHtmb3JtYXRTaXplKGxvYWRlZEJ5dGVzKX0gLyAke2Zvcm1hdFNpemUodG90YWxCeXRlcyl9ICgke3BlcmNlbnR9JSlgOw0KICAgICAgfQ0KICAgICAgY29uc3QgZnVsbCA9IG5ldyBVaW50OEFycmF5KHJlY2VpdmVkKTsNCiAgICAgIGxldCBvZmZzZXQgPSAwOw0KICAgICAgZm9yIChsZXQgY2h1bmsgb2YgY2h1bmtzKSB7DQogICAgICAgIGZ1bGwuc2V0KGNodW5rLCBvZmZzZXQpOw0KICAgICAgICBvZmZzZXQgKz0gY2h1bmsubGVuZ3RoOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGZ1bGw7DQogICAgfQ0KDQogICAgYXN5bmMgZnVuY3Rpb24gbWVyZ2VQYXJ0cyhwYXJ0cywgbWltZVR5cGUpIHsNCiAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChwYXJ0cy5tYXAoZmV0Y2hQYXJ0KSk7DQogICAgICBjb25zdCB0b3RhbExlbiA9IGJ1ZmZlcnMucmVkdWNlKChzLCBiKSA9PiBzICsgYi5sZW5ndGgsIDApOw0KICAgICAgY29uc3QgY29uY2F0ZW5hdGVkID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW4pOw0KICAgICAgbGV0IG9mZiA9IDA7DQogICAgICBmb3IgKGxldCBiIG9mIGJ1ZmZlcnMpIHsNCiAgICAgICAgY29uY2F0ZW5hdGVkLnNldChiLCBvZmYpOw0KICAgICAgICBvZmYgKz0gYi5sZW5ndGg7DQogICAgICB9DQogICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbY29uY2F0ZW5hdGVkXSwgeyB0eXBlOiBtaW1lVHlwZSB8fCB1bmRlZmluZWQgfSkpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFBhcnRzKGZpbGUsIGNvdW50KSB7DQogICAgICBjb25zdCBwYXJ0cyA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykgcGFydHMucHVzaChmaWxlICsgIi5wYXJ0IiArIGkpOw0KICAgICAgcmV0dXJuIHBhcnRzOw0KICAgIH0NCg0KICAgIChhc3luYyAoKSA9PiB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBkYXRhUGFydHMgPSBnZXRQYXJ0cygiQnVpbGQvV2ViR0wuZGF0YS5iciIsIDMpOw0KICAgICAgICBjb25zdCB3YXNtUGFydHMgPSBnZXRQYXJ0cygiQnVpbGQvV2ViR0wud2FzbS5iciIsIDIpOw0KICAgICAgICBjb25zdCBhbGxQYXJ0cyA9IFsuLi5kYXRhUGFydHMsIC4uLndhc21QYXJ0cywgIkJ1aWxkL2ZyYW1ld29yay5qcyJdOw0KICAgICAgICBjb25zdCBzaXplcyA9IGF3YWl0IFByb21pc2UuYWxsKGFsbFBhcnRzLm1hcChnZXRTaXplKSk7DQogICAgICAgIHRvdGFsQnl0ZXMgPSBzaXplcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTsNCg0KICAgICAgICBjb25zdCBbZGF0YVVybCwgd2FzbVVybCwgZnJhbWV3b3JrVXJsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICBtZXJnZVBhcnRzKGRhdGFQYXJ0cyksDQogICAgICAgICAgbWVyZ2VQYXJ0cyh3YXNtUGFydHMpLA0KICAgICAgICAgIG1lcmdlUGFydHMoWyJCdWlsZC9mcmFtZXdvcmsuanMiXSwgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnKQ0KICAgICAgICBdKTsNCg0KICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7DQogICAgICAgIGxldCBzY2FsZVRvRml0ID0gdHJ1ZTsNCg0KICAgICAgICBmdW5jdGlvbiBvblJlc2l6ZSgpIHsNCiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBjYW52YXMucGFyZW50RWxlbWVudDsNCiAgICAgICAgICBsZXQgdywgaDsNCiAgICAgICAgICBpZiAoc2NhbGVUb0ZpdCkgew0KICAgICAgICAgICAgdyA9IHdpbmRvdy5pbm5lcldpZHRoOw0KICAgICAgICAgICAgaCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgICAgICAgIGNvbnN0IHIgPSA1NDAgLyA5NjA7DQogICAgICAgICAgICBpZiAodyAqIHIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHcgPSBNYXRoLm1pbih3LCBNYXRoLmNlaWwoaCAvIHIpKTsNCiAgICAgICAgICAgIGggPSBNYXRoLmZsb29yKHcgKiByKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdyA9IDk2MDsNCiAgICAgICAgICAgIGggPSA1NDA7DQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGNhbnZhcy5zdHlsZS53aWR0aCA9IHcgKyAicHgiOw0KICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gaCArICJweCI7DQogICAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IE1hdGguZmxvb3IoKHdpbmRvdy5pbm5lckhlaWdodCAtIGgpIC8gMikgKyAicHgiOw0KICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcigod2luZG93LmlubmVyV2lkdGggLSB3KSAvIDIpICsgInB4IjsNCiAgICAgICAgfQ0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpOw0KICAgICAgICBvblJlc2l6ZSgpOw0KDQogICAgICAgIC8vIFdhaXQgdW50aWwgVW5pdHkgbG9hZGVyIGlzIGF2YWlsYWJsZQ0KICAgICAgICBhd2FpdCAoYXN5bmMgZnVuY3Rpb24gd2FpdEZvckxvYWRlcigpIHsNCiAgICAgICAgICBpZiAodHlwZW9mIGNyZWF0ZVVuaXR5SW5zdGFuY2UgPT09ICdmdW5jdGlvbicpIHJldHVybjsNCiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGNoZWNrID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyZWF0ZVVuaXR5SW5zdGFuY2UgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrKTsNCiAgICAgICAgICAgICAgICByZXNvbHZlKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIDUwKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkoKTsNCg0KICAgICAgICBjb25zdCBjb25maWcgPSB7DQogICAgICAgICAgZGF0YVVybDogZGF0YVVybCwNCiAgICAgICAgICBmcmFtZXdvcmtVcmw6IGZyYW1ld29ya1VybCwNCiAgICAgICAgICBjb2RlVXJsOiB3YXNtVXJsLA0KCQkgIHN0cmVhbWluZ0Fzc2V0c1VybDogImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9TdGlua2FsaXN0aWMvVUdTQG1haW4vVU5JVFkvdW50aW1lL1N0cmVhbWluZ0Fzc2V0cyIsDQogICAgICAgICAgY29tcGFueU5hbWU6ICIiLA0KICAgICAgICAgIHByb2R1Y3ROYW1lOiAiIiwNCiAgICAgICAgICBwcm9kdWN0VmVyc2lvbjogIiINCiAgICAgICAgfTsNCg0KICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHsNCiAgICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZChwcm9ncmVzcyAqIDEwMCk7DQogICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSBgTE9BRElORy4uLiAke3BlcmNlbnR9JWA7DQogICAgICAgIH0pLnRoZW4oKHVuaXR5SW5zdGFuY2UpID0+IHsNCiAgICAgICAgICBsb2FkaW5nVGV4dC5yZW1vdmUoKTsNCiAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IHsNCiAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICdGYWlsZWQgdG8gc3RhcnQgVW5pdHk6ICcgKyBtZXNzYWdlOw0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7DQogICAgICAgIH0pOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ0VSUk9SOiAnICsgKGVyci5tZXNzYWdlIHx8IGVycik7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsNCiAgICAgIH0NCiAgICB9KSgpOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg==";
