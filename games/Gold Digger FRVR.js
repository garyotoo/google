window.game = "PE1vZHVsZT4NCg0KDQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KDQoNCjxodG1sIGxhbmc9ImVuIj48aGVhZD4NCiAgICA8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgsbm9mb2xsb3ciIC8+DQogICAgPHNjcmlwdCBzcmM9Ii9qcy9hbGwubWluLmpzIj48L3NjcmlwdD4NCg0KCTxzY3JpcHQ+IWZ1bmN0aW9uKGkpe3ZhciBjPSJhZGRFdmVudExpc3RlbmVyIixhPSJyZW1vdmVFdmVudExpc3RlbmVyIjsiZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5ub3cmJihEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0pO3ZhciByLGYsdSxwLGUsdD13aW5kb3cucGVyZm9ybWFuY2U7aWYodm9pZCAwPT09dCYmKHdpbmRvdy5wZXJmb3JtYW5jZT10PXt9KSwiZnVuY3Rpb24iIT10eXBlb2YgdC5ub3cpe3ZhciBuPURhdGUubm93KCk7dC50aW1pbmcmJnQudGltaW5nLm5hdmlnYXRpb25TdGFydCYmKG49dC50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSx0Lm5vdz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLW59fSJmdW5jdGlvbiIhPXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKG4pe3ZhciBvPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLTEscj1bXTtpZigwPHQpZm9yKHIubGVuZ3RoPXQ7dC0tOylyW3RdPWFyZ3VtZW50c1t0KzFdO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3I7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpO3QtLTspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGU9ci5jb25jYXQoZSksby5hcHBseSh0aGlzIGluc3RhbmNlb2YgaT90aGlzOm4sZSl9cmV0dXJuIGkucHJvdG90eXBlPWZ1bmN0aW9uIHQoZSl7aWYoZSYmKHQucHJvdG90eXBlPWUpLCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdH0oby5wcm90b3R5cGUpLGl9KSwiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0LmNyZWF0ZSYmKE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24odCxlKXtpZigib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdCBwcm90b3R5cGUgbWF5IG9ubHkgYmUgYW4gT2JqZWN0OiAiK3QpO2lmKG51bGw9PT10KXRocm93IG5ldyBFcnJvcigiVGhpcyBicm93c2VyJ3MgaW1wbGVtZW50YXRpb24gb2YgT2JqZWN0LmNyZWF0ZSBpcyBhIHNoaW0gYW5kIGRvZXNuJ3Qgc3VwcG9ydCBcIm51bGxcIiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIik7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgYnJvd3NlcidzIGltcGxlbWVudGF0aW9uIG9mIE9iamVjdC5jcmVhdGUgaXMgYSBzaGltIGFuZCBkb2Vzbid0IHN1cHBvcnQgYSBzZWNvbmQgYXJndW1lbnQuIik7ZnVuY3Rpb24gbigpe31yZXR1cm4gbi5wcm90b3R5cGU9dCxuZXcgbn0pLCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3QuYXNzaWduJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LCJhc3NpZ24iLHt2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCIpO2Zvcih2YXIgbj1PYmplY3QodCksbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspe3ZhciByPWFyZ3VtZW50c1tvXTtpZihudWxsIT09cilmb3IodmFyIGkgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKG5baV09cltpXSl9cmV0dXJuIG59LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qua2V5cyYmKHI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxmPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoInRvU3RyaW5nIikscD0odT1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdKS5sZW5ndGgsT2JqZWN0LmtleXM9ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJigib2JqZWN0IiE9dHlwZW9mIHR8fG51bGw9PT10KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCIpO3ZhciBlLG4sbz1bXTtmb3IoZSBpbiB0KXIuY2FsbCh0LGUpJiZvLnB1c2goZSk7aWYoZilmb3Iobj0wO248cDtuKyspci5jYWxsKHQsdVtuXSkmJm8ucHVzaCh1W25dKTtyZXR1cm4gb30pLGZ1bmN0aW9uKCl7dmFyIHQ9KCJ1bmRlZmluZWQiPT10eXBlb2YgRXZlbnRUYXJnZXQ/Tm9kZTpFdmVudFRhcmdldCkucHJvdG90eXBlLG89dFtjXSxyPXRbYV0sZT0hMTt0cnl7dmFyIG49T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7ZT0hMH19KTtpW2NdKCJ0ZXN0IixudWxsLG4pLGlbYV0oInRlc3QiLG51bGwsbil9Y2F0Y2godCl7Y29uc29sZS5lcnJvcigiUG9seWZpbGwgZXJyb3I6Iix0KX1lfHwodFtjXT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuJiYobj1uLmNhcHR1cmUpLG8uY2FsbCh0aGlzLHQsZSxuKX0sdFthXT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuJiYobj1uLmNhcHR1cmUpLHIuY2FsbCh0aGlzLHQsZSxuKX0pfSgpLCJmdW5jdGlvbiIhPXR5cGVvZiBpLmVuY29kZVVSSSYmKGU9aS5lc2NhcGUsaS5lbmNvZGVVUkk9aS5lc2NhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KSwiZnVuY3Rpb24iIT10eXBlb2YgTWF0aC5zZWVkJiYoTWF0aC5zZWVkPWZ1bmN0aW9uKHQpe3ZhciBlPXQsbj00MjYzODE1NTkzNzgsbz00Mjk0OTY3Mjk1O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PSgobj0xOGUzKig2NTUzNSZuKSsobj4+MTYpJm8pPDwxNikrKGU9MzY5NjkqKDY1NTM1JmUpKyhlPj4xNikmbykmbztyZXR1cm4uNSsodC89NDI5NDk2NzI5Nil9fSl9KHRoaXMpOw0KPC9zY3JpcHQ+DQoNCgk8c2NyaXB0Pg0KCQl3aW5kb3cuX19GUlZSID0gd2luZG93Ll9fRlJWUiB8fCB7fTsNCgkJd2luZG93Ll9fRlJWUi5zdGFydFRpbWUgPSBEYXRlLm5vdygpOw0KCQl3aW5kb3cuTEVHQUNZX0NPT1JEX1NZU1RFTSA9IHRydWU7DQoNCgk8L3NjcmlwdD4NCg0KCTxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCgk8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+DQoNCgk8IS0tDQoJCS8qKg0KCQkqIEBhdXRob3IgQ2hyaXMgQmVuamFtaW5zZW4gaHR0cDovL2NocmlzYmVuamFtaW5zZW4uY29tLyBAYmVuamFtaW5zZW4NCgkJICovDQoJCS8qKiBAbGljZW5zZQ0KCQkJR29sZCBEaWdnZXIgRlJWUiAxLjIuNA0KCQkJTW9yZSBpbmZvIGF0IGh0dHA6Ly9mcnZyLmNvbQ0KDQoJCQlDb3B5cmlnaHQgKGMpIDIwMTMrIEZSVlIgTGltaXRlZA0KDQoJCQlBbGwgUmlnaHRzIFJlc2VydmVkIQ0KCQkJRlJWUiBpcyBhIHJlZ2lzdGVyZWQgdHJhZGVtYXJrIG9mIEZSVlIgTGltaXRlZA0KCQkqLw0KCQkvKioNCgkJCVdlbGwgaGVsbG8gdGhlcmUhDQoNCgkJCUkgc2VlIHlvdSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgZGV0YWlscyBvZiBob3cgdGhpcyBnYW1lIHdhcyBtYWRlIQ0KCQkJSXQncyB3cml0dGVuIHVzaW5nIGEgY3VzdG9tIEhUTUw1IGVuZ2luZSBidWlsdCBhcm91bmQgUGl4aUpTLg0KDQoJCQlXaGlsZSBJIGNhbid0IHRlbGwgeW91IG1vcmUgb24gdGhlIGhvdywgdGhlcmUgaXMgbXVjaCBtb3JlIG9uIHRoZSB3aHkgdG8gYmUgZmluZCBhdCANCgkJCWh0dHA6Ly9ibG9nLmNocmlzYmVuamFtaW5zZW4uY29tIHdoZXJlIEkgd3JpdGUgZnJlcXVlbnQgc3RhdHVzIHVwZGF0ZXMgb24gdGhlIGdhbWVzIEkgYnVpbGQNCgkJCXVuZGVyIHRoZSBGUlZSIGJyYW5kIC0gLSBpbmNsdWRpbmcgYSAxMDAlIGhvbmVzdCB0cmFjayByZWNvcmQgb2YgbW9uZXkgZWFybmVkIGFuZCBzcGVuZC4NCg0KCQkJSGFjayBvbiENCgkJCUNocmlzIEJlbmphbWluc2VuDQoJCQljaHJpc2JlbmphbWluc2VuLmNvbQ0KDQoJCQktIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0NCg0KCQkJR29sZCBEaWdnZXIgRlJWUiB3b3VsZCBub3QgYmUgcG9zc2libGUgd2l0aG91dCB0aGUgZm9sbG93aW5nIG9wZW4gc291cmNlIHByb2plY3RzOg0KDQoJCQlwaXhpLmpzIC0gdjIuMi4zDQoJCQlDb3B5cmlnaHQgKGMpIDIwMTItMjAxNCwgTWF0IEdyb3Zlcw0KCQkJaHR0cDovL2dvb2Rib3lkaWdpdGFsLmNvbS8NCgkJCXBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLg0KCQkJaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHANCgkJCU1hdCBHcm92ZXMgaHR0cDovL21hdGdyb3Zlcy5jb20vIEBEb29ybWF0MjMNCgkJKi8NCgktLT4NCg0KCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIHVzZXItc2NhbGFibGU9bm8sIG1pbmltdW0tc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdmlld3BvcnQtZml0PWNvdmVyIj4NCgk8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlIiBjb250ZW50PSJibGFjay10cmFuc2x1Y2VudCI+DQoJPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZSIgY29udGVudD0ieWVzIj4NCgk8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZSIgY29udGVudD0iR29sZCBEaWdnZXIgRlJWUiI+DQoJPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IiMyMDIwMjAiPg0KCTxtZXRhIG5hbWU9IkhhbmRoZWxkRnJpZW5kbHkiIGNvbnRlbnQ9InRydWUiPgkNCgk8bWV0YSBuYW1lPSJmb3JtYXQtZGV0ZWN0aW9uIiBjb250ZW50PSJ0ZWxlcGhvbmU9bm8iPg0KICAJPG1ldGEgbmFtZT0ibXNhcHBsaWNhdGlvbi10YXAtaGlnaGxpZ2h0IiBjb250ZW50PSJubyI+DQoJPG1ldGEgbmFtZT0iZ29vZ2xlIiBjb250ZW50PSJub3RyYW5zbGF0ZSI+ICAgDQoNCgk8bGluayByZWw9ImNhbm9uaWNhbCIgaHJlZj0iIj4NCg0KCTxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjYweDYwIiBocmVmPSIuL3YvMTU3NjE1NDUyMzgwOS9pL3dlYi9pY29uNjB4NjAucG5nIj4NCgk8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSI3Nng3NiIgaHJlZj0iLi92LzE1NzYxNTQ1MjM4MDkvaS93ZWIvaWNvbjc2eDc2LnBuZyI+DQoJPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iMTIweDEyMCIgaHJlZj0iLi92LzE1NzYxNTQ1MjM4MDkvaS93ZWIvaWNvbjEyMHgxMjAucG5nIj4NCgk8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxOTZ4MTk2IiBocmVmPSIuL3YvMTU3NjE1NDUyMzgwOS9pL3dlYi9pY29uMTk2eDE5Ni5wbmciPg0KCTxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjI1NngyNTYiIGhyZWY9Ii4vdi8xNTc2MTU0NTIzODA5L2kvd2ViL2ljb24yNTZ4MjU2LnBuZyI+DQoJPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iMTAyNHgxMDI0IiBocmVmPSIuL3YvMTU3NjE1NDUyMzgwOS9pL3dlYi9pY29uMTAyNHgxMDI0LnBuZyI+DQoNCgkJPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9Ii4vdi8xNTc2MTU0NTIzODA5L2kvd2ViL2Zhdmljb24ucG5nIj4NCg0KCTxsaW5rIHJlbD0ibWUiIGhyZWY9IiI+DQoNCgk8bWV0YSBuYW1lPSJmYWNlYm9va19sYWJlbCIgY29udGVudD0iR29sZCBEaWdnZXIgRlJWUiAtIERlZXAgTWluaW5nIC0gRGlnIGFuZCBNYXRjaCBFeHBsb3JhdGlvbiI+DQoNCgk8bWV0YSBwcm9wZXJ0eT0ib2c6dGl0bGUiIGNvbnRlbnQ9IkdvbGQgRGlnZ2VyIEZSVlIgLSBEZWVwIE1pbmluZyI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOmRlc2NyaXB0aW9uIiBjb250ZW50PSJTdGFydCBtaW5pbmcgYW5kIGdldCB0b25zIG9mIGdvbGQgaW4gdGhlIGJlc3QgZnJlZSBkaWdnaW5nIGdhbWUgZXZlciEgQ2FuIHlvdSBiZWNvbWUgdGhlIHNwZWxlb2xvZ3kgdHljb29uPyI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOnNpdGVfbmFtZSIgY29udGVudD0iR29sZCBEaWdnZXIgRlJWUiI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOnVybCIgY29udGVudD0iaHR0cHM6Ly9nb2xkZGlnZ2VyLmZydnIuY29tLyI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOnR5cGUiIGNvbnRlbnQ9ImdhbWUiPg0KCTxtZXRhIHByb3BlcnR5PSJvZzpsb2NhbGUiIGNvbnRlbnQ9ImVuIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2UiIGNvbnRlbnQ9IiI+DQoJPG1ldGEgcHJvcGVydHk9ImZiOmFwcF9pZCIgY29udGVudD0iMjUyMTg3MzY0MTE3MzEwOCI+DQoNCgk8bWV0YSBuYW1lPSJ0d2l0dGVyOmNhcmQiIGNvbnRlbnQ9InN1bW1hcnlfbGFyZ2VfaW1hZ2UiPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6c2l0ZSIgY29udGVudD0iQEZSVlJHYW1lcyI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjpjcmVhdG9yIiBjb250ZW50PSJAQmVuamFtaW5zZW4iPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6dGl0bGUiIGNvbnRlbnQ9IkdvbGQgRGlnZ2VyIEZSVlIgLSBEZWVwIE1pbmluZyAtIERpZyBhbmQgTWF0Y2ggRXhwbG9yYXRpb24iPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6aW1hZ2UiIGNvbnRlbnQ9IiI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjpkZXNjcmlwdGlvbiIgY29udGVudD0iU3RhcnQgbWluaW5nIGFuZCBnZXQgdG9ucyBvZiBnb2xkIGluIHRoZSBiZXN0IGZyZWUgZGlnZ2luZyBnYW1lIGV2ZXIhIENhbiB5b3UgYmVjb21lIHRoZSBzcGVsZW9sb2d5IHR5Y29vbj8iPgkNCg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6YXBwOm5hbWU6aXBob25lIiBjb250ZW50PSJHb2xkIERpZ2dlciBGUlZSIj4NCgk8bWV0YSBuYW1lPSJ0d2l0dGVyOmFwcDppZDppcGhvbmUiIGNvbnRlbnQ9IiI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjphcHA6bmFtZTppcGFkIiBjb250ZW50PSJHb2xkIERpZ2dlciBGUlZSIj4NCgk8bWV0YSBuYW1lPSJ0d2l0dGVyOmFwcDppZDppcGFkIiBjb250ZW50PSIiPg0KDQoJPG1ldGEgbmFtZT0idHdpdHRlcjphcHA6bmFtZTpnb29nbGVwbGF5IiBjb250ZW50PSJHb2xkIERpZ2dlciBGUlZSIj4NCgk8bWV0YSBuYW1lPSJ0d2l0dGVyOmFwcDppZDpnb29nbGVwbGF5IiBjb250ZW50PSJjb20uZnJ2ci5nb2xkZGlnZ2VyIj4NCg0KCTxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJTdGFydCBtaW5pbmcgYW5kIGdldCB0b25zIG9mIGdvbGQgaW4gdGhlIGJlc3QgZnJlZSBkaWdnaW5nIGdhbWUgZXZlciEgQ2FuIHlvdSBiZWNvbWUgdGhlIHNwZWxlb2xvZ3kgdHljb29uPyI+DQoJPG1ldGEgbmFtZT0ia2V5d29yZHMiIGNvbnRlbnQ9InBpY2theGUscnVzaCxleHBsb3JlLGNhdmUsZGlydCxnb2xkZW4sbWluZXIsbWF6ZSxkcmlsbCxtYXAscm9ja3MsbWF0Y2gsdHJlYXN1cmUsYXJjaGVvbG9neSxzaW11bGF0b3IiPg0KDQoJPHRpdGxlPkdvbGQgRGlnZ2VyIEZSVlIgLSBEZWVwIE1pbmluZyAtIERpZyBhbmQgTWF0Y2ggRXhwbG9yYXRpb248L3RpdGxlPg0KCTxzdHlsZT4NCg0KCQlib2R5IHsNCgkJCWJhY2tncm91bmQ6I2M4YzhjODsNCgkJCW92ZXJmbG93OmhpZGRlbjsNCgkJCXBvc2l0aW9uOmZpeGVkOw0KCQkJZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7DQoJCQlib3JkZXI6MHB4O3BhZGRpbmc6MHB4O21hcmdpbjowcHg7DQoJCQl3aWR0aDoxMDAlOw0KCQkJaGVpZ2h0OjEwMCU7DQoJCQlwYWRkaW5nLXRvcDogY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXRvcCk7DQoJCX0NCg0KCQlwcmVsb2FkZXJ7DQoJCQlkaXNwbGF5OmJsb2NrOw0KCQkJd2lkdGg6MTAwJTsNCgkJCWhlaWdodDoxMDAlOw0KCQkJYmFja2dyb3VuZDogI0VFRUVFRTsNCgkJCWJhY2tncm91bmQ6cmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgYXQgY2VudGVyLCAjZmZmZmZmIDElLCNjOGM4YzggMTUwJSk7DQoJCQlwb3NpdGlvbjpmaXhlZDsNCgkJCXotaW5kZXg6NTsNCgkJfQ0KDQoJCXByZWxvYWRlciBjYW52YXMsIHByZWxvYWRlciBpbWd7DQoJCQlwb3NpdGlvbjogZml4ZWQ7DQoJCX0NCg0KCQlwcmVsb2FkZXIgbG9hZGJhcnsNCgkJCWRpc3BsYXk6bm9uZTsNCgkJCXBvc2l0aW9uOmZpeGVkOw0KCQkJYm9yZGVyOjFweCBzb2xpZCAjYWZhZmFmOw0KCQl9DQoNCgkJcHJlbG9hZGVyIGxvYWRiYXIgZGl2ew0KCQkJZGlzcGxheTpibG9jazsNCgkJCXdpZHRoOjAlOyANCgkJCWhlaWdodDoxMDAlOw0KCQkJYmFja2dyb3VuZC1jb2xvcjojMDA3YmIyOw0KCQl9DQoNCgkJI2dhbWVDYW52YXN7DQoJCQlwb3NpdGlvbjogZml4ZWQ7DQoJCQl0b3A6MHB4Ow0KCQkJbGVmdDowcHg7DQoJCQl3aWR0aDowcHg7DQoJCQloZWlnaHQ6MHB4Ow0KCQkJYmFja2dyb3VuZC1jb2xvcjojMDAwMDAwDQoJCX0NCg0KCQkjb3ZlcmxheXsNCgkJCXBvc2l0aW9uOmFic29sdXRlOw0KCQkJei1pbmRleDozOw0KCQkJbGVmdDo1MCU7DQoJCQltYXJnaW4tbGVmdDotNzBweDsNCgkJCXZpc2liaWxpdHk6aGlkZGVuOw0KCQkJYm90dG9tOjNweDsNCgkJCW92ZXJmbG93OmhpZGRlbjsNCgkJCXRleHQtYWxpZ246IGNlbnRlcjsNCgkJfQ0KDQoJCSNvdmVybGF5IGRpdnsNCgkJCWZsb2F0OmxlZnQ7DQoJCX0NCg0KCQkjb3ZlcmxheS5jbiB7DQoJCQkJbWFyZ2luLWxlZnQ6IC0xOTBweDsNCgkJfQ0KDQoJCS8qIEdvb2dsZSsgc2hhcmUgYnV0dG9uICovDQoJCSNvdmVybGF5LmNuIGRpdiNfX19wbHVzb25lXzAgew0KCQkJd2lkdGg6IDY4cHggIWltcG9ydGFudDsNCgkJfQ0KDQoJCSNvdmVybGF5LmNuIGRpdiNfX19wbHVzb25lXzAgaWZyYW1lIHsNCgkJCXBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50Ow0KCQkJdG9wOiAtNHB4ICFpbXBvcnRhbnQ7DQoJCX0NCg0KCQkvKiBTaW5hIFdlaWJvIHNoYXJlIGJ1dHRvbiAqLw0KCQkjb3ZlcmxheSB3Ylw6c2hhcmUtYnV0dG9uIGlmcmFtZSB7DQoJCQl3aWR0aDogMTA1cHggIWltcG9ydGFudDsNCgkJfQ0KDQoJCS8qIFFab25lIHNoYXJlIGJ1dHRvbiAqLw0KCQkjb3ZlcmxheSBpZnJhbWVbdmVyc2lvbj0iMS4wIl0gew0KCQkJcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7DQoJCQl0b3A6IC0ycHg7DQoJCX0NCg0KCQlALW1zLXZpZXdwb3J0e3dpZHRoOjEwMCV9DQoNCgkJY29udGVudHsNCgkJCWJhY2tncm91bmQtY29sb3I6I2ZmZmZmZjsNCgkJCWRpc3BsYXk6IGJsb2NrOw0KCQkJcGFkZGluZzoyMHB4Ow0KCQkJaGVpZ2h0OjEwMCU7DQoJCQlvdmVyZmxvdzpzY3JvbGw7DQoJCX0NCg0KCQljb250ZW50IG1ldGFkYXRhew0KCQkJZmxvYXQ6cmlnaHQ7DQoJCQltYXJnaW4tbGVmdDoxMHB4Ow0KCQkJdGV4dC1hbGlnbjpjZW50ZXI7DQoJCX0NCg0KCQloMXsNCgkJCW1hcmdpbjowcHg7DQoJCQlmb250LXdlaWdodDoxMDA7DQoJCQlmb250LXNpemU6NTBweDsNCgkJfQ0KCQlhew0KCQkJbGluZS1oZWlnaHQ6MmVtOw0KCQl9DQoJCWgzew0KCQkJbWFyZ2luLWJvdHRvbTowcHg7DQoJCX0NCg0KCQlAa2V5ZnJhbWVzIHd7MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt9MjAle3RyYW5zZm9ybTpyb3RhdGUoLTNkZWcpIHNjYWxlKDEuNCkgdHJhbnNsYXRlKDBweCwtNXB4KTt9NTAle3RyYW5zZm9ybTpyb3RhdGUoM2RlZykgc2NhbGUoMS40KSB0cmFuc2xhdGUoMHB4LC01cHgpO304MCV7dHJhbnNmb3JtOnJvdGF0ZSgtM2RlZykgc2NhbGUoMS40KSB0cmFuc2xhdGUoMHB4LC01cHgpO30xMDAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyk7fX0NCgkJLncge2FuaW1hdGlvbjp3IDEuNXMgMTt9DQoNCgk8L3N0eWxlPg0KDQoJCTxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYTQ1NnB1ci9zZXJhcGhAYWUyZmNjNmQ2YTljZDA1MTY1NGZjYzA1MTkwODBkYjFmNzljZjJhNy9nYW1lcy9nb2xkZGlnZ2VyZnJ2ci9wb2tpLXNkay5qcyI+PC9zY3JpcHQ+PHN0eWxlPg0KLnBva2lTZGtDb250YWluZXIgew0KCW92ZXJmbG93OiBoaWRkZW47DQoJcG9zaXRpb246IGFic29sdXRlOw0KCWxlZnQ6IDA7DQoJdG9wOiAwOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogMTAwJTsNCgl6LWluZGV4OiAxMDAwOw0KCWRpc3BsYXk6IGZsZXg7DQoJYWxpZ24taXRlbXM6IGNlbnRlcjsNCglqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCn0NCg0KLnBva2lTZGtDb250YWluZXIucG9raVNka0ZpeGVkIHsNCglwb3NpdGlvbjogZml4ZWQ7DQp9DQoNCi5wb2tpU2RrQ29udGFpbmVyLnBva2lTZGtWaXNpYmxlIHsNCglkaXNwbGF5OiBibG9jazsNCn0NCg0KLnBva2lTZGtDb250YWluZXIucG9raVNka0hpZGRlbiwNCi5wb2tpU2RrU3Bpbm5lckNvbnRhaW5lci5wb2tpU2RrSGlkZGVuIHsNCglkaXNwbGF5OiBub25lOw0KfQ0KDQoucG9raVNka0NvbnRhaW5lci5wb2tpU2RrSGlkZGVuLA0KLnBva2lTZGtTcGlubmVyQ29udGFpbmVyIHsNCglwb2ludGVyLWV2ZW50czogbm9uZTsNCn0NCg0KLnBva2lTZGtTcGlubmVyQ29udGFpbmVyIHsNCgl6LWluZGV4OiAxMDsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQoJdG9wOiAwOw0KCWxlZnQ6IDA7DQoJd2lkdGg6IDEwMCU7DQoJaGVpZ2h0OiAxMDAlOw0KCWJhY2tncm91bmQ6IHVybCgnJykgNTAlIDUwJSBuby1yZXBlYXQ7DQoJdXNlci1zZWxlY3Q6IG5vbmU7DQp9DQoNCi5wb2tpU2RrSW5zaWRlQ29udGFpbmVyIHsNCgliYWNrZ3JvdW5kOiAjMDAwOw0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCgl6LWluZGV4OiAxOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogMTAwJTsNCglkaXNwbGF5OiBmbGV4Ow0KCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQoNCglvcGFjaXR5OiAwOw0KCS13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0Ow0KCS1tb3otdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0Ow0KCS1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQ7DQoJLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0Ow0KCXRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBlYXNlLWluLW91dDsNCn0NCg0KLnBva2lTZGtDb250YWluZXIucG9raVNka1Zpc2libGUgLnBva2lTZGtJbnNpZGVDb250YWluZXIgew0KCW9wYWNpdHk6IDE7DQp9DQoNCi5wb2tpU0RLQWRDb250YWluZXIsIC5wb2tpU2RrVmlkZW9Db250YWluZXIgew0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl3aWR0aDogMTAwJTsNCgloZWlnaHQ6IDEwMCU7DQp9DQoNCi5wb2tpU2RrU3RhcnRBZEJ1dHRvbiB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXotaW5kZXg6IDk5OTk7DQoJdG9wOiAwOw0KDQoJcGFkZGluZy10b3A6IDEwJTsNCgl3aWR0aDogMTAwJTsNCgloZWlnaHQ6IDEwMCU7DQoJdGV4dC1hbGlnbjogY2VudGVyOw0KCWNvbG9yOiAjRkZGOw0KDQoJZm9udDogNzAwIDE1cHQgJ0FyaWFsJywgc2Fucy1zZXJpZjsNCglmb250LXdlaWdodDogYm9sZDsNCglsZXR0ZXItc3BhY2luZzogMXB4Ow0KCXRyYW5zaXRpb246IDAuMXMgZWFzZS1pbi1vdXQ7DQoJbGluZS1oZWlnaHQ6IDFlbTsNCn0NCg0KLnBva2lTZGtQYXVzZUJ1dHRvbiB7DQoJY3Vyc29yOnBvaW50ZXI7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogNTAlOw0KICAgIGxlZnQ6IDUwJTsNCiAgICB6LWluZGV4OiAxOw0KfQ0KDQoucG9raVNka1BhdXNlQnV0dG9uOmJlZm9yZSB7DQoJY29udGVudDogJyc7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXdpZHRoOiAxMDBweDsNCgloZWlnaHQ6IDEwMHB4Ow0KCWRpc3BsYXk6IGJsb2NrOw0KCWJvcmRlcjogMnB4IHNvbGlkICNmZmY7DQoJYm9yZGVyLXJhZGl1czogNTAlOw0KCXVzZXItc2VsZWN0OiBub25lOw0KCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsNCgl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuNXMgZWFzZTsNCglhbmltYXRpb246IDFzIGxpbmVhciBpbmZpbml0ZSBwb2tpUHVsc2U7DQp9DQoNCi5wb2tpU2RrUGF1c2VCdXR0b246YWZ0ZXIgew0KCWNvbnRlbnQ6ICcnOw0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCglkaXNwbGF5OiBibG9jazsNCglib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KCWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgI2ZmZjsNCglib3JkZXItc3R5bGU6IHNvbGlkOw0KCWJvcmRlci13aWR0aDogMjZweCAwIDI2cHggNDBweDsNCglwb2ludGVyLWV2ZW50czogbm9uZTsNCglhbmltYXRpb246IDFzIGxpbmVhciBpbmZpbml0ZSBwb2tpUHVsc2U7DQoJbGVmdDogNnB4Ow0KfQ0KLnBva2lTZGtQYXVzZUJ1dHRvbkJHIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgY29udGVudDogJyc7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCA0MywgODAsIDAuNSk7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KfQ0KDQoucG9raVNka1BhdXNlQnV0dG9uQkc6aG92ZXJ7DQoJYmFja2dyb3VuZDogcmdiYSgwLCA0MywgODAsIDAuNyk7DQp9DQoNCkBrZXlmcmFtZXMgcG9raVB1bHNlIHsNCgkwJSB7DQoJCXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDAuOTUpOw0KCX0NCgk3MCUgew0KCQl0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxLjEpOw0KCX0NCgkxMDAlIHsNCgkJdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC45NSk7DQoJfQ0KfQ0KDQoucG9raVNka1Byb2dyZXNzQ29udGFpbmVyIHsNCgliYWNrZ3JvdW5kOiAjQjhDN0REOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogNXB4Ow0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCglib3R0b206IDA7DQoJei1pbmRleDogOTk5OTsNCn0NCg0KLnBva2lTZGtQcm9ncmVzc0JhciB7DQoJcG9zaXRpb246cmVsYXRpdmU7DQoJYm90dG9tOjBweDsNCgliYWNrZ3JvdW5kOiAjRkZEQzAwOw0KCWhlaWdodDogMTAwJTsNCgl3aWR0aDogMCU7DQoJdHJhbnNpdGlvbjogd2lkdGggMC41czsNCgl0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyOw0KfQ0KDQoucG9raVNka1Byb2dyZXNzQmFyLnBva2lTZGtWaXNpYmxlLCAucG9raVNka1BhdXNlQnV0dG9uLnBva2lTZGtWaXNpYmxlLCAucG9raVNka1N0YXJ0QWRCdXR0b24ucG9raVNka1Zpc2libGUgew0KCWRpc3BsYXk6IGJsb2NrOw0KCXBvaW50ZXItZXZlbnRzOiBhdXRvOw0KfQ0KDQoucG9raVNka1Byb2dyZXNzQmFyLnBva2lTZGtIaWRkZW4sIC5wb2tpU2RrUGF1c2VCdXR0b24ucG9raVNka0hpZGRlbiwgLnBva2lTZGtTdGFydEFkQnV0dG9uLnBva2lTZGtIaWRkZW4gew0KCWRpc3BsYXk6IG5vbmU7DQoJcG9pbnRlci1ldmVudHM6IG5vbmU7DQp9DQo8L3N0eWxlPjwvaGVhZD4NCg0KCTxib2R5Pg0KDQoJPCEtLSBUT0RPIGRlYnVnY29kZSwgbW92ZSBtZSB0byBwcm92aWRlciAtLT4NCgk8ZGl2IGlkPSJkZWJ1ZyIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyBjb2xvcjpyZWQ7IGxlZnQ6NDBweDsgei1pbmRleDogOTk5OTk5OSI+PC9kaXY+DQoNCiAgICA8c2NyaXB0Pg0KCQkJd2luZG93Ll9fYW50aWFsaWFzID0gZmFsc2UNCiAgICA8L3NjcmlwdD4NCg0KCQk8c2NyaXB0Pg0KCQl2YXIgdmVyc2lvbiA9ICIxLjIuNCINCg0KCQl2YXIgZ2FQYXRoID0gJy9nb2xkZGlnZ2VyLycgKyB2ZXJzaW9uICsgJy8nOw0KDQoJCXZhciBpbml0VGltZSA9IDEqbmV3IERhdGUoKTsNCg0KCQkJd2luZG93LnZwYXRoID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9hNDU2cHVyL3NlcmFwaEB0cmVlL2FlMmZjYzZkNmE5Y2QwNTE2NTRmY2MwNTE5MDgwZGIxZjc5Y2YyYTcvZ2FtZXMvZ29sZGRpZ2dlcmZydnIvdi8xNTc2MTU0NTIzODA5IjsNCg0KCQkJd2luZG93LnNwYXRoID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9hNDU2cHVyL3NlcmFwaEBhZTJmY2M2ZDZhOWNkMDUxNjU0ZmNjMDUxOTA4MGRiMWY3OWNmMmE3L2dhbWVzL2dvbGRkaWdnZXJmcnZyL3YvMTU3NjE1NDUyMzgwOS9leHRlcm5hbC5qcyI7DQoNCgkJCXdpbmRvdy5leHRzaXplID0gMTgxMTE1MjsNCg0KCQkvL0luIHNlcGVyYXRlIGNvZGUgYmxvY2sgdG8gbG9hZCBmaXJzdCAmIG5vdCB0cmlnZ2VyIHdoZW4gSlMgaXMgZGlzYWJsZWQNCgkJdmFyIHByZWxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZWxvYWRlcicpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHJlbG9hZGVyKTsNCg0KCQk8L3NjcmlwdD4NCgkJPHNjcmlwdD4NCgkJCS8vaWU5IHBvbHlmaWxsDQoJCQlpZighKHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nKSkgew0KCQkJCXZhciBmbiA9IGZ1bmN0aW9uKCl7fTsNCgkJCQljb25zb2xlPXtsb2c6Zm4sZGVidWc6Zm4saW5mbzpmbix3YXJuOmZuLGVycm9yOmZufTsNCgkJCX0NCgkJCUhvc3QgPSB7DQogICAgCQkJTG9jYWxpemU6ew0KDQogICAgICAgIAkJbGFuZ3VhZ2VzOg0KICAgIAkJCQlbXQ0KDQogICAgCQkJfSxkYXRhVXJsc1N1cHBvcnRlZDooZnVuY3Rpb24oKXsNCgkJCQkJdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsNCgkJCQkJcmV0dXJuIGMudG9EYXRhVVJMJiYoYy50b0RhdGFVUkwoImltYWdlL3BuZyIpLmluZGV4T2YoImRhdGE6aW1hZ2UvcG5nIikgPT0gMCk7DQoJCQkJfSkoKQ0KCQkJfTsNCg0KCQkJKGZ1bmN0aW9uKHNjb3BlKXsNCgkJCQkoZnVuY3Rpb24odyxkLGEsbSl7dmFyIGc9J0dhbWVBbmFseXRpY3MnO3dbZ109d1tnXXx8ZnVuY3Rpb24oKXsod1tnXS5xPXdbZ10ucXx8W10pLnB1c2goYXJndW1lbnRzKX19KSh3aW5kb3csZG9jdW1lbnQpOw0KDQoJCQkJdmFyIHJlbGFzZWRDYW52YXNFbGVtZW50cyA9IFtdDQoJCQkJdmFyIGNvbXBsZXRlZCA9IDA7DQoJCQkJdmFyIHByZXZpZXcgPSAwOw0KCQkJCXZhciBmYWNlYm9va0FQSUluaXRlZCA9IGZhbHNlOw0KCQkJCXZhciBnYW1lSXNMb2FkZWQgPSBmYWxzZTsNCg0KCQkJCXNjb3BlLl9qc29uRGF0YT17fTsNCgkJCQk7DQpzY29wZS5fanNvbkRhdGFbJ2FiX3Rlc3RzJ10gPSB7ImFiX2Z0dWUiOnsiY29ob3J0cyI6WyJkaXNhYmxlZCIsImVuYWJsZWQiXX0sImFiX2JsYXN0cHJldmlldyI6eyJjb2hvcnRzIjpbImRpc2FibGVkIiwiZW5hYmxlZCJdfX07DQpzY29wZS5fanNvbkRhdGFbJ3RyYWNrLWdhJ10gPSB7ImdhSWRzIjp7ImFsbCI6IlVBLTU0MDgxNzMxLTEifSwic3RhdGUiOiJ7YXBwSWQ9YXBwX2lkLGFwcE5hbWU9YXBwX25hbWUsYXBwVmVyc2lvbj1hcHBfdmVyc2lvbixtZXRyaWMxPXBsYXlfc2Vzc2lvbl9jb3VudCxkaW1lbnNpb24yPWNvaG9ydCxkaW1lbnNpb240PXBsYXlfc2Vzc2lvbl9pZCxkaW1lbnNpb24zPWRldmljZV9pZCxtZXRyaWMyPWRheXNfZWxhcHNlZCxtZXRyaWMzPWRheXNfcGxheWVkLGRpbWVuc2lvbjU9Y2hhbm5lbCxkaW1lbnNpb242PWVudHJ5X3BvaW50LGRpbWVuc2lvbjc9dXRtX3N0cmluZyxkaW1lbnNpb244PXNjcmVlbixkaW1lbnNpb245PWZhY2Vib29rX2NvbnRleHQsbWV0cmljND1jdXJyZW5jeV9hbW91bnQsbWV0cmljNT1taXNzaW9uc19jb21wbGV0ZWQsbWV0cmljNj1wcm9ncmVzc2lvbixtZXRyaWM3PWdhbWVzX3BsYXllZH0iLCJldmVudHMiOnsiZGVmYXVsdCI6Im5hbWUsLHZhbHVlLF9wYXJhbXMiLCJvcHRpb25zX2NoYW5nZSI6Im5hbWUsb3B0aW9uX25hbWU6b3B0aW9uX3ZhbHVlIiwiZ2FtZV9lbmQiOiJuYW1lLGxldmVsX2lkLGdhbWVfZHVyYXRpb24iLCJnYW1lX3BsYXlfc3RhcnQsZ2FtZV9jb250aW51ZV91c2VkIjoibmFtZSxsZXZlbF9pZCIsImtlZXBhbGl2ZSxuZXdfdXNlcixtaXNzaW9uX3N1Y2Nlc3MiOiJuYW1lIiwiY29pbl9zcGVudCx0dXRvcmlhbF9zdGVwX2NvbXBsZXRlZCxzZXNzaW9uX3N0YXJ0IjoibmFtZSwsdmFsdWUiLCJnYW1lX2xvYWRlZCI6Im5hbWUsLGxvYWRpbmdfdGltZSIsInNvY2lhbF9lbmdhZ2UsZW5nYWdlIjoiJ2VuZ2FnZScsZW5nYWdlX2lkOmJ1dHRvbl9wbGFjZW1lbnQsMSIsInBsYXlfd2l0aF9mcmllbmQiOiJuYW1lLCwxIiwic2hhcmUsaW52aXRlIjoibmFtZSxidXR0b25fcGxhY2VtZW50LDEiLCJjcm9zc19wcm9tb3Rpb25fc2hvdyI6Im5hbWUsYnV0dG9uX3BsYWNlbWVudCwxIiwiY3Jvc3NfcHJvbW90aW9uX2NsaWNrLGNyb3NzX3Byb21vdGlvbl9zdWNjZXNzLGNyb3NzX3Byb21vdGlvbl9mYWlsdXJlIjoibmFtZSx0YXJnZXRfZ2FtZSwxIiwiYWRfbWFuZGF0b3J5X3JlcXVlc3QiOiJuYW1lLCx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiYWRfbWFuZGF0b3J5X3Jlc3BvbnNlIjoibmFtZSxhZF9yZXNwb25zZSx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiYWRfbWFuZGF0b3J5X3Nob3ciOiJuYW1lLCx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiYWRfbWFuZGF0b3J5X2ZpbmlzaCI6Im5hbWUsYWRfcmVzdWx0LHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9tYW5kYXRvcnlfYmxvY2tlZCI6Im5hbWUsLHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9tYW5kYXRvcnlfcGFzcyI6Im5hbWUsLHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9tYW5kYXRvcnlfdGhyb3R0bGVkIjoibmFtZSx0aHJvdHRsZV90eXBlLHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9yZXdhcmRlZF9yZXF1ZXN0IjoibmFtZSwsdmFsdWUse19tZXJnZT1fcGFyYW1zLGRpbWVuc2lvbjEzPXByb3ZpZGVyfSIsImFkX3Jld2FyZGVkX3Jlc3BvbnNlIjoibmFtZSxhZF9yZXNwb25zZSx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiYWRfcmV3YXJkZWRfc2hvdyI6Im5hbWUsLHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9yZXdhcmRlZF9maW5pc2giOiJuYW1lLGFkX3Jlc3VsdCx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiYWRfcmV3YXJkZWRfYmxvY2tlZCI6Im5hbWUsLHZhbHVlLHtfbWVyZ2U9X3BhcmFtcyxkaW1lbnNpb24xMz1wcm92aWRlcn0iLCJhZF9yZXdhcmRlZF9wYXNzIjoibmFtZSwsdmFsdWUse19tZXJnZT1fcGFyYW1zLGRpbWVuc2lvbjEzPXByb3ZpZGVyfSIsImFkX3Jld2FyZGVkX3Rocm90dGxlZCI6Im5hbWUsdGhyb3R0bGVfdHlwZSx2YWx1ZSx7X21lcmdlPV9wYXJhbXMsZGltZW5zaW9uMTM9cHJvdmlkZXJ9IiwiY2hhdGJvdF9ub3Nob3csY2hhdGJvdF9zaG93LGNoYXRib3Rfc3VjY2VzcyxjaGF0Ym90X2lzc3Vic2NyaWJlZCxjaGF0Ym90X3VzZXJhYm9ydGVkIjoibmFtZSwsIiwiY2hhdGJvdF9lcnJvciI6Im5hbWUscmVhc29uLCJ9fTsNCnNjb3BlLl9qc29uRGF0YVsndHJhY2stZ21hJ10gPSB7InVybCI6IiIsImN1cnJlbmNpZXMiOiJjb2luIiwiaXRlbXR5cGVzIjoidW5rbm93biIsImNoYW5uZWxNYXBwaW5nIjp7IndlYl9lZGdlLHdlYl9maXJlZm94LHdlYl9vcGVyYSx3ZWJfc2FmYXJpLHdlYl9jaHJvbWUsIjoid2ViIiwid2ViX3NhZmFyaV9pb3Msd2ViX2Nocm9tZV9pb3MiOiJ3ZWJfaW9zIiwidmtydSxva3J1LHR3aXRjaCxoYWdvIjoib3RoZXIifSwiY3VzdG9tRGltZW5zaW9uczAxIjoid2ViLHdlYl9pb3Msd2ViX3NhbXN1bmcsd2ViX3NhbXN1bmdfbTRzLHdlYl9zaWxrLGNocm9tZW9zLGFuZHJvaWQsaW9zLHJjcyxzYW1zdW5nLGZhY2Vib29rX2luc3RhbnQsZmFjZWJvb2tfY2FudmFzd2ViLGZhY2Vib29rX2NhbnZhcyxiaXhieSxpbWVzc2FnZSxzcGlsLGtvbmdyZWdhdGUsa2lrLHR3aXR0ZXIsb3RoZXIiLCJldmVudHMiOnsibmV3X3VzZXIiOiInYWRkRGVzaWduRXZlbnQnLG5hbWUiLCJnYW1lX2xvYWRlZCI6IidhZGRQcm9ncmVzc2lvbkV2ZW50JywnQ29tcGxldGUnLG5hbWUsLCxsb2FkaW5nX3RpbWUiLCJrZWVwYWxpdmUiOiInYWRkRGVzaWduRXZlbnQnLG5hbWUiLCJnYW1lX3BsYXlfc3RhcnQiOiInYWRkUHJvZ3Jlc3Npb25FdmVudCcsJ1N0YXJ0JyxsZXZlbF9pZCIsImdhbWVfY29udGludWVfdXNlZCI6IidhZGRQcm9ncmVzc2lvbkV2ZW50JywnU3RhcnQnLGxldmVsX2lkIiwiZ2FtZV9lbmQiOiInYWRkUHJvZ3Jlc3Npb25FdmVudCcsJ0NvbXBsZXRlJyxsZXZlbF9pZCwsLHZhbHVlIiwiZ2FtZV9lbmQtbG9zZSI6IidhZGRQcm9ncmVzc2lvbkV2ZW50JywnRmFpbCcsbGV2ZWxfaWQsLCx2YWx1ZSIsIm1pc3Npb25fc3VjY2VzcyI6IidhZGREZXNpZ25FdmVudCcsbmFtZSIsImFkX3Jld2FyZGVkX3JlcXVlc3QiOiInYWRkRGVzaWduRXZlbnQnLG5hbWU6c2NyZWVuIiwiYWRfcmV3YXJkZWRfcmVzcG9uc2UiOiInYWRkRGVzaWduRXZlbnQnLG5hbWU6c2NyZWVuOmFkX3Jlc3BvbnNlIiwiYWRfcmV3YXJkZWRfc2hvdyI6IidhZGREZXNpZ25FdmVudCcsbmFtZTpzY3JlZW4iLCJhZF9yZXdhcmRlZF9maW5pc2giOiInYWRkRGVzaWduRXZlbnQnLG5hbWU6c2NyZWVuOmFkX3Jlc3VsdCx2YWx1ZSIsImFkX21hbmRhdG9yeV9yZXF1ZXN0IjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOnNjcmVlbiIsImFkX21hbmRhdG9yeV9yZXNwb25zZSI6IidhZGREZXNpZ25FdmVudCcsbmFtZTpzY3JlZW46YWRfcmVzcG9uc2UiLCJhZF9tYW5kYXRvcnlfc2hvdyI6IidhZGREZXNpZ25FdmVudCcsbmFtZTpzY3JlZW4iLCJhZF9tYW5kYXRvcnlfZmluaXNoIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOnNjcmVlbjphZF9yZXN1bHQsdmFsdWUiLCJjb2luX3NwZW50IjoiJ2FkZFJlc291cmNlRXZlbnQnLCdTaW5rJywnY29pbicsdmFsdWUsJ3Vua25vd24nLCdjb25zdW1lZCciLCJwbGF5X3dpdGhfZnJpZW5kIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOnNjcmVlbiwxIiwic2hhcmUsaW52aXRlIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOmJ1dHRvbl9wbGFjZW1lbnQsMSIsImNyb3NzcHJvbW90aW9uIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOnNjcmVlbiIsImNyb3NzX3Byb21vdGlvbl9zaG93IjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOmJ1dHRvbl9wbGFjZW1lbnQsMSIsImNyb3NzX3Byb21vdGlvbl9zdWNjZXNzIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOnRhcmdldF9nYW1lLDEiLCJlbmdhZ2UiOiInYWRkRGVzaWduRXZlbnQnLG5hbWU6ZW5nYWdlX2lkIiwiaWFwX2ludGVyYWN0aW9uIjoiJ2FkZERlc2lnbkV2ZW50JyxuYW1lOmlhcF9pZCx2YWx1ZSIsImlhcF9jb21wbGV0ZWQiOiInYWRkRGVzaWduRXZlbnQnLG5hbWU6aWFwX2lkLHZhbHVlIiwiaWFwX2ZhaWxlZCI6IidhZGREZXNpZ25FdmVudCcsbmFtZTppYXBfaWQsdmFsdWUiLCJ0dXRvcmlhbF9zdGVwX2NvbXBsZXRlZCI6IidhZGREZXNpZ25FdmVudCcsbmFtZTp2YWx1ZSIsIm9wdGlvbnNfY2hhbmdlIjoiJ2FkZERlc2lnbkV2ZW50JyxvcHRpb25fbmFtZTpvcHRpb25fdmFsdWUiLCJzb2NpYWxfZW5nYWdlIjoiJ2FkZERlc2lnbkV2ZW50JywnZW5nYWdlJzplbmdhZ2VfaWQ6YnV0dG9uX3BsYWNlbWVudCwxIn19Ow0KDQoJCQkJc2NvcGUuZ2V0TmV3Q2FudmFzT2JqZWN0ID0gZnVuY3Rpb24oKXsNCgkJCQkJdmFyIGNhY2hlZEVsZW1lbnQgPSByZWxhc2VkQ2FudmFzRWxlbWVudHMucG9wKCk7DQoJCQkJCWlmKGNhY2hlZEVsZW1lbnQpIHJldHVybiBjYWNoZWRFbGVtZW50Ow0KCQkJCQlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykNCgkJCQl9DQoJCQkJc2NvcGUucmVsZWFzZUNhbnZhcyA9IGZ1bmN0aW9uKGNhbnZhcyl7DQoJCQkJCWNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsNCgkJCQkJY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDENCgkJCQkJcmVsYXNlZENhbnZhc0VsZW1lbnRzLnB1c2goY2FudmFzKQ0KCQkJCX0NCg0KCQkJCXZhciBpc0ZCSW5zdGFudCA9ICEhd2luZG93LkZCSW5zdGFudDsNCg0KCQkJCWlmKGlzRkJJbnN0YW50KXsNCgkJCQkJZ2FQYXRoICs9ICdhcHAvZmFjZWJvb2tfaW5zdGFudC8nOw0KDQoJCQkJCUZCSW5zdGFudC5sb2dFdmVudCYmRkJJbnN0YW50LmxvZ0V2ZW50KA0KCQkJCQkJIk5MUFByZWxvYWRTdGFydCINCgkJCQkJKQ0KCQkJCX0NCg0KCQkJCXZhciBpc1R3aXRjaCA9ICEhd2luZG93LlR3aXRjaDsNCg0KCQkJCWlmKGlzVHdpdGNoKXsNCgkJCQkJZ2FQYXRoICs9ICdhcHAvdHdpdGNoLyc7DQoJCQkJfQ0KDQoJCQkJdmFyIGxvYWRRdWV1ZSA9IFtdOw0KCQkJCXZhciBsb2FkUXVldWVUaW1lciA9IG51bGw7DQoJCQkJZnVuY3Rpb24gdHJpZ2dlclF1ZXVlKCkgew0KCQkJCQl2YXIgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KCQkJCQl3aGlsZShsb2FkUXVldWUubGVuZ3RoICYmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHQgPCAxMCkpIHsNCgkJCQkJCWxvYWRRdWV1ZS5zaGlmdCgpKCk7DQoJCQkJCX0NCgkJCQkJaWYobG9hZFF1ZXVlLmxlbmd0aCkgew0KCQkJCQkJcG9wUXVldWUoKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlmdW5jdGlvbiBwb3BRdWV1ZSgpIHsNCgkJCQkJY2xlYXJUaW1lb3V0KGxvYWRRdWV1ZVRpbWVyKTsNCgkJCQkJaWYobG9hZFF1ZXVlVGltZXIgPT09IG51bGwpIHRyaWdnZXJRdWV1ZSgpOw0KCQkJCQlsb2FkUXVldWVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJCQl0cmlnZ2VyUXVldWUoKTsNCgkJCQkJfSwgMSk7DQoJCQkJfQ0KDQoJCQkJZnVuY3Rpb24gYnVpbGRDaGFySW5kZXgoY2hhcnMpIHsNCgkJCQkJdmFyIGluZGV4ID0ge307DQoJCQkJCWZvcih2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgaW5kZXhbY2hhcnNbaV1dID0gaTsNCgkJCQkJcmV0dXJuIGluZGV4Ow0KCQkJCX0NCg0KCQkJCXZhciBjaGFycyA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvISMkJiotLC46O0AoKTw9Pj9bXV5ge3x9IjsNCgkJCQl2YXIgY2hhckluZGV4ID0gYnVpbGRDaGFySW5kZXgoY2hhcnMpOw0KCQkJCXZhciBpbnRDaGFycyA9ICIoKTw9Pj9bXV5ge3x9IjsNCgkJCQl2YXIgaW50Q2hhckluZGV4ID0gYnVpbGRDaGFySW5kZXgoaW50Q2hhcnMpOw0KDQoJCQkJc2NvcGUuZ2V0SlNHSW1hZ2VXcmFwcGVyID0gZnVuY3Rpb24gZ2V0SlNHSW1hZ2VXcmFwcGVyKHBhdGgsIGFjdGlvbnMsIGNvcmRzLCBkcmF3Q2FsbGJhY2spIHsNCg0KCQkJCQlmdW5jdGlvbiBnZXRDb3JkKCkgew0KCQkJCQkJdmFyIGZpcnN0ID0gY29yZHNbY29yZE9mZnNldCsrXTsNCgkJCQkJCXZhciByZXMsIGludENoYXI7DQoJCQkJCQlzd2l0Y2goZmlyc3QpIHsNCgkJCQkJCQljYXNlICdfJzogcmVzID0gMDsgYnJlYWs7DQoJCQkJCQkJY2FzZSAnfic6IHJlcyA9IDE7IGJyZWFrOw0KCQkJCQkJCWNhc2UgJyUnOiByZXMgPSAxNDk5MzI7IGJyZWFrOw0KCQkJCQkJCWNhc2UgJ1wnJzogcmVzID0gLTE0OTkzMjsgYnJlYWs7DQoJCQkJCQkJY2FzZSAnQCc6DQoJCQkJCQkJCXJlcyA9IA0KCQkJCQkJCQkJICBjaGFySW5kZXhbY29yZHNbY29yZE9mZnNldCsrXV0NCgkJCQkJCQkJCSsgY2hhckluZGV4W2NvcmRzW2NvcmRPZmZzZXQrK11dICogNzQNCgkJCQkJCQkJCSsgY2hhckluZGV4W2NvcmRzW2NvcmRPZmZzZXQrK11dICogNTQ3NiAvLyAoNzQgKiA3NCkNCgkJCQkJCQkJCSsgY2hhckluZGV4W2NvcmRzW2NvcmRPZmZzZXQrK11dICogNDA1MjI0OyAvLyAoNzQgKiA3NCAqIDc0KQ0KCQkJCQkJCQlyZXMgPSAocmVzIC8gMTAwKSAtIDE0OTkzMjsNCgkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJZGVmYXVsdDoNCgkJCQkJCQkJaW50Q2hhciA9IGludENoYXJJbmRleFtmaXJzdF07DQoJCQkJCQkJCWlmKGludENoYXIgIT09IHVuZGVmaW5lZCkgew0KCQkJCQkJCQkJcmVzID0gaW50Q2hhciAqIDg4ICsgY2hhckluZGV4W2NvcmRzW2NvcmRPZmZzZXQrK11dOw0KCQkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQkJcmVzID0NCgkJCQkJCQkJCQkgIGNoYXJJbmRleFtmaXJzdF0NCgkJCQkJCQkJCQkrIGNoYXJJbmRleFtjb3Jkc1tjb3JkT2Zmc2V0KytdXSAqIDc0DQoJCQkJCQkJCQkJKyBjaGFySW5kZXhbY29yZHNbY29yZE9mZnNldCsrXV0gKiA1NDc2OyAvLyAoNzQgKiA3NCkNCgkJCQkJCQkJCXJlcyA9IChyZXMgLyAxMDApIC0gMjAyNjsNCgkJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJcmV0dXJuIHJlczsNCgkJCQkJfQ0KCQkJCQlmdW5jdGlvbiBnZXRDb2xvcigpIHsNCgkJCQkJCXJldHVybiBnZXRDb3JkKCkNCgkJCQkJCQk/ICdyZ2IoJyArIGdldENvcmQoKSArICcsJyArIGdldENvcmQoKSArICcsJyArIGdldENvcmQoKSArICcpJw0KCQkJCQkJCTogJ3JnYmEoJyArIGdldENvcmQoKSArICcsJyArIGdldENvcmQoKSArICcsJyArIGdldENvcmQoKSArICcsJyArIGdldENvcmQoKSArICcpJzsNCgkJCQkJfQ0KCQkJCQlmdW5jdGlvbiB0b0NhbnZhcyhjYW52YXMsIHNjYWxlKSB7DQoJCQkJCQljYW52YXMud2lkdGggPSBNYXRoLmNlaWwoYXNzZXRXaWR0aCAqIHNjYWxlKTsNCgkJCQkJCWNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoYXNzZXRIZWlnaHQgKiBzY2FsZSk7DQoJCQkJCQl2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQoJCQkJCQljdHguc2NhbGUoc2NhbGUsIHNjYWxlKTsNCgkJCQkJCXZhciBjYW52YXNTdGFjayA9IFtjYW52YXNdOw0KCQkJCQkJdmFyIGZpbGxPYmplY3Q7DQoJCQkJCQl0cnkgew0KCQkJCQkJCWZvcih2YXIgYSA9IDA7IGEgPCBhY3Rpb25zLmxlbmd0aDsgYSsrKSB7DQoJCQkJCQkJCXN3aXRjaChhY3Rpb25zW2FdKSB7DQoJCQkJCQkJCQljYXNlICc0JzogDQoJCQkJCQkJCQkJdmFyIG5ld0NhbnZhcyA9IGdldE5ld0NhbnZhc09iamVjdCgpOw0KCQkJCQkJCQkJCW5ld0NhbnZhcy53aWR0aCA9IGdldENvcmQoKTsNCgkJCQkJCQkJCQluZXdDYW52YXMuaGVpZ2h0ID0gZ2V0Q29yZCgpOw0KCQkJCQkJCQkJCWN0eCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KCQkJCQkJCQkJCWNhbnZhc1N0YWNrLnB1c2gobmV3Q2FudmFzKTsNCgkJCQkJCQkJCQlicmVhazsNCgkJCQkJCQkJCWNhc2UgJ2InOg0KCQkJCQkJCQkJCXZhciBwYXR0ZXJuID0gY3R4LmNyZWF0ZVBhdHRlcm4oY3R4LmNhbnZhcywgJ25vLXJlcGVhdCcpOw0KCQkJCQkJCQkJCXZhciByZW1vdmVkID0gY2FudmFzU3RhY2sucG9wKCk7DQoJCQkJCQkJCQkJcmVsZWFzZUNhbnZhcyhyZW1vdmVkKTsNCgkJCQkJCQkJCQljdHggPSBjYW52YXNTdGFja1tjYW52YXNTdGFjay5sZW5ndGggLSAxXS5nZXRDb250ZXh0KCcyZCcpOw0KCQkJCQkJCQkJCWN0eC5maWxsU3R5bGUgPSBwYXR0ZXJuOw0KCQkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQkJY2FzZSAndCc6IGZpbGxPYmplY3QgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoZ2V0Q29yZCgpLCBnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICdEJzogZmlsbE9iamVjdCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICc4JzogZmlsbE9iamVjdC5hZGRDb2xvclN0b3AoZ2V0Q29yZCgpLCBnZXRDb2xvcigpKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICdGJzogY3R4LmZpbGxTdHlsZSA9IGZpbGxPYmplY3Q7IGJyZWFrOw0KCQkJCQkJCQkJY2FzZSAnZic6IGN0eC5zYXZlKCk7IGJyZWFrOw0KCQkJCQkJCQkJY2FzZSAnLyc6IGN0eC5iZXppZXJDdXJ2ZVRvKGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ3AnOiBjdHguc3Ryb2tlU3R5bGUgPSBnZXRDb2xvcigpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ3cnOiBjdHgubGluZUNhcCA9ICdidXR0JzsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICd5JzogY3R4LmxpbmVKb2luID0gJ21pdGVyJzsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICc5JzogY3R4Lm1pdGVyTGltaXQgPSBnZXRDb3JkKCk7IGJyZWFrOw0KCQkJCQkJCQkJY2FzZSAnNic6IGN0eC5maWxsU3R5bGUgPSBnZXRDb2xvcigpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ24nOiBjdHguYmVnaW5QYXRoKCk7IGJyZWFrOw0KCQkJCQkJCQkJY2FzZSAncSc6IGN0eC5jbG9zZVBhdGgoKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICdvJzogY3R4LmZpbGwoKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICdQJzogY3R4LnN0cm9rZSgpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ3InOiBjdHgucmVzdG9yZSgpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJzInOiBjdHguYXJjKGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCkgPT09IDEpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ20nOiBjdHgubW92ZVRvKGdldENvcmQoKSxnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ2wnOiBjdHgubGluZVRvKGdldENvcmQoKSxnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJzUnOiBjdHgucXVhZHJhdGljQ3VydmVUbyhnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ0MnOiBjdHguY2xpcCgpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ0UnOiBjdHgubGluZVdpZHRoID0gZ2V0Q29yZCgpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ0EnOiBjdHgudHJhbnNmb3JtKGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCksIGdldENvcmQoKSwgZ2V0Q29yZCgpLCBnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ3UnOiBjdHgudHJhbnNsYXRlKGdldENvcmQoKSwgZ2V0Q29yZCgpKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICdWJzogY3R4LnNjYWxlKGdldENvcmQoKSwgZ2V0Q29yZCgpKTsgYnJlYWs7DQoJCQkJCQkJCQljYXNlICcwJzogY3R4LnJvdGF0ZShnZXRDb3JkKCkpOyBicmVhazsNCgkJCQkJCQkJCWNhc2UgJ0snOiBjdHguZ2xvYmFsQWxwaGEgPSBnZXRDb3JkKCk7IGJyZWFrOw0KCQkJCQkJCQkJY2FzZSAnRyc6IGN0eC5zdHJva2VTdHlsZSA9IGZpbGxPYmplY3Q7IGJyZWFrOw0KCQkJCQkJCQkJZGVmYXVsdDogY29uc29sZS5lcnJvcigndW5oYW5kbGVkJywgYWN0aW9uc1thXSk7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9IGNhdGNoKGVycikgew0KCQkJCQkJCXdpbmRvdy5vbmVycm9yICYmIHdpbmRvdy5vbmVycm9yKCdEcmF3IGZhaWx1cmUgaW4gPiAnICsgcGF0aCArICcgJyArIGVyci5tZXNzYWdlLCBlcnIuc291cmNlVVJMLCBlcnIubGluZSk7DQoJCQkJCQl9DQoJCQkJCQkvLyBSZXNldCBKU0cgZHJhd2luZw0KCQkJCQkJY29yZE9mZnNldCA9IDA7DQoJCQkJCQlnZXRDb3JkKCk7DQoJCQkJCQlnZXRDb3JkKCk7DQoJCQkJCQlyZXR1cm4gY2FudmFzOw0KCQkJCQl9DQoNCgkJCQkJZnVuY3Rpb24gaGFuZGxlRHJhdyhjb25maWcpIHsNCgkJCQkJCWNvbmZpZyA9IGNvbmZpZyB8fCB7fTsNCgkJCQkJCXZhciBzY2FsZSA9IGNvbmZpZy5zY2FsZSB8fCAxOw0KCQkJCQkJdmFyIGZvcmNlQ2FudmFzID0gY29uZmlnLmZvcmNlQ2FudmFzIHx8IGZhbHNlOw0KCQkJCQkJLy92YXIgaW5zdGFudERyYXcgPSBjb25maWcuaW5zdGFudERyYXcgfHwgZmFsc2U7IC8vIENoZWNrIGlmIHdlIG5lZWQgdGhpcw0KCQkJCQkJdmFyIGpzZ0ltYWdlOw0KCQkJCQkJZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2soKSB7DQoJCQkJCQkJanNnSW1hZ2Uub25sb2FkID0gbnVsbDsNCgkJCQkJCQlqc2dJbWFnZS5vbmVycm9yID0gbnVsbDsNCgkJCQkJCQlkcmF3Q2FsbGJhY2sgJiYgZHJhd0NhbGxiYWNrKCkNCgkJCQkJCQlkcmF3Q2FsbGJhY2sgPSBudWxsOw0KCQkJCQkJfQ0KCQkJCQkJZnVuY3Rpb24gbG9hZE5leHQoKSB7DQoJCQkJCQkJdmFyIGpzZ0NhbnZhcyA9IHRvQ2FudmFzKGdldE5ld0NhbnZhc09iamVjdCgpLCBzY2FsZSk7DQoJCQkJCQkJaWYodHlwZW9mIGRyYXdDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgew0KCQkJCQkJCQlqc2dJbWFnZS5vbmxvYWQgPSBoYW5kbGVDYWxsYmFjazsNCgkJCQkJCQkJanNnSW1hZ2Uub25lcnJvciA9IGhhbmRsZUNhbGxiYWNrOw0KCQkJCQkJCX0NCgkJCQkJCQlqc2dJbWFnZS5zcmMgPSBqc2dDYW52YXMudG9EYXRhVVJMKCk7IC8vIFRPRE86IEludmVzdGlnYXRlIHBlcmZvcm1hbmNlIGltcGFjdCBoZXJlDQoJCQkJCQkJcmVsZWFzZUNhbnZhcyhqc2dDYW52YXMpOw0KCQkJCQkJfQ0KCQkJCQkJaWYoSG9zdC5kYXRhVXJsc1N1cHBvcnRlZCAmJiAhZm9yY2VDYW52YXMpIHsNCgkJCQkJCQlqc2dJbWFnZSA9IG5ldyBJbWFnZSgpOw0KCQkJCQkJCWxvYWROZXh0KCk7DQoJCQkJCQkJcmV0dXJuIGpzZ0ltYWdlOw0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQl2YXIganNnQ2FudmFzID0gdG9DYW52YXMoZ2V0TmV3Q2FudmFzT2JqZWN0KCksIHNjYWxlKTsNCgkJCQkJCQlqc2dDYW52YXMuaXNDYW52YXMgPSB0cnVlOw0KCQkJCQkJCWRyYXdDYWxsYmFjayAmJiBkcmF3Q2FsbGJhY2soKQ0KCQkJCQkJCWRyYXdDYWxsYmFjayA9IG51bGwNCgkJCQkJCQlyZXR1cm4ganNnQ2FudmFzOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJdmFyIGNvcmRPZmZzZXQgPSAwOw0KCQkJCQl2YXIgYXNzZXRXaWR0aCA9IGdldENvcmQoKTsNCgkJCQkJdmFyIGFzc2V0SGVpZ2h0ID0gZ2V0Q29yZCgpOw0KCQkJCQl2YXIganNnV3JhcHBlciA9IHsNCgkJCQkJCWlzSlNHOiB0cnVlLA0KCQkJCQkJcGF0aDogcGF0aCwNCgkJCQkJCXdpZHRoOiBhc3NldFdpZHRoLA0KCQkJCQkJaGVpZ2h0OiBhc3NldEhlaWdodCwNCgkJCQkJCWFjdGlvbnM6IGFjdGlvbnMsDQoJCQkJCQljb3JkczogY29yZHMsDQoJCQkJCQlkcmF3OiBoYW5kbGVEcmF3DQoJCQkJCX07DQoNCgkJCQkJcmV0dXJuIGpzZ1dyYXBwZXI7DQoJCQkJfTsNCg0KCQkJCXZhciBjYW52YXMsIGxvYWRiYXIsIHByb2dyZXNzYmFyLCBsb2dvT3B0aW9ucyA9IHtmb3JjZUNhbnZhczogdHJ1ZX07DQoJCQkJaWYoIWlzRkJJbnN0YW50KSB7DQoJCQkJCWNhbnZhcyA9IGdldEpTR0ltYWdlV3JhcHBlcignbG9nbycsJzZubWxsbWxsbzZubWxsbWxsbzZubWxsbGxsbG1sbGxtbGxsbWxsbGxvNm5tbGxtbGxsbWxsbzZubWxsbWxsbG1sbGxtbGxsbG82bm1sbGxtbGxsbWxsbGxtbGxsbG82bm1sbGxtbGxsbzZubWxsbGxsbGxsbGxsbGxtbGxsbGxsbC8vbGxsbGxtbC8vbGxsbWxsbGxsbGxsbGxtbGxsbGxsbC8vbGxsbGxtbC8vbGxsbS8vLy9tLy8vL2xtLy8vL2xsbC8vbGxsbG0vLy8vL2xsbzZubWxsbG1sbG1sbGxtbGxsbG82bm1sbG82bm1sbGxvNktubWxsbWxsbGxsbGxsbWxsbGxsbGxsb0snLCdJcTd8c348KygyKU4+ND5vPUs/aj5tP3J7Wzw9fWI+R31ePFd+PC8oMyhgPU0/aT1FXVU+bT9xKTopXT07PU8pIzwofjxoPGc8bnxVKF0+ND5uPns+UD85PXdbRD1XYE4oMHxIXyhUPihfPT0oLj19KXQ/fT85PXc+ez5QPTs9Tz5ZKS46Rzc+SyxENj83YC1bOWBpW0h7LFtIfil5KXkpeXxVKF1rKjUpRn1ePFcoWD1bKD4pMCk6KV0oLj19LEQ2Pzd8LFtAYC1bK35fKTE8aHtXPUp9XjxXfFUoXTxJP2speD9FKXQ/fT1FXVVbRD1XPzk9dz5ZKS4/ZDxuYGlbSF1yPjtdVj59YEhdV2AtWyt+KXUpISkhPjQ+bnxVKF17Vz1KPm0/cT1FXVUoLlszKFQ+KCl0P31PdjY8KElxNzxeOkc3Pkt7LFtIfHw+fV0kPjZgfD88eyxbSGBpW0hdcj47filKKX0pNyk6KV0peD9FKXQ/fSguPX0+Xj5RPXk9TD07PU8+ez5QfihLKXo8YylgfHM8aHxIPGh7Vz1Qe1c9aXtFPWlgKzxoYCs8aF47PWheOz0sXms9LF5aKV1eWikvXnMpL3xzPll8cz45fEg+OXthPnx7YT8qfHNbVnxzW2h8Vj81e1NZOHVxSzFEVHZNczBbaWBZRFR2TU56NiF1Xlo/Ql5aPlZeWj5EXnI+RHxyPll8cz5ZfHM+OV46P0ZeOj8wXjp5THVTaXo/K2BZeUx1YDM7K3RgKj9HYCo+OWAqPjleOj45XjpeTXxzXmh8ZGBtXlpgTF5aXjVeM117eyZdWV4zWyxeWltwXlpddXxkXSZ8c3tDfHN7bnxIe257YXshe2F8dXxzfH18c31MfFZ8aXtTU0U0cUsxOGs0TXMwfU1gWThrNE1OenFJNF5aeyZeWntBXlpgLV5yYC18cntDfHN7Q3xze25eOnsuXjpRUTMsTHpPZDMraHp8bmBZT2QzNGgwa0czaXowey5gKnttYCp7bl46e25eOn1QXmZ9UFlFeUdxNDQ4eH11XXxjeTU0OHg2eTVRQnl9PF5mNnk1czJ5Y3k1MDp5fXVeK0dxNCs6eX1QZzB5fVBeZn0uXmZvcTVPO3hhbTVZKnh9dV5FfVpZKnhJeDRFO3h9Vl5mfVZ1NHkqMjRLI3l9dV40fSpVI3l5cTVxNXl9Ll5mfS5eZn1nXk9lLjQrSHkwRTVnSHl9eF5PT2E1Z0h5TWQ1NEx5fTleV01kNUFleWlhNTJpeX0wXmp1UzVxbHlJVTVFbnl9M15tfStedX0zXnV9eF5ubUs1RW55V0o1Z2x5fXReakpGNWtreUZCNWFreX1tXmp9bV52fWdedn1nXk99Z15PfW1eZUFDNXNkeXNHNXNkeX11XmV2UzVzZHljVTV3Y3l9Ml5YY1U1OlJ5cVQ1YVF5fTFeVVlRNXNPeXVONWlPeX12XlQyRzVpT3lIRDVzT3l9bV5UfW1eZX1tXmV+KUMpUilPPUVdVT9GW2d7Vz1KPm0/cT1NP2k8ST9rPUVdVT5ZKS48cikrKTopXT07PU98fD59T3Y2PChHbjYpK08uNSgufV48V35fKXUpPltxP29gSF1XXVY+fX5fPEU8cXxCXWVgSF1XYC1bK3wsW0B+Xyh4KCptQWx9XjxXfFU9TntbPD1dcj47XVY+fVtxP29bXT8qXXg/aF5FP1JeQD9YXSQ+N11yPjs/ez1QP3g9aD94PWg+Pz5LPns+UD85PXc/OT13W0U9Vz97PVB+JykuZHJhdyhsb2dvT3B0aW9ucyk7DQoJCQkJCWxvYWRiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsb2FkYmFyJyk7DQoJCQkJCXByb2dyZXNzYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQoJCQkJCXByZWxvYWRlci5hcHBlbmRDaGlsZChsb2FkYmFyKTsNCgkJCQkJbG9hZGJhci5hcHBlbmRDaGlsZChwcm9ncmVzc2Jhcik7DQoJCQkJCXByZWxvYWRlci5hcHBlbmRDaGlsZChjYW52YXMpOw0KCQkJCX0NCg0KCQkJCXZhciBvdyA9IDANCgkJCQl2YXIgb2ggPSAwDQoJCQkJZnVuY3Rpb24gaGFuZGxlUmVzaXplKCl7DQoJCQkJCWlmKCFpc0ZCSW5zdGFudCl7DQoJCQkJCQl2YXIgdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsNCgkJCQkJCXZhciBoID0gTWF0aC5taW4od2luZG93LmlubmVySGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpOw0KCQkJCQkJaWYob3chPXd8fG9oIT1oKXsNCgkJCQkJCQlvdyA9IHc7b2ggPSBoOw0KCQkJCQkJCXZhciBzID0gTWF0aC5taW4odyxoKSouOD4+MA0KCQkJCQkJCXZhciBuaCA9IHMqMC44MTg3NzAyMjY1Pj4wDQoJCQkJCQkJdmFyIHQgPSAoKGgtbmgqMS4xNSkvMj4+MCkNCg0KCQkJCQkJCWxvYWRiYXIuc3R5bGUud2lkdGggPSBjYW52YXMuc3R5bGUud2lkdGggPSBzKyJweCINCgkJCQkJCQljYW52YXMuc3R5bGUuaGVpZ2h0ID0gbmggKyJweCINCgkJCQkJCQlsb2FkYmFyLnN0eWxlLmxlZnQgPSBjYW52YXMuc3R5bGUubGVmdCA9ICgody1zKS8yPj4wKSsicHgiDQoJCQkJCQkJY2FudmFzLnN0eWxlLnRvcCA9IHQrInB4Ig0KCQkJCQkJCWxvYWRiYXIuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5taW4oKHMvNDA+PjApLDEwKSw0KSArICJweCINCgkJCQkJCQlsb2FkYmFyLnN0eWxlLnRvcCA9ICh0ICsgbmgqMS4wNSkrInB4Ig0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCWhhbmRsZVJlc2l6ZSgpDQoNCgkJCQlzY29wZS5odG1scHJvZ3Jlc3MgPSBmdW5jdGlvbih0b3RhbCwgbGVmdCl7DQoJCQkJCWNvbXBsZXRlZCA9IE1hdGgubWF4KChsZWZ0IC8gdG90YWwpLCBjb21wbGV0ZWQpDQoJCQkJfQ0KDQoJCQkJdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsNCgkJCQkJaWYoY29tcGxldGVkIDwgLjUpew0KCQkJCQkJY29tcGxldGVkICs9ICguNS1jb21wbGV0ZWQpLzEwMA0KCQkJCQl9DQoJCQkJCXByZXZpZXcgKz0gKGNvbXBsZXRlZC1wcmV2aWV3KS8xMA0KDQoJCQkJCWlmKGlzRkJJbnN0YW50ICYmIGZhY2Vib29rQVBJSW5pdGVkKXsNCgkJCQkJCUZCSW5zdGFudC5zZXRMb2FkaW5nUHJvZ3Jlc3MocHJldmlldyoxMDA+PjApDQoJCQkJCX0gZWxzZSB7CQkJCQkJDQoJCQkJCQlwcm9ncmVzc2JhciYmKHByb2dyZXNzYmFyLnN0eWxlLndpZHRoID0gKHByZXZpZXcqMTAwPj4wKSArICIlIikNCgkJCQkJfQ0KCQkJCQloYW5kbGVSZXNpemUoKTsNCgkJCQl9LDUwKQ0KDQoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQlsb2FkYmFyJiYobG9hZGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIikNCgkJCQl9LDUwMCkNCg0KCQkJCWZ1bmN0aW9uIGhhbmRsZUZhY2Vib29rTG9hZGVkKCkgew0KCQkJCQlpZihpc0ZCSW5zdGFudCAmJiBmYWNlYm9va0FQSUluaXRlZCAmJiBnYW1lSXNMb2FkZWQpIHsNCgkJCQkJCUZCSW5zdGFudC5sb2dFdmVudCgnTkxQaGFuZGxlRmFjZWJvb2tMb2FkZWQnKTsNCgkJCQkJCUZCSW5zdGFudC5zZXRMb2FkaW5nUHJvZ3Jlc3MoMTAwKTsNCgkJCQkJCWZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MoKSB7DQoJCQkJCQkJRkJJbnN0YW50LmxvZ0V2ZW50JiZGQkluc3RhbnQubG9nRXZlbnQoJ05MUHN0YXJ0R2FtZUFzeW5jJyk7DQoJCQkJCQkJdmFyIGxvY2FsZSA9IGZhbHNlOw0KDQoJCQkJCQkJLy8gSWYgaXQncyBvbmUgb2YgdGhlIHN1cHBvcnRlZCBsYW5ndWFnZXMgdGhlbiBsb2FkIGl0DQoJCQkJCQkJaWYobG9jYWxlICYmIGxvY2FsZSAhPSAnZW4tVVMnICYmIEhvc3QuTG9jYWxpemUubGFuZ3VhZ2VzLmluZGV4T2YobG9jYWxlKSA+IC0xKSB7DQoJCQkJCQkJCUhvc3QuTG9jYWxpemUuTG9hZChsb2NhbGUsIGZ1bmN0aW9uKGxhbmd1YWdlLCBzdWNjZXNzKSB7DQoJCQkJCQkJCQljb25zb2xlLmxvZygnTG9jYWxpemF0aW9uIGxvYWRlZDogJywgbGFuZ3VhZ2UsIHN1Y2Nlc3MpOw0KCQkJCQkJCQkJSG9zdC5lbWl0KCdGQkluc3RhbnRQcmVsb2FkQ29tcGxldGUnKTsNCgkJCQkJCQkJfSk7DQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJLy8gRG8gZW5nbGlzaA0KCQkJCQkJCQlIb3N0LmVtaXQoJ0ZCSW5zdGFudFByZWxvYWRDb21wbGV0ZScpOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCWZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycikgew0KCQkJCQkJCS8vPGRlYnVnPg0KCQkJCQkJCWNvbnNvbGUuZXJyb3IoJ0luc3RhbnQgRXJyb3I6JywgZXJyKTsNCgkJCQkJCQkvLzwvZGVidWc+DQoJCQkJCQkJd2luZG93Lm9uZXJyb3IgJiYgd2luZG93Lm9uZXJyb3IoJ2hhbmRsZUZhY2Vib29rTG9hZGVkID4gc3RhcnRHYW1lQXN5bmMgKCcgKyBGQkluc3RhbnQuZ2V0U0RLVmVyc2lvbigpICsgJykgPiAnICsgKGVyci5tZXNzYWdlIHx8IGVyci50b1N0cmluZygpKSwgZXJyKTsNCgkJCQkJCQlGQkluc3RhbnQubG9nRXZlbnQoJ3N0YXJ0R2FtZUFzeW5jRXJyb3InLCAxLCBlcnIpOw0KCQkJCQkJCUhvc3QuZW1pdCgnRkJJbnN0YW50UHJlbG9hZENvbXBsZXRlJyk7DQoJCQkJCQl9DQoNCgkJCQkJCUZCSW5zdGFudC5zdGFydEdhbWVBc3luYygpDQoJCQkJCQkJLnRoZW4oaGFuZGxlU3VjY2VzcykNCgkJCQkJCQkuY2F0Y2goaGFuZGxlRXJyb3IpOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJc2NvcGUuaHRtbGNsZWFuID0gZnVuY3Rpb24oKSB7DQoJCQkJCWlmKGlzRkJJbnN0YW50KSB7DQoJCQkJCQlGQkluc3RhbnQubG9nRXZlbnQoJ05MUGh0bWxjbGVhbicpOw0KCQkJCQl9DQoJCQkJCWdhbWVJc0xvYWRlZCA9IHRydWU7DQoNCgkJCQkJLy8gU3RvcCB0aGUgcHJvZ3Jlc3MgYmFyIHRpbWVyDQoJCQkJCWNsZWFySW50ZXJ2YWwodGltZXIpDQoNCgkJCQkJLy8gUmVtb3ZlIHRoZSBwcmVsb2FkZXINCgkJCQkJaWYocHJlbG9hZGVyKXsNCgkJCQkJCXByZWxvYWRlci5wYXJlbnROb2RlJiZwcmVsb2FkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmVsb2FkZXIpDQoJCQkJCX0NCg0KCQkJCQkvLyBEZWFsbG9jIHRoZSBjYW52YXMNCgkJCQkJaWYoY2FudmFzKXsNCgkJCQkJCWNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxDQoJCQkJCX0NCg0KCQkJCQkvLyBHYXJiYWdlIGNvbGxlY3Rpb24NCgkJCQkJbG9hZGJhciA9IHByb2dyZXNzYmFyID0gY2FudmFzID0gcHJlbG9hZGVyID0gbnVsbDsNCg0KCQkJCQloYW5kbGVGYWNlYm9va0xvYWRlZCgpDQoJCQkJfQ0KDQoJCQkJLy8gRW1iZWQgZ2VuZXJhbCBkYXRhIC0gdGhpcyBpcyB1c2VkIGJ5IGJ1aWxkZXIucmIncyBlbWJlZF9kYXRhX2NvbnRlbnQNCgkJCQkvLyAgIGZpbGVzOiBBcnJheSBvZiBmaWxlbmFtZXMNCgkJCQkvLyAgIGRhdGEgOiBBcnJheSBvZiBkYXRhIHRoYXQgbWFwZXMgdG8gZmlsZW5hbWVzDQoJCQkJc2NvcGUuZW1iZWRkZWRGaWxlcyA9IHt9Ow0KCQkJCXNjb3BlLmVtYmVkRmlsZXMgPSBmdW5jdGlvbihmaWxlcyxkYXRhKSB7IA0KCQkJCQlmb3IoIHZhciBhPTA7YTxmaWxlcy5sZW5ndGg7YSsrKXsNCgkJCQkJCXZhciBkID0gZGF0YVthXQ0KCQkJCQkJc2NvcGUuZW1iZWRkZWRGaWxlc1tmaWxlc1thXV0gPSBkOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJLy8gRW1iZWQgaW1hZ2UgZGF0YQ0KCQkJCXNjb3BlLmVtYmVkZGVkQXNzZXRzID0ge307DQoNCgkJCQlzY29wZS5lbWJlZExvYWQgPSBmdW5jdGlvbihwYXRoLGZpbGUpew0KCQkJCQlzY29wZS5lbWJlZGRlZEFzc2V0c1twYXRoXSA9IGZpbGU7DQoJCQkJfQ0KDQoJCQkJc2NvcGUubG9hZEFzc2V0cyA9IGZ1bmN0aW9uKGZpbGVzLCBzdmdDb21tYW5kcywgZGF0YSl7DQoJCQkJCWZvciggdmFyIGE9MDthPGZpbGVzLmxlbmd0aDthKyspew0KCQkJCQkJdmFyIHBhdGggPSBmaWxlc1thXQ0KCQkJCQkJdmFyIHN2ZyA9IHN2Z0NvbW1hbmRzW2FdOw0KCQkJCQkJaWYoc3ZnKXsNCgkJCQkJCQlzY29wZS5lbWJlZExvYWQocGF0aCxbc3ZnLGRhdGFbYV1dKQ0KCQkJCQkJfWVsc2V7DQoJCQkJCQkJc2NvcGUuZW1iZWRMb2FkKHBhdGgsIGRhdGFbYV0pDQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQl2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQoJCQkJcmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbihldmVudCl7DQoJCQkJCXZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQoJCQkJCS8vcy50ZXh0IHJhdGhlciB0aGFuIGlubmVySFRNTCBmb3IgaWU5DQoJCQkJCXMudGV4dCA9IGV2ZW50LnRhcmdldC5yZXNwb25zZVRleHQ7DQoJCQkJCWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzKTsNCgkJCQl9KQ0KDQoJCQkJcmVxLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgZnVuY3Rpb24oZXZlbnQpIHsNCgkJCQkgICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHsNCgkJCQkgICAgCWh0bWxwcm9ncmVzcyhldmVudC50b3RhbCwgZXZlbnQubG9hZGVkKi43KQ0KCQkJCSAgICB9IGVsc2Ugew0KCQkJCSAgICAJaHRtbHByb2dyZXNzKHNjb3BlLmV4dHNpemV8fDUwMDAwMCwgZXZlbnQubG9hZGVkKQ0KCQkJCSAgICB9DQoJCQkJfSwgZmFsc2UpOw0KDQoJCQkJaWYoc2NvcGUuc3BhdGggIT09IHVuZGVmaW5lZCl7DQoJCQkJCXJlcS5vcGVuKCJHRVQiLCBzcGF0aCk7DQoJCQkJCXJlcS5zZW5kKCkNCgkJCQl9DQoNCgkJCQlpZihpc0ZCSW5zdGFudCl7DQoJCQkJCUZCSW5zdGFudC5sb2dFdmVudCYmRkJJbnN0YW50LmxvZ0V2ZW50KCAiRlJWUkFwcFZlcnNpb24iLCAyNiwgeyBidWlsZDogIjI2IiwgdmVyc2lvbjogdmVyc2lvbiB9KQ0KCQkJCQlGQkluc3RhbnQubG9nRXZlbnQmJkZCSW5zdGFudC5sb2dFdmVudCgNCgkJCQkJCSJOTFBCZWZvcmVpbml0aWFsaXplQXN5bmMiDQoJCQkJCSkNCg0KCQkJCQlGQkluc3RhbnQuaW5pdGlhbGl6ZUFzeW5jKCkNCgkJCQkJLnRoZW4oZnVuY3Rpb24oKSB7DQoJCQkJCQlGQkluc3RhbnQubG9nRXZlbnQmJkZCSW5zdGFudC5sb2dFdmVudCgNCgkJCQkJCQkiTkxQSW5pdGlhbGl6ZUFzeW5jIg0KCQkJCQkJKQ0KCQkJCQkJZmFjZWJvb2tBUElJbml0ZWQgPSB0cnVlDQoJCQkJCQloYW5kbGVGYWNlYm9va0xvYWRlZCgpDQoJCQkJCQlnYXgoJ3NldCcsICd1c2VySWQnLCBGQkluc3RhbnQucGxheWVyLmdldElEKCkpOw0KCQkJCQl9KQ0KCQkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7DQoJCQkJCQl3aW5kb3cub25lcnJvciAmJiB3aW5kb3cub25lcnJvcignRmFpbHVyZSBpbiBwcm9taXNlIGluaXRpYWxpemVBc3luYyA+ICcgKyBlcnIubWVzc2FnZSwgZXJyKTsNCgkJCQkJCS8vV2UgZmlyZSB0aGlzIG5vIG1hdHRlciB3aGF0LCB3ZSBhbHdheXMgd2hhbnQgdG8gc2hvdyB0aGUgZ2FtZSByZWdhcmRsZXNzIG9mIHRoZSB1c2VycyBjcmFzaHkgZGV2aWNlcy4NCgkJCQkJCWZhY2Vib29rQVBJSW5pdGVkID0gdHJ1ZQ0KCQkJCQkJaGFuZGxlRmFjZWJvb2tMb2FkZWQoKQ0KCQkJCQl9KTsNCgkJCQl9DQoNCgkJCX0pKHRoaXMpDQoJCTwvc2NyaXB0Pg0KDQoJCTxjYW52YXMgaWQ9ImdhbWVDYW52YXMiIHdpZHRoPSI2NDAiIGhlaWdodD0iMzYwIiBzdHlsZT0iaGVpZ2h0OiAzNjBweDsgd2lkdGg6IDY0MHB4OyI+PC9jYW52YXM+DQoJCTxzY3JpcHQ+DQoJCQl2YXIgY3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZUNhbnZhcycpLnN0eWxlOw0KCQkJY3Mud2lkdGggPSBjcy5oZWlnaHQgPSAiMTAwJSINCgkJPC9zY3JpcHQ+DQoNCgkJPGRpdiBpZD0ib3ZlcmxheSI+PC9kaXY+DQoNCgkJPGNvbnRlbnQgaXRlbXNjb3BlPSIiIGl0ZW10eXBlPSIiPg0KCQkJPGgxIGl0ZW1wcm9wPSJuYW1lIj5Hb2xkIERpZ2dlciBGUlZSPC9oMT4NCgkJCTxtZXRhIGl0ZW1wcm9wPSJ1cmwiIGNvbnRlbnQ9IiI+DQoJCQk8ZGl2IGl0ZW1wcm9wPSJhdXRob3IiIGl0ZW1zY29wZT0iIiBpdGVtdHlwZT0iIj4NCgkJICAgIDxwIHN0eWxlPSJtYXJnaW4tdG9wOjBweCI+PHNwYW4gaXRlbXByb3A9Im5hbWUiPjxhIGl0ZW1wcm9wPSJ1cmwiIGhyZWY9IiI+QnkgRlJWUjwvYT48L3NwYW4+PC9wPg0KCQkgICAgPC9kaXY+DQoNCgkJCTxtZXRhZGF0YT4NCgkJCQk8IS0tPGltZyBpdGVtcHJvcD0iaW1hZ2UiIHNyYz0iIiBkYXRhLW9yaWdpbmFsPSIuL3YvMTU3NjE1NDUyMzgwOS9pL3dlYi9pY29uMTk2eDE5Ni5wbmciLz4tLT4NCgkJCQk8bWV0YSBpdGVtcHJvcD0icGxheU1vZGUiIGNvbnRlbnQ9IlNpbmdsZVBsYXllciI+DQogICAgCQk8cD5HZW5yZTogPHNwYW4gaXRlbXByb3A9ImdlbnJlIj48L3NwYW4+PC9wPg0KCQkJCTxkaXYgaXRlbXNjb3BlPSIiIGl0ZW10eXBlPSIiIGl0ZW1wcm9wPSJhZ2dyZWdhdGVSYXRpbmciPg0KCQkJCQk8ZGl2PkF2ZXJhZ2UgUmF0aW5nOiA8YiBpdGVtcHJvcD0icmF0aW5nVmFsdWUiPjQuODwvYj4vPGIgaXRlbXByb3A9ImJlc3RSYXRpbmciPjU8L2I+PC9kaXY+DQoJCQkJCTxtZXRhIGl0ZW1wcm9wPSJyZXZpZXdDb3VudCIgY29udGVudD0iOTQyNyI+DQoJCQkJPC9kaXY+DQoJCQkJPGxpbmsgaXRlbXByb3A9ImFwcGxpY2F0aW9uQ2F0ZWdvcnkiIGNvbnRlbnQ9IkdhbWUiPg0KCQkJCTxsaW5rIGl0ZW1wcm9wPSJhcHBsaWNhdGlvblN1YkNhdGVnb3J5IiBjb250ZW50PSJCb2FyZCwgUHV6emxlIj4NCgkJCQk8c3BhbiBpdGVtcHJvcD0ib2ZmZXJzIiBpdGVtc2NvcGU9IiIgaXRlbXR5cGU9Imh0dHA6Ly9zY2hlbWEub3JnL09mZmVyIj4NCgkJCQkJPG1ldGEgaXRlbXByb3A9InByaWNlIiBjb250ZW50PSIkMCI+DQoJCQkJCTxtZXRhIGl0ZW1wcm9wPSJwcmljZUN1cnJlbmN5IiBjb250ZW50PSJVU0QiPg0KCQkJCQk8bGluayBpdGVtcHJvcD0iYXZhaWxhYmlsaXR5IiBocmVmPSIiPg0KCQkJCTwvc3Bhbj4NCgkJCQk8bWV0YSBpdGVtcHJvcD0iY29udGVudFJhdGluZyIgY29udGVudD0iRXZlcnlvbmUiPg0KCQkJCTxtZXRhIGl0ZW1wcm9wPSJwbGF5TW9kZSIgY29udGVudD0iU2luZ2xlUGxheWVyIj4NCgkJCTwvbWV0YWRhdGE+DQoNCgkJCTxwPkdvbGQgRGlnZ2VyIEZSVlIgaXMgdGhlIGJlc3QgZGlnZ2luZyBnYW1lLCBmb3IgYm90aCBnb2xkIHJ1c2ggdmV0ZXJhbnMgYW5kIG1pbmluZyBmYW5zLiBUYWtlIHlvdXIgcGlja2F4ZSBhbmQgeW91ciBoZWxtZXQgYW5kIHN0YXJ0IGRyaWxsaW5nITwvcD4NCjxwPkxldOKAmXMgZGlnIGRheSBhbmQgbmlnaHQsIGxldOKAmXMgZmluZCB0b25zIG9mIGdvbGQgYW5kIHNvbWUgdHJlYXN1cmVzLCBsZXTigJlzIHB1dCB0aGVtIG9uIHRoZSBncm91bmQgYW5kIG1ha2Ugc29tZSBtb25leSEgQnV0IGF3YXJlIG9mIHRoZSBnaWFudCByb2NrcywgbWFrZSBzbWFydCB1c2Ugb2YgeW91ciBwaWNrYXhlIGFuZCBkaWcgd2lzZWx5LCBvdGhlcndpc2UgdGhleSB3aWxsIGZhbGwgb24geW91IGFuZCB5b3UnbGwgbG9zZSBhbGwgdGhlIGdvbGQhIEluc3RlYWQgb2YgdGhhdCwgdHJ5IHRvIGNvbm5lY3QgdGhyZWUgb3IgbW9yZSByb2NrcyB0byBibGFzdCB0aGVtIGFuZCBnZXQgZXZlbiBtb3JlIGdvbGQhPC9wPg0KPHA+RXhwbG9yZSBldmVyeSBjb3JuZXIgb2YgdGhlIGNhdmUgYW5kIGRvIG5vdCBsZWF2ZSBhIHN0b25lIHVuZXhjYXZhdGVkLiBXaG8ga25vd3Mgd2hhdCBjb3VsZCB5b3UgZmluZCBpbiB0aGUgZGVwdGhzIG9mIGEgZ29sZCBtaW5lPyBEaWcgdXAgYW5jaWVudCBkaW5vc2F1cnMgYm9uZXMsIHZhbHVhYmxlIGdvbGQgbnVnZ2V0cyBvZiBldmVuIHNoaW55IGRpYW1vbmRzLiBObyByb2NrIGNhbiBzdG9wIHlvdSBmcm9tIHlvdXIgbWluaW5nIG1pc3Npb24hIEJlIGNhcmVmdWwgb2YgdW5kZXJncm91bmQgZXhwbG9zaW9ucyBhbmQgdXNlIHRoZSBjaGVja3BvaW50IGJhc2UgdG8gc2F2ZSB5b3VyIHByb2dyZXNzLjwvcD4NClN0YXJ0IG1pbmluZyBhbmQgZmlsbCB5b3VyIGJhZyB3aXRoIGdvbGQgYW5kIGRpYW1vbmRzIGluIHRoZSBiZXN0IGZyZWUgZGlnZ2luZyBnYW1lIGV2ZXIhIENhbiB5b3UgYmVjb21lIHRoZSBzcGVsZW9sb2d5IHR5Y29vbj8NCgkJCTxwPjxhIGhyZWY9Ii4iPlBsZWFzZSBlbmFibGUgSmF2YVNjcmlwdCB0byBwbGF5IG5vdyE8L2E+PC9wPg0KDQoJCQk8aDI+TW9yZSBpbmZvcm1hdGlvbjwvaDI+DQoJCQk8dWw+DQoJCQkJPGxpPjxhIGhyZWY9IiI+RlJWUiBXZWJzaXRlPC9hPjwvbGk+DQoJCQkJPGxpPjxhIGhyZWY9IiI+RlJWUiBOZXdzPC9hPjwvbGk+DQoJCQkJPGxpPjxhIGhyZWY9IiI+RlJWUiBvbiBUd2l0dGVyPC9hPjwvbGk+DQoJCQkJPGxpPjxhIGhyZWY9IiI+RlJWUiBvbiBGYWNlYm9vazwvYT48L2xpPg0KCQkJCTxsaT48YSBocmVmPSIiPkZSVlIgb24gR29vZ2xlKzwvYT48L2xpPg0KCQkJPC91bD4NCgkJCTxoMj5Nb3JlIGdyZWF0IGdhbWVzPC9oMj4NCgkJCTx1bD4NCg0KCQkJPC91bD4NCgkJCTxoMj5Nb3JlIHBsYXRmb3JtczwvaDI+DQoJCQk8dWw+DQoNCgkJCTwvdWw+DQoNCgkJCTxwPjxhIGhyZWY9IiI+QWx3YXlzIGdldCB0aGUgZ3JlYXRlc3QgbmV3IGdhbWVzIG9uIGZydnIuY29tPC9hPjwvcD4NCgkJPC9jb250ZW50Pg0KDQoJCTxzY3JpcHQ+DQoNCgkJCWZ1bmN0aW9uIHBhcnNlU3RhY2soZXJyKSB7DQoJCQkJdmFyIHN0YWNrID0gW107DQoJCQkJdmFyIGxpbmVzID0gKGVyciAmJiBlcnIuc3RhY2sgfHwgJycpLnNwbGl0KCdcbicpOyAvLyBzcGxpdCBzdGFjayB0cmFjZSBpbnRvIGxpbmVzDQoJCQkJbGluZXMuc2hpZnQoKTsgLy8gcmVtb3ZlIGZpcnN0IGxpbmUsIHRoZSBlcnJvciBtZXNzYWdlDQoJCQkJZm9yKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7DQoJCQkJCS8vIHNpbXBseWZ5IGFuZCBzaG9ydGVuIGRldGFpbHMNCgkJCQkJc3RhY2sucHVzaChsaW5lc1tpXQ0KCQkJCQkJLnJlcGxhY2UoL15ccyphdFxzKy9nLCAnJykNCgkJCQkJCS5yZXBsYWNlKC8oaHR0cHM/OlwvXC9bXlwvXSspPy9nLCAnJykNCgkJCQkJCS5yZXBsYWNlKC9odHRwcz86XC9cL1teXC9dKy9nLCAnJykNCgkJCQkJCS5yZXBsYWNlKC9cLz9nYW1lXC9bXlwvXStcL1teXC9dKy9nLCAnJykNCgkJCQkJCS5yZXBsYWNlKC86Pzxhbm9ueW1vdXM+Oj8vZywgJycpDQoJCQkJCQkucmVwbGFjZSgvXihbXiBdKylccytcKC9nLCAnJDEoJykNCgkJCQkJCS5yZXBsYWNlKC9eKFswLTldKzpbMC05XSskKS9nLCAnKCQxKScpDQoJCQkJCSk7DQoJCQkJfQ0KCQkJCXJldHVybiBzdGFjazsNCgkJCX0NCgkJCWZ1bmN0aW9uIGNyZWF0ZUVycm9ySGFuZGxlcihlcnJvclR5cGUpIHsNCgkJCQlyZXR1cm4gZnVuY3Rpb24oZXJyb3JNc2csIHNvdXJjZVVSTCwgbGluZSwgY29sdW1uLCBlcnIpIHsNCgkJCQkJaWYoc291cmNlVVJMIGluc3RhbmNlb2YgRXJyb3IpIHsgLy8gRW5hYmxlIG9wdGlvbmFsIHBhcmFtZXRlcnMNCgkJCQkJCWVyciA9IHNvdXJjZVVSTDsNCgkJCQkJCXNvdXJjZVVSTCA9IHVuZGVmaW5lZDsNCgkJCQkJfQ0KCQkJCQllcnIgPSBlcnIgfHwgbmV3IEVycm9yKGVycm9yTXNnKTsNCgkJCQkJdmFyIHBhcnRzID0gKChlcnIuc3RhY2sgfHwgJycpLnNwbGl0KCdcbicpWzFdIHx8ICcnKS5zcGxpdCgnOicpOw0KCQkJCQl2YXIgY29sRnJvbVN0YWNrID0gcGFydHMucG9wKCkgfHwgdW5kZWZpbmVkOw0KCQkJCQl2YXIgbGluZUZyb21TdGFjayA9IHBhcnRzLnBvcCgpIHx8IHVuZGVmaW5lZDsNCgkJCQkJbGluZSA9IGxpbmUgfHwgZXJyLmxpbmVOdW1iZXIgfHwgZXJyLmxpbmVubyB8fCBlcnIubGluZSB8fCBsaW5lRnJvbVN0YWNrIHx8ICcnOw0KCQkJCQljb2x1bW4gPSBjb2x1bW4gfHwgZXJyLmNvbHVtbk51bWJlciB8fCBlcnIuY29sbm8gfHwgZXJyLmNvbHVtbiB8fCBjb2xGcm9tU3RhY2sgfHwgJyc7DQoJCQkJCXNvdXJjZVVSTCA9IHNvdXJjZVVSTCB8fCBlcnIuc291cmNlVVJMIHx8ICcnOw0KCQkJCQllcnJvck1zZyA9IGVycm9yTXNnIHx8IGVyci5tZXNzYWdlIHx8IChlcnIudG9TdHJpbmcgJiYgZXJyLnRvU3RyaW5nKCkpIHx8ICcnOw0KCQkJCQl2YXIgcGFyc2VkU3RhY2sgPSBwYXJzZVN0YWNrKGVycikgfHwgW107DQoJCQkJCXZhciBlcnJTcmMgPSBzb3VyY2VVUkwgKyAnOiAnICsgbGluZSArICc6ICcgKyBjb2x1bW47DQoJCQkJCXdpbmRvdy5Ib3N0ICYmIEhvc3QuTG9nICYmIEhvc3QuTG9nKGVycm9yVHlwZSArICcgRXJyb3I6ICcgKyBlcnJvck1zZyArICc6ICcgKyBlcnJTcmMgKyAnXG5TdGFjazogJyArIHBhcnNlZFN0YWNrLmpvaW4oJ1xuJykpOw0KCQkJCQljb25zb2xlLmVycm9yKGVycm9yVHlwZSArICcgRXJyb3InLCBlcnJvck1zZyArICc6ICcgKyBlcnJTcmMsIGVycik7DQoJCQkJCWVyclNyYyArPSAnOiAnICsgcGFyc2VkU3RhY2suam9pbignfCcpLnN1YnN0cigwLCAxNTApOw0KCQkJCQl2YXIgZXZlbnRDYXRlZ29yeSA9ICdnb2xkZGlnZ2VyIDEuMi40IDI2ICcgKyBlcnJvclR5cGUgKyAnIEVycm9yJzsNCgkJCQkJdmFyIGVyclRpbWUgPSBEYXRlLm5vdygpIC0gKCh3aW5kb3cgJiYgd2luZG93Ll9fRlJWUiAmJiB3aW5kb3cuX19GUlZSLnN0YXJ0VGltZSkgfHwgMCk7DQoJCQkJCWlmKHdpbmRvdy5nYXgpIHsNCgkJCQkJCWdheCgnc2VuZCcsICdldmVudCcsIGV2ZW50Q2F0ZWdvcnksIGVycm9yTXNnLCBlcnJTcmMsIGVyclRpbWUpOw0KCQkJCQkJZ2F4KCdzZW5kJywgJ2V4Y2VwdGlvbicsIHtleERlc2NyaXB0aW9uOiBldmVudENhdGVnb3J5ICsgJzogJyArIGVycm9yTXNnICsgJzogJyArIGVyclNyY30pOw0KCQkJCQl9DQoJCQkJCWlmKHR5cGVvZiBGQkluc3RhbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBGQkluc3RhbnQubG9nRXZlbnQgPT09ICdmdW5jdGlvbicpIHsNCgkJCQkJCUZCSW5zdGFudC5sb2dFdmVudCgnb25lcnJvcicsIGVyclRpbWUsIHsNCgkJCQkJCQlhcHBOYW1lOiAnZ29sZGRpZ2dlcicsDQoJCQkJCQkJYXBwVmVyc2lvbjogJzEuMi40JywNCgkJCQkJCQlhcHBCdWlsZDogJzI2JywNCgkJCQkJCQljYXRlZ29yeTogZXZlbnRDYXRlZ29yeSwNCgkJCQkJCQltZXNzYWdlOiBlcnJvck1zZywNCgkJCQkJCQlzdGFjazogZXJyU3JjDQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX07DQoJCQl9DQoJCQl3aW5kb3cub25lcnJvciA9IGNyZWF0ZUVycm9ySGFuZGxlcignSmF2YVNjcmlwdCcpOw0KCQkJdmFyIHByb21pc2VFcnJvckhhbmRsZXIgPSBjcmVhdGVFcnJvckhhbmRsZXIoJ1Byb21pc2UnKTsNCgkJCXdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbiA9IGZ1bmN0aW9uKHJlamVjdGlvbikgew0KCQkJCXZhciBlcnIgPSAocmVqZWN0aW9uICYmIHJlamVjdGlvbi5yZWFzb24pIHx8IHt9Ow0KCQkJCXByb21pc2VFcnJvckhhbmRsZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBlcnIpOw0KCQkJfTsNCg0KCQkJd2luZG93LmdhQXBwSW5mbyA9IHsNCgkJCQlhcHBJZDogJ2NvbS5mcnZyLmdvbGRkaWdnZXInLA0KCQkJCWFwcE5hbWU6ICdnb2xkZGlnZ2VyJywNCgkJCQlhcHBWZXJzaW9uOiAnMS4yLjQnLA0KCQkJfTsNCgkJCXdpbmRvdy5pbml0R29vZ2xlID0gZnVuY3Rpb24oKXsNCgkJCQkvLyBnYSgnc2V0Jywgd2luZG93LmdhQXBwSW5mbyk7DQoJCQkJLy8gZ2EoJ2NyZWF0ZScsICdVQS01NDA4MTczMS0xJywgJ2F1dG8nLCB3aW5kb3cuZ2FBcHBJbmZvKTsNCg0KCQkJCS8vIGdhKCdjcmVhdGUnLCAnVUEtNTQwODE3MzEtNDgnLCAnYXV0bycsICdnYW1lJywgd2luZG93LmdhQXBwSW5mbyk7DQoNCgkJCQkvLyBnYXgoJ3JlcXVpcmUnLCAnZGlzcGxheWZlYXR1cmVzJyk7DQoJCQkJLy8gZ2F4KCdzZW5kJywgJ3BhZ2V2aWV3JywgZ2FQYXRoICsgbG9jYXRpb24uc2VhcmNoKTsNCgkJCQkvLyAvLyBSZWNvcmQgbmF0aXZlLWlzaCAiUHJvbWlzZSIgc3VwcG9ydA0KCQkJCS8vIHZhciBldmVudENhdGVnb3J5ID0gJ2dvbGRkaWdnZXIgMS4yLjQgMjYgUHJvbWlzZSBTdXBwb3J0JzsNCgkJCQkvLyBnYXgoJ3NlbmQnLCAnZXZlbnQnLCBldmVudENhdGVnb3J5LCAodHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbicpID8gJ3N1cHBvcnRlZCcgOiAndW5zdXBwb3J0ZWQnKTsNCgkJCX0NCgkJPC9zY3JpcHQ+DQoNCgkJPHNjcmlwdD4NCgkJCShmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXsNCgkJCShpW3JdLnE9aVtyXS5xfHxbXSkucHVzaChhcmd1bWVudHMpfSxpW3JdLmw9MSpuZXcgRGF0ZSgpOzthPXMuY3JlYXRlRWxlbWVudChvKSwNCgkJCW09cy5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXTthLmFzeW5jPTE7YS5zcmM9ZzttLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsbSkNCgkJCX0pKHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JywnaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpzJywnZ2EnKTsNCg0KCQkJZ2EoZnVuY3Rpb24oKSB7DQoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQl3aW5kb3cubG9jYXRpb24uaGFzaCA9ICIiDQoJCQkJCWlmICh3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUgaW5zdGFuY2VvZiBGdW5jdGlvbikgew0KCQkJICAJCQl3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCcuLycpOw0KCQkJCQl9DQoJCQkJfSw1MDAwKQ0KCQkJfSk7DQoNCgkJd2luZG93LmdheD1mdW5jdGlvbigpIHsgDQoJCQkvLyBnYS5hcHBseSh0aGlzLGFyZ3VtZW50cykNCg0KCQkJLy8gYSA9IGFyZ3VtZW50czsgYVswXSA9ICJnYW1lLiIrYVswXSAgDQoJCQkvLyBnYS5hcHBseSh0aGlzLGEpOw0KDQoJCX0NCgkJPC9zY3JpcHQ+DQoJCTxzY3JpcHQ+DQogCQkJd2luZG93LmluaXRHb29nbGUoKTsNCgkJPC9zY3JpcHQ+DQoNCgkJPHNjcmlwdD4NCgkJCShmdW5jdGlvbigpIHsNCgkJCQlmdW5jdGlvbiBTY2l0eWxhbmEodHJhY2tlciwgY29uZmlnKSB7DQoJCQkJCXZhciBzY2lVQXMgPSBbXSwgdWFzSW5pdGVkID0gZmFsc2U7DQoJCQkJCXZhciByZUFtcCA9IC9eJnwmJC9pZywgcmVUaWQgPSAvJnRpZD0oW14mXSspJi87DQoJCQkJCXZhciBvcmdTZW5kSGl0VGFzayA9IHRyYWNrZXIuZ2V0KCdzZW5kSGl0VGFzaycpOw0KDQoJCQkJCWZ1bmN0aW9uIHNjaURhdGEodHJhY2tlcikgew0KCQkJCQkJdmFyIHRpbWUgPSAobmV3IERhdGUpLmdldFRpbWUoKTsNCgkJCQkJCXZhciBfc2xfb3JkZXIgPSB3aW5kb3cuX3NsX29yZGVyOw0KCQkJCQkJaWYoX3NsX29yZGVyID49IHRpbWUpIF9zbF9vcmRlcisrOw0KCQkJCQkJZWxzZSBfc2xfb3JkZXIgPSB0aW1lOw0KCQkJCQkJd2luZG93Ll9zbF9vcmRlciA9IF9zbF9vcmRlcjsNCgkJCQkJCXZhciBoYXNSZWZlcnJlciA9ICFkb2N1bWVudC5yZWZlcnJlciA/IDAgOiAxOw0KCQkJCQkJdmFyIHVzZXJJZCA9IHRyYWNrZXIuZ2V0KCd1c2VySWQnKSB8fCB0cmFja2VyLmdldCgnY2xpZW50SWQnKTsNCgkJCQkJCXJldHVybiAnc2w9MSZ1PScgKyB1c2VySWQgKyAnJnQ9JyArIF9zbF9vcmRlciArICcmcj0nICsgaGFzUmVmZXJyZXI7DQoJCQkJCX0NCg0KCQkJCQlmdW5jdGlvbiBpbml0VUFzKCkgew0KCQkJCQkJZm9yKHZhciB4c0lzIGluIGNvbmZpZyl7DQoJCQkJCQkJdmFyIHNjaVVhID0gY29uZmlnW3hzSXNdOw0KCQkJCQkJCWlmKCh4c0lzID09PSAnYW55JyB8fCAoKHR5cGVvZiBYUyAhPT0gJ3VuZGVmaW5lZCcpICYmIFhTLmlzW3hzSXNdKSkgJiYgc2NpVUFzLmluZGV4T2Yoc2NpVWEpID09PSAtMSkgc2NpVUFzLnB1c2goc2NpVWEpOw0KCQkJCQkJfQ0KCQkJCQkJaWYoKHR5cGVvZiBYUyAhPT0gJ3VuZGVmaW5lZCcpICYmIFhTLmlzKSB1YXNJbml0ZWQgPSB0cnVlOw0KCQkJCQl9DQoNCgkJCQkJZnVuY3Rpb24gc2VuZEhpdFRhc2sobW9kZWwpIHsNCgkJCQkJCW9yZ1NlbmRIaXRUYXNrKG1vZGVsKTsNCgkJCQkJCWlmKCF1YXNJbml0ZWQpIGluaXRVQXMoKTsNCgkJCQkJCXZhciBoaXRQYXlsb2FkID0gbW9kZWwuZ2V0KCdoaXRQYXlsb2FkJykgKyAnJmNkMT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNjaURhdGEodHJhY2tlcikpOw0KCQkJCQkJZm9yKHZhciBpID0gMDsgaSA8IHNjaVVBcy5sZW5ndGg7IGkrKykgew0KCQkJCQkJCW1vZGVsLnNldCgnaGl0UGF5bG9hZCcsICgnJicgKyBoaXRQYXlsb2FkICsgJyYnKS5yZXBsYWNlKHJlVGlkLCAnJnRpZD0nICsgc2NpVUFzW2ldICsgJyYnKS5yZXBsYWNlKHJlQW1wLCAnJyksIHRydWUpOw0KCQkJCQkJCW9yZ1NlbmRIaXRUYXNrKG1vZGVsKTsNCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCXRyYWNrZXIuc2V0KCdzZW5kSGl0VGFzaycsIHNlbmRIaXRUYXNrKTsNCgkJCQl9DQoJCQkJdmFyIF9qc29uRGF0YSA9IHdpbmRvdy5fanNvbkRhdGEgfHwge307DQoJCQkJaWYoX2pzb25EYXRhLnNjaXR5bGFuYSkgew0KCQkJCQkvLyBnYSgncHJvdmlkZScsICdzY2l0eWxhbmEnLCBTY2l0eWxhbmEpOw0KCQkJCQkvLyBnYSgncmVxdWlyZScsICdzY2l0eWxhbmEnLCBfanNvbkRhdGEuc2NpdHlsYW5hKTsNCgkJCQl9DQoJCQl9KSgpOw0KCQk8L3NjcmlwdD4NCg0KCTwvYm9keT4NCgk8L2h0bWw+";
