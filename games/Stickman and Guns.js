window.game = "DQoNCjwhLS0gVWx0aW1hdGUgR2FtZSBTdGFzaCBmaWxlLS0+IA0KPCEtLSBGb3IgdGhlIHJlZ3VsYXJseSB1cGRhdGluZyBkb2MgZ28gdG8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xX0ZtSDNCbFNCUUk3RkdnQVFMNTktWlBlOGVDeHMzNXdlbDZKVXlWYUc4US8gLS0+DQoNCg0KDQoNCjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KICA8aGVhZD4NCiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ2VuaXp5L2NnLXJpcEBtYWluL3N0aWNrbWFuLWFuZC1ndW5zLyI+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDwvaGVhZD4NCiAgPGJvZHkgc3R5bGU9Im1hcmdpbjowO3BhZGRpbmc6MCIgY2xhc3M9Im5vc2VsZWN0Ij4NCiAgICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiIHN0eWxlPSJjb2xvcjogYmxhY2s7IGZvbnQtc2l6ZTogNDhweDsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPkxPQURJTkcuLi48L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lIj48L2NhbnZhcz4NCg0KICAgIDxzY3JpcHQ+DQogICAgY29uc3QgU1BMSVRfTUFQID0geyJmYmUyNzUyYmU5OTdiNjkwNzVmNTdlZGJmYjk4NWVhNi53YXNtIjogbnVsbH07DQogICAgPC9zY3JpcHQ+DQoNCiAgICA8c2NyaXB0Pg0KICAgIGFzeW5jIGZ1bmN0aW9uIG1lcmdlUGFydHMoYmFzZVVybCkgew0KICAgICAgY29uc3QgcGFydHMgPSBbXTsNCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDk5OyBpKyspIHsNCiAgICAgICAgY29uc3QgdGVzdFVybCA9IGJhc2VVcmwgKyAiLnBhcnQiICsgaTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBjb25zdCBoZWFkID0gYXdhaXQgZmV0Y2godGVzdFVybCwgeyBtZXRob2Q6ICJIRUFEIiB9KTsNCiAgICAgICAgICBpZiAoIWhlYWQub2spIGJyZWFrOw0KICAgICAgICAgIHBhcnRzLnB1c2godGVzdFVybCk7DQogICAgICAgIH0gY2F0Y2ggeyBicmVhazsgfQ0KICAgICAgfQ0KICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGJhc2VVcmw7DQoNCiAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChwYXJ0cy5tYXAoYXN5bmMgKHUpID0+IHsNCiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKHUpOw0KICAgICAgICBpZiAoIXIub2spIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHBhcnQgIiArIHUpOw0KICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgci5hcnJheUJ1ZmZlcigpKTsNCiAgICAgIH0pKTsNCg0KICAgICAgY29uc3QgdG90YWwgPSBidWZmZXJzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIubGVuZ3RoLCAwKTsNCiAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KHRvdGFsKTsNCiAgICAgIGxldCBvZmZzZXQgPSAwOw0KICAgICAgZm9yIChjb25zdCBiIG9mIGJ1ZmZlcnMpIHsgbWVyZ2VkLnNldChiLCBvZmZzZXQpOyBvZmZzZXQgKz0gYi5sZW5ndGg7IH0NCg0KICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW21lcmdlZF0pKTsNCiAgICB9DQoNCiAgICBhc3luYyBmdW5jdGlvbiBwcmVNZXJnZUFsbCgpIHsNCiAgICAgIGNvbnN0IG1hcCA9IHt9Ow0KICAgICAgY29uc3QgZmlsZXMgPSBPYmplY3QuZW50cmllcyhTUExJVF9NQVApOw0KICAgICAgY29uc3QgdG90YWwgPSBmaWxlcy5sZW5ndGg7DQogICAgICBsZXQgZG9uZSA9IDA7DQoNCiAgICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmctdGV4dCIpOw0KDQogICAgICBmb3IgKGNvbnN0IFtmaWxlLCBfXSBvZiBmaWxlcykgew0KICAgICAgICBjb25zdCBtZXJnZWQgPSBhd2FpdCBtZXJnZVBhcnRzKCJCdWlsZC8iICsgZmlsZSk7DQogICAgICAgIG1hcFtmaWxlXSA9IG1lcmdlZDsNCiAgICAgICAgZG9uZSsrOw0KICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5mbG9vcigoZG9uZSAvIHRvdGFsKSAqIDEwMCk7DQogICAgICAgIGxvYWRpbmdUZXh0LmlubmVyVGV4dCA9IGBMT0FESU5HLi4uICR7cGVyY2VudH0lYDsNCiAgICAgICAgY29uc29sZS5sb2coIlByZW1lcmdlZDoiLCBmaWxlLCAi4oaSIiwgbWVyZ2VkKTsNCiAgICAgIH0NCg0KICAgICAgbG9hZGluZ1RleHQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgICAgcmV0dXJuIG1hcDsNCiAgICB9DQoNCiAgICAoYXN5bmMgKCkgPT4gew0KICAgICAgY29uc3QgbWVyZ2VkTWFwID0gYXdhaXQgcHJlTWVyZ2VBbGwoKTsNCiAgICAgIHdpbmRvdy5TUExJVF9NQVAgPSBtZXJnZWRNYXA7DQogICAgICBjb25zdCBvcmlnRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7DQogICAgICB3aW5kb3cuZmV0Y2ggPSBhc3luYyBmdW5jdGlvbihyZXNvdXJjZSwgb3B0aW9ucykgew0KICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAic3RyaW5nIikgew0KICAgICAgICAgIGNvbnN0IGtleSA9IHJlc291cmNlLnNwbGl0KCIvIikucG9wKCk7DQogICAgICAgICAgaWYgKG1lcmdlZE1hcFtrZXldKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVkaXJlY3QgZmV0Y2g6Iiwga2V5KTsNCiAgICAgICAgICAgIHJldHVybiBvcmlnRmV0Y2gobWVyZ2VkTWFwW2tleV0sIG9wdGlvbnMpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAocmVzb3VyY2UuaW5jbHVkZXMoIlN0cmVhbWluZ0Fzc2V0cyIpKSB7DQogICAgICAgICAgICByZXR1cm4gb3JpZ0ZldGNoKChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJykuaHJlZiAhPT0gbnVsbCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKS5ocmVmKyIvIiA6ICIiKSArICJTdHJlYW1pbmdBc3NldHMvIityZXNvdXJjZS5zcGxpdCgiL1N0cmVhbWluZ0Fzc2V0cy8iKVsxXSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG9yaWdGZXRjaChyZXNvdXJjZSwgb3B0aW9ucyk7DQogICAgICB9Ow0KDQogICAgICBjb25zdCBPcmlnWEhSID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0Ow0KICAgICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGNvbnN0IHhociA9IG5ldyBPcmlnWEhSKCk7DQogICAgICAgIGNvbnN0IG9yaWdPcGVuID0geGhyLm9wZW47DQogICAgICAgIHhoci5vcGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIC4uLnJlc3QpIHsNCiAgICAgICAgICBjb25zdCBrZXkgPSB1cmwuc3BsaXQoIi8iKS5wb3AoKTsNCiAgICAgICAgICBpZiAobWVyZ2VkTWFwW2tleV0pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWRpcmVjdCBYSFI6Iiwga2V5KTsNCiAgICAgICAgICAgIG9yaWdPcGVuLmNhbGwoeGhyLCBtZXRob2QsIG1lcmdlZE1hcFtrZXldLCAuLi5yZXN0KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgb3JpZ09wZW4uY2FsbCh4aHIsIG1ldGhvZCwgdXJsLCAuLi5yZXN0KTsNCiAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHJldHVybiB4aHI7DQogICAgICB9Ow0KDQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7DQogICAgICBjb25zdCBsb2FkZXJVcmwgPSAiQnVpbGQvNTgxOWI0MzlhMGFkOTRlNTIwZmE2MzhmMTMyOGY5YmYubG9hZGVyLmpzIjsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHsNCiAgICAgICAgZGF0YVVybDogIkJ1aWxkLzYyZGYwMDA5M2YwOTQ5MzdlNzg3NGFhNGIyYjI3YTZhLmRhdGEiLA0KICAgICAgICBmcmFtZXdvcmtVcmw6ICJCdWlsZC9kYjU1OTA3MDEyM2FjNTMyYTFlNGU1M2E5M2RiNGYyNS5mcmFtZXdvcmsuanMiLA0KICAgICAgICBjb2RlVXJsOiAiQnVpbGQvZmJlMjc1MmJlOTk3YjY5MDc1ZjU3ZWRiZmI5ODVlYTYud2FzbSIsDQogICAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsDQogICAgICAgIGNvbXBhbnlOYW1lOiAiU3RpY2ttYW4gYW5kIEd1bnMiLA0KICAgICAgICBwcm9kdWN0TmFtZTogIlN0aWNrbWFuIGFuZCBHdW5zIiwNCiAgICAgICAgcHJvZHVjdFZlcnNpb246ICIxLjAuMCINCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOw0KICAgICAgc2NyaXB0LnNyYyA9IGxvYWRlclVybDsNCiAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7DQogICAgICAgIGNyZWF0ZVVuaXR5SW5zdGFuY2UoY2FudmFzLCBjb25maWcsIChwcm9ncmVzcykgPT4ge30pLnRoZW4oKHVuaXR5SW5zdGFuY2UpID0+IHsNCiAgICAgICAgICB3aW5kb3cuZ2FtZUluc3RhbmNlID0gdW5pdHlJbnN0YW5jZTsNCiAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IGFsZXJ0KG1lc3NhZ2UpKTsNCiAgICAgIH07DQogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7DQogICAgfSkoKTsNCiAgICA8L3NjcmlwdD4NCg0KICAgIDxzY3JpcHQ+DQogICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgew0KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuaXR5LWNhbnZhcyIpOw0KICAgICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7DQogICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0Ow0KICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyAicHgiOw0KICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICJweCI7DQogICAgfQ0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgcmVzaXplQ2FudmFzKTsNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgcmVzaXplQ2FudmFzKTsNCiAgICA8L3NjcmlwdD4NCiAgPC9ib2R5Pg0KPC9odG1sPg0K";
