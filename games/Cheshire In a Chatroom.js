window.game = "DQo8aHRtbD48aGVhZD4NCg0KDQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KDQoNCjx0aXRsZT5QSUNPLTggQ2FydHJpZGdlPC90aXRsZT4NCjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIHVzZXItc2NhbGFibGU9bm8iPg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KDQoJLy8gRGVmYXVsdCBzaGVsbCBmb3IgUElDTy04IDAuMi4yIChpbmNsdWRlcyBAd2VlYmxlJ3MgZ2FtZXBhZCBtb2QgMS4wKQ0KCS8vIFRoaXMgZmlsZSBpcyBhdmFpbGFibGUgdW5kZXIgYSBDQzAgbGljZW5zZSBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvc2hhcmUteW91ci13b3JrL3B1YmxpYy1kb21haW4vY2MwLw0KCS8vIChub3RlOiAidGhpcyBmaWxlIiBkb2VzIG5vdCBpbmNsdWRlIGFueSBjYXJ0cmlkZ2Ugb3IgY2FydHJpZGdlIGFydHdvcmsgaW5qZWN0ZWQgaW50byBhIGRlcml2YXRpdmUgaHRtbCBmaWxlIHdoZW4gdXNpbmcgdGhlIFBJQ08tOCBodG1sIGV4cG9ydGVyKQ0KDQoJLy8gb3B0aW9ucw0KDQoJLy8gZnVsbHNjcmVlbiwgc291bmQsIGNsb3NlIGJ1dHRvbiBhdCB0b3Agd2hlbiBwbGF5aW5nIG9uIHRvdWNoc2NyZWVuDQoJdmFyIHA4X2FsbG93X21vYmlsZV9tZW51ID0gdHJ1ZTsNCg0KCS8vIHA4X2F1dG9wbGF5IHRydWUgdG8gYm9vdCB0aGUgY2FydHJpZGdlIGF1dG9tYXRpY2FsbHkgYWZ0ZXIgcGFnZSBsb2FkIHdoZW4gcG9zc2libGUNCgkvLyBpZiB0aGUgYnJvd3NlciBjYW4gbm90IGNyZWF0ZSBhbiBhdWRpbyBjb250ZXh0IG91dHNpZGUgb2YgYSB1c2VyIGdlc3R1cmUgKGUuZy4gb24gaU9TKSwgcDhfYXV0b3BsYXkgaGFzIG5vIGVmZmVjdA0KCXZhciBwOF9hdXRvcGxheSA9IGZhbHNlOw0KDQoJLy8gV2hlbiBwaWNvOF9zdGF0ZSBpcyBkZWZpbmVkLCBQSUNPLTggd2lsbCBzZXQgLmlzX3BhdXNlZCwgLnNvdW5kX3ZvbHVtZSBhbmQgLmZyYW1lX251bWJlciBlYWNoIGZyYW1lIA0KCS8vICh1c2VkIGZvciBkZXRlcm1pbmluZyBidXR0b24gaWNvbnMpDQoJdmFyIHBpY284X3N0YXRlID0gW107DQoNCgkvLyBXaGVuIHBpY284X2J1dHRvbnMgaXMgZGVmaW5lZCwgUElDTy04IHJlYWRzIGVhY2ggaW50IGFzIGEgYml0ZmllbGQgaG9sZGluZyB0aGF0IHBsYXllcidzIGJ1dHRvbiBzdGF0ZXMNCgkvLyAweDEgbGVmdCwgMHgyIHJpZ2h0LCAweDQgdXAsIDB4OCByaWdodCwgMHgxMCBPLCAweDIwIFgsIDB4NDAgbWVudQ0KCS8vICh1c2VkIGJ5IHA4X3VwZGF0ZV9nYW1lcGFkcykNCgl2YXIgcGljbzhfYnV0dG9ucyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsgLy8gbWF4IDggcGxheWVycw0KDQoJLy8gV2hlbiBwaWNvOF9tb3VzZSBpcyBkZWZpbmVkLCBQSUNPLTggcmVhZHMgdGhlIDMgaW50ZWdlcnMgYXMgWCwgWSBhbmQgYSBiaXRmaWVsZCBmb3IgYnV0dG9uczogMHgxIExNQiwgMHgyIFJNQg0KCXZhciBwaWNvOF9tb3VzZSA9IFtdOw0KDQoJLy8gdXNlZCB0byBkaXNwbGF5IG51bWJlciBvZiBkZXRlY3RlZCBqb3lzdGlja3MNCgl2YXIgcGljbzhfZ2FtZXBhZHMgPSB7fTsNCglwaWNvOF9nYW1lcGFkcy5jb3VudCA9IDA7DQoNCgkvLyBXaGVuIHBpY284X2dwaW8gaXMgZGVmaW5lZCwgcmVhZGluZyBhbmQgd3JpdGluZyB0byBncGlvIHBpbnMgd2lsbCByZWFkIGFuZCB3cml0ZSB0byB0aGVzZSB2YWx1ZXMNCgl2YXIgcGljbzhfZ3BpbyA9IG5ldyBBcnJheSgxMjgpOw0KDQoJLy8gV2hlbiBwaWNvOF9hdWRpb19jb250ZXh0IGNvbnRleHQgaXMgZGVmaW5lZCwgdGhlIGh0bWwgc2hlbGwgKHRoaXMgZmlsZSkgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGFuZCBtYW5hZ2luZyBpdC4NCgkvLyBUaGlzIG1ha2VzIHNhdGlzZnlpbmcgYnJvd3NlciByZXF1aXJlbWVudHMgZWFzaWVyIC0tIGUuZy4gaW5pdGlhbGlzaW5nIGF1ZGlvIGZyb20gYSBzaG9ydCBzY3JpcHQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGFjdGlvbi4NCgkvLyBPdGhlcndpc2UgUElDTy04IHdpbGwgdHJ5IHRvIGNyZWF0ZSBhbmQgdXNlIGl0cyBvd24gY29udGV4dC4NCg0KCXZhciBwaWNvOF9hdWRpb19jb250ZXh0Ow0KDQoNCgkvLyBtZW51IGJ1dHRvbiBhbmQgY29udHJvbGxlciBncmFwaGljcw0KCXA4X2dmeF9kYXQ9ew0KCQkJInA4Yl9wYXVzZTEiOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCZ0FBQUFZQ0FZQUFBRGdkejM0QUFBQU9VbEVRVlJJeDJOZ0dQYmcvOGNYLzBGNDZGdEFNNHZvYmdIVkxSb3dDNmhtMFlCYlFMRkZveGFNNEZRMGRIUHkwQzFOaDI2Tk51Z0JBQW5pek5pTWZ2YkdBQUFBQUVsRlRrU3VRbUNDIiwNCiJwOGJfY29udHJvbHMiOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQVlDQVlBQUFEZ2R6MzRBQUFBUTBsRVFWUkl4Mk5nR0FYRWdQOGZYL3luQmFhcDRYQkxocWNGMUl5ZllXUUJyWkx6MExFQWx6cXF4UUZWTGNBbVQzTUxxSnFUYVc3QjRDcUxhRjRmaklJQkJ3QkwvQjJ2cXRQVkl3QUFBQUJKUlU1RXJrSmdnZz09IiwNCiJwOGJfZnVsbCI6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFOMGxFUVZSSXgyTmdHUExnLzhjWC8ybUo2V2NCclVKbTRDd2dPU2dHclFWRUI4V29CYU1XREdNTGhtNU9IbnFsNmRDdDBZWThBQUE5b1ptKzlaOXhRQUFBQUFCSlJVNUVya0pnZ2c9PSIsDQoicDhiX3BhdXNlMCI6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFLVWxFUVZSSXgyTmdHSGJnLzhjWC83RmhjdFdOV2pCcXdhZ0ZveGFNV2pCcXdhZ0Y1Rmt3NUFBQVBhR1p2c0lVdFhVQUFBQUFTVVZPUks1Q1lJST0iLA0KInA4Yl9zb3VuZDAiOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQVlDQVlBQUFEZ2R6MzRBQUFBTmtsRVFWUkl4Mk5nR0RIZy84Y1gvNUh4MExFQTNjQ2hZd0V1Z3dhdkJjUkc0cWdGb3hZTVp3dUdmazRlZnFYcDhLblJCajBBQU16N2NMRG5HNEZlQUFBQUFFbEZUa1N1UW1DQyIsDQoicDhiX3NvdW5kMSI6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFQVWxFUVZSSXgyTmdHREhnLzhjWC81SHgwTEVBM2NDaFl3RXVnd2haUUxRRHFHNEJzWkZJS01oR0xSaTFZQ2hiTVBSejh2QXJUWWRQalRib0FRQ1NWZ3BYVVdRQU1BQUFBQUJKUlU1RXJrSmdnZz09IiwNCiJwOGJfY2xvc2UiOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQVlDQVlBQUFEZ2R6MzRBQUFBVTBsRVFWUkl4Mk5rb0RGZ3BKc0YveisrK0k4aXdTOUJrdVc0OUErY0JjUmFSRWdmL1N3ZzFTSmkxZEhmQWtJRzRFeU9PSUp5NEN3ZzFpSkNpV0RVQXZJdEdMcXBhT2ptNUtGZm1nNzlHbTNJdGlvQWwrbUFHVllJWlVVQUFBQUFTVVZPUks1Q1lJST0iLA0KDQoiY29udHJvbHNfbGVmdF9wYW5lbCI6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBU3dBQUFFc0NBWUFBQUI1Zlk1MUFBQUVJMGxFUVZSNDJ1M2RNVTdEUUJDRzBUamFtOURUY1A4anBFbWZzd1M1aUhCaEFzTHhldi9odlFZNnBHWHlaUlRRK25RQ0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFIcWJIRUV0bCt2dDdoUytmTHkvbVhIQlFxeEVpLzZhSS9BaUZXOVNuQjJCV0RrREJBdEFzQURCQWhBc0FNRUNCQXRBc0FBRUN4QXNBTUVDRUN4QXNBQUVDMEN3T05KOHRZdnJYUkFzSW1LMTlqMElGc1BHU3JRUUxDSmlOVitldDd4QVQ3UVFMSWFOMWRyM29vVmdNV3lzUkF2QklpcFdvb1ZnRVJVcjBVS3dpSXFWYUNGWVJNVkt0QkFzb21JbFdnZ1dVYkVTTFFTTHFGaUpGb0pGVkt4RUM4RWlLbGFpaFdBUkZTdlJRckRZSlNTVmZoYUNCU0JZQUlJRkNCYkFIcG9qNEJsL3NjT0dCV0RENGxYOGl3RTJMQURCQWdRTFFMQUFCQXNRTEFEQkFoQXNRTEFBQkF0QXNBREJBaEFzQU1FQ0JBdEFzQUFFQ3hBc0FNRUNFQ3hBc0FBRUN4QXNBTUVDRUN4QXNNaDF1ZDd1VHNIWlZEY1p5Rm84WXQ1c1ZKNk55VUFhU05FeUl5bWFYd1plcElLZDRtd29RYkFGQzBDd0FNRUNFQ3dBd1FJRUMwQ3dBQVFMRUN3QXdRSVFMRUN3QUFRTFFMQUF3UUk0VUhNRTIvMTBRWnE3dXN5Qk9iQmhSUXdwbUJVYjFuQUR1UGJ1YVVEL3AyZXpNSCsxYWRtd2hvc1ZmQmN4YjJTQ0pWYUlsbUFoVm9pV1lJa1ZvaVZhZ2lWV2lKWmdpWlZZSVZxQ0pWYUlsbWdKbGxnaFdvSWxWaUJhZ2lWV2lKWm9DWlpZSVZxQ0pWWWdXb0lsVmlCYWdnVUlsbmMwc1BFTGxtZ2hWbUlsV0tLRldBbVdhSUZZQ1pab0lWWUlsbWdoVm9JbFdpQldnaVZhaUpWZ0lWcUlsV0NKRm9pVllJa1dZaVZZaUJaaUpWaWloVmlKMVhiTkVXeUwxbU1RUll2ZnZJR0psUTFybUUwTHpJb055eUJpRHJCaEFZSUZJRmlBWUFFSUZvQmdBWUlGSUZnQWdnVUlGb0JnQVFnV0lGZ0FnZ1VnV0lCZ0RjK05uMUQvdGRIOFl1cHdnWnk1cUc0eWtLSWxWbVpEc0Rqc2hTbGF6cVFxSDdwNzkzUTJDQmFBWUFHQ0JTQllBSUlGQ0JhQVlBRUlGaUJZQUlJRklGaUFZQUVJRm9CZ0FZSUZJRmdBZ2dVSUZvQmdBUWdXSUZnQWdnVWdXSUJnQVFnV3dFTnpCS3haUHViOUNKN1dqQTBMc0dGUlYrOU41K2pORGhzV2dHQUJnZ1VnV0FDQ3hXNTZmZ2p1QTNjRWl6OVovbld3UjBpV1A4UC9ZQ0ZZREJzdHNVS3dpSWlXV0NGWVJFUkxyQkFzSXFJbFZnZ1dFZEVTS3dTTGlHaUpGWUpGUkxURUNzRWlJbHBpaFdBUkVTMnhRckNJaUpaWUlWaEVSRXVzRUN3aW9pVldDQll4MFJJckJJdW9hSWtWcitZaEZIVFp0TUNHQlFnV2dHQUJDQllnV0FDQ0JTQllnR0FCQ0JhQVlBR0NCU0JZQUlJRkNCYmoydU9SOHM2QUViaGV4Z3NXWXJpM1NLaEtjemNYQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU1BMm4rZTBVTUR6aDN5VEFBQUFBRWxGVGtTdVFtQ0MiLA0KDQoNCiJjb250cm9sc19yaWdodF9wYW5lbCI6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBU3dBQUFGZUNBWUFBQUEvbHlLL0FBQUtIa2xFUVZSNDJ1M2RBWkthV0JBR1lFM3R2ZkJtTUNmRG5HeldKTGhMSEhCR0J0N3JodStyU2lXYmJBazhwMys3VWVGMEFnQUFBQUFBQUFBQUFPQVF6cGFBek41dkRsT3NOd0lMaEpYUVN1SWZQL1lvWk1HY3hROUxnTEJ5ZkFJTFFHQUJBZ3RBWUFFSUxFQmdBUWdzQUlFRkNDd0FnUVVnc0FDQkJTQ3dBQVFXSUxBQUJCWXN0L2NMM0xtQTMvOWNjUlJGVFJxdVpJaWd5bEtzcmp3S0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFNWjB0QVh6MC92N2VMaTZxOC9uTkNnb3MyQ0tZbXR0dmwrRS91dzAyY1gvTTZ5M0lmbHB4Z1FWTHU2ZnVTY0M4SERJUDRmZjA4WFZod05Nd3VmM3EzejlxdnpQK2ZUVWdoMStQK2lIa0FQNExpNm1RYWlydFR6TzNUNTR0RUZSaHU1bVpyazl3d1lHRHFvMCtkczEwWFlJTGpoUlVqZ09JMkozMGV6cVJ2Y2RqQW1IMWR6ZXl1NktlQ0M3ZEZpUXQ1c01VOG1Nd2UvWWhWOWN4MWpodVFLZWhzd1JXQ0t2bTRHdlJDQzNJMFZVWWhUNkdsdk5hSUt5RUZpQ3NoQllJSzZFbHRLQnVBUW9yYXdZS3o5b0JheFdjdCt1WHJhR1BmMENoWXV1ZGg3R09rS2t6VUdUcmhwWk9GVFljQlkweDFoUjBBN3BXUUZGNU1ZRERGSlN4cGRCb2FEVmdwOTNWazNzSnptbWpkakY3NnJMYytabXEzZFh2SDhLYktDRjErblBuNXN2RFAxMkhYMU9tL3Y5ZnVraDNkNDYyMXBDMXUyb0Q3Y3Y0K3ZEdHdzY0plWi9CU09zTktidXIydWRWdHJxbFZ0VDdERHFYQlFsZjdhZHVvMVVvRlBzanJ6dm9ycGFGVmRHYk9Vd0VaSFBFdFllTVlkWFU2alpxWHpjcVFtaU45c0hIU09DRnNhUXB2TjBtU0lkVDlXb0tvM1V3RmtMRWtTVGFaV3RxaDZleEVJSyt1a2U5eHRhNDB6cEtsd3ZHd2MrMzJRZitOSDJWZlRNV1FzQlJKTU1YcTJ0OWJjWllDRjhya3JaMFVVWWVmV3A5T2ZrZTV0bCtobjRvSTBvVlNPbk9aZmpqcisvMC9ZeTZMc08rWFd1c1VhMXRRb3JBS2p3T3BocDVLblZaem1OQjdZTE0rQldVR3Z2c1BCWThMNDVlSWM3dWMvRnZBTnhQK0dkYUorZXdLT202MDIxOTIraGMxc1VhQ1N3cWp6c1Z0blZOdUZUWDB1dFZZM3NDaXl4ZHhOc2V0NVYxbnpPdWtjQmlienJIc0Y4Q0M2RVZjQ3hFWUlIQUVsZ0FBZ3RBWUFFQ0MwQmdBUWdzaU9kaUNRUVd4OUlKTElFRndzb3hDQ3hZVzhZTDA3bVluc0RpWUFVNStrSnZ4dEhxOG5BTUFoSXFoVld4cTJtNmdOL1hBOHNGL09DVERxS0FMbUVIY1YrYjZ3NmZEMGpaWWJrSlJhRDl6ZGlKNnJBb3BTdTh2V3VXTG10OFM3SURQQytRb29ObzNVaDFjaCtyM2tqVmlYZDRIaUJ0aGFKMHEvcVp0ZkZUQ1o5MFBKVUNvUSs0SHRYMnpUMEo0ZXNkVDFOd204MW9OR3dEcnNWN2hXMDN4a0VJV2lqUlF1dGhmNW9LMjIram45dUR3NDZGRVVKaXFyT3F0Ui9HUVVqdzZ2NFFXalhPRy9VQndzbzRDQXNLcHErOC9XTEJNV3l6RDlMaDljWkJTRFNTVEFSSXYrRzIycHBkblhFUTFpdmlOc2grckhwQ2ZnakVUUjU3RCtzT3VxeDFnNnRmVXRURDQvVFJnbXBQM2RWWjZWQXJKRTUvdnNmV2xicisweGYzNlhMNmVCV0Q2Mm4rS2dwVC8vOHAwbkZGWFcrQlJib3U2L2NQNFUzUVFEMmR2djdsNEc0NGxqZHJEVHZ0c3FKLzEyOG42OXc3ZHdVcnZmSjdtMzNUOVcyOE13aTZMTjBWS0NxOEdFQ1NzY1ZvYUUxQk42QnJCVFlxTXFGbEhTSFZHS016K0Y2bmFoU0V3cUdsNEt3ZEtEeHJCcXhaZ0wwQ1hCUld6bHVCMEJKV2dOQVNWaUMwaEJWUXIwQzlYVDhkVmo3K0FRbENxei9vR3ZUQ0NuSjJGNGZwdG81NjNLRFQwRmtDdFF0NWIxM0h4TzNJaklDd3M2Sk9IMXg3UENaZ3Z0dEsyNDNzNVRpQWhRVWZ2VHVKZXVOVm9GNXdoUnVySmtZL1FRV0M2NE5xWGRkTU55V29nRSs3bVh0NHRSdHZ1NTBKS1NmVFgrUXVzQnl5NnhyKzJFMzg4L2p2cnVmeitlY3JvWGo2KzdiMXM0K2YrWGJ4QW12L2hmSDZFK01IdWxqbk5RcVpib05OZEV2Q0Q0SGxoeDR2TmdMTFdHR3NBRUoyVWs3Y0F1RzdLVytOQTltQ3lvY1BnZkJCNWVzZFFQeWdjaHhBeE83RUpVcUFWTjJJaThBQllZdlpaWGFCRkYySEd4a1lFVUdub2JNRTFnNHJOK01VV3BDaXF6QUtuZHp1SElTVjBBS0VsZEFDWVlYUWdtQUZLS3lzR1NnOGF3ZXNWWERlcmwrMmhqNytBWVdLclhjZXhqcENwczVBa2EwYldqcFYySEFVTk1aWVU5QU42Rm9CUmVYRkFBNVRVTWFXUXFPaDFZQkEzZFdlaW5MTlk5Rmx3WXJkVmRUSDI4dTY3R2x0eU90SDl1NXErR08zMW1PZWI3SjNXdmQ5dngvTGlycUhkUWNpdk9KbjdTYTIzbTlkRmpxc0lOMVY5azVydzg1S2x3VVpYdW16ZEJRbDkxT1hoUTdydFlLNWYzemh1dlcyTW5SYWhUcXJzZXZEOHdBQzY0bkxsdU5ncHRDcUVGYmpkYjhvSVFnNmtrUWJoV3J1ajdFUUhkWnI0MkJYZXR1Uk9xMUtuZFdITHN0WWlNRDYyamg0cmJIeENLRVZJS3pHNjI4c2hPaWppTEhVV0lnTzY2VnhwS1lhblZhUXppclU4NERBaXR4ZGhmcXdZc25RQ2hoV1laOFhCRllvdDVwOU8xSm9SUTJyU004RFJPeXd3cDR6MldyZm9wOG5jaDRMSGRaejE2QmQzK3FkVnVReE1QcnpnY0JTSUFWREswbFlDU3dFMWt3QnB6aXh1MFpvSlFxcmRNOFBBcXQwSUx3bDJNZkZvWlV0ckp4NFIyRHR3SkxReXRoWmdjQTZZR2dKS3hCWUtVSkxXSUhBU2hGYXdnb0VWb3JRRWxZZ3NGS0VsckFDZ1pVbXRJUVZDS3p3cGtaQ1FHQ0ZEYXZ6UUdpQndBb2ZWbzhqb2RBQ2dSVTZySVFXQ0t4VVlTVzBZT2VCbGVtcUFLOThkQ0ZyYUxsS0F3SnJ1cURma2hYeXk1K3p5dHhwdVdvREFtdmFaWTlobFRpMExzb0lab0lnZWlHdnRZOVpycFh1bXU3b3NPWjFlKzJza25kYW5WSkNZTTBIUXh0d24xYi9ibUQwMEhMQ0hZSDF2SURmZ2hidVpsOWt6dEJwT2VFT1Q4SWhVdkdXMnArSTU0cWN2MEtIOWJsdUtKWm16NTFWOUU1cnRQNmRNa0pnemJzT3YxK09FbFpCUSt2eThId0FFVWVSbzIvZk9JZ09LOGxZR09GS29iVTdMZU1ndkZnd3d3dDhmK1N1b3RiKy9GcjNZZE9ObjBZSVdLeFJSNkFhKzJVY3hFaTRmQ3hzU3hSbzdURXd5bmc0V20vaklFUjdwZmVkUHQwVk9xd1VYVmFtVzNHVjZMUjBWeEQwRlQ5cko3SGxmdXV1MEdHdDEyWDFheFptbHM2cVZLYzFXbC9kRmF6eHlyL0cyK3g3NlNMV1BJN1J4MGgwVjdCQ1FiVnJmUzVyVDBXNVltRGRQM2ZsY2pLZ3FJN3hZZ0JNakMwK2dXMU5RVGVnYXdVMktqS2haUjBoMVJpak0vaGVwMm9VaE1LaHBlQ3NIU2c4YXdhc1dZQzlBbHdVVnM1YmdkQVNWb0RRRWxZZ3RJUVZVSzlBdlYwL0hWWSsvZ0VKUXFzLzZCcjB3Z3B5ZGhlSDZiYU9ldHlnMDlCWkFyVUxlVzlkeDlCVkdRRmh4MFdkUHJqMmVFekFmTGVWdGh2WnkzRUFDd3MrZW5jeWRGU0NDZ1JYM0xGcVl2UVRWQ0M0UHFqV2RjMTBVNElLK0xTYnVZZFh1L0cyMjVtUWNqS2R3emhiZ3VVQk12eXhtL2puOGQ5ZHorZnp6MWRDOGZiYlplYXgvdnE3MitPK2VTWVFXTHpjZVkxQ3B0dGdFOTJTOEFPQnhaSXU3UFVuUnZjRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDd3dML2N2QkloMDkraEpBQUFBQUJKUlU1RXJrSmdnZz09IiwNCg0KCX07DQoNCg0KCS8vIGFkZGVkIDAuMi4xOiB3b3JrLWFyb3VuZCBmb3IgaU9TL1NhZmFyaSBydW5uaW5nIGZyb20gYW4gaUZyYW1lIChlLmcuIGZyb20gaXRjaC5pbyBwYWdlKToNCgkvLyB0b3VjaCBldmVudHMgb25seSByZWdpc3RlciBhZnRlciBhZGRpbmcgZHVtbXkgbGlzdGVuZXJzIG9uIGRvY3VtZW50Lg0KDQoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHt9KTsNCglkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB7fSk7DQoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB7fSk7DQoNCg0KCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJLy8gcGljby04IDAuMi4yOiBhbGxvdyBkcm9wcGluZyBmaWxlcw0KCXZhciBwOF9kcm9wcGVkX2NhcnQgPSBudWxsOw0KCXZhciBwOF9kcm9wcGVkX2NhcnRfbmFtZSA9ICIiOw0KCWZ1bmN0aW9uIHA4X2Ryb3BfZmlsZShlKQ0KCXsNCgkJLy8gY29uc29sZS5sb2coIkBAIGRyb3BwaW5nIGZpbGUuLi4iKTsNCgkNCgkJZS5zdG9wUHJvcGFnYXRpb24oKTsNCgkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KDQoJCWlmIChlLmRhdGFUcmFuc2ZlciAmJiBlLmRhdGFUcmFuc2Zlci5maWxlcyAmJiBlLmRhdGFUcmFuc2Zlci5maWxlc1swXSkNCgkJew0KCQkJLy8gcmVhZCBmcm9tIGZpbGUNCgkJCXJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQoJCQlyZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7DQoJCQkJcDhfZHJvcHBlZF9jYXJ0X25hbWUgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1swXS5uYW1lOw0KCQkJCXA4X2Ryb3BwZWRfY2FydCA9IHJlYWRlci5yZXN1bHQ7DQoJCQkJLy8gZGF0YTppbWFnZS9wbmc7YmFzZTY0DQoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7IA0KCQkJfTsNCgkJCXJlYWRlci5yZWFkQXNEYXRhVVJMKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdKTsNCgkJCWNvZG9fY29tbWFuZCA9IDk7IC8vIHJlYWQgZGlyZWN0bHkgZnJvbSBwOF9kcm9wcGVkX2NhcnQgd2l0aCBsaWJiNjQgZGVjb2Rlcg0KCQl9DQoJCWVsc2UNCgkJew0KCQkJLy8gcmVhZCBmcm9tIHVybCAob3IgZGF0YSB1cmwpDQoJCQl0eHQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdUZXh0Jyk7DQoJCQlpZiAodHh0KXsNCgkJCQlwOF9kcm9wcGVkX2NhcnRfbmFtZSA9ICJ1bnRpdGxlZC5wOC5wbmciOw0KCQkJCXA4X2Ryb3BwZWRfY2FydCA9IHR4dDsNCgkJCQljb2RvX2NvbW1hbmQgPSA5Ow0KCQkJfQ0KCQl9DQoJfQ0KCWZ1bmN0aW9uIG5vcChldnQpIHsNCgkJZXZ0LnN0b3BQcm9wYWdhdGlvbigpOw0KCQlldnQucHJldmVudERlZmF1bHQoKTsNCgl9DQoJZnVuY3Rpb24gZHJhZ292ZXIoZXZ0KSB7DQoJCWV2dC5zdG9wUHJvcGFnYXRpb24oKTsNCgkJZXZ0LnByZXZlbnREZWZhdWx0KCk7DQoJCU1vZHVsZS5waWNvOERyYWdPdmVyKCk7DQoJfQ0KCWZ1bmN0aW9uIGRyYWdzdG9wKGV2dCkgew0KCQlldnQuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCWV2dC5wcmV2ZW50RGVmYXVsdCgpOw0KCQlNb2R1bGUucGljbzhEcmFnU3RvcCgpOw0KCX0NCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCgl2YXIgcDhfYnV0dG9uc19oYXNoID0gLTE7DQoJZnVuY3Rpb24gcDhfdXBkYXRlX2J1dHRvbl9pY29ucygpDQoJew0KCQkvLyBidXR0b25zIG9ubHkgYXBwZWFyIHdoZW4gcnVubmluZw0KCQlpZiAoIXA4X2lzX3J1bm5pbmcpDQoJCXsNCgkJCXJlcXVlc3RBbmltYXRpb25GcmFtZShwOF91cGRhdGVfYnV0dG9uX2ljb25zKTsNCgkJCXJldHVybjsNCgkJfQ0KCQl2YXIgaXNfZnVsbHNjcmVlbj0oZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuIHx8IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQpOw0KCQkNCgkJLy8gaGFzaCBiYXNlZCBvbjogcGljbzhfc3RhdGUuc291bmRfdm9sdW1lICBwaWNvOF9zdGF0ZS5pc19wYXVzZWQgYm90dG9tX21hcmdpbiBsZWZ0IGlzX2Z1bGxzY3JlZW4gcDhfdG91Y2hfZGV0ZWN0ZWQNCgkJdmFyIGhhc2ggPSAwOw0KCQloYXNoID0gcGljbzhfc3RhdGUuc291bmRfdm9sdW1lOw0KCQlpZiAocGljbzhfc3RhdGUuaXNfcGF1c2VkKSBoYXNoICs9IDB4MTAwOw0KCQlpZiAocDhfdG91Y2hfZGV0ZWN0ZWQpICAgICBoYXNoICs9IDB4MjAwOw0KCQlpZiAoaXNfZnVsbHNjcmVlbikgICAgICAgICBoYXNoICs9IDB4NDAwOw0KDQoJCWlmIChwOF9idXR0b25zX2hhc2ggPT0gaGFzaCkNCgkJew0KCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHA4X3VwZGF0ZV9idXR0b25faWNvbnMpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCQ0KCQlwOF9idXR0b25zX2hhc2ggPSBoYXNoOw0KCQkvLyBjb25zb2xlLmxvZygiQEAgdXBkYXRpbmcgYnV0dG9uIGljb25zIik7DQoNCgkJZWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncDhfbWVudV9idXR0b24nKTsNCgkJZm9yIChpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykNCgkJew0KCQkJZWwgPSBlbHNbaV07DQoJCQlpbmRleCA9IGVsLmlkOwkJCQ0KCQkJaWYgKGluZGV4ID09ICdwOGJfc291bmQnKSBpbmRleCArPSAocGljbzhfc3RhdGUuc291bmRfdm9sdW1lID09IDAgPyAiMCIgOiAiMSIpOyAvLyAxIGlmIHVuZGVmaW5lZA0KCQkJaWYgKGluZGV4ID09ICdwOGJfcGF1c2UnKSBpbmRleCArPSAocGljbzhfc3RhdGUuaXNfcGF1c2VkID4gMCA/ICIxIiA6ICIwIik7ICAgICAvLyAwIGlmIHVuZGVmaW5lZA0KDQoJCQluZXdfc3RyID0gJzxpbWcgd2lkdGg9MjQgaGVpZ2h0PTI0IHN0eWxlPSJwb2ludGVyLWV2ZW50czpub25lIiBzcmM9IicrcDhfZ2Z4X2RhdFtpbmRleF0rJyI+JzsNCgkJCWlmIChlbC5pbm5lckhUTUwgIT0gbmV3X3N0cikNCgkJCQllbC5pbm5lckhUTUwgPSBuZXdfc3RyOw0KDQoNCg0KDQoJCQkvLyBoaWRlIGFsbCBidXR0b25zIGZvciB0b3VjaCBtb2RlIChjYW4gcGF1c2Ugd2l0aCBtZW51IGJ1dHRvbnMpDQoJCQkNCgkJCXZhciBpc192aXNpYmxlID0gcDhfaXNfcnVubmluZzsNCg0KCQkJaWYgKCghcDhfdG91Y2hfZGV0ZWN0ZWQgfHwgIXA4X2FsbG93X21vYmlsZV9tZW51KSAmJiBlbC5wYXJlbnRFbGVtZW50LmlkID09ICJwOF9tZW51X2J1dHRvbnNfdG91Y2giKQ0KCQkJCWlzX3Zpc2libGUgPSBmYWxzZTsNCg0KCQkJaWYgKHA4X3RvdWNoX2RldGVjdGVkICYmIGVsLnBhcmVudEVsZW1lbnQuaWQgPT0gInA4X21lbnVfYnV0dG9ucyIpDQoJCQkJaXNfdmlzaWJsZSA9IGZhbHNlOw0KDQoJCQlpZiAoaXNfZnVsbHNjcmVlbikgDQoJCQkJaXNfdmlzaWJsZSA9IGZhbHNlOw0KDQoJCQlpZiAoaXNfdmlzaWJsZSkNCgkJCQllbC5zdHlsZS5kaXNwbGF5PSIiOw0KCQkJZWxzZQ0KCQkJCWVsLnN0eWxlLmRpc3BsYXk9Im5vbmUiOw0KCQl9DQoJCXJlcXVlc3RBbmltYXRpb25GcmFtZShwOF91cGRhdGVfYnV0dG9uX2ljb25zKTsNCgl9DQoNCg0KDQoJZnVuY3Rpb24gYWJzKHgpDQoJew0KCQlyZXR1cm4geCA8IDAgPyAteCA6IHg7DQoJfQ0KCQ0KCS8vIHN0ZXAgMCBkb3duIDEgZHJhZyAyIHVwIChub3QgdXNlZCkNCglmdW5jdGlvbiBwaWNvOF9idXR0b25zX2V2ZW50KGUsIHN0ZXApDQoJew0KCQlpZiAoIXA4X2lzX3J1bm5pbmcpIHJldHVybjsNCgkNCgkJcGljbzhfYnV0dG9uc1swXSA9IDA7DQoNCgkJaWYgKHN0ZXAgPT0gMiAmJiB0eXBlb2YocGljbzhfbW91c2UpICE9PSAndW5kZWZpbmVkJykNCgkJew0KCQkJcGljbzhfbW91c2VbMl0gPSAwOw0KCQl9DQoJCQ0KCQl2YXIgbnVtID0gMDsNCgkJaWYgKGUudG91Y2hlcykgbnVtID0gZS50b3VjaGVzLmxlbmd0aDsNCg0KCQlpZiAobnVtID09IDAgJiYgdHlwZW9mKHBpY284X21vdXNlKSAhPT0gJ3VuZGVmaW5lZCcpDQoJCXsNCgkJCS8vICBubyBhY3RpdmUgdG91Y2hlczogcmVsZWFzZSBtb3VzZSBidXR0b24gZnJvbSBhbnl3aGVyZSBvbiBwYWdlLiAobWF5YmUgcmVkdW5kYW50PyBidXQganVzdCBpbiBjYXNlKQ0KCQkJcGljbzhfbW91c2VbMl0gPSAwOw0KCQl9DQoNCgkJDQoJCWZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspDQoJCXsNCgkJCXZhciB0b3VjaCA9IGUudG91Y2hlc1tpXTsNCgkJCXZhciB4ID0gdG91Y2guY2xpZW50WDsNCgkJCXZhciB5ID0gdG91Y2guY2xpZW50WTsNCgkJCXZhciB3ID0gd2luZG93LmlubmVyV2lkdGg7DQoJCQl2YXIgaCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCg0KCQkJdmFyIHIgPSBNYXRoLm1pbih3LGgpIC8gMTI7DQoJCQlpZiAociA+IDQwKSByID0gNDA7DQoNCgkJCS8vIG1vdXNlICgwLjEuMTJkKQ0KDQoJCQlsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIpOw0KCQkJaWYgKHA4X3RvdWNoX2RldGVjdGVkKQ0KCQkJaWYgKHR5cGVvZihwaWNvOF9tb3VzZSkgIT09ICd1bmRlZmluZWQnKQ0KCQkJaWYgKGNhbnZhcykNCgkJCXsNCgkJCQl2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCgkJCQkvL2NvbnNvbGUubG9nKHJlY3QudG9wLCByZWN0LnJpZ2h0LCByZWN0LmJvdHRvbSwgcmVjdC5sZWZ0LCB4LCB5KTsNCg0KCQkJCWlmICh4ID49IHJlY3QubGVmdCAmJiB4IDwgcmVjdC5yaWdodCAmJiB5ID49IHJlY3QudG9wICYmIHkgPCByZWN0LmJvdHRvbSkNCgkJCQl7DQoJCQkJCXBpY284X21vdXNlID0gWw0KCQkJCQkJTWF0aC5mbG9vcigoeCAtIHJlY3QubGVmdCkgKiAxMjggLyAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkpLA0KCQkJCQkJTWF0aC5mbG9vcigoeSAtIHJlY3QudG9wKSAqIDEyOCAvIChyZWN0LmJvdHRvbSAtIHJlY3QudG9wKSksDQoJCQkJCQlzdGVwIDwgMiA/IDEgOiAwDQoJCQkJCV07DQoJCQkJCS8vIHJldHVybjsgLy8gY29tbWVudGVkIC0tIGJsb2NrcyBvdmVybGFwcGluZyBidXR0b25zDQoJCQkJfWVsc2UNCgkJCQl7DQoJCQkJCXBpY284X21vdXNlWzJdID0gMDsNCgkJCQl9DQoJCQl9DQoNCg0KCQkJLy8gYnV0dG9ucw0KCQkJDQoJCQliID0gMDsNCg0KCQkJaWYgKHkgPCBoIC0gcio4KQ0KCQkJew0KCQkJCS8vIG5vIGNvbnRyb2xsZXIgYnV0dG9ucyB1cCBoZXJlOyBpbmNsdWRlcyBjYW52YXMgYW5kIG1lbnUgYnV0dG9ucyBhdCB0b3AgaW4gdG91Y2ggbW9kZQ0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCg0KCQkJCWlmICgoeSA8IGggLSByKjYpICYmIHkgPiAoaCAtIHIqOCkpDQoJCQkJew0KCQkJCQkvLyBtZW51IGJ1dHRvbjogaGFsZiBhcyBoaWdoIGFzIFggTyBidXR0b24NCgkJCQkJLy8gc3RyZXRjaCBhY3Jvc3MgcmlnaHQtaGFuZCBoYWxmIGFib3ZlIFggTyBidXR0b25zDQoJCQkJCWlmICh4ID4gdyAtIHIqMykgDQoJCQkJCQliIHw9IDB4NDA7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKHggPCB3LzIgJiYgeCA8IHIqNikNCgkJCQl7DQoJCQkJCS8vIHN0aWNrDQoNCgkJCQkJbWFzayA9IDB4ZjsgLy8gZHBhZA0KCQkJCQl2YXIgY3ggPSAwICsgciozOw0KCQkJCQl2YXIgY3kgPSBoIC0gciozOw0KDQoJCQkJCWRlYWR6b25lID0gci8zOw0KCQkJCQl2YXIgZHggPSB4IC0gY3g7DQoJCQkJCXZhciBkeSA9IHkgLSBjeTsNCg0KCQkJCQlpZiAoYWJzKGR4KSA+IGFicyhkeSkgKiAwLjYpIC8vIGhvcml6b250YWwgDQoJCQkJCXsNCgkJCQkJCWlmIChkeCA8IC1kZWFkem9uZSkgYiB8PSAweDE7DQoJCQkJCQlpZiAoZHggPiBkZWFkem9uZSkgYiB8PSAweDI7DQoJCQkJCX0NCgkJCQkJaWYgKGFicyhkeSkgPiBhYnMoZHgpICogMC42KSAvLyB2ZXJ0aWNhbA0KCQkJCQl7DQoJCQkJCQlpZiAoZHkgPCAtZGVhZHpvbmUpIGIgfD0gMHg0Ow0KCQkJCQkJaWYgKGR5ID4gZGVhZHpvbmUpIGIgfD0gMHg4Ow0KCQkJCQl9DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKHggPiB3IC0gcio2KQ0KCQkJCXsNCgkJCQkJLy8gYnV0dG9uOyBkaWFnb25hbCBzcGxpdCBmcm9tIGJvdHRvbSByaWdodCBjb3JuZXINCgkJCQkNCgkJCQkJbWFzayA9IDB4MzA7DQoJCQkJCQ0KCQkJCQkvLyBvbmUgb3IgYm90aCBvZiBbWF0sIFtPXQ0KCQkJCQlpZiAoIChoLXkpID4gKHcteCkgKiAwLjgpIGIgfD0gMHgxMDsNCgkJCQkJaWYgKCAody14KSA+IChoLXkpICogMC44KSBiIHw9IDB4MjA7DQoJCQkJfQ0KCQkJfQ0KDQoJCQlwaWNvOF9idXR0b25zWzBdIHw9IGI7DQoJCQ0KCQl9DQoJfQ0KDQoJLy8gcDhfdXBkYXRlX2xheW91dF9oYXNoIGlzIHVzZWQgdG8gZGVjaWRlIHdoZW4gdG8gdXBkYXRlIGxheW91dCAoZXhwZW5zaXZlIGVzcGVjaWFsbHkgd2hlbiBwYXJ0IG9mIGEgaGVhdnkgcGFnZSkNCgl2YXIgcDhfdXBkYXRlX2xheW91dF9oYXNoID0gLTE7DQoJdmFyIGxhc3Rfd2luZG93ZWRfY29udGFpbmVyX2hlaWdodCA9IDUxMjsNCgl2YXIgcDhfbGF5b3V0X2ZyYW1lcyA9IDA7DQoNCglmdW5jdGlvbiBwOF91cGRhdGVfbGF5b3V0KCkNCgl7DQoJCXZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIik7DQoJCXZhciBwOF9wbGF5YXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwOF9wbGF5YXJlYSIpOw0KCQl2YXIgcDhfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInA4X2NvbnRhaW5lciIpOw0KCQl2YXIgcDhfZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicDhfZnJhbWUiKTsNCgkJdmFyIGNzaXplID0gNTEyOw0KCQl2YXIgbWFyZ2luX3RvcCA9IDA7DQoJCXZhciBtYXJnaW5fbGVmdCA9IDA7DQoNCgkJLy8gcGFnZSBkaWRuJ3QgbG9hZCB5ZXQ/IGZpcnN0IGNhbGwgc2hvdWxkIGJlIGFmdGVyIHA4X2ZyYW1lIGlzIGNyZWF0ZWQgc28gdGhhdCBsYXlvdXQgZG9lc24ndCBqdW1wIGFyb3VuZC4NCgkJaWYgKCFjYW52YXMgfHwgIXA4X3BsYXlhcmVhIHx8ICFwOF9jb250YWluZXIgfHwgIXA4X2ZyYW1lKQ0KCQl7DQoJCQlwOF91cGRhdGVfbGF5b3V0X2hhc2ggPSAtMTsNCgkJCXJlcXVlc3RBbmltYXRpb25GcmFtZShwOF91cGRhdGVfbGF5b3V0KTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXA4X2xheW91dF9mcmFtZXMgKys7DQoNCgkJLy8gYXNzdW1lcyBmcmFtZSBkb2Vzbid0IGhhdmUgcGFkZGluZw0KCQkNCgkJdmFyIGlzX2Z1bGxzY3JlZW49KGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbiB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KTsNCgkJdmFyIGZyYW1lX3dpZHRoID0gcDhfZnJhbWUub2Zmc2V0V2lkdGg7DQoJCXZhciBmcmFtZV9oZWlnaHQgPSBwOF9mcmFtZS5vZmZzZXRIZWlnaHQ7DQoNCgkJaWYgKGlzX2Z1bGxzY3JlZW4pDQoJCXsNCgkJCS8vIHNhbWUgYXMgd2luZG93DQoJCQlmcmFtZV93aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KCQkJZnJhbWVfaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0Ow0KCQl9DQoJCWVsc2V7DQoJCQkvLyBuZXZlciBsYXJnZXIgdGhhbiB3aW5kb3cgIC8vIChoYXBwZW5zIHdoZW4gYWRkcmVzcyBiYXIgaXMgZG93biBpbiBwb3J0cmFpZ2h0IG1vZGUgb24gcGhvbmUpDQoJCQlmcmFtZV93aWR0aCAgPSBNYXRoLm1pbihmcmFtZV93aWR0aCwgd2luZG93LmlubmVyV2lkdGgpOw0KCQkJZnJhbWVfaGVpZ2h0ID0gTWF0aC5taW4oZnJhbWVfaGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQpOw0KCQl9DQoNCgkJLy8gYXMgYmlnIGFzIHdpbGwgZml0IGluIGEgZnJhbWUuLg0KCQljc2l6ZSA9ICBNYXRoLm1pbihmcmFtZV93aWR0aCxmcmFtZV9oZWlnaHQpOw0KDQoJCS8vIC4uIGJ1dCBuZXZlciBtb3JlIHRoYW4gMi8zIG9mIGxvbmdlc3Qgc2lkZSBmb3IgdG91Y2ggKGUuZy4gbGVhdmUgc3BhY2UgZm9yIGNvbnRyb2xzIG9uIGlQYWQpDQoJCWlmIChwOF90b3VjaF9kZXRlY3RlZCAmJiBwOF9pc19ydW5uaW5nKQ0KCQl7DQoJCQl2YXIgbG9uZ2VzdF9zaWRlID0gTWF0aC5tYXgod2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0KTsNCgkJCWNzaXplID0gTWF0aC5taW4oY3NpemUsIGxvbmdlc3Rfc2lkZSAqIDIvMyk7DQoJCX0NCg0KCQkvLyBwaXhlbCBwZXJmZWN0OiBxdWFudGl6ZSB0byBjbG9zZXN0IG11bHRpcGxlIG9mIDEyOA0KCQkvLyBvbmx5IHdoZW4gbGFyZ2UgZGlzcGxheSAoZGVza3RvcCkNCgkJaWYgKGZyYW1lX3dpZHRoID49IDUxMiAmJiBmcmFtZV9oZWlnaHQgPj0gNTEyKQ0KCQl7DQoJCQljc2l6ZSA9IChjc2l6ZSsxKSAmIH4weDdmOw0KCQl9DQoNCgkJLy8gY3NpemUgc2hvdWxkIG5ldmVyIGJlIGhpZ2hlciB0aGFuIHBhcmVudCBmcmFtZQ0KCQkvLyAob3RoZXJ3aXNlIHN0cmV0Y2hlZCBsYXJnZSB3aGVuIGZ1bGxzY3JlZW4gYW5kIHRoZW4gcmV0dXJuKQ0KCQlpZiAoIWlzX2Z1bGxzY3JlZW4gJiYgcDhfZnJhbWUpIA0KCQkJY3NpemUgPSBNYXRoLm1pbihjc2l6ZSwgbGFzdF93aW5kb3dlZF9jb250YWluZXJfaGVpZ2h0KTsgLy8gcDhfZnJhbWVfMCBwYXJlbnQNCgkJDQoNCgkJaWYgKGlzX2Z1bGxzY3JlZW4pDQoJCXsNCgkJCS8vIGFsd2F5cyBjZW50ZXIgaG9yaXpvbnRhbGx5DQoJCQltYXJnaW5fbGVmdCA9IChmcmFtZV93aWR0aCAtIGNzaXplKS8yOw0KDQoJCQlpZiAocDhfdG91Y2hfZGV0ZWN0ZWQpDQoJCQl7DQoJCQkJaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgd2luZG93LmlubmVySGVpZ2h0KQ0KCQkJCXsNCgkJCQkJLy8gcG9ydHJhaXQ6IGtlZXAgYXQgeT00MCAoYXZvaWQgcm91bmRlZCB0b3AgY29ybmVycyAvIGNhbWVyYSBudWIgdGhpbmcgZXRjLikNCgkJCQkJbWFyZ2luX3RvcCA9IE1hdGgubWluKDQwLCBmcmFtZV9oZWlnaHQgLSBjc2l6ZSk7DQoJCQkJfQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCS8vIGxhbmRzY2FwZTogcHV0IGEgbGl0dGxlIGFib3ZlIHZlcnRpY2FsIGNlbnRlcg0KCQkJCQltYXJnaW5fdG9wID0gKGZyYW1lX2hlaWdodCAtIGNzaXplKS80Ow0KCQkJCX0NCgkJCX0NCgkJCWVsc2V7DQoJCQkJLy8gbm9uLXRvdWNoOiBjZW50ZXIgdmVydGljYWxseQ0KCQkJCW1hcmdpbl90b3AgPSAoZnJhbWVfaGVpZ2h0IC0gY3NpemUpLzI7DQoJCQl9DQoJCX0NCg0KCQkvLyBza2lwIGlmIHJlbGV2YW50IHN0YXRlIGhhcyBub3QgY2hhbmdlZA0KDQoJCXZhciB1cGRhdGVfaGFzaCA9IGNzaXplICsgbWFyZ2luX3RvcCAqIDEwMDAuMyArIG1hcmdpbl9sZWZ0ICogMC4wMDEgKyBmcmFtZV93aWR0aCAqIDMzMy4zMyArIGZyYW1lX2hlaWdodCAqIDc3Mi4xNTEzNDsNCgkJaWYgKGlzX2Z1bGxzY3JlZW4pIHVwZGF0ZV9oYXNoICs9IDAuMTIzNzsNCg0KCQkvLyB1bmV4cGVjdGVkIHRoaW5ncyBjYW4gaGFwcGVuIGluIHRoZSBmaXJzdCBmZXcgc2Vjb25kcywgc28ganVzdCBrZWVwIHJlLWNhbGN1bGF0aW5nIGxheW91dC4gd2FzbSB2ZXJzaW9uIGJyZWFrcyBsYXlvdXQgb3RoZXJ3aXNlLg0KCQkvLyBhbHNvOiBib251cyByZWZyZXNoIGF0IDUsIDggc2Vjb25kcyBqdXN0IGluIGNhc2UgLl8uDQoJCWlmIChwOF9sYXlvdXRfZnJhbWVzIDwgMTgwIHx8IHA4X2xheW91dF9mcmFtZXMgPT0gNjAqNSB8fCBwOF9sYXlvdXRfZnJhbWVzID09IDYwKjggKQ0KCQkJdXBkYXRlX2hhc2ggPSBwOF9sYXlvdXRfZnJhbWVzOw0KDQoJCWlmICghaXNfZnVsbHNjcmVlbikgLy8gZnVsbHNjcmVlbjogdXBkYXRlIGV2ZXJ5IGZyYW1lIGZvciBzYWZldHkuIHNob3VsZCBiZSBjaGVhcCENCgkJaWYgKCFwOF90b3VjaF9kZXRlY3RlZCkgLy8gbW9iaWxlOiB1cGRhdGUgZXZlcnkgZnJhbWUgYmVjYXVzZSBub3RoaW5nIGNhbiBiZSB0cnVzdGVkDQoJCWlmIChwOF91cGRhdGVfbGF5b3V0X2hhc2ggPT0gdXBkYXRlX2hhc2gpDQoJCXsNCgkJCS8vY29uc29sZS5sb2coInA4X3VwZGF0ZV9sYXlvdXQoKTogc2tpcHBpbmciKTsNCgkJCXJlcXVlc3RBbmltYXRpb25GcmFtZShwOF91cGRhdGVfbGF5b3V0KTsNCgkJCXJldHVybjsNCgkJfQ0KCQlwOF91cGRhdGVfbGF5b3V0X2hhc2ggPSB1cGRhdGVfaGFzaDsNCg0KCQkvLyByZWNvcmQgdGhpcyBmb3IgcmV0dXJuaW5nIHRvIG9yaWdpbmFsIHNpemUgYWZ0ZXIgZnVsbHNjcmVlbiBwdXNoZXMgb3V0IGNvbnRhaW5lciBoZWlnaHQgKGFyZ2gpDQoJCWlmICghaXNfZnVsbHNjcmVlbiAmJiBwOF9mcmFtZSkNCgkJCWxhc3Rfd2luZG93ZWRfY29udGFpbmVyX2hlaWdodCA9IHA4X2ZyYW1lLnBhcmVudE5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7DQoJCQ0KDQoJCS8vIG1vYmlsZSBpbiBwb3J0cmFpdCBtb2RlOiBwdXQgc2NyZWVuIGF0IHRvcCAodyAvIGEgbGl0dGxlIGV4dHJhIHNwYWNlIGZvciBmdWxsc2NyZWVuIGJ1dHRvbiBpZiBuZWVkZWQpDQoJCS8vIChkb24ndCBjYXJ0IHRvbyBhYm91dCBidXR0b25zIG92ZXJsYXBwaW5nIHNjcmVlbikNCgkJaWYgKHA4X3RvdWNoX2RldGVjdGVkICYmIHA4X2lzX3J1bm5pbmcgJiYgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KQ0KCQkJcDhfcGxheWFyZWEuc3R5bGUubWFyZ2luVG9wID0gcDhfYWxsb3dfbW9iaWxlX21lbnUgPyAzMiA6IDg7DQoJCWVsc2UgaWYgKHA4X3RvdWNoX2RldGVjdGVkICYmIHA4X2lzX3J1bm5pbmcpIC8vIGxhbmRzY2FwZTogc2xpZ2h0bHkgYWJvdmUgdmVydGljYWwgY2VudGVyIChvbmx5IHJlbGV2YW50IGZvciBpUGFkIC8gaGlnaHJlcyBkZXZpY2VzKQ0KCQkJcDhfcGxheWFyZWEuc3R5bGUubWFyZ2luVG9wID0gKGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gY3NpemUpIC8gNDsNCgkJZWxzZQ0KCQkJcDhfcGxheWFyZWEuc3R5bGUubWFyZ2luVG9wID0gIiI7DQoNCgkJY2FudmFzLnN0eWxlLndpZHRoID0gY3NpemU7DQoJCWNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjc2l6ZTsNCg0KCQkvLyB0byBkbzogdGhpcyBzaG91bGQganVzdCBoYXBwZW4gZnJvbSBjc3MgbGF5b3V0DQoJCWNhbnZhcy5zdHlsZS5tYXJnaW5MZWZ0ID0gbWFyZ2luX2xlZnQ7DQoJCWNhbnZhcy5zdHlsZS5tYXJnaW5Ub3AgPSBtYXJnaW5fdG9wOw0KDQoJCXA4X2NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGNzaXplOw0KCQlwOF9jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gY3NpemU7DQoNCgkJLy8gc2V0IG1lbnUgYnV0dG9ucyBwb3NpdGlvbiB0byBib3R0b20gcmlnaHQNCgkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicDhfbWVudV9idXR0b25zIik7DQoJCWVsLnN0eWxlLm1hcmdpblRvcCA9IGNzaXplIC0gZWwub2Zmc2V0SGVpZ2h0Ow0KDQoJCWlmIChwOF90b3VjaF9kZXRlY3RlZCAmJiBwOF9pc19ydW5uaW5nKQ0KCQl7DQoJCQkvLyB0dXJuIG9mZiBwb2ludGVyIGV2ZW50cyB0byBwcmV2ZW50IGRvdWJsZS10YXAgem9vbSBldGMgKHdvcmtzIG9uIEFuZHJvaWQpDQoJCQkvLyBkb24ndCB3YW50IHRoaXMgZm9yIGRlc2t0b3AgYmVjYXVzZSBicmVha3MgbW91c2UgaW5wdXQgJiBjbGljay10by1mb2N1cyB3aGVuIHVzaW5nIGNvZG9fdGV4dGFyZWENCgkJCWNhbnZhcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gIm5vbmUiOw0KDQoJCQlwOF9jb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gIjBweCI7DQoNCgkJCS8vIGJ1dHRvbnMNCgkJCQ0KCQkJLy8gc2FtZSBhcyB0b3VjaCBldmVudCBoYW5kbGluZw0KCQkJdmFyIHcgPSB3aW5kb3cuaW5uZXJXaWR0aDsNCgkJCXZhciBoID0gd2luZG93LmlubmVySGVpZ2h0Ow0KCQkJdmFyIHIgPSBNYXRoLm1pbih3LGgpIC8gMTI7DQoNCgkJCWlmIChyID4gNDApIHIgPSA0MDsNCg0KCQkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udHJvbHNfcmlnaHRfcGFuZWwiKTsNCgkJCWVsLnN0eWxlLmxlZnQgPSB3LXIqNjsNCgkJCWVsLnN0eWxlLnRvcCA9IGgtcio3Ow0KCQkJZWwuc3R5bGUud2lkdGggPSByKjY7DQoJCQllbC5zdHlsZS5oZWlnaHQgPSByKjc7DQoJCQlpZiAoZWwuZ2V0QXR0cmlidXRlKCJzcmMiKSAhPSBwOF9nZnhfZGF0WyJjb250cm9sc19yaWdodF9wYW5lbCJdKSAvLyBvcHRpbWlzYXRpb246IGF2b2lkIHJlbG9hZD8gKGJyb3dzZXIgc2hvdWxkIGhhbmRsZSB0aG91Z2gpDQoJCQkJZWwuc2V0QXR0cmlidXRlKCJzcmMiLCBwOF9nZnhfZGF0WyJjb250cm9sc19yaWdodF9wYW5lbCJdKTsNCg0KCQkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udHJvbHNfbGVmdF9wYW5lbCIpOw0KCQkJZWwuc3R5bGUubGVmdCA9IDA7DQoJCQllbC5zdHlsZS50b3AgPSBoLXIqNjsNCgkJCWVsLnN0eWxlLndpZHRoID0gcio2Ow0KCQkJZWwuc3R5bGUuaGVpZ2h0ID0gcio2Ow0KCQkJaWYgKGVsLmdldEF0dHJpYnV0ZSgic3JjIikgIT0gcDhfZ2Z4X2RhdFsiY29udHJvbHNfbGVmdF9wYW5lbCJdKSAvLyBvcHRpbWlzYXRpb246IGF2b2lkIHJlbG9hZD8gKGJyb3dzZXIgc2hvdWxkIGhhbmRsZSB0aG91Z2gpDQoJCQkJZWwuc2V0QXR0cmlidXRlKCJzcmMiLCBwOF9nZnhfZGF0WyJjb250cm9sc19sZWZ0X3BhbmVsIl0pOw0KCQkJDQoJCQkvLyBzY3JvbGwgdG8gY2FydCAoY29tbWVudGVkOyB3YXMgYSBmYWlsZWQgYXR0ZW1wdCB0byBwcmV2ZW50IHNjcm9sbC1vbi1kcmFnIG9uIHNvbWUgYnJvd3NlcnMpDQoJCQkvLyBwOF9mcmFtZS5zY3JvbGxJbnRvVmlldyh0cnVlKTsNCg0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdWNoX2NvbnRyb2xzX2dmeCIpLnN0eWxlLmRpc3BsYXk9InRhYmxlIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VjaF9jb250cm9sc19iYWNrZ3JvdW5kIikuc3R5bGUuZGlzcGxheT0idGFibGUiOw0KDQoJCX0NCgkJZWxzZXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VjaF9jb250cm9sc19nZngiKS5zdHlsZS5kaXNwbGF5PSJub25lIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VjaF9jb250cm9sc19iYWNrZ3JvdW5kIikuc3R5bGUuZGlzcGxheT0ibm9uZSI7DQoJCX0NCg0KCQlpZiAoIXA4X2lzX3J1bm5pbmcpDQoJCXsNCgkJCXA4X3BsYXlhcmVhLnN0eWxlLmRpc3BsYXk9Im5vbmUiOw0KCQkJcDhfY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9ImZsZXgiOw0KCQkJcDhfY29udGFpbmVyLnN0eWxlLm1hcmdpblRvcD0iYXV0byI7DQoNCgkJCWVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInA4X3N0YXJ0X2J1dHRvbiIpOw0KCQkJaWYgKGVsKSBlbC5zdHlsZS5kaXNwbGF5PSJmbGV4IjsNCgkJfQ0KCQlyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocDhfdXBkYXRlX2xheW91dCk7DQoJfQ0KDQoNCgl2YXIgcDhfdG91Y2hfZGV0ZWN0ZWQgPSBmYWxzZTsNCglhZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgZnVuY3Rpb24oZXZlbnQpDQoJew0KCQlwOF90b3VjaF9kZXRlY3RlZCA9IHRydWU7DQoNCgkJLy8gaGlkZSBjb2RvX3RleHRhcmVhIC0tIGNsaXBib2FyZCBzdXBwb3J0IG9uIG1vYmlsZSBpcyBub3QgZmVhc2libGUNCgkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kb190ZXh0YXJlYSIpOw0KCQlpZiAoZWwgJiYgZWwuc3R5bGUuZGlzcGxheSAhPSAibm9uZSIpew0KCQkJZWwuc3R5bGUuZGlzcGxheT0ibm9uZSI7DQoJCX0NCg0KCX0sICB7cGFzc2l2ZTogdHJ1ZX0pOw0KDQoJZnVuY3Rpb24gcDhfY3JlYXRlX2F1ZGlvX2NvbnRleHQoKQ0KCXsNCgkJaWYgKHBpY284X2F1ZGlvX2NvbnRleHQpIA0KCQl7DQoJCQl0cnkgew0KCQkJCXBpY284X2F1ZGlvX2NvbnRleHQucmVzdW1lKCk7DQoJCQl9DQoJCQljYXRjaChlcnIpIHsNCgkJCQljb25zb2xlLmxvZygiKiogcGljbzhfYXVkaW9fY29udGV4dC5yZXN1bWUoKSBmYWlsZWQiKTsNCgkJCX0JDQoJCQlyZXR1cm47DQoJCX0NCg0KCQl2YXIgd2ViQXVkaW9BUEkgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQgfHwgd2luZG93Lm1vekF1ZGlvQ29udGV4dCB8fCB3aW5kb3cub0F1ZGlvQ29udGV4dCB8fCB3aW5kb3cubXNBdWRpb0NvbnRleHQ7CQkJDQoJCWlmICh3ZWJBdWRpb0FQSSkNCgkJew0KCQkJcGljbzhfYXVkaW9fY29udGV4dCA9IG5ldyB3ZWJBdWRpb0FQSTsNCg0KCQkJLy8gd2FrZSB1cCBpT1MNCgkJCWlmIChwaWNvOF9hdWRpb19jb250ZXh0KQ0KCQkJew0KCQkJCXRyeSB7DQoJCQkJCXZhciBkdW1teV9zb3VyY2Vfc2Z4ID0gcGljbzhfYXVkaW9fY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsNCgkJCQkJZHVtbXlfc291cmNlX3NmeC5idWZmZXIgPSBwaWNvOF9hdWRpb19jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCAyMjA1MCk7IC8vIGR1bW15DQoJCQkJCWR1bW15X3NvdXJjZV9zZnguY29ubmVjdChwaWNvOF9hdWRpb19jb250ZXh0LmRlc3RpbmF0aW9uKTsNCgkJCQkJZHVtbXlfc291cmNlX3NmeC5zdGFydCgxLCAwLjI1KTsgLy8gZ2l2ZXMgSW52YWxpZFN0YXRlRXJyb3IgLS0gd2h5PyBoYXNuJ3QgYmVlbiBwbGF5ZWQgYmVmb3JlIA0KCQkJCQkvL2R1bW15X3NvdXJjZV9zZngubm90ZU9uKDApOyAvLyBkZWxldGVtZQ0KCQkJCX0NCgkJCQljYXRjaChlcnIpIHsNCgkJCQkJY29uc29sZS5sb2coIioqIGR1bW15X3NvdXJjZV9zZnguc3RhcnQoMSwgMC4yNSkgZmFpbGVkIik7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJZnVuY3Rpb24gcDhfY2xvc2VfY2FydCgpDQoJew0KCQkvLyBqdXN0IHJlbG9hZCBwYWdlISB1c2VkIGZvciB0b3VjaCBidXR0b25zIC0tIGhhcmQgdG8gcm9sbCBiYWNrIHN0YXRlIA0KCQl3aW5kb3cubG9jYXRpb24uaGFzaCA9ICIiOyAvLyB0cmlnZ2VycyByZWxvYWQNCgl9DQoNCgl2YXIgcDhfaXNfcnVubmluZyA9IGZhbHNlOw0KCXZhciBwOF9zY3JpcHQgPSBudWxsOw0KCXZhciBNb2R1bGUgPSBudWxsOw0KCWZ1bmN0aW9uIHA4X3J1bl9jYXJ0KCkNCgl7DQoJCWlmIChwOF9pc19ydW5uaW5nKSByZXR1cm47DQoJCXA4X2lzX3J1bm5pbmcgPSB0cnVlOw0KDQoJCS8vIHRvdWNoOiBoaWRlIGV2ZXJ5dGhpbmcgZXhjZXB0IHA4X2ZyYW1lXzANCgkJaWYgKHA4X3RvdWNoX2RldGVjdGVkKQ0KCQl7DQoJCQllbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5XzAiKTsNCgkJCWVsMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwOF9mcmFtZV8wIik7DQoJCQlpZiAoZWwgJiYgZWwyKQ0KCQkJew0KCQkJCWVsLnN0eWxlLmRpc3BsYXk9Im5vbmUiOw0KCQkJCWVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWwyKTsNCgkJCX0NCgkJfQ0KDQoJCS8vIGNyZWF0ZSBhdWRpbyBjb250ZXh0IGFuZCB3YWtlIGl0IHVwIChmb3IgaU9TIC0tIG5lZWRzIGhhcHBlbiBpbnNpZGUgdG91Y2ggZXZlbnQpCQkNCgkJcDhfY3JlYXRlX2F1ZGlvX2NvbnRleHQoKTsNCg0KCQkvLyBzaG93IHRvdWNoIGVsZW1lbnRzDQoJCWVscyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3A4X2NvbnRyb2xsZXJfYXJlYScpOw0KCQlmb3IgKGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKQ0KCQkJZWxzW2ldLnN0eWxlLmRpc3BsYXk9IiI7DQoNCg0KCQkvLyBpbnN0YWxsIHRvdWNoIGV2ZW50cy4gVGhlc2UgYWxzbyBzZXJ2ZSB0byBibG9jayBzY3JvbGxpbmcgLyBwaW5jaGluZyAvIHpvb21pbmcgb24gcGhvbmVzIHdoZW4gcDhfaXNfcnVubmluZw0KCQkJLy8gbW92ZWQgZXZlbnQucHJldmVudERlZmF1bHQoKTsgY2FsbHMgaW50byBwaWNvOF9idXR0b25zX2V2ZW50KCkgKHdhbnQgdG8gbGV0IHRvcCBidXR0b25zIHBhc3MgdGhyb3VnaCkNCgkJYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGZ1bmN0aW9uKGV2ZW50KXsgcGljbzhfYnV0dG9uc19ldmVudChldmVudCwgMCk7IH0sIHtwYXNzaXZlOiBmYWxzZX0pOw0KCQlhZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCAgZnVuY3Rpb24oZXZlbnQpeyBwaWNvOF9idXR0b25zX2V2ZW50KGV2ZW50LCAxKTsgfSwge3Bhc3NpdmU6IGZhbHNlfSk7DQoJCWFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgICBmdW5jdGlvbihldmVudCl7IHBpY284X2J1dHRvbnNfZXZlbnQoZXZlbnQsIDIpOyB9LCB7cGFzc2l2ZTogZmFsc2V9KTsNCg0KDQoJCS8vIGxvYWQgYW5kIHJ1biBzY3JpcHQNCgkJZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOw0KCQlwOF9zY3JpcHQgPSBlOw0KCQllLm9ubG9hZCA9IGZ1bmN0aW9uKCl7DQoJCQkNCgkJCS8vIHNob3cgY2FudmFzIC8gbWVudSBidXR0b25zIG9ubHkgYWZ0ZXIgbG9hZGluZw0KCQkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicDhfcGxheWFyZWEiKTsNCgkJCWlmIChlbCkgZWwuc3R5bGUuZGlzcGxheT0idGFibGUiOw0KDQoJCQlpZiAodHlwZW9mKHA4X3VwZGF0ZV9sYXlvdXRfaGFzaCkgIT09ICd1bmRlZmluZWQnKQ0KCQkJCXA4X3VwZGF0ZV9sYXlvdXRfaGFzaCA9IC03NzsNCgkJCWlmICh0eXBlb2YocDhfYnV0dG9uc19oYXNoKSAhPT0gJ3VuZGVmaW5lZCcpDQoJCQkJcDhfYnV0dG9uc19oYXNoID0gLTMzOw0KDQoNCgkJfQ0KCQllLnR5cGUgPSAiYXBwbGljYXRpb24vamF2YXNjcmlwdCI7DQoJCWUuc3JjID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvVUdTLUFzc2V0c0AyZjBjNzJhNzE1ZDc4OGQ1ZWQ1MTVkMDI4NWE5Y2NhZGE1ZWE5ZDIyL3BpY28lMjA4JTIwZ2FtZXMvY2hhdHJvb20uanMiOw0KCQllLmlkID0gImVfc2NyaXB0IjsNCgkJDQoJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSk7IC8vIGxvYWQgYW5kIHJ1bg0KDQoJCS8vIGhpZGUgc3RhcnQgYnV0dG9uIGFuZCBzaG93IGNhbnZhcyAvIG1lbnUgYnV0dG9ucy4gaGlkZSBzdGFydCBidXR0b24NCgkJZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicDhfc3RhcnRfYnV0dG9uIik7DQoJCWlmIChlbCkgZWwuc3R5bGUuZGlzcGxheT0ibm9uZSI7DQoNCgkJLy8gYWRkICNwbGF5aW5nIGZvciB0b3VjaHNjcmVlbiBkZXZpY2VzIChhbGxvd3MgYmFjayBidXR0b24gdG8gY2xvc2UpDQoJCS8vIFggYnV0dG9uIGNhbiBhbHNvIGJlIHVzZWQgdG8gdHJpZ2dlciB0aGlzIA0KCQlpZiAocDhfdG91Y2hfZGV0ZWN0ZWQpDQoJCXsNCgkJCXdpbmRvdy5sb2NhdGlvbi5oYXNoID0gIiNwbGF5aW5nIjsNCgkJCXdpbmRvdy5vbmhhc2hjaGFuZ2UgPSBmdW5jdGlvbigpDQoJCQl7DQoJCQkJaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNlYXJjaCgicGxheWluZyIpIDwgMCkNCgkJCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KCQkJfQ0KCQl9DQoNCgkJLy8gaW5zdGFsbCBkcmFnJmRyb3AgbGlzdGVuZXJzDQoJCXsNCgkJCWxldCBjYW52YXMgPSBwOF9kb2N1bWVudCgpLmdldEVsZW1lbnRCeUlkKCJjYW52YXMiKTsNCgkJCWlmIChjYW52YXMpDQoJCQl7DQoJCQkJY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGRyYWdvdmVyLCBmYWxzZSk7DQoJCQkJY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ292ZXIsIGZhbHNlKTsNCgkJCQljYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZHJhZ3N0b3AsIGZhbHNlKTsNCgkJCQljYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG5vcCwgZmFsc2UpOw0KCQkJCWNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgcDhfZHJvcF9maWxlLCBmYWxzZSk7DQoJCQl9DQoJCX0NCgl9DQoNCgkNCgkJLy8gR2FtZXBhZCBjb2RlDQoJDQoJdmFyIFA4X0JVVFRPTl9PID0ge2FjdGlvbjonYnV0dG9uJywgY29kZTogMHgxMH07DQoJdmFyIFA4X0JVVFRPTl9YID0ge2FjdGlvbjonYnV0dG9uJywgY29kZTogMHgyMH07DQoJdmFyIFA4X0RQQURfTEVGVCA9IHthY3Rpb246J2J1dHRvbicsIGNvZGU6IDB4MX07DQoJdmFyIFA4X0RQQURfUklHSFQgPSB7YWN0aW9uOididXR0b24nLCBjb2RlOiAweDJ9Ow0KCXZhciBQOF9EUEFEX1VQID0ge2FjdGlvbjonYnV0dG9uJywgY29kZTogMHg0fTsNCgl2YXIgUDhfRFBBRF9ET1dOID0ge2FjdGlvbjonYnV0dG9uJywgY29kZTogMHg4fTsNCgl2YXIgUDhfTUVOVSA9IHthY3Rpb246J21lbnUnfTsNCgl2YXIgUDhfTk9fQUNUSU9OID0ge2FjdGlvbjonbm9uZSd9Ow0KDQoJdmFyIFA4X0JVVFRPTl9NQVBQSU5HID0gWw0KCQkvLyByZWY6IGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9nYW1lcGFkLyNyZW1hcHBpbmcNCgkJUDhfQlVUVE9OX08sICAgICAgICAgIC8vIEJvdHRvbSBmYWNlIGJ1dHRvbg0KCQlQOF9CVVRUT05fWCwgICAgICAgICAgLy8gUmlnaHQgZmFjZSBidXR0b24NCgkJUDhfQlVUVE9OX1gsICAgICAgICAgIC8vIExlZnQgZmFjZSBidXR0b24NCgkJUDhfQlVUVE9OX08sICAgICAgICAgIC8vIFRvcCBmYWNlIGJ1dHRvbg0KCQlQOF9OT19BQ1RJT04sICAgICAgICAgLy8gTmVhciBsZWZ0IHNob3VsZGVyIGJ1dHRvbiAoTDEpDQoJCVA4X05PX0FDVElPTiwgICAgICAgICAvLyBOZWFyIHJpZ2h0IHNob3VsZGVyIGJ1dHRvbiAoUjEpDQoJCVA4X05PX0FDVElPTiwgICAgICAgICAvLyBGYXIgbGVmdCBzaG91bGRlciBidXR0b24gKEwyKQ0KCQlQOF9OT19BQ1RJT04sICAgICAgICAgLy8gRmFyIHJpZ2h0IHNob3VsZGVyIGJ1dHRvbiAoUjIpDQoJCVA4X01FTlUsICAgICAgICAgICAgICAvLyBMZWZ0IGF1eGlsaWFyeSBidXR0b24gKHNlbGVjdCkNCgkJUDhfTUVOVSwgICAgICAgICAgICAgIC8vIFJpZ2h0IGF1eGlsaWFyeSBidXR0b24gKHN0YXJ0KQ0KCQlQOF9OT19BQ1RJT04sICAgICAgICAgLy8gTGVmdCBzdGljayBidXR0b24NCgkJUDhfTk9fQUNUSU9OLCAgICAgICAgIC8vIFJpZ2h0IHN0aWNrIGJ1dHRvbg0KCQlQOF9EUEFEX1VQLCAgICAgICAgICAgLy8gRHBhZCB1cA0KCQlQOF9EUEFEX0RPV04sICAgICAgICAgLy8gRHBhZCBkb3duDQoJCVA4X0RQQURfTEVGVCwgICAgICAgICAvLyBEcGFkIGxlZnQNCgkJUDhfRFBBRF9SSUdIVCwgICAgICAgIC8vIERwYWQgcmlnaHQNCgldOw0KDQoJLy8gVHJhY2sgd2hpY2ggcGxheWVyIGlzIGNvbnRyb2xsZXIgYnkgZWFjaCBnYW1lcGFkLiBHYW1lcGFkIGluZGV4IGkgY29udHJvbHMgdGhlDQoJLy8gcGxheWVyIHdpdGggaW5kZXggcGljbzhfZ2FtZXBhZHNfbWFwcGluZ1tpXS4gR2FtZXBhZHMgd2l0aCBudWxsIHBsYXllciBhcmUNCgkvLyBjdXJyZW50bHkgdW5hc3NpZ25lZCAtIHRoZXkgZ2V0IGFzc2lnbmVkIHRvIGEgcGxheWVyIHdoZW4gYSBidXR0b24gaXMgcHJlc3NlZC4NCgl2YXIgcGljbzhfZ2FtZXBhZHNfbWFwcGluZyA9IFtdOw0KDQoJZnVuY3Rpb24gcDhfdW5hc3NpZ25fZ2FtZXBhZChnYW1lcGFkX2luZGV4KSB7DQoJCWlmIChwaWNvOF9nYW1lcGFkc19tYXBwaW5nW2dhbWVwYWRfaW5kZXhdID09IG51bGwpIHsNCgkJCXJldHVybjsNCgkJfQ0KCQlwaWNvOF9idXR0b25zW3BpY284X2dhbWVwYWRzX21hcHBpbmdbZ2FtZXBhZF9pbmRleF1dID0gMDsNCgkJcGljbzhfZ2FtZXBhZHNfbWFwcGluZ1tnYW1lcGFkX2luZGV4XSA9IG51bGw7DQoJfQ0KDQoNCglmdW5jdGlvbiBwOF9maXJzdF9wbGF5ZXJfd2l0aG91dF9nYW1lcGFkKG1heF9wbGF5ZXJzKSB7DQoJCXZhciBhbGxvY2F0ZWRfcGxheWVycyA9IHBpY284X2dhbWVwYWRzX21hcHBpbmcuZmlsdGVyKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggIT0gbnVsbDsgfSk7DQoJCXZhciBzb3J0ZWRfcGxheWVycyA9IEFycmF5LmZyb20oYWxsb2NhdGVkX3BsYXllcnMpLnNvcnQoKTsNCgkJZm9yICh2YXIgZGVzaXJlZCA9IDA7IGRlc2lyZWQgPCBzb3J0ZWRfcGxheWVycy5sZW5ndGggJiYgZGVzaXJlZCA8IG1heF9wbGF5ZXJzOyArK2Rlc2lyZWQpIHsNCgkJCWlmIChkZXNpcmVkICE9IHNvcnRlZF9wbGF5ZXJzW2Rlc2lyZWRdKSB7DQoJCQkJcmV0dXJuIGRlc2lyZWQ7DQoJCQl9DQoJCX0NCgkJaWYgKHNvcnRlZF9wbGF5ZXJzLmxlbmd0aCA8IG1heF9wbGF5ZXJzKSB7DQoJCQlyZXR1cm4gc29ydGVkX3BsYXllcnMubGVuZ3RoOw0KCQl9DQoJCXJldHVybiBudWxsOw0KCX0NCg0KCWZ1bmN0aW9uIHA4X2Fzc2lnbl9nYW1lcGFkX3RvX3BsYXllcihnYW1lcGFkX2luZGV4LCBwbGF5ZXJfaW5kZXgpIHsNCgkJcDhfdW5hc3NpZ25fZ2FtZXBhZChnYW1lcGFkX2luZGV4KTsNCgkJcGljbzhfZ2FtZXBhZHNfbWFwcGluZ1tnYW1lcGFkX2luZGV4XSA9IHBsYXllcl9pbmRleDsNCgl9DQoNCg0KDQoJZnVuY3Rpb24gcDhfY29udmVydF9zdGFuZGFyZF9nYW1lcGFkX3RvX2J1dHRvbl9zdGF0ZShnYW1lcGFkLCBheGlzX3RocmVzaG9sZCwgYnV0dG9uX3RocmVzaG9sZCkgew0KCQkvLyBHaXZlbiBhIGdhbWVwYWQgb2JqZWN0LCByZXR1cm46DQoJCS8vIHsNCgkJLy8gICAgIGJ1dHRvbl9zdGF0ZTogdGhlIGJpbmFyeSBlbmNvZGVkIFBpY28gOCBidXR0b24gc3RhdGUNCgkJLy8gICAgIG1lbnVfYnV0dG9uOiB0cnVlIGlmIGFueSBtZW51LW1hcHBlZCBidXR0b24gd2FzIHByZXNzZWQNCgkJLy8gICAgIGFueV9idXR0b246IHRydWUgaWYgYW55IGJ1dHRvbiB3YXMgcHJlc3NlZCwgaW5jbHVkaW5nIGQtcGFkDQoJCS8vICAgICAgICAgYnV0dG9ucyBhbmQgdW5tYXBwZWQgYnV0dG9ucw0KCQkvLyB9DQoJCWlmICghZ2FtZXBhZCB8fCAhZ2FtZXBhZC5heGVzIHx8ICFnYW1lcGFkLmJ1dHRvbnMpIHsNCgkJCXJldHVybiB7DQoJCQkJYnV0dG9uX3N0YXRlOiAwLA0KCQkJCW1lbnVfYnV0dG9uOiBmYWxzZSwNCgkJCQlhbnlfYnV0dG9uOiBmYWxzZQ0KCQkJfTsNCgkJfQ0KCQlmdW5jdGlvbiBidXR0b25fc3RhdGVfZnJvbV9heGlzKGF4aXMsIGxvd19zdGF0ZSwgaGlnaF9zdGF0ZSwgZGVmYXVsdF9zdGF0ZSkgew0KCQkJaWYgKGF4aXMgJiYgYXhpcyA8IC1heGlzX3RocmVzaG9sZCkgcmV0dXJuIGxvd19zdGF0ZTsNCgkJCWlmIChheGlzICYmIGF4aXMgPiBheGlzX3RocmVzaG9sZCkgcmV0dXJuIGhpZ2hfc3RhdGU7DQoJCQlyZXR1cm4gZGVmYXVsdF9zdGF0ZTsNCgkJfQ0KCQl2YXIgYXhlc19hY3Rpb25zID0gWw0KCQkJYnV0dG9uX3N0YXRlX2Zyb21fYXhpcyhnYW1lcGFkLmF4ZXNbMF0sIFA4X0RQQURfTEVGVCwgUDhfRFBBRF9SSUdIVCwgUDhfTk9fQUNUSU9OKSwNCgkJCWJ1dHRvbl9zdGF0ZV9mcm9tX2F4aXMoZ2FtZXBhZC5heGVzWzFdLCBQOF9EUEFEX1VQLCBQOF9EUEFEX0RPV04sIFA4X05PX0FDVElPTiksDQoJCV07DQoNCgkJdmFyIGJ1dHRvbl9hY3Rpb25zID0gZ2FtZXBhZC5idXR0b25zLm1hcChmdW5jdGlvbiAoYnV0dG9uLCBpbmRleCkgew0KCQkJdmFyIHByZXNzZWQgPSBidXR0b24udmFsdWUgPiBidXR0b25fdGhyZXNob2xkIHx8IGJ1dHRvbi5wcmVzc2VkOw0KCQkJaWYgKCFwcmVzc2VkKSByZXR1cm4gUDhfTk9fQUNUSU9OOw0KCQkJcmV0dXJuIFA4X0JVVFRPTl9NQVBQSU5HW2luZGV4XSB8fCBQOF9OT19BQ1RJT047DQoJCX0pOw0KDQoJCXZhciBhbGxfYWN0aW9ucyA9IGF4ZXNfYWN0aW9ucy5jb25jYXQoYnV0dG9uX2FjdGlvbnMpOw0KCQkNCgkJdmFyIG1lbnVfYnV0dG9uID0gYnV0dG9uX2FjdGlvbnMuc29tZShmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24uYWN0aW9uID09ICdtZW51JzsgfSk7DQoJCXZhciBidXR0b25fc3RhdGUgPSAoYWxsX2FjdGlvbnMNCgkJCS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWN0aW9uID09ICdidXR0b24nOyB9KQ0KCQkJLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5jb2RlOyB9KQ0KCQkJLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBjb2RlKSB7IHJldHVybiByZXN1bHQgfCBjb2RlOyB9LCAwKQ0KCQkpOw0KCQl2YXIgYW55X2J1dHRvbiA9IGdhbWVwYWQuYnV0dG9ucy5zb21lKGZ1bmN0aW9uIChidXR0b24pIHsNCgkJCXJldHVybiBidXR0b24udmFsdWUgPiBidXR0b25fdGhyZXNob2xkIHx8IGJ1dHRvbi5wcmVzc2VkOw0KCQl9KTsNCg0KCQlhbnlfYnV0dG9uIHw9IGJ1dHRvbl9zdGF0ZTsgLy9qd3c6IGluY2x1ZGUgYXhlcyAwLDEgYXMgbWlnaHQgYmUgZmlyc3QgaW50ZW5kZWQgYWN0aW9uDQoNCgkJcmV0dXJuIHsNCgkJCWJ1dHRvbl9zdGF0ZSwNCgkJCW1lbnVfYnV0dG9uLA0KCQkJYW55X2J1dHRvbg0KCQl9Ow0KCX0NCg0KCS8vIGp3dzogcGljby04IDAuMi4xIHZlcnNpb24gZm9yIHVubWFwcGVkIGdhbWVwYWRzLCBmb2xsb3dpbmcgcDhfY29udmVydF9zdGFuZGFyZF9nYW1lcGFkX3RvX2J1dHRvbl9zdGF0ZQ0KCS8vIGF4ZXMgMCwxICYgYnV0dG9ucyAwLDEsMiwzIGFyZSByZWFzb25hYmx5IHNhZmUuIGRvbid0IHRyeSB0byByZWFkIGRwYWQuDQoJLy8gbWVudSBidXR0b25zIGFyZSB1bnByZWRpY3RhYmxlLCBidXQgdXNlIDYuLjggYW55d2F5IChiZXR0ZXIgdG8gaGF2ZSBhIHdlaXJkIG1lbnUgYnV0dG9uIHRoYW4gbm9uZSkNCg0KCWZ1bmN0aW9uIHA4X2NvbnZlcnRfdW5tYXBwZWRfZ2FtZXBhZF90b19idXR0b25fc3RhdGUoZ2FtZXBhZCwgYXhpc190aHJlc2hvbGQsIGJ1dHRvbl90aHJlc2hvbGQpIHsNCg0KCQlpZiAoIWdhbWVwYWQgfHwgIWdhbWVwYWQuYXhlcyB8fCAhZ2FtZXBhZC5idXR0b25zKSB7DQoJCQlyZXR1cm4gew0KCQkJCWJ1dHRvbl9zdGF0ZTogMCwNCgkJCQltZW51X2J1dHRvbjogZmFsc2UsDQoJCQkJYW55X2J1dHRvbjogZmFsc2UNCgkJCX07DQoJCX0NCg0KCQl2YXIgYnV0dG9uX3N0YXRlID0gMDsNCg0KCQlpZiAoZ2FtZXBhZC5heGVzWzBdICYmIGdhbWVwYWQuYXhlc1swXSA8IC1heGlzX3RocmVzaG9sZCkgYnV0dG9uX3N0YXRlIHw9IDB4MTsNCgkJaWYgKGdhbWVwYWQuYXhlc1swXSAmJiBnYW1lcGFkLmF4ZXNbMF0gPiBheGlzX3RocmVzaG9sZCkgIGJ1dHRvbl9zdGF0ZSB8PSAweDI7DQoJCWlmIChnYW1lcGFkLmF4ZXNbMV0gJiYgZ2FtZXBhZC5heGVzWzFdIDwgLWF4aXNfdGhyZXNob2xkKSBidXR0b25fc3RhdGUgfD0gMHg0Ow0KCQlpZiAoZ2FtZXBhZC5heGVzWzFdICYmIGdhbWVwYWQuYXhlc1sxXSA+IGF4aXNfdGhyZXNob2xkKSAgYnV0dG9uX3N0YXRlIHw9IDB4ODsNCg0KCQkvLyBidXR0b25zOiBmaXJzdCA0IHRha2VuIHRvIGJlIE8vWCwgNi4uOCB0YWtlbiB0byBiZSBtZW51IGJ1dHRvbg0KDQoJCWZvciAoaiA9IDA7IGogPCBnYW1lcGFkLmJ1dHRvbnMubGVuZ3RoOyBqKyspDQoJCWlmIChnYW1lcGFkLmJ1dHRvbnNbal0udmFsdWUgPiAwIHx8IGdhbWVwYWQuYnV0dG9uc1tqXS5wcmVzc2VkKQ0KCQl7DQoJCQlpZiAoaiA8IDQpDQoJCQkJYnV0dG9uX3N0YXRlIHw9ICgweDEwIDw8ICgoKGorMSkvMikmMSkpOyAvLyAwIDEgMSAwIC0tIEEsWCAtPiBPLFggb24geGJveDM2MA0KCQkJZWxzZSBpZiAoaiA+PSA2ICYmIGogPD0gOCkNCgkJCQlidXR0b25fc3RhdGUgfD0gMHg0MDsNCgkJfQ0KDQoJCXZhciBtZW51X2J1dHRvbiA9IGJ1dHRvbl9zdGF0ZSAmIDB4NDA7DQoNCgkJdmFyIGFueV9idXR0b24gPSBnYW1lcGFkLmJ1dHRvbnMuc29tZShmdW5jdGlvbiAoYnV0dG9uKSB7DQoJCQlyZXR1cm4gYnV0dG9uLnZhbHVlID4gYnV0dG9uX3RocmVzaG9sZCB8fCBidXR0b24ucHJlc3NlZDsNCgkJfSk7DQoNCgkJYW55X2J1dHRvbiB8PSBidXR0b25fc3RhdGU7IC8vand3OiBpbmNsdWRlIGF4ZXMgMCwxIGFzIG1pZ2h0IGJlIGZpcnN0IGludGVuZGVkIGFjdGlvbg0KCQkNCgkJcmV0dXJuIHsNCgkJCWJ1dHRvbl9zdGF0ZSwNCgkJCW1lbnVfYnV0dG9uLA0KCQkJYW55X2J1dHRvbg0KCQl9Ow0KCX0NCg0KCQ0KCS8vIGdhbWVwYWQgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HYW1lcGFkX0FQSS9Vc2luZ190aGVfR2FtZXBhZF9BUEkNCgkvLyAoc2V0cyBiaXRzIGluIHBpY284X2J1dHRvbnNbXSkNCglmdW5jdGlvbiBwOF91cGRhdGVfZ2FtZXBhZHMoKSB7DQoJCXZhciBheGlzX3RocmVzaG9sZCA9IDAuMzsNCgkJdmFyIGJ1dHRvbl90aHJlc2hvbGQgPSAwLjU7IC8vIFNob3VsZCBiZSB1bm5lY2Vzc2FyeSwgd2Ugc2hvdWxkIGJlIGFibGUgdG8gdHJ1c3QgLnByZXNzZWQNCgkJdmFyIG1heF9wbGF5ZXJzID0gODsNCgkJdmFyIGdwcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpIHx8IG5hdmlnYXRvci53ZWJraXRHZXRHYW1lcGFkcygpOw0KDQoJCWlmICghZ3BzKSByZXR1cm47DQoNCgkJLy8gSW4gQ2hyb21lLCBncHMgaXMgaXRlcmFibGUgYnV0IGl0J3Mgbm90IGFuIGFycmF5Lg0KCQlncHMgPSBBcnJheS5mcm9tKGdwcyk7DQoNCgkJcGljbzhfZ2FtZXBhZHMuY291bnQgPSBncHMubGVuZ3RoOw0KCQl3aGlsZSAoZ3BzLmxlbmd0aCA+IHBpY284X2dhbWVwYWRzX21hcHBpbmcubGVuZ3RoKSB7DQoJCSAgICBwaWNvOF9nYW1lcGFkc19tYXBwaW5nLnB1c2gobnVsbCk7DQoJCX0NCg0KCQl2YXIgbWVudV9idXR0b24gPSBmYWxzZTsNCgkJdmFyIGdhbWVwYWRfc3RhdGVzID0gZ3BzLm1hcChmdW5jdGlvbiAoZ3ApIHsNCgkJCXJldHVybiAoZ3AgJiYgZ3AubWFwcGluZyA9PSAic3RhbmRhcmQiKSA/DQoJCQkJcDhfY29udmVydF9zdGFuZGFyZF9nYW1lcGFkX3RvX2J1dHRvbl9zdGF0ZShncCwgYXhpc190aHJlc2hvbGQsIGJ1dHRvbl90aHJlc2hvbGQpIDoNCgkJCQlwOF9jb252ZXJ0X3VubWFwcGVkX2dhbWVwYWRfdG9fYnV0dG9uX3N0YXRlKGdwLCBheGlzX3RocmVzaG9sZCwgYnV0dG9uX3RocmVzaG9sZCk7DQoJCX0pOw0KDQoJCS8vIFVuYXNzaWduIGRpc2Nvbm5lY3RlZCBnYW1lcGFkcy4NCgkJLy8gZ3BzLmZvckVhY2goZnVuY3Rpb24gKGdwLCBpKSB7IGlmIChncCAmJiAhZ3AuY29ubmVjdGVkKSB7IHA4X3VuYXNzaWduX2dhbWVwYWQoaSk7IH19KTsNCgkJZ3BzLmZvckVhY2goZnVuY3Rpb24gKGdwLCBpKSB7IGlmICghZ3AgfHwgIWdwLmNvbm5lY3RlZCkgeyBwOF91bmFzc2lnbl9nYW1lcGFkKGkpOyB9fSk7IC8vIGh0dHBzOi8vd3d3LmxleGFsb2ZmbGUuY29tL2Jicy8/cGlkPTg3MTMyI3ANCg0KDQoJCS8vIEFzc2lnbiB1bmFzc2lnbmVkIGdhbWVwYWRzIHdoZW4gYW55IGJ1dHRvbiBpcyBwcmVzc2VkLg0KCQlnYW1lcGFkX3N0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgaSkgew0KCQkJaWYgKHN0YXRlLmFueV9idXR0b24gJiYgcGljbzhfZ2FtZXBhZHNfbWFwcGluZ1tpXSA9PSBudWxsKSB7DQoJCQkJdmFyIGZpcnN0X2ZyZWVfcGxheWVyID0gcDhfZmlyc3RfcGxheWVyX3dpdGhvdXRfZ2FtZXBhZChtYXhfcGxheWVycyk7DQoJCQkJcDhfYXNzaWduX2dhbWVwYWRfdG9fcGxheWVyKGksIGZpcnN0X2ZyZWVfcGxheWVyKTsNCgkJCX0NCgkJfSk7DQoNCgkJLy8gVXBkYXRlIHBpY284X2J1dHRvbnMgYXJyYXkuDQoJCWdhbWVwYWRfc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKGdhbWVwYWRfc3RhdGUsIGkpIHsNCgkJCWlmIChwaWNvOF9nYW1lcGFkc19tYXBwaW5nW2ldICE9IG51bGwpIHsNCgkJCQlwaWNvOF9idXR0b25zW3BpY284X2dhbWVwYWRzX21hcHBpbmdbaV1dID0gZ2FtZXBhZF9zdGF0ZS5idXR0b25fc3RhdGU7DQoJCQl9DQoJCX0pOw0KDQoJCS8vIFVwZGF0ZSBtZW51IGJ1dHRvbi4NCgkJLy8gUGljbyA4IG9ubHkgcmVjb2duaXNlcyB0aGUgbWVudSBidXR0b24gb24gdGhlIGZpcnN0IHBsYXllciwgc28gd2UNCgkJLy8gcHJlc3MgaXQgd2hlbiBhbnkgZ2FtZXBhZCBoYXMgcHJlc3NlZCBhIGJ1dHRvbiBtYXBwZWQgdG8gbWVudS4NCgkJaWYgKGdhbWVwYWRfc3RhdGVzLnNvbWUoZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5tZW51X2J1dHRvbjsgfSkpIHsNCgkJCXBpY284X2J1dHRvbnNbMF0gfD0gMHg0MDsNCgkJfQ0KDQoJCXJlcXVlc3RBbmltYXRpb25GcmFtZShwOF91cGRhdGVfZ2FtZXBhZHMpOw0KCX0NCglyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocDhfdXBkYXRlX2dhbWVwYWRzKTsNCg0KCS8vIEVuZCBvZiBnYW1lcGFkIGNvZGUNCg0KDQoJLy8ga2V5IGJsb2NrZXIuIHByZXZlbnQgY3Vyc29yIGtleXMgZnJvbSBzY3JvbGxpbmcgcGFnZSB3aGlsZSBwbGF5aW5nIGNhcnQuDQoJLy8gYWxzbyBkb24ndCBhY3Qgb24gTSwgUiBzbyB0aGF0IGNhbiBtdXRlIC8gcmVzZXQgY2FydA0KCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLA0KCWZ1bmN0aW9uIChldmVudCkgew0KCQlldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDsNCgkJaWYgKCFwOF9pc19ydW5uaW5nKSByZXR1cm47DQoJCWlmIChwaWNvOF9zdGF0ZS5oYXNfZm9jdXMgPT0gMSkNCgkJCWlmIChbMzIsIDM3LCAzOCwgMzksIDQwLCA3NywgODIsIDgwLCA5XS5pbmRleE9mKGV2ZW50LmtleUNvZGUpID4gLTEpICAgICAgIC8vIGJsb2NrIGN1cnNvcnMsIE0gUiBQLCB0YWINCgkJCQlpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJfSx7cGFzc2l2ZTogZmFsc2V9KTsNCg0KCS8vIHdoZW4gdXNpbmcgY29kb190ZXh0YXJlYSB0byBkZXRlcm1pbmUgZm9jdXMsIG5lZWQgdG8gZXhwbGljaXRseSBoYW5kIGZvY3VzIGJhY2sgd2hlbiBjbGlja2luZyBhIHA4X21lbnVfYnV0dG9uDQoJZnVuY3Rpb24gcDhfZ2l2ZV9mb2N1cygpDQoJew0KCQllbCA9ICh0eXBlb2YgY29kb190ZXh0YXJlYSA9PT0gJ3VuZGVmaW5lZCcpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZG9fdGV4dGFyZWEiKSA6IGNvZG9fdGV4dGFyZWE7DQoJCWlmIChlbCkNCgkJew0KCQkJZWwuZm9jdXMoKTsNCgkJCWVsLnNlbGVjdCgpOw0KCQl9DQoJfQ0KDQoJZnVuY3Rpb24gcDhfcmVxdWVzdF9mdWxsc2NyZWVuKCkgew0KDQoJCXZhciBpc19mdWxsc2NyZWVuPShkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4gfHwgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk7DQoNCgkJaWYgKGlzX2Z1bGxzY3JlZW4pDQoJCXsNCgkJCSBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHsNCgkJICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOw0KCQkgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikgew0KCQkgICAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7DQoJCSAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHsNCgkJICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7DQoJCSAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHsNCgkJICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7DQoJCSAgICB9DQoJCQlyZXR1cm47DQoJCX0NCgkJDQoJCXZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwOF9wbGF5YXJlYSIpOw0KDQoJCWlmICggZWwucmVxdWVzdEZ1bGxzY3JlZW4gKSB7DQoJCQllbC5yZXF1ZXN0RnVsbHNjcmVlbigpOw0KCQl9IGVsc2UgaWYgKCBlbC5tb3pSZXF1ZXN0RnVsbFNjcmVlbiApIHsNCgkJCWVsLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7DQoJCX0gZWxzZSBpZiAoIGVsLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuICkgew0KCQkJZWwud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oIEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQgKTsNCgkJfQ0KCX0NCg0KPC9zY3JpcHQ+DQoNCjxTVFlMRSBUWVBFPSJ0ZXh0L2NzcyI+DQo8IS0tDQoucDhfbWVudV9idXR0b257DQoJb3BhY2l0eTowLjM7DQoJcGFkZGluZzo0cHg7DQoJZGlzcGxheTp0YWJsZTsNCgl3aWR0aDoyNHB4Ow0KCWhlaWdodDoyNHB4Ow0KCWZsb2F0OnJpZ2h0Ow0KfQ0KDQpAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjUxMnB4KSB7DQoJLnA4X21lbnVfYnV0dG9uew0KCQl3aWR0aDoyNHB4OyBtYXJnaW4tbGVmdDoxMnB4OyBtYXJnaW4tYm90dG9tOjhweDsNCgl9DQp9DQoucDhfbWVudV9idXR0b246aG92ZXJ7DQoJb3BhY2l0eToxLjA7DQoJY3Vyc29yOnBvaW50ZXI7DQp9DQoNCmNhbnZhc3sNCiAgICBpbWFnZS1yZW5kZXJpbmc6IG9wdGltaXplU3BlZWQ7DQogICAgaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzOw0KICAgIGltYWdlLXJlbmRlcmluZzogLXdlYmtpdC1vcHRpbWl6ZS1jb250cmFzdDsNCiAgICBpbWFnZS1yZW5kZXJpbmc6IG9wdGltaXplLWNvbnRyYXN0Ow0KICAgIGltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkOw0KICAgIC1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IG5lYXJlc3QtbmVpZ2hib3I7DQoJYm9yZGVyOiAwcHg7DQoJY3Vyc29yOiBub25lOw0KfQ0KDQoNCi5wOF9zdGFydF9idXR0b257DQoJY3Vyc29yOnBvaW50ZXI7DQoJYmFja2dyb3VuZDp1cmwoIiIpOw0KCS1yZXBlYXQgY2VudGVyOw0KCS13ZWJraXQtYmFja2dyb3VuZC1zaXplOmNvdmVyOyAtbW96LWJhY2tncm91bmQtc2l6ZTpjb3ZlcjsgLW8tYmFja2dyb3VuZC1zaXplOmNvdmVyOyBiYWNrZ3JvdW5kLXNpemU6Y292ZXI7DQp9DQoNCi5idXR0b25fZ2Z4ew0KCXN0cm9rZS13aWR0aDoyOw0KCXN0cm9rZTogI2ZmZmZmZjsNCglzdHJva2Utb3BhY2l0eTowLjQ7DQoJZmlsbC1vcGFjaXR5OjAuMjsNCglmaWxsOmJsYWNrOw0KfQ0KDQouYnV0dG9uX2dmeF9pY29uew0KCXN0cm9rZS13aWR0aDozOw0KCXN0cm9rZTogIzkwOTA5MDsNCglzdHJva2Utb3BhY2l0eTowLjc7DQoJZmlsbDpub25lOw0KfQ0KDQotLT4NCjwvU1RZTEU+DQoNCjwvaGVhZD4NCg0KPGJvZHkgc3R5bGU9InBhZGRpbmc6MHB4OyBtYXJnaW46MHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiMyMjI7IGNvbG9yOiNjY2MiPg0KPGRpdiBpZD0iYm9keV8wIj4gPCEtLSBoaWRlIHRoaXMgd2hlbiBwbGF5aW5nIGluIG1vYmlsZSAocDhfdG91Y2hfZGV0ZWN0ZWQpIHNvIHRoYXQgZWxlbWVudHMgZG9uJ3QgYWZmZWN0IGxheW91dCAtLT4NCg0KDQo8IS0tIEFkZCBhbnkgY29udGVudCBhYm92ZSB0aGUgY2FydCBoZXJlIC0tPg0KDQoNCjxkaXYgaWQ9InA4X2ZyYW1lXzAiIHN0eWxlPSJtYXgtd2lkdGg6ODAwcHg7IG1heC1oZWlnaHQ6ODAwcHg7IG1hcmdpbjphdXRvOyI+IDwhLS0gZG91YmxlIGZ1bmN0aW9uOiBsaW1pdCBzaXplLCBhbmQgZGlzcGxheSBvbmx5IHRoaXMgZGl2IGZvciB0b3VjaCBkZXZpY2VzIC0tPg0KPGRpdiBpZD0icDhfZnJhbWUiIHN0eWxlPSJkaXNwbGF5OmZsZXg7IHdpZHRoOjEwMCU7IG1heC13aWR0aDo5NXZ3OyBoZWlnaHQ6MTAwdnc7IG1heC1oZWlnaHQ6OTV2aDsgbWFyZ2luOmF1dG87Ij4NCg0KCTxkaXYgaWQ9InA4X21lbnVfYnV0dG9uc190b3VjaCIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB3aWR0aDoxMDAlOyB6LWluZGV4OjEwOyBsZWZ0OjBweDsiPg0KCQk8ZGl2IGNsYXNzPSJwOF9tZW51X2J1dHRvbiIgaWQ9InA4Yl9mdWxsIiAgc3R5bGU9ImZsb2F0OmxlZnQ7bWFyZ2luLWxlZnQ6MTBweCIgb25DbGljaz0icDhfZ2l2ZV9mb2N1cygpOyBwOF9yZXF1ZXN0X2Z1bGxzY3JlZW4oKTsiPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJwOF9tZW51X2J1dHRvbiIgaWQ9InA4Yl9zb3VuZCIgc3R5bGU9ImZsb2F0OmxlZnQ7bWFyZ2luLWxlZnQ6MTBweCIgb25DbGljaz0icDhfZ2l2ZV9mb2N1cygpOyBwOF9jcmVhdGVfYXVkaW9fY29udGV4dCgpOyBNb2R1bGUucGljbzhUb2dnbGVTb3VuZCgpOyI+PC9kaXY+DQoJCTxkaXYgY2xhc3M9InA4X21lbnVfYnV0dG9uIiBpZD0icDhiX2Nsb3NlIiBzdHlsZT0iZmxvYXQ6cmlnaHQ7IG1hcmdpbi1yaWdodDoxMHB4IiBvbkNsaWNrPSJwOF9jbG9zZV9jYXJ0KCk7Ij48L2Rpdj4NCgk8L2Rpdj4NCg0KCTxkaXYgaWQ9InA4X2NvbnRhaW5lciINCgkJc3R5bGU9Im1hcmdpbjphdXRvOyBkaXNwbGF5OnRhYmxlOyINCgkJb25jbGljaz0icDhfY3JlYXRlX2F1ZGlvX2NvbnRleHQoKTsgcDhfcnVuX2NhcnQoKTsiPg0KDQoJCTxkaXYgaWQ9InA4X3N0YXJ0X2J1dHRvbiIgY2xhc3M9InA4X3N0YXJ0X2J1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IGhlaWdodDoxMDAlOyBkaXNwbGF5OmZsZXg7Ij4NCgkJCTxpbWcgd2lkdGg9ODAgaGVpZ2h0PTgwIHN0eWxlPSJtYXJnaW46YXV0bzsiDQoJCXNyYz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGQUFBQUJRQ0FZQUFBQ09FZkt0QUFBQnBrbEVRVlI0MnUzYXUyM0RRQkNFWVVYT1hJR0tjdWpRWFVnRnVBMFhJS2dXOTBROW9FQWcrTGpkMjd2ZDJSc0NmMDU4Z0VEcWhvZlBqK09CNlNNQ0FRbElRQUl5QWhLUWdBUmtCQVFEbk02WFNSc0I3LzJlL3RTQTAvLzEyZkNBS3NRWDNudERBNG9SRndCUkljMEFpeEUzOEJBaFRRR0xFQXNCVVNETkFYY1JoWURSSVpzQVBscDk5VkVDUm9Yc0RwZ04wZzB3QzZRN0lEcGtHRUJVeUc2QTArdktCdGtkTUJ1a0cyQVdTSGRBZE1nd2dLaVE0UURSSU1NQ29rQ0dCNHdPQ1FQWUZWS3cyY0FCTm9jVWpsNndnRTBnRmFzaFBLQVpwSEoyVFFOWUJWbXhXNmNERkVOV0R2OXBBVXNoQ1ZnSlNjQktTQUlTa0Q5aFBrVDRHa05BTWR6ZXB5ajhLeWU4NTJFQkxlNTFDWkhIV1FLNEpjVGhEMVNsY0hQRVlZLzBhK0EwbjZTa0daVjZ3NldaTmIzZzRJZDFiN2h3Z0dod1lRQlI0ZHdCMGVIY0FMUEFkUWZNQmhjT0VBMHVEQ0FxbkRzZ09wd2JZQmE0cG9BLzMxK3JaWUZyQnJpRnB3R01DdGNFY0E5UEFoZ2R6aHl3Qks4RUVRWE9GRkNDdHdhSUJtY0dLTVdiSTZMQ21RQnE4UjZodzVrQU1nSVNrSUFFSkNBaklBRUpTRUJHUUk5dWtWN2xSbjluRCtnQUFBQUFTVVZPUks1Q1lJST0iLz4NCgkJPC9kaXY+DQoNCgkJPGRpdiBpZD0icDhfcGxheWFyZWEiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbjphdXRvOw0KCQkJCS13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgdXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOw0KCQkiPg0KDQoJCQk8ZGl2ICBpZD0idG91Y2hfY29udHJvbHNfYmFja2dyb3VuZCINCgkJCQkgIHN0eWxlPSIgcG9pbnRlci1ldmVudHM6bm9uZTsgZGlzcGxheTpub25lOyBiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7DQoJCQkJCQkgcG9zaXRpb246Zml4ZWQ7IHRvcDowcHg7IGxlZnQ6MHB4OyBib3JkZXI6MDsgd2lkdGg6MTAwdnc7IGhlaWdodDoxMDB2aCI+DQoJCQkJJm5ic3ANCgkJCTwvZGl2Pg0KDQoJCQk8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IHBvc2l0aW9uOnJlbGF0aXZlIj4NCgkJCQk8IS0tIHBvaW50ZXItZXZlbnRzIHR1cm5lZCBvZmYgZm9yIG1vYmlsZSBpbiBwOF91cGRhdGVfbGF5b3V0IGJlY2F1c2UgbmVlZCBmb3IgZGVza3RvcCBtb3VzZSAtLT4NCgkJCQk8Y2FudmFzIGNsYXNzPSJlbXNjcmlwdGVuIiBpZD0iY2FudmFzIiBvbmNvbnRleHRtZW51PSJldmVudC5wcmV2ZW50RGVmYXVsdCgpOyIgPg0KCQkJCTwvY2FudmFzPg0KCQkJCTxkaXYgY2xhc3M9cDhfbWVudV9idXR0b25zIGlkPSJwOF9tZW51X2J1dHRvbnMiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4OyI+DQoJCQkJCTxkaXYgY2xhc3M9InA4X21lbnVfYnV0dG9uIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IGJvdHRvbToxMjVweCIgaWQ9InA4Yl9jb250cm9scyIgb25DbGljaz0icDhfZ2l2ZV9mb2N1cygpOyBNb2R1bGUucGljbzhUb2dnbGVDb250cm9sTWVudSgpOyI+PC9kaXY+CQkJCQkNCgkJCQkJPGRpdiBjbGFzcz0icDhfbWVudV9idXR0b24iIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgYm90dG9tOjkwcHgiIGlkPSJwOGJfcGF1c2UiIG9uQ2xpY2s9InA4X2dpdmVfZm9jdXMoKTsgTW9kdWxlLnBpY284VG9nZ2xlUGF1c2VkKCk7IHA4X3VwZGF0ZV9sYXlvdXRfaGFzaCA9IC0yMjsiPjwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJwOF9tZW51X2J1dHRvbiIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyBib3R0b206NTVweCIgaWQ9InA4Yl9zb3VuZCIgb25DbGljaz0icDhfZ2l2ZV9mb2N1cygpOyBwOF9jcmVhdGVfYXVkaW9fY29udGV4dCgpOyBNb2R1bGUucGljbzhUb2dnbGVTb3VuZCgpOyI+PC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InA4X21lbnVfYnV0dG9uIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IGJvdHRvbToyMHB4IiBpZD0icDhiX2Z1bGwiIG9uQ2xpY2s9InA4X2dpdmVfZm9jdXMoKTsgcDhfcmVxdWVzdF9mdWxsc2NyZWVuKCk7Ij48L2Rpdj4NCgkJCQk8L2Rpdj4NCgkJCTwvZGl2Pg0KDQoNCgkJCTwhLS0gZGlzcGxheSBhZnRlciBmaXJzdCBsYXlvdXQgdXBkYXRlIC0tPg0KCQkJPGRpdiAgaWQ9InRvdWNoX2NvbnRyb2xzX2dmeCINCgkJCQkgIHN0eWxlPSIgcG9pbnRlci1ldmVudHM6bm9uZTsgZGlzcGxheTp0YWJsZTsgDQoJCQkJCQkgcG9zaXRpb246Zml4ZWQ7IHRvcDowcHg7IGxlZnQ6MHB4OyBib3JkZXI6MDsgd2lkdGg6MTAwdnc7IGhlaWdodDoxMDB2aCI+DQoNCgkJCQkJPGltZyBzcmM9IiIgaWQ9ImNvbnRyb2xzX3JpZ2h0X3BhbmVsIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IG9wYWNpdHk6MC41OyI+DQoJCQkJCTxpbWcgc3JjPSIiIGlkPSJjb250cm9sc19sZWZ0X3BhbmVsIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7ICBvcGFjaXR5OjAuNTsiPg0KCQkJCQkJDQoJCQkNCgkJCTwvZGl2PiA8IS0tIHRvdWNoX2NvbnRyb2xzX2dmeCAtLT4NCg0KCQkJPCEtLSB1c2VkIGZvciBjbGlwYm9hcmQgYWNjZXNzICYga2V5Ym9hcmQgaW5wdXQ7IGRpc3BsYXllZCBhbmQgdXNlZCBieSBQSUNPLTggb25seSBvbmNlIG5lZWRlZC4gY2FuIGJlIHNhZmVseSByZW1vdmVkIGlmIGNsaXBib2FyZCAvIGtleSBwcmVzc2VzIG5vdCBuZWVkZWQuIC0tPg0KCQkJPCEtLSAobmVlZHMgdG8gYmUgaW5zaWRlIHA4X3BsYXlhcmVhIHNvIHRoYXQgaXQgc3RpbGwgd29ya3MgdW5kZXIgQ2hyb21lIHdoZW4gZnVsbHNjcmVlbmVkKSAtLT4NCgkJCTx0ZXh0YXJlYSBpZD0iY29kb190ZXh0YXJlYSIgY2xhc3M9ImVtc2NyaXB0ZW4iIHN0eWxlPSJkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0Oi05OTk5cHg7IGhlaWdodDowcHg7IG92ZXJmbG93OmhpZGRlbiI+PC90ZXh0YXJlYT4NCg0KCQk8L2Rpdj4gPCEtLXA4X3BsYXlhcmVhIC0tPg0KDQoJPC9kaXY+IDwhLS0gcDhfY29udGFpbmVyIC0tPg0KDQo8L2Rpdj4gPCEtLSBwOF9mcmFtZSAtLT4NCjwvZGl2PiA8IS0tIHA4X2ZyYW1lXzAgc2l6ZSBsaW1pdCAtLT4NCg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KDQoJcDhfdXBkYXRlX2xheW91dCgpOw0KCXA4X3VwZGF0ZV9idXR0b25faWNvbnMoKTsNCg0KCXZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIik7DQoJTW9kdWxlID0ge307DQoJTW9kdWxlLmNhbnZhcyA9IGNhbnZhczsNCg0KCS8vIGZyb20gQHVsdHJhYnJpdGUncyBzaGVsbDogdGVzdCBpZiBhbiBBdWRpb0NvbnRleHQgY2FuIGJlIGNyZWF0ZWQgb3V0c2lkZSBvZiBhbiBldmVudCBjYWxsYmFjay4NCgkvLyBJZiBpdCBjYW4ndCBiZSBjcmVhdGVkLCB0aGVuIHJlcXVpcmUgcHJlc3NpbmcgdGhlIHN0YXJ0IGJ1dHRvbiB0byBydW4gdGhlIGNhcnRyaWRnZQ0KDQoJaWYgKHA4X2F1dG9wbGF5KQ0KCXsNCgkJdmFyIHRlbXBfY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTsNCgkJdGVtcF9jb250ZXh0Lm9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKQ0KCQl7DQoJCQlpZiAodGVtcF9jb250ZXh0LnN0YXRlPT0ncnVubmluZycpDQoJCQl7DQoJCQkJcDhfcnVuX2NhcnQoKTsNCgkJCQl0ZW1wX2NvbnRleHQuY2xvc2UoKTsNCgkJCX0NCgkJfTsNCgl9DQoNCgkvLyBwb2ludGVyIGxvY2sgcmVxdWVzdCBuZWVkcyB0byBiZSBpbnNpZGUgYSBjYW52YXMgaW50ZXJhY3Rpb24gZXZlbnQNCgkvLyBwaWNvOF9zdGF0ZS5yZXF1ZXN0X3BvaW50ZXJfbG9jayBpcyB0cnVlIHdoZW4gMHg1ZjJkIGJpdCAwIGFuZCBiaXQgMiBhcmUgc2V0IC0tIHBva2UoMHg1ZjJkLDB4NSkgDQoJLy8gbm90ZSBvbiBtb3VzZSBhY2NlbGVyYXRpb24gZm9yIGZ1dHVyZTogLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9wb2ludGVybG9jay9wdWxsLzQ5DQoJY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKQ0KCXsNCgkJaWYgKCFwOF90b3VjaF9kZXRlY3RlZCkNCgkJCWlmIChwaWNvOF9zdGF0ZS5yZXF1ZXN0X3BvaW50ZXJfbG9jaykNCgkJCQljYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7DQoJfSk7DQoJDQo8L3NjcmlwdD4NCg0KDQoNCjwhLS0gQWRkIGNvbnRlbnQgYmVsb3cgdGhlIGNhcnQgaGVyZSAtLT4NCg0KDQoNCg0KPC9kaXY+IDwhLS0gYm9keV8wIC0tPg0KPC9ib2R5PjwvaHRtbD4NCg0K";
