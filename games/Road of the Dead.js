window.game = "PCFET0NUWVBFIGh0bWw+DQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KPGh0bWwgbGFuZz0iZW4iPg0KICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL3Vnc3NAbWFpbi9yb2Fkb2Z0aGVkZWFkLyI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICA8bWV0YSBodHRwLWVxdWl2PSJ4LXVhLWNvbXBhdGlibGUiIGNvbnRlbnQ9ImllPWVkZ2UiPg0KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDx0aXRsZT5yZWFsbHkgY29vbCBmbGFzaCBnYW1lIDwvdGl0bGU+DQogIDxzdHlsZT4NCiAgICBodG1sLCBib2R5IHsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIHBhZGRpbmc6IDA7DQogICAgICBiYWNrZ3JvdW5kOiBibGFjazsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICB9DQogICAgI2ZsYXNoLWNvbnRhaW5lciB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IDUwJTsNCiAgICAgIGxlZnQ6IDUwJTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICAgICAgYmFja2dyb3VuZDogYmxhY2s7DQogICAgfQ0KICAgIHJ1ZmZsZS1wbGF5ZXIgew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICBiYWNrZ3JvdW5kOiBibGFjazsNCiAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIH0NCiAgICAjbG9hZGluZy10ZXh0IHsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHRvcDogNTAlOw0KICAgICAgbGVmdDogNTAlOw0KICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7DQogICAgICBjb2xvcjogI2ZmZjsNCiAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICAgIGZvbnQtc2l6ZTogMjRweDsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIHotaW5kZXg6IDEwMDA7DQogICAgfQ0KICA8L3N0eWxlPg0KICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AcnVmZmxlLXJzL3J1ZmZsZUAwLjIuMC1uaWdodGx5LjIwMjUuMTAuMi9ydWZmbGUubWluLmpzIj48L3NjcmlwdD4NCjwvaGVhZD4NCjxib2R5Pg0KICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiPkxvYWRpbmcgZ2FtZS4uLiAwJTwvZGl2Pg0KICA8ZGl2IGlkPSJmbGFzaC1jb250YWluZXIiPjwvZGl2Pg0KICA8c2NyaXB0Pg0KICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmbGFzaC1jb250YWluZXIiKTsNCiAgICBjb25zdCBsb2FkaW5nVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nLXRleHQiKTsNCg0KICAgIGZ1bmN0aW9uIG1lcmdlU1dGUGFydHMoZmlsZVBhcnRzKSB7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBsZXQgYnVmZmVycyA9IFtdOw0KICAgICAgICBsZXQgdG90YWxTaXplID0gMDsNCiAgICAgICAgbGV0IGxvYWRlZFNpemUgPSAwOw0KDQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKCkgew0KICAgICAgICAgIGlmICh0b3RhbFNpemUgPiAwKSB7DQogICAgICAgICAgICBjb25zdCBwY3QgPSBNYXRoLnJvdW5kKChsb2FkZWRTaXplIC8gdG90YWxTaXplKSAqIDEwMCk7DQogICAgICAgICAgICBpZiAobG9hZGluZ1RleHQpIHsNCiAgICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSBgTG9hZGluZyBnYW1lLi4uICR7cGN0fSVgOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGZldGNoUGFydChpKSB7DQogICAgICAgICAgaWYgKGkgPj0gZmlsZVBhcnRzLmxlbmd0aCkgew0KICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSB7DQogICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ01lcmdpbmcgZmlsZXMuLi4nOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IG1lcmdlZEJsb2IgPSBuZXcgQmxvYihidWZmZXJzLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCcgfSk7DQogICAgICAgICAgICBsZXQgbWVyZ2VkVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChtZXJnZWRCbG9iKTsNCiAgICAgICAgICAgIHJlc29sdmUobWVyZ2VkVXJsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBmZXRjaChmaWxlUGFydHNbaV0pDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkICR7ZmlsZVBhcnRzW2ldfTogJHtyZXNwb25zZS5zdGF0dXN9YCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpOw0KICAgICAgICAgICAgICBpZiAoY29udGVudExlbmd0aCkgew0KICAgICAgICAgICAgICAgIHRvdGFsU2l6ZSArPSBwYXJzZUludChjb250ZW50TGVuZ3RoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgICBsb2FkZWRTaXplICs9IGRhdGEuYnl0ZUxlbmd0aDsNCiAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoKTsNCiAgICAgICAgICAgICAgZmV0Y2hQYXJ0KGkgKyAxKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZldGNoUGFydCgwKTsNCiAgICAgIH0pOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFNXRlBhcnRzKGJhc2VGaWxlLCBzdGFydCwgZW5kKSB7DQogICAgICBsZXQgYXJyID0gW107DQogICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHsNCiAgICAgICAgYXJyLnB1c2goYCR7YmFzZUZpbGV9LnBhcnQke2l9YCk7DQogICAgICB9DQogICAgICByZXR1cm4gYXJyOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHJlc2l6ZUdhbWUoKSB7DQogICAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0Ow0KICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSA0IC8gMzsNCiAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3Iod2luZG93V2lkdGgpOw0KICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3Iod2luZG93V2lkdGggLyBhc3BlY3RSYXRpbyk7DQogICAgICBpZiAoaGVpZ2h0ID4gd2luZG93SGVpZ2h0KSB7DQogICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3Iod2luZG93SGVpZ2h0KTsNCiAgICAgICAgd2lkdGggPSBNYXRoLmZsb29yKGhlaWdodCAqIGFzcGVjdFJhdGlvKTsNCiAgICAgIH0NCiAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDsNCiAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgOw0KICAgIH0NCg0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVHYW1lKTsNCg0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgKCkgPT4gew0KICAgICAgcmVzaXplR2FtZSgpOw0KICAgICAgDQogICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgU1dGIG1lcmdlLi4uJyk7DQogICAgICANCiAgICAgIGNvbnN0IHN3ZlBhcnRzID0gZ2V0U1dGUGFydHMoJzE5RFY1cmlkdUxFNTZKLnN3ZicsIDEsIDIpOyANCiAgICAgIA0KICAgICAgY29uc3QgdXNlU2luZ2xlRmlsZSA9IGZhbHNlOyANCiAgICAgIGNvbnN0IHNpbmdsZUZpbGVVcmwgPSAiMTlEVjVyaWR1TEU1Nkouc3dmIjsNCg0KICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB1c2VTaW5nbGVGaWxlIA0KICAgICAgICA/IFByb21pc2UucmVzb2x2ZShzaW5nbGVGaWxlVXJsKQ0KICAgICAgICA6IG1lcmdlU1dGUGFydHMoc3dmUGFydHMpOw0KDQogICAgICBsb2FkUHJvbWlzZQ0KICAgICAgICAudGhlbihzd2ZVcmwgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdTV0YgcmVhZHksIGxvYWRpbmcgaW50byBSdWZmbGUuLi4nKTsNCiAgICAgICAgICBpZiAobG9hZGluZ1RleHQpIHsNCiAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ1N0YXJ0aW5nIGdhbWUuLi4nOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGNvbnN0IHJ1ZmZsZSA9IHdpbmRvdy5SdWZmbGVQbGF5ZXI/Lm5ld2VzdCgpIHx8IHdpbmRvdy5SdWZmbGVQbGF5ZXI/LmNyZWF0ZVBsYXllcigpOw0KICAgICAgICAgIGlmIChydWZmbGUgJiYgY29udGFpbmVyKSB7DQogICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBydWZmbGUuY3JlYXRlUGxheWVyKCk7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgICAgICAgcGxheWVyLnN0eWxlLmJhY2tncm91bmQgPSAiYmxhY2siOw0KICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllcik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHBsYXllci5sb2FkKHN3ZlVybCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIGxvYWRlZCBzdWNjZXNzZnVsbHknKTsNCiAgICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSB7DQogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQucmVtb3ZlKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1J1ZmZsZSBsb2FkIGVycm9yOicsIGVycik7DQogICAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ0Vycm9yIGxvYWRpbmcgZ2FtZTogJyArIGVyci5tZXNzYWdlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignUnVmZmxlIG5vdCBhdmFpbGFibGUnKTsNCiAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICJSdWZmbGUgZmFpbGVkIHRvIGxvYWQuIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NXRiBtZXJnZSBlcnJvcjonLCBlcnIpOw0KICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSAnRXJyb3IgbG9hZGluZyBnYW1lIGZpbGVzOiAnICsgZXJyLm1lc3NhZ2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9KTsNCiAgPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+";
