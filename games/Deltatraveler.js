window.game = "PCFET0NUWVBFIGh0bWw+CgoKCjwhLS0gVWx0aW1hdGUgR2FtZSBTdGFzaCBmaWxlLS0+IAo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4KCgoKPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuLXVzIj4KPGhlYWQ+CiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ2VuaXp5L3dlYi1wb3J0QG1haW4vZGVsdGF0cmF2ZWxlci8iPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogICAgPHRpdGxlPlVuaXR5IFdlYiBQbGF5ZXIgfCBERUxUQVRSQVZFTEVSPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3JkZXI6IDA7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxRjFGMjA7CiAgICAgICAgfQogICAgICAgICN1bml0eS1jYW52YXMgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzFGMUYyMDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0ibG9hZGluZy10ZXh0IiBzdHlsZT0iY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDQ4cHg7IGZvbnQtZmFtaWx5OiBjdXJzaXZlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDIwcHg7Ij5MT0FESU5HLi4uPC9kaXY+CiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiIHRhYmluZGV4PSItMSI+PC9jYW52YXM+CiAgICAKICAgIDxzY3JpcHQgc3JjPSJCdWlsZC9ERUxUQVdFQkdMLmxvYWRlci5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsKCiAgICAgICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgewogICAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICJweCI7CiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAicHgiOwoJICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICAgICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwoKICAgICAgICAgICAgLy8gRm9yIG1vYmlsZSB2aWV3cG9ydCBzY2FsaW5nCiAgICAgICAgICAgIGxldCBtZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibWV0YVtuYW1lPXZpZXdwb3J0XSIpOwogICAgICAgICAgICBpZiAoIW1ldGEpIHsKICAgICAgICAgICAgICAgIG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgICAgICAgICAgICAgICBtZXRhLm5hbWUgPSAndmlld3BvcnQnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChtZXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtZXRhLmNvbnRlbnQgPSAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBoZWlnaHQ9ZGV2aWNlLWhlaWdodCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8sIHNocmluay10by1maXQ9eWVzJzsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVDYW52YXMpOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgcmVzaXplQ2FudmFzKTsKCiAgICAgICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9hZGluZy10ZXh0Iik7CiAgICAgICAgbGV0IHRvdGFsQnl0ZXMgPSAyNDQ1MTAwMDA7CiAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gMDsKCiAgICAgICAgZnVuY3Rpb24gZm9ybWF0U2l6ZShieXRlcykgewogICAgICAgICAgICBpZiAoYnl0ZXMgPiAxMDI0KjEwMjQqMTAyNCkgcmV0dXJuIChieXRlcyAvICgxMDI0KjEwMjQqMTAyNCkpLnRvRml4ZWQoMikgKyAiIEdCIjsKICAgICAgICAgICAgaWYgKGJ5dGVzID4gMTAyNCoxMDI0KSByZXR1cm4gKGJ5dGVzIC8gKDEwMjQqMTAyNCkpLnRvRml4ZWQoMikgKyAiIE1CIjsKICAgICAgICAgICAgaWYgKGJ5dGVzID4gMTAyNCkgcmV0dXJuIChieXRlcyAvIDEwMjQpLnRvRml4ZWQoMikgKyAiIEtCIjsKICAgICAgICAgICAgcmV0dXJuIGJ5dGVzICsgIiBCIjsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFNpemUodXJsKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbWV0aG9kOiAiSEVBRCIgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocmVzLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpIHx8ICIwIiwgMTApOwogICAgICAgICAgICB9IGNhdGNoIHsgcmV0dXJuIDA7IH0KICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aFByb2dyZXNzKHVybCkgewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7CiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7CiAgICAgICAgICAgIGxldCBjaHVua3MgPSBbXSwgcmVjZWl2ZWQgPSAwOwogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTsKICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhazsKICAgICAgICAgICAgICAgIHJlY2VpdmVkICs9IHZhbHVlLmxlbmd0aDsKICAgICAgICAgICAgICAgIGxvYWRlZEJ5dGVzICs9IHZhbHVlLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICAgIGNvbnN0IGRvbmVUZXh0ID0gZm9ybWF0U2l6ZShsb2FkZWRCeXRlcyk7CiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFRleHQgPSBmb3JtYXRTaXplKHRvdGFsQnl0ZXMpOwogICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IHRvdGFsQnl0ZXMgPiAwID8gKChsb2FkZWRCeXRlcyAvIHRvdGFsQnl0ZXMpICogMTAwKS50b0ZpeGVkKDEpIDogIj8iOwogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSBgTE9BRElORy4uLiAke2RvbmVUZXh0fSAvICR7dG90YWxUZXh0fSAoJHtwZXJjZW50fSUpYDsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZnVsbEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHJlY2VpdmVkKTsKICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7CiAgICAgICAgICAgIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykgewogICAgICAgICAgICAgICAgZnVsbEJ1ZmZlci5zZXQoY2h1bmssIG9mZnNldCk7CiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gY2h1bmsubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmdWxsQnVmZmVyLmJ1ZmZlcjsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIG1lcmdlRmlsZXMocGFydHMpIHsKICAgICAgICAgICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKHBhcnRzLm1hcChmZXRjaFdpdGhQcm9ncmVzcykpOwogICAgICAgICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihidWZmZXJzKSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRQYXJ0cyhmaWxlLCBjb3VudCkgewogICAgICAgICAgICBsZXQgcGFydHMgPSBbXTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykgcGFydHMucHVzaChmaWxlICsgIi5wYXJ0IiArIGkpOwogICAgICAgICAgICByZXR1cm4gcGFydHM7CiAgICAgICAgfQoKICAgICAgICAoYXN5bmMgKCkgPT4gewogICAgICAgICAgICBjb25zdCBkYXRhUGFydHMgPSBnZXRQYXJ0cygiQnVpbGQvREVMVEFXRUJHTC5kYXRhLnVuaXR5d2ViIiwgOSk7CiAgICAgICAgICAgIGNvbnN0IHdhc21QYXJ0cyA9IGdldFBhcnRzKCJCdWlsZC9ERUxUQVdFQkdMLndhc20udW5pdHl3ZWIiLCA1KTsKICAgICAgICAgICAgY29uc3QgW2RhdGFVcmwsIHdhc21VcmxdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgICAgICAgICAgbWVyZ2VGaWxlcyhkYXRhUGFydHMpLAogICAgICAgICAgICAgICAgbWVyZ2VGaWxlcyh3YXNtUGFydHMpCiAgICAgICAgICAgIF0pOwpzZXRJbnRlcnZhbCgoKSA9PiB7CiAgcmVzaXplQ2FudmFzKCk7Cn0sIDEwMDApOwoKICAgICAgICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIHsKICAgICAgICAgICAgICAgIGFyZ3VtZW50czogW10sCiAgICAgICAgICAgICAgICBkYXRhVXJsOiBkYXRhVXJsLAogICAgICAgICAgICAgICAgZnJhbWV3b3JrVXJsOiAiQnVpbGQvREVMVEFXRUJHTC5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLAogICAgICAgICAgICAgICAgY29kZVVybDogd2FzbVVybCwKICAgICAgICAgICAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsCiAgICAgICAgICAgICAgICBjb21wYW55TmFtZTogIlJ5bm9HRyIsCiAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogIkRFTFRBVFJBVkVMRVIiLAogICAgICAgICAgICAgICAgcHJvZHVjdFZlcnNpb246ICIzLjAuMTIuMDExMSIsCiAgICAvLyBvcHRpb25hbDogc2V0IGZ1bGxzY3JlZW4gc2NhbGluZyBtb2RlCiAgICBtYXRjaFdlYkdMVG9DYW52YXNTaXplOiB0cnVlCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQucmVtb3ZlKCk7CnJlc2l6ZUNhbnZhcygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KSgpOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg==";
