window.game = "PCEtLSBzaHh5ZGVyIC0tPgo8IS0tIHVsdGltYXRlIGdhbWUgc3Rhc2ggZmlsZSAtLT4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuLXVzIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCwgbm9mb2xsb3ciPgogIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgPHRpdGxlPmdvb2dsZS5jb208L3RpdGxlPgogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2ZhbWlsaWFwYWJsby9yZTRnbEBtYWluL1RlbXBsYXRlRGF0YS9zdHlsZS5jc3MiPgogIDxzY3JpcHQ+CiAgICBjb25zdCBvdmVybGF5QmFja2dyb3VuZENvbG9yID0gIiM1NTU1NTUiOwogICAgY29uc3QgcHJvZ3Jlc3NCYXJGaWxsQ29sb3IgPSAiI2Y3NjQyNiI7CiAgICBjb25zdCBwcm9ncmVzc0JhckJhY2tncm91bmRDb2xvciA9ICIjMDAwMDAwIjsKICAgIGNvbnN0IHByb2dyZXNzQmFyQm9yZGVyQ29sb3IgPSAiIzAwMDAwMCI7CiAgPC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHkgY2xhc3M9ImxpZ2h0Ij4KICA8ZGl2IGlkPSJ1bml0eS1jb250YWluZXIiIGNsYXNzPSJ1bml0eS1kZXNrdG9wIj4KICAgIDxjYW52YXMgaWQ9InVuaXR5LWNhbnZhcyI+PC9jYW52YXM+CiAgPC9kaXY+CiAgPGRpdiBpZD0ibG9hZGluZy1jb3ZlciIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgPGRpdiBpZD0idW5pdHktbG9hZGluZy1iYXIiPgogICAgICA8ZGl2IGlkPSJ1bml0eS1sb2dvIj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1lbXB0eSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZnVsbCI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzcGlubmVyIj48L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgogIDxzY3JpcHQ+CiAgICBjb25zdCBidWlsZFVybCA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZmFtaWxpYXBhYmxvL3JlNGdsQG1haW4vQnVpbGQiOwogICAgY29uc3QgbG9hZGVyVXJsID0gYnVpbGRVcmwgKyAiL0ZvcnR6b25lV2ViR0wxMDkubG9hZGVyLmpzIjsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgZnJhbWV3b3JrVXJsOiBidWlsZFVybCArICIvRm9ydHpvbmVXZWJHTDEwOS5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLAogICAgICBjb2RlVXJsOiBidWlsZFVybCArICIvRm9ydHpvbmVXZWJHTDEwOS53YXNtLnVuaXR5d2ViIiwKICAgICAgc3RyZWFtaW5nQXNzZXRzVXJsOiAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2ZhbWlsaWFwYWJsby9yZTRnbEBtYWluL1N0cmVhbWluZ0Fzc2V0cyIsCiAgICAgIGNvbXBhbnlOYW1lOiAiRmFocmVuaGVpdCBEZXYiLAogICAgICBwcm9kdWN0TmFtZTogIkZvcnR6b25lIEJhdHRsZSBSb3lhbGUiLAogICAgICBwcm9kdWN0VmVyc2lvbjogIjAuOC44IgogICAgfTsKICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jb250YWluZXIiKTsKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsKICAgIGNvbnN0IGxvYWRpbmdDb3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2FkaW5nLWNvdmVyIik7CiAgICBjb25zdCBwcm9ncmVzc0JhckVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1lbXB0eSIpOwogICAgY29uc3QgcHJvZ3Jlc3NCYXJGdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1mdWxsIik7CiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNwaW5uZXIiKTsKICAgIGlmIChvdmVybGF5QmFja2dyb3VuZENvbG9yICE9PSAiLSIgJiYgb3ZlcmxheUJhY2tncm91bmRDb2xvciAhPT0gIiAiICYmIG92ZXJsYXlCYWNrZ3JvdW5kQ29sb3IgIT09ICIiKSBjYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IG92ZXJsYXlCYWNrZ3JvdW5kQ29sb3I7CiAgICBpZiAocHJvZ3Jlc3NCYXJGaWxsQ29sb3IgIT09ICItIiAmJiBwcm9ncmVzc0JhckZpbGxDb2xvciAhPT0gIiAiICYmIHByb2dyZXNzQmFyRmlsbENvbG9yICE9PSAiIikgcHJvZ3Jlc3NCYXJGdWxsLnN0eWxlLmJhY2tncm91bmQgPSBwcm9ncmVzc0JhckZpbGxDb2xvcjsKICAgIGlmIChwcm9ncmVzc0JhckJhY2tncm91bmRDb2xvciAhPT0gIi0iICYmIHByb2dyZXNzQmFyQmFja2dyb3VuZENvbG9yICE9PSAiICIgJiYgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29sb3IgIT09ICIiKSBwcm9ncmVzc0JhckVtcHR5LnN0eWxlLmJhY2tncm91bmQgPSBwcm9ncmVzc0JhckJhY2tncm91bmRDb2xvcjsKICAgIGlmIChwcm9ncmVzc0JhckJvcmRlckNvbG9yICE9PSAiLSIgJiYgcHJvZ3Jlc3NCYXJCb3JkZXJDb2xvciAhPT0gIiAiICYmIHByb2dyZXNzQmFyQm9yZGVyQ29sb3IgIT09ICIiKSBwcm9ncmVzc0JhckVtcHR5LnN0eWxlLmJvcmRlci5jb2xvciA9IHByb2dyZXNzQmFyQm9yZGVyQ29sb3I7CiAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICJ1bml0eS1tb2JpbGUiOwogICAgfQogICAgbG9hZGluZ0NvdmVyLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAgIGNvbnN0IHVuaXR5TG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICB1bml0eUxvYWRlci5zcmMgPSBsb2FkZXJVcmw7CiAgICB1bml0eUxvYWRlci5vbmxvYWQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHBhcnRDb3VudCA9IDQ7CiAgICAgIGNvbnN0IHBhcnRzID0gW107CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHBhcnRDb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGFydFVybCA9IGJ1aWxkVXJsICsgYC9Gb3J0em9uZVdlYkdMMTA5LmRhdGFfcGFydCR7aX0udW5pdHl3ZWJgOwogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhcnRVcmwpOwogICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcnQgJHtpfSB5w7xrbGVuZW1lZGk6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTsKICAgICAgICAgIHBhcnRzLnB1c2goYXJyYXlCdWZmZXIpOwogICAgICAgICAgY29uc29sZS5sb2coYFBhcnQgJHtpfSB5w7xrbGVuZGk6ICR7YXJyYXlCdWZmZXIuYnl0ZUxlbmd0aH0gYnl0ZWApOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgIGFsZXJ0KGBIYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCB0b3RhbExlbmd0aCA9IDA7CiAgICAgIGZvciAobGV0IGFiIG9mIHBhcnRzKSB7CiAgICAgICAgdG90YWxMZW5ndGggKz0gYWIuYnl0ZUxlbmd0aDsKICAgICAgfQogICAgICBjb25zdCBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7CiAgICAgIGxldCBvZmZzZXQgPSAwOwogICAgICBmb3IgKGxldCBhYiBvZiBwYXJ0cykgewogICAgICAgIG1lcmdlZC5zZXQobmV3IFVpbnQ4QXJyYXkoYWIpLCBvZmZzZXQpOwogICAgICAgIG9mZnNldCArPSBhYi5ieXRlTGVuZ3RoOwogICAgICB9CiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbWVyZ2VkXSwgeyB0eXBlOiAiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIiB9KTsKICAgICAgY29uc3QgZGF0YVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgIGNvbmZpZy5kYXRhVXJsID0gZGF0YVVybDsKICAgICAgY29uc29sZS5sb2coYEJpcmxlxZ90aXJtZSB0YW1hbWxhbmTEsS4gVG9wbGFtIGJveXV0OiAke3RvdGFsTGVuZ3RofSBieXRlYCk7CiAgICAgIGNyZWF0ZVVuaXR5SW5zdGFuY2UoY2FudmFzLCBjb25maWcsIHByb2dyZXNzID0+IHsKICAgICAgICBzcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgcHJvZ3Jlc3NCYXJFbXB0eS5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgcHJvZ3Jlc3NCYXJGdWxsLnN0eWxlLndpZHRoID0gYCR7MTAwICogcHJvZ3Jlc3N9JWA7CiAgICAgIH0pLnRoZW4odW5pdHlJbnN0YW5jZSA9PiB7CiAgICAgICAgd2luZG93LnVuaXR5SW5zdGFuY2UgPSB1bml0eUluc3RhbmNlOwogICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9KS5jYXRjaChtZXNzYWdlID0+IHsKICAgICAgICBhbGVydChtZXNzYWdlKTsKICAgICAgfSk7CiAgICB9OwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh1bml0eUxvYWRlcik7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsICgpID0+IHsKICAgICAgY29udGFpbmVyLmZvY3VzKCk7CiAgICAgIHdpbmRvdy5mb2N1cygpOwogICAgICBjYW52YXMuZm9jdXMoKTsKICAgIH0pOwogIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K";
