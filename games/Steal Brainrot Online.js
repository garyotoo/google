window.game = "DQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KDQoNCg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbi11cyI+DQogIDxoZWFkPg0KICAgIDxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nZW5penkvY2ctcmlwQG1haW4vc3RlYWwtYnJhaW5yb3Qtb25saW5lLyI+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDwvaGVhZD4NCiAgPGJvZHkgc3R5bGU9Im1hcmdpbjowO3BhZGRpbmc6MCIgY2xhc3M9Im5vc2VsZWN0Ij4NCiAgICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiIHN0eWxlPSJjb2xvcjogYmxhY2s7IGZvbnQtc2l6ZTogNDhweDsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPkxPQURJTkcuLi48L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lIj48L2NhbnZhcz4NCg0KICAgIDxzY3JpcHQ+DQogICAgY29uc3QgU1BMSVRfTUFQID0geyJTdGVhbE1lbWVfQ3Jhenkud2FzbSI6IG51bGx9Ow0KICAgIDwvc2NyaXB0Pg0KDQogICAgPHNjcmlwdD4NCiAgICBhc3luYyBmdW5jdGlvbiBtZXJnZVBhcnRzKGJhc2VVcmwpIHsNCiAgICAgIGNvbnN0IHBhcnRzID0gW107DQogICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA5OTsgaSsrKSB7DQogICAgICAgIGNvbnN0IHRlc3RVcmwgPSBiYXNlVXJsICsgIi5wYXJ0IiArIGk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgaGVhZCA9IGF3YWl0IGZldGNoKHRlc3RVcmwsIHsgbWV0aG9kOiAiSEVBRCIgfSk7DQogICAgICAgICAgaWYgKCFoZWFkLm9rKSBicmVhazsNCiAgICAgICAgICBwYXJ0cy5wdXNoKHRlc3RVcmwpOw0KICAgICAgICB9IGNhdGNoIHsgYnJlYWs7IH0NCiAgICAgIH0NCiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHJldHVybiBiYXNlVXJsOw0KDQogICAgICBjb25zdCBidWZmZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwocGFydHMubWFwKGFzeW5jICh1KSA9PiB7DQogICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1KTsNCiAgICAgICAgaWYgKCFyLm9rKSB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCBwYXJ0ICIgKyB1KTsNCiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IHIuYXJyYXlCdWZmZXIoKSk7DQogICAgICB9KSk7DQoNCiAgICAgIGNvbnN0IHRvdGFsID0gYnVmZmVycy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLmxlbmd0aCwgMCk7DQogICAgICBjb25zdCBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbCk7DQogICAgICBsZXQgb2Zmc2V0ID0gMDsNCiAgICAgIGZvciAoY29uc3QgYiBvZiBidWZmZXJzKSB7IG1lcmdlZC5zZXQoYiwgb2Zmc2V0KTsgb2Zmc2V0ICs9IGIubGVuZ3RoOyB9DQoNCiAgICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFttZXJnZWRdKSk7DQogICAgfQ0KDQogICAgYXN5bmMgZnVuY3Rpb24gcHJlTWVyZ2VBbGwoKSB7DQogICAgICBjb25zdCBtYXAgPSB7fTsNCiAgICAgIGNvbnN0IGZpbGVzID0gT2JqZWN0LmVudHJpZXMoU1BMSVRfTUFQKTsNCiAgICAgIGNvbnN0IHRvdGFsID0gZmlsZXMubGVuZ3RoOw0KICAgICAgbGV0IGRvbmUgPSAwOw0KDQogICAgICBjb25zdCBsb2FkaW5nVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nLXRleHQiKTsNCg0KICAgICAgZm9yIChjb25zdCBbZmlsZSwgX10gb2YgZmlsZXMpIHsNCiAgICAgICAgY29uc3QgbWVyZ2VkID0gYXdhaXQgbWVyZ2VQYXJ0cygiQnVpbGQvIiArIGZpbGUpOw0KICAgICAgICBtYXBbZmlsZV0gPSBtZXJnZWQ7DQogICAgICAgIGRvbmUrKzsNCiAgICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGguZmxvb3IoKGRvbmUgLyB0b3RhbCkgKiAxMDApOw0KICAgICAgICBsb2FkaW5nVGV4dC5pbm5lclRleHQgPSBgTE9BRElORy4uLiAke3BlcmNlbnR9JWA7DQogICAgICAgIGNvbnNvbGUubG9nKCJQcmVtZXJnZWQ6IiwgZmlsZSwgIuKGkiIsIG1lcmdlZCk7DQogICAgICB9DQoNCiAgICAgIGxvYWRpbmdUZXh0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoNCiAgICAgIHJldHVybiBtYXA7DQogICAgfQ0KDQogICAgKGFzeW5jICgpID0+IHsNCiAgICAgIGNvbnN0IG1lcmdlZE1hcCA9IGF3YWl0IHByZU1lcmdlQWxsKCk7DQogICAgICB3aW5kb3cuU1BMSVRfTUFQID0gbWVyZ2VkTWFwOw0KICAgICAgY29uc3Qgb3JpZ0ZldGNoID0gd2luZG93LmZldGNoOw0KICAgICAgd2luZG93LmZldGNoID0gYXN5bmMgZnVuY3Rpb24ocmVzb3VyY2UsIG9wdGlvbnMpIHsNCiAgICAgICAgaWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gInN0cmluZyIpIHsNCiAgICAgICAgICBjb25zdCBrZXkgPSByZXNvdXJjZS5zcGxpdCgiLyIpLnBvcCgpOw0KICAgICAgICAgIGlmIChtZXJnZWRNYXBba2V5XSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIlJlZGlyZWN0IGZldGNoOiIsIGtleSk7DQogICAgICAgICAgICByZXR1cm4gb3JpZ0ZldGNoKG1lcmdlZE1hcFtrZXldLCBvcHRpb25zKTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHJlc291cmNlLmluY2x1ZGVzKCJTdHJlYW1pbmdBc3NldHMiKSkgew0KICAgICAgICAgICAgcmV0dXJuIG9yaWdGZXRjaCgoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpLmhyZWYgIT09IG51bGwgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJykuaHJlZisiLyIgOiAiIikgKyAiU3RyZWFtaW5nQXNzZXRzLyIrcmVzb3VyY2Uuc3BsaXQoIi9TdHJlYW1pbmdBc3NldHMvIilbMV0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvcmlnRmV0Y2gocmVzb3VyY2UsIG9wdGlvbnMpOw0KICAgICAgfTsNCg0KICAgICAgY29uc3QgT3JpZ1hIUiA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDsNCiAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBjb25zdCB4aHIgPSBuZXcgT3JpZ1hIUigpOw0KICAgICAgICBjb25zdCBvcmlnT3BlbiA9IHhoci5vcGVuOw0KICAgICAgICB4aHIub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCAuLi5yZXN0KSB7DQogICAgICAgICAgY29uc3Qga2V5ID0gdXJsLnNwbGl0KCIvIikucG9wKCk7DQogICAgICAgICAgaWYgKG1lcmdlZE1hcFtrZXldKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVkaXJlY3QgWEhSOiIsIGtleSk7DQogICAgICAgICAgICBvcmlnT3Blbi5jYWxsKHhociwgbWV0aG9kLCBtZXJnZWRNYXBba2V5XSwgLi4ucmVzdCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIG9yaWdPcGVuLmNhbGwoeGhyLCBtZXRob2QsIHVybCwgLi4ucmVzdCk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4geGhyOw0KICAgICAgfTsNCg0KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LWNhbnZhcyIpOw0KICAgICAgY29uc3QgbG9hZGVyVXJsID0gIkJ1aWxkL1N0ZWFsTWVtZV9DcmF6eS5sb2FkZXIuanMiOw0KICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICBkYXRhVXJsOiAiQnVpbGQvU3RlYWxNZW1lX0NyYXp5LmRhdGEiLA0KICAgICAgICBmcmFtZXdvcmtVcmw6ICJCdWlsZC9TdGVhbE1lbWVfQ3JhenkuZnJhbWV3b3JrLmpzIiwNCiAgICAgICAgY29kZVVybDogIkJ1aWxkL1N0ZWFsTWVtZV9DcmF6eS53YXNtIiwNCiAgICAgICAgc3RyZWFtaW5nQXNzZXRzVXJsOiAiU3RyZWFtaW5nQXNzZXRzIiwNCiAgICAgICAgY29tcGFueU5hbWU6ICJTdGVhbCBCcmFpbnJvdCBPbmxpbmUiLA0KICAgICAgICBwcm9kdWN0TmFtZTogIlN0ZWFsIEJyYWlucm90IE9ubGluZSIsDQogICAgICAgIHByb2R1Y3RWZXJzaW9uOiAiMS4wLjAiDQogICAgICB9Ow0KDQogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsNCiAgICAgIHNjcmlwdC5zcmMgPSBsb2FkZXJVcmw7DQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gew0KICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHt9KS50aGVuKCh1bml0eUluc3RhbmNlKSA9PiB7DQogICAgICAgICAgd2luZG93LmdhbWVJbnN0YW5jZSA9IHVuaXR5SW5zdGFuY2U7DQogICAgICAgIH0pLmNhdGNoKChtZXNzYWdlKSA9PiBhbGVydChtZXNzYWdlKSk7DQogICAgICB9Ow0KICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOw0KICAgIH0pKCk7DQogICAgPC9zY3JpcHQ+DQoNCiAgICA8c2NyaXB0Pg0KICAgIGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcygpIHsNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bml0eS1jYW52YXMiKTsNCiAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgInB4IjsNCiAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAicHgiOw0KICAgIH0NCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlc2l6ZUNhbnZhcyk7DQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZUNhbnZhcyk7DQogICAgPC9zY3JpcHQ+DQogIDwvYm9keT4NCjwvaHRtbD4NCg==";
