window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPiAKCjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+Cgo8aGVhZD4KCTxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nZW5penkvUXVha2UzQG1hc3Rlci8iPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPlF1YWtlIElJSSBBcmVuYTwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IlF1YWtlMy5jc3MiPgo8L2hlYWQ+Cgo8Ym9keT4KCTxkaXYgaWQ9ImxvYWRpbmctdGV4dCIgc3R5bGU9ImNvbG9yOiBibGFjazsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IGZvbnQtc2l6ZTogNDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOiAyMHB4OyI+TE9BRElORy4uLjwvZGl2PgogICAgPGRpdiBpZD0idmlld3BvcnQtZnJhbWUiPjwvZGl2PgogICAgPHNjcmlwdCBzcmM9ImFsZXJ0Q3VzdG9tLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQ+CiAgICAgICAgdmFyIHVzZXJMYW5ndWFnZSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U7CiAgICAgICAgdmFyIFNUUklOR19FUlJPUl9USVRMRSA9ICIiOwogICAgICAgIHZhciBTVFJJTkdfRVJST1JfTUVTU0FHRSA9ICIiOwogICAgICAgIHZhciBTVFJJTkdfRVJST1JfT0sgPSAiIjsKICAgICAgICB2YXIgcHJvZmlsZURhdGEgPSBudWxsOwogICAgICAgIHZhciBDVFJMU19JRExFID0gMDsKICAgICAgICBpZiAodXNlckxhbmd1YWdlLnN1YnN0cmluZygwLCAyKSA9PSAiZXMiKSB7CiAgICAgICAgICAgIFNUUklOR19FUlJPUl9USVRMRSA9ICJNRU5TQUpFIjsKICAgICAgICAgICAgU1RSSU5HX0VSUk9SX01FU1NBR0UgPSAiRGViZSBzZWxlY2Npb25hciBlbCBhcmNoaXZvPGJyLz5xM2NvbmZpZy5jZmcgcXVlIGNvbnRpZW5lIHN1PGJyLz5wZXJmaWwgZGUgUXVha2UgSUlJIEFyZW5hLiI7CiAgICAgICAgICAgIFNUUklOR19FUlJPUl9PSyA9ICJBY2VwdGFyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTVFJJTkdfRVJST1JfVElUTEUgPSAiTUVTU0FHRSI7CiAgICAgICAgICAgIFNUUklOR19FUlJPUl9NRVNTQUdFID0gIllvdSBtdXN0IHNlbGVjdCB0aGUgcTNjb25maWcuY2ZnIGZpbGUuIEl0IGhhcyB5b3VyIFF1YWtlIElJSSBBcmVuYSBwcm9maWxlLiI7CiAgICAgICAgICAgIFNUUklOR19FUlJPUl9PSyA9ICJPSyI7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtZXJnZUZpbGVzKGZpbGVQYXJ0cykgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGJ1ZmZlcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmZXRjaFBhcnQoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gZmlsZVBhcnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVyZ2VkQmxvYiA9IG5ldyBCbG9iKGJ1ZmZlcnMpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVyZ2VkRmlsZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobWVyZ2VkQmxvYik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobWVyZ2VkRmlsZVVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmV0Y2goZmlsZVBhcnRzW2luZGV4XSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFBhcnQoaW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmV0Y2hQYXJ0KDApOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFBhcnRzKGZpbGUsIHN0YXJ0LCBlbmQpIHsKICAgICAgICAgICAgbGV0IHBhcnRzID0gW107CiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykgewogICAgICAgICAgICAgICAgcGFydHMucHVzaChmaWxlICsgIi5wYXJ0IiArIGkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBwYXJ0czsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJ1blF1YWtlMygpIHsKICAgICAgICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgICAgICAgICAgbWVyZ2VGaWxlcyhnZXRQYXJ0cygiUXVha2UzLmpzIiwgMSwgMykpCiAgICAgICAgICAgIF0pLnRoZW4oKFtxdWFrZTNqc21lcmdlZF0pID0+IHsKICAgICAgICAgICAgICAgIHRyeSB7CgkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctdGV4dCIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIC8vIExPQURJTkcgQU5EIFJVTk5JTkcgUVVBS0UgMwogICAgICAgICAgICAgICAgICAgIHZhciBxdWFrZUxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICAgICAgICAgICAgICAgIHF1YWtlTG9hZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW9xMy52aWV3cG9ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWV3cG9ydC1mcmFtZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBpb3EzLmVsZW1lbnRQb2ludGVyTG9jayA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlvcTMuZXhpdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW9xMy5jYWxsTWFpbigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBxdWFrZUxvYWRlci5zcmMgPSBxdWFrZTNqc21lcmdlZDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHF1YWtlTG9hZGVyKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtb3VzZUNoZWNrZXIoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIWlvcTMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgZ29CYWNrQnV0dG9uUmVzZXRJbmNyZW1lbnQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGdvQmFja0J1dHRvblRpbWVySW5jcmVtZW50KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdvQmFja0J1dHRvblJlc2V0SW5jcmVtZW50KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgQ1RSTFNfSURMRSA9IDA7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdvQmFja0J1dHRvblRpbWVySW5jcmVtZW50KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgQ1RSTFNfSURMRSA9IENUUkxTX0lETEUgKyAxOwogICAgICAgICAgICAgICAgaWYgKENUUkxTX0lETEUgPj0gMykgewogICAgICAgICAgICAgICAgICAgIC8vIEhJREVTIFRIRSBET1dOTE9BRCBCVVRUT04KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fQogICAgICAgIH0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIFBST0ZJTEUgTUFOQUdNRU5UIEZVTkNUSU9OUwogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvZmlsZURhdGEoKSB7CiAgICAgICAgICAgIGlmIChwcm9maWxlRGF0YSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBwcm9maWxlRGF0YTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyUHJvZmlsZURhdGEoKSB7CiAgICAgICAgICAgIHByb2ZpbGVEYXRhID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkUHJvZmlsZURhdGEoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgcmF3UmVhZGluZyA9IEZTLnJlYWRGaWxlKCIvYmFzZS9iYXNlcTMvcTNjb25maWcuY2ZnIik7CiAgICAgICAgICAgICAgICB2YXIgZmlsZUFzQXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdSZWFkaW5nKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkX0Jsb2IoZmlsZUFzQXJyYXksICJxM2NvbmZpZy5jZmciLCAiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkX0Jsb2IoZGF0YSwgZmlsZU5hbWUsIG1pbWVUeXBlKSB7CiAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBtaW1lVHlwZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgICBkb3dubG9hZF9VUkwodXJsLCBmaWxlTmFtZSk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRfVVJMKGRhdGEsIGZpbGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBhOwogICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICBhLmhyZWYgPSBkYXRhOwogICAgICAgICAgICBhLmRvd25sb2FkID0gZmlsZU5hbWU7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgIGEuc3R5bGUgPSAiZGlzcGxheTogbm9uZSI7CiAgICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlYWRGaWxlKGZpbGVzKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyBDSEVDS0lORyBJRiBUSEUgSVMgVEhFIFFVQUtFIDMgUFJPRklMRS9TQVZFR0FNRSBGSUxFCiAgICAgICAgICAgICAgICBpZiAoZmlsZXNbMF0ubmFtZS50b0xvd2VyQ2FzZSgpID09ICJxM2NvbmZpZy5jZmciKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQ1JFQVRJTkcgVEhFIEZJTEUgUkVBREVSCiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVyZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgICAgIC8vIFNFVFRJTkcgVEhFIEZJTEVOQU1FCiAgICAgICAgICAgICAgICAgICAgZmlsZXJlYWRlci5maWxlX25hbWUgPSBmaWxlc1swXS5uYW1lOwogICAgICAgICAgICAgICAgICAgIC8vIFNFVFRJTkcgV0hBVCBXSUxMIEhBUFBFTiBXSEVOIFRIRSBGSUxFIElTIFJFQUQKICAgICAgICAgICAgICAgICAgICBmaWxlcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU0VUVElORyBUSEUgRklMRSBDT05URU5UCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhID0gdGhpcy5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENMRUFSSU5HIFRIRSBTRUxFQ1RFRCBGSUxFIFZBTFVFCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNUQVJUSU5HIFFVQUtFIElJSSBBUkVOQQogICAgICAgICAgICAgICAgICAgICAgICBydW5RdWFrZTMoKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIC8vIFJFQURJTkcgVEhFIEZJTEUKICAgICAgICAgICAgICAgICAgICBmaWxlcmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbMF0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBDTEVBUklORyBUSEUgU0VMRUNURUQgRklMRSBWQUxVRQogICAgICAgICAgICAgICAgICAgIC8vIFNIT1dJTkcgQSBNRVNTQUdFIFNBWUlORyBUSEFUIFlPVSBDQU4gT05MWSBTRUxFQ1QgVEhFIFFVQUtFIDMgUFJPRklMRS9TQVZFR0FNRSBGSUxFCiAgICAgICAgICAgICAgICAgICAgYWxlcnRDdXN0b20oU1RSSU5HX0VSUk9SX1RJVExFLCBTVFJJTkdfRVJST1JfTUVTU0FHRSwgU1RSSU5HX0VSUk9SX09LLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICB9CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIENIRUNLSU5HIElGIFRIRSBHQU1FIElTIE5PVCBSVU5OSU5HIFdJVEhJTiBBTiBJRlJBTUUKICAgICAgICAgICAgaWYgKHdpbmRvdy50b3AgPT0gd2luZG93LnNlbGYpIHsKICAgICAgICAgICAgICAgIC8vIENMRUFSSU5HIFRIRSBTRUxFQ1RFRCBGSUxFIFZBTFVFCiAgICAgICAgICAgICAgICBydW5RdWFrZTMoKQogICAgICAgICAgICAgICAgLy8gSEFORExJTkcgVEhFIE1PVVNFIEJFSEFWSU9SCiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChnb0JhY2tCdXR0b25UaW1lckluY3JlbWVudCwgMTAwMCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG1vdXNlQ2hlY2tlciwgZmFsc2UpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZGJsY2xpY2siLCBtb3VzZUNoZWNrZXIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIG1vdXNlQ2hlY2tlciwgZmFsc2UpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLCBtb3VzZUNoZWNrZXIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIiwgbW91c2VDaGVja2VyLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsIG1vdXNlQ2hlY2tlciwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghaW9xMy5jYW52YXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgoZG9jdW1lbnRbIndlYmtpdEZ1bGxTY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIm1vekZ1bGxTY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIm1vekZ1bGxzY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbImZ1bGxTY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbImZ1bGxzY3JlZW5FbGVtZW50Il0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpb3EzLnNldENhbnZhc1NpemUoaW9xMy52aWV3cG9ydC5vZmZzZXRXaWR0aCwgaW9xMy52aWV3cG9ydC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgICAgfSk7CiAgICA8L3NjcmlwdD4KPC9ib2R5PgoKPC9odG1sPg==";
