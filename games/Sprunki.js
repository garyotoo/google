window.game = "DQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KPCEtLSBNYWRlIGJ5IEdlbml6eS0tPiANCg0KDQoNCjwhRE9DVFlQRSBodG1sPg0KPGh0bWw+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ2VuaXp5L3NwcnVua2kvIj4NCiAgPHRpdGxlPlNwcnVua2k8L3RpdGxlPg0KICA8c3R5bGU+DQogICAgYm9keSB7DQogICAgICBjb2xvcjogI2ZmZmZmZjsNCiAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIHBhZGRpbmc6IDA7DQogICAgfQ0KICAgIDpyb290LCBib2R5LmlzLWZ1bGxzY3JlZW4gew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDsNCiAgICB9DQogICAgW2hpZGRlbl0gew0KICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Ow0KICAgIH0NCiAgICBoMSB7DQogICAgICBmb250LXdlaWdodDogbm9ybWFsOw0KICAgIH0NCiAgICBhIHsNCiAgICAgIGNvbG9yOiBpbmhlcml0Ow0KICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KDQogICAgI2FwcCwgI2xvYWRpbmcsICNlcnJvciwgI2xhdW5jaCB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IDA7DQogICAgICBsZWZ0OiAwOw0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgfQ0KICAgIC5zY3JlZW4gew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBjdXJzb3I6IGRlZmF1bHQ7DQogICAgICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICAgIH0NCiAgICAjbGF1bmNoIHsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB9DQogICAgLmdyZWVuLWZsYWcgew0KICAgICAgd2lkdGg6IDgwcHg7DQogICAgICBoZWlnaHQ6IDgwcHg7DQogICAgICBwYWRkaW5nOiAxNnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSk7DQogICAgICBib3JkZXI6IDNweCBzb2xpZCBoc2xhKDAsIDEwMCUsIDEwMCUsIDEpOw0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgfQ0KICAgICNsb2FkaW5nIHsNCiAgICAgIA0KICAgIH0NCiAgICAucHJvZ3Jlc3MtYmFyLW91dGVyIHsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGN1cnJlbnRDb2xvcjsNCiAgICAgIGhlaWdodDogMTBweDsNCiAgICAgIHdpZHRoOiAyMDBweDsNCiAgICAgIG1heC13aWR0aDogMjAwcHg7DQogICAgfQ0KICAgIC5wcm9ncmVzcy1iYXItaW5uZXIgew0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgd2lkdGg6IDA7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Q29sb3I7DQogICAgfQ0KICAgIC5sb2FkaW5nLXRleHQsIG5vc2NyaXB0IHsNCiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogICAgICBmb250LXNpemU6IDM2cHg7DQogICAgICBtYXJnaW46IDAgMCAxNnB4Ow0KICAgIH0NCiAgICAubG9hZGluZy1pbWFnZSB7DQogICAgICBtYXJnaW46IDAgMCAxNnB4Ow0KICAgIH0NCiAgICAjZXJyb3ItbWVzc2FnZSwgI2Vycm9yLXN0YWNrIHsNCiAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7DQogICAgICBtYXgtd2lkdGg6IDYwMHB4Ow0KICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICAgICAgdXNlci1zZWxlY3Q6IHRleHQ7DQogICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0Ow0KICAgIH0NCiAgICAjZXJyb3Itc3RhY2sgew0KICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgIG1heC1oZWlnaHQ6IDIwMHB4Ow0KICAgICAgb3ZlcmZsb3c6IGF1dG87DQogICAgfQ0KICAgIC5jb250cm9sLWJ1dHRvbiB7DQogICAgICB3aWR0aDogMnJlbTsNCiAgICAgIGhlaWdodDogMnJlbTsNCiAgICAgIHBhZGRpbmc6IDAuMzc1cmVtOw0KICAgICAgbWFyZ2luLXRvcDogMC41cmVtOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOw0KICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgYm9yZGVyOiAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIH0NCiAgICAuY29udHJvbC1idXR0b24taGlnaGxpZ2h0OmhvdmVyIHsNCiAgICAgIGJhY2tncm91bmQ6ICNmZjRjNGMyNjsNCiAgICB9DQogICAgLmNvbnRyb2wtYnV0dG9uLWhpZ2hsaWdodC5hY3RpdmUgew0KICAgICAgYmFja2dyb3VuZDogI2ZmNGM0YzU5Ow0KICAgIH0NCiAgICAuZnVsbHNjcmVlbi1idXR0b24gew0KICAgICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgfQ0KICAgIC5zdGFuZGFsb25lLWZ1bGxzY3JlZW4tYnV0dG9uIHsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHRvcDogMDsNCiAgICAgIHJpZ2h0OiAwOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDAgNHB4Ow0KICAgICAgcGFkZGluZzogNHB4Ow0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIH0NCiAgICAuc2MtY2FudmFzIHsNCiAgICAgIGN1cnNvcjogYXV0bzsNCiAgICB9DQogICAgLnNjLW1vbml0b3Itcm9vdFtkYXRhLW9wY29kZV49ImRhdGFfIl0gLnNjLW1vbml0b3ItdmFsdWUtY29sb3Igew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOGMxYTsNCiAgICB9DQogICAgLnNjLW1vbml0b3Itcm93LXZhbHVlLW91dGVyIHsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmYzY2MmM7DQogICAgfQ0KICAgIC5zYy1tb25pdG9yLXJvdy12YWx1ZS1lZGl0aW5nIC5zYy1tb25pdG9yLXJvdy12YWx1ZS1vdXRlciB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTI1YjI3Ow0KICAgIH0NCiAgICANCiAgPC9zdHlsZT4NCiAgPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IiMwMDAwMDAiPg0KICANCjwvaGVhZD4NCjxib2R5Pg0KICA8ZGl2IGlkPSJhcHAiPjwvZGl2Pg0KDQogIDxkaXYgaWQ9ImxhdW5jaCIgY2xhc3M9InNjcmVlbiIgaGlkZGVuIHRpdGxlPSJDbGljayB0byBzdGFydCI+DQogICAgPGRpdiBjbGFzcz0iZ3JlZW4tZmxhZyI+DQogICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxNi42MyAxNy41IiB3aWR0aD0iNDIiIGhlaWdodD0iNDQiPg0KICAgICAgICA8ZGVmcz48c3R5bGU+LmNscy0xLC5jbHMtMntmaWxsOiM0Y2JmNTY7c3Ryb2tlOiM0NTk5M2Q7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30uY2xzLTJ7c3Ryb2tlLXdpZHRoOjEuNXB4O308L3N0eWxlPjwvZGVmcz4NCiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNLjc1LDJBNi40NCw2LjQ0LDAsMCwxLDguNDQsMmgwYTYuNDQsNi40NCwwLDAsMCw3LjY5LDBWMTIuNGE2LjQ0LDYuNDQsMCwwLDEtNy42OSwwaDBhNi40NCw2LjQ0LDAsMCwwLTcuNjksMCIvPg0KICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTIiIHgxPSIwLjc1IiB5MT0iMTYuNzUiIHgyPSIwLjc1IiB5Mj0iMC43NSIvPg0KICAgICAgPC9zdmc+DQogICAgPC9kaXY+DQogIDwvZGl2Pg0KDQogIDxkaXYgaWQ9ImxvYWRpbmciIGNsYXNzPSJzY3JlZW4iPg0KICAgIDxub3NjcmlwdD5FbmFibGUgSmF2YVNjcmlwdDwvbm9zY3JpcHQ+DQogICAgDQogICAgDQogICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyLW91dGVyIj48ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXItaW5uZXIiIGlkPSJsb2FkaW5nLWlubmVyIj48L2Rpdj48L2Rpdj4NCiAgPC9kaXY+DQoNCiAgPGRpdiBpZD0iZXJyb3IiIGNsYXNzPSJzY3JlZW4iIGhpZGRlbj4NCiAgICA8aDE+RXJyb3I8L2gxPg0KICAgIDxkZXRhaWxzPg0KICAgICAgPHN1bW1hcnkgaWQ9ImVycm9yLW1lc3NhZ2UiPjwvc3VtbWFyeT4NCiAgICAgIDxwIGlkPSJlcnJvci1zdGFjayI+PC9wPg0KICAgIDwvZGV0YWlscz4NCiAgPC9kaXY+DQoNCiAgPHNjcmlwdCBzcmM9InNjcmlwdC5qcyI+PC9zY3JpcHQ+DQogIDxzY3JpcHQ+DQogICAgY29uc3QgYXBwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKTsNCiAgICBjb25zdCBsYXVuY2hTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoJyk7DQogICAgY29uc3QgbG9hZGluZ1NjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJyk7DQogICAgY29uc3QgbG9hZGluZ0lubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmctaW5uZXInKTsNCiAgICBjb25zdCBlcnJvclNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvcicpOw0KICAgIGNvbnN0IGVycm9yU2NyZWVuTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1tZXNzYWdlJyk7DQogICAgY29uc3QgZXJyb3JTY3JlZW5TdGFjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1zdGFjaycpOw0KDQogICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3IpID0+IHsNCiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgaWYgKCFlcnJvclNjcmVlbi5oaWRkZW4pIHJldHVybjsNCiAgICAgIGVycm9yU2NyZWVuLmhpZGRlbiA9IGZhbHNlOw0KICAgICAgZXJyb3JTY3JlZW5NZXNzYWdlLnRleHRDb250ZW50ID0gJycgKyBlcnJvcjsNCiAgICAgIGxldCBkZWJ1ZyA9IGVycm9yICYmIGVycm9yLnN0YWNrIHx8ICdubyBzdGFjayc7DQogICAgICBkZWJ1ZyArPSAnXG5Vc2VyIGFnZW50OiAnICsgbmF2aWdhdG9yLnVzZXJBZ2VudDsNCiAgICAgIGVycm9yU2NyZWVuU3RhY2sudGV4dENvbnRlbnQgPSBkZWJ1ZzsNCiAgICB9Ow0KICAgIGNvbnN0IHNldFByb2dyZXNzID0gKHByb2dyZXNzKSA9PiB7DQogICAgICBpZiAobG9hZGluZ0lubmVyKSBsb2FkaW5nSW5uZXIuc3R5bGUud2lkdGggPSBwcm9ncmVzcyAqIDEwMCArICclJzsNCiAgICB9Ow0KICAgIGNvbnN0IGludGVycG9sYXRlID0gKGEsIGIsIHQpID0+IGEgKyB0ICogKGIgLSBhKTsNCg0KICAgIHRyeSB7DQogICAgICBzZXRQcm9ncmVzcygwLjEpOw0KDQogICAgICBjb25zdCBzY2FmZm9sZGluZyA9IG5ldyBTY2FmZm9sZGluZy5TY2FmZm9sZGluZygpOw0KICAgICAgc2NhZmZvbGRpbmcud2lkdGggPSA0ODA7DQogICAgICBzY2FmZm9sZGluZy5oZWlnaHQgPSAzNjA7DQogICAgICBzY2FmZm9sZGluZy5yZXNpemVNb2RlID0gInByZXNlcnZlLXJhdGlvIjsNCiAgICAgIHNjYWZmb2xkaW5nLmVkaXRhYmxlTGlzdHMgPSBmYWxzZTsNCiAgICAgIHNjYWZmb2xkaW5nLnVzZVBhY2thZ2VkUnVudGltZSA9IHRydWU7DQogICAgICBzY2FmZm9sZGluZy5zZXR1cCgpOw0KICAgICAgc2NhZmZvbGRpbmcuYXBwZW5kVG8oYXBwRWxlbWVudCk7DQoNCiAgICAgIGNvbnN0IHZtID0gc2NhZmZvbGRpbmcudm07DQogICAgICB3aW5kb3cuc2NhZmZvbGRpbmcgPSBzY2FmZm9sZGluZzsNCiAgICAgIHdpbmRvdy52bSA9IHNjYWZmb2xkaW5nLnZtOw0KICAgICAgd2luZG93LlNjcmF0Y2ggPSB7DQogICAgICAgIHZtLA0KICAgICAgICByZW5kZXJlcjogdm0ucmVuZGVyZXIsDQogICAgICAgIGF1ZGlvRW5naW5lOiB2bS5ydW50aW1lLmF1ZGlvRW5naW5lLA0KICAgICAgICBiaXRtYXBBZGFwdGVyOiB2bS5ydW50aW1lLnYyQml0bWFwQWRhcHRlciwNCiAgICAgICAgdmlkZW9Qcm92aWRlcjogdm0ucnVudGltZS5pb0RldmljZXMudmlkZW8ucHJvdmlkZXINCiAgICAgIH07DQoNCiAgICAgIHNjYWZmb2xkaW5nLnNldFVzZXJuYW1lKCJwbGF5ZXIjIyMjIi5yZXBsYWNlKC8jL2csICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSkpOw0KICAgICAgc2NhZmZvbGRpbmcuc2V0QWNjZW50Q29sb3IoIiNmZjRjNGMiKTsNCg0KICAgICAgdHJ5IHsNCiAgICAgICAgc2NhZmZvbGRpbmcuYWRkQ2xvdWRQcm92aWRlcihuZXcgU2NhZmZvbGRpbmcuQ2xvdWQuV2ViU29ja2V0UHJvdmlkZXIoWyJ3c3M6Ly9jbG91ZGRhdGEudHVyYm93YXJwLm9yZyIsIndzczovL2Nsb3VkZGF0YS50dXJib3dhcnAueHl6Il0sICJwNC1ASW5jcmVkaWJveCAtIFNwcnVua2kuc2IzIikpOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICB9DQoNCiAgICAgIHZtLnNldFR1cmJvTW9kZSh0cnVlKTsNCiAgICAgIGlmICh2bS5zZXRJbnRlcnBvbGF0aW9uKSB2bS5zZXRJbnRlcnBvbGF0aW9uKGZhbHNlKTsNCiAgICAgIGlmICh2bS5zZXRGcmFtZXJhdGUpIHZtLnNldEZyYW1lcmF0ZSg2MCk7DQogICAgICBpZiAodm0ucmVuZGVyZXIuc2V0VXNlSGlnaFF1YWxpdHlSZW5kZXIpIHZtLnJlbmRlcmVyLnNldFVzZUhpZ2hRdWFsaXR5UmVuZGVyKGZhbHNlKTsNCiAgICAgIGlmICh2bS5zZXRSdW50aW1lT3B0aW9ucykgdm0uc2V0UnVudGltZU9wdGlvbnMoew0KICAgICAgICBmZW5jaW5nOiB0cnVlLA0KICAgICAgICBtaXNjTGltaXRzOiB0cnVlLA0KICAgICAgICBtYXhDbG9uZXM6IDMwMCwNCiAgICAgIH0pOw0KICAgICAgaWYgKHZtLnNldENvbXBpbGVyT3B0aW9ucykgdm0uc2V0Q29tcGlsZXJPcHRpb25zKHsNCiAgICAgICAgZW5hYmxlZDogdHJ1ZSwNCiAgICAgICAgd2FycFRpbWVyOiBmYWxzZQ0KICAgICAgfSk7DQogICAgICBpZiAodm0ucmVuZGVyZXIuc2V0TWF4VGV4dHVyZURpbWVuc2lvbikgdm0ucmVuZGVyZXIuc2V0TWF4VGV4dHVyZURpbWVuc2lvbigyMDQ4KTsNCiAgICAgIGlmICh2bS5ydW50aW1lLnNldEVuZm9yY2VQcml2YWN5KSB2bS5ydW50aW1lLnNldEVuZm9yY2VQcml2YWN5KGZhbHNlKTsNCg0KICAgICAgaWYgKHR5cGVvZiBTY2FmZm9sZGluZ0FkZG9ucyAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgU2NhZmZvbGRpbmdBZGRvbnMucnVuKHNjYWZmb2xkaW5nLCB7ImdhbWVwYWQiOmZhbHNlLCJwb2ludGVybG9jayI6ZmFsc2UsInNwZWNpYWxDbG91ZEJlaGF2aW9ycyI6ZmFsc2UsInVuc2FmZUNsb3VkQmVoYXZpb3JzIjpmYWxzZSwicGF1c2UiOmZhbHNlfSk7DQogICAgICB9DQoNCiAgICAgIHNjYWZmb2xkaW5nLnNldEV4dGVuc2lvblNlY3VyaXR5TWFuYWdlcih7DQogICAgICAgIGdldFNhbmRib3hNb2RlOiAoKSA9PiAndW5zYW5kYm94ZWQnLA0KICAgICAgICBjYW5Mb2FkRXh0ZW5zaW9uRnJvbVByb2plY3Q6ICgpID0+IHRydWUNCiAgICAgIH0pOw0KICAgICAgZm9yIChjb25zdCBleHRlbnNpb24gb2YgW10pIHsNCiAgICAgICAgdm0uZXh0ZW5zaW9uTWFuYWdlci5sb2FkRXh0ZW5zaW9uVVJMKGV4dGVuc2lvbik7DQogICAgICB9DQoNCiAgICB9IGNhdGNoIChlKSB7DQogICAgICBoYW5kbGVFcnJvcihlKTsNCiAgICB9DQogIDwvc2NyaXB0Pg0KICANCiAgDQogICAgPHNjcmlwdD4NCiAgICAgIGNvbnN0IGdldFByb2plY3REYXRhID0gKGZ1bmN0aW9uKCkgew0KICAgICAgICBjb25zdCBzdG9yYWdlID0gc2NhZmZvbGRpbmcuc3RvcmFnZTsNCiAgICAgICAgc3RvcmFnZS5vbnByb2dyZXNzID0gKHRvdGFsLCBsb2FkZWQpID0+IHsNCiAgICAgICAgICBzZXRQcm9ncmVzcyhpbnRlcnBvbGF0ZSgwLjIsIDAuOTgsIGxvYWRlZCAvIHRvdGFsKSk7DQogICAgICAgIH07DQogICAgICAgIA0KICAgICAgICBzdG9yYWdlLmFkZFdlYlN0b3JlKA0KICAgICAgICAgIFsNCiAgICAgICAgICAgIHN0b3JhZ2UuQXNzZXRUeXBlLkltYWdlVmVjdG9yLA0KICAgICAgICAgICAgc3RvcmFnZS5Bc3NldFR5cGUuSW1hZ2VCaXRtYXAsDQogICAgICAgICAgICBzdG9yYWdlLkFzc2V0VHlwZS5Tb3VuZCwNCiAgICAgICAgICAgIHN0b3JhZ2UuQXNzZXRUeXBlLkZvbnQNCiAgICAgICAgICBdLmZpbHRlcihpID0+IGkpLA0KICAgICAgICAgIChhc3NldCkgPT4gbmV3IFVSTCgnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dlbml6eS9zcHJ1bmtpL2Fzc2V0cy8nICsgYXNzZXQuYXNzZXRJZCArICcuJyArIGFzc2V0LmRhdGFGb3JtYXQsIGxvY2F0aW9uKS5ocmVmDQogICAgICAgICk7DQogICAgICAgIHJldHVybiAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgICB4aHIub25sb2FkID0gKCkgPT4gew0KICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTsNCiAgICAgICAgfTsNCiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7DQogICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnZmlsZTonKSB7DQogICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdaaXAgZW52aXJvbm1lbnQgbXVzdCBiZSB1c2VkIG9uIGEgd2Vic2l0ZSwgbm90IG9uIGEgbG9jYWwgZmlsZS4gVG8gZml4IHRoaXMgZXJyb3IsIHVzZSB0aGUgIlBsYWluIEhUTUwiIGVudmlyb25tZW50IGluc3RlYWQuJykpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRvIGxvYWQgcHJvamVjdCBkYXRhIGZhaWxlZC4nKSk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICB4aHIub25wcm9ncmVzcyA9IChlKSA9PiB7DQogICAgICAgICAgaWYgKGUubGVuZ3RoQ29tcHV0YWJsZSkgew0KICAgICAgICAgICAgc2V0UHJvZ3Jlc3MoaW50ZXJwb2xhdGUoMC4xLCAwLjIsIGUubG9hZGVkIC8gZS50b3RhbCkpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7DQogICAgICAgIHhoci5vcGVuKCdHRVQnLCAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dlbml6eS9zcHJ1bmtpL2Fzc2V0cy9wcm9qZWN0Lmpzb24iKTsNCiAgICAgICAgeGhyLnNlbmQoKTsNCiAgICAgIH0pOw0KICAgICAgfSkoKTsNCiAgICA8L3NjcmlwdD4NCiAgPHNjcmlwdD4NCiAgICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7DQogICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IGF3YWl0IGdldFByb2plY3REYXRhKCk7DQogICAgICBhd2FpdCBzY2FmZm9sZGluZy5sb2FkUHJvamVjdChwcm9qZWN0RGF0YSk7DQogICAgICBzZXRQcm9ncmVzcygxKTsNCiAgICAgIGxvYWRpbmdTY3JlZW4uaGlkZGVuID0gdHJ1ZTsNCiAgICAgIGlmIChmYWxzZSkgew0KICAgICAgICBzY2FmZm9sZGluZy5zdGFydCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGF1bmNoU2NyZWVuLmhpZGRlbiA9IGZhbHNlOw0KICAgICAgICBsYXVuY2hTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgbGF1bmNoU2NyZWVuLmhpZGRlbiA9IHRydWU7DQogICAgICAgICAgc2NhZmZvbGRpbmcuc3RhcnQoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGxhdW5jaFNjcmVlbi5mb2N1cygpOw0KICAgICAgfQ0KICAgIH07DQogICAgcnVuKCkuY2F0Y2goaGFuZGxlRXJyb3IpOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4=";
