window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCjxodG1sIGxhbmc9ImVuLXVzIj4NCjxoZWFkPg0KPG1ldGEgY2hhcnNldD0idXRmLTgiLz4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ii8+DQo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIvPg0KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL1VHUy1Bc3NldHNAbWFpbi9pbmstZ2FtZS9zdHlsZS5jc3MiLz4NCjwhLS0gWWFuZGV4IEdhbWVzIFNESyAtLT4NCjxzdHlsZT4NCiAgICAgICAgLyog0KPQsdC40YDQsNC10Lwg0LLRi9C00LXQu9C10L3QuNC1INC/0L4g0L3QsNC20LDRgtC40Y4g0LrQu9Cw0LLQuNGIICovDQogICAgICAgIGNhbnZhczpmb2N1cyB7IA0KICAgICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGh0bWwsIGJvZHkgew0KICAgICAgICAgICAgLyog0KPQsdC40YDQsNC10Lwg0L7RgtGB0YLRg9C/0YsgKi8NCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBtYXJnaW46IDA7DQogICAgICAgICAgICAvKiDQntGC0LrQu9GO0YfQsNC10Lwg0YHQutGA0L7Qu9C7INC4INC70L7QvdCz0YLQsNC/INC90LAgSU9TICovDQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lOw0KICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgICAgICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLDAsMCwwKTsNCiAgICAgICAgICAgIC8qINCh0YLQsNCy0LjQvCDQstGL0YHQvtGC0YMg0L3QsCAxMDAlICovDQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIH0NCiAgICA8L3N0eWxlPg0KPCEtLSBBZGRpdGlvbmFsIGhlYWQgbW9kdWxlcyAtLT4NCjwvaGVhZD4NCjxib2R5IGNsYXNzPSJkYXJrIj4NCjxkaXYgaWQ9InVuaXR5LWNvbnRhaW5lciIgY2xhc3M9InVuaXR5LWRlc2t0b3AiPg0KPGNhbnZhcyBpZD0idW5pdHktY2FudmFzIiB0YWJpbmRleD0iLTEiPjwvY2FudmFzPg0KPC9kaXY+DQo8ZGl2IGlkPSJsb2FkaW5nLWNvdmVyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQo8ZGl2IGlkPSJ1bml0eS1sb2FkaW5nLWJhciI+DQo8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQo8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZnVsbCI+PC9kaXY+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2PiANCjwvZGl2Pg0KPC9kaXY+DQo8IS0tIEFkZGl0aW9uYWwgYm9keSBtb2R1bGVzIC0tPg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbi11cyI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogICAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPg0KICAgIDx0aXRsZT5Vbml0eSBXZWJHTCBQbGF5ZXIgfCA5OURheXM8L3RpdGxlPg0KICAgIDxzdHlsZT4NCiAgICAgICAgLyogQ1NTIHN0aWxsZXJpIChvcmlqaW5hbCBrb2R1bnV6ZGFuIGFsxLFuYWJpbGlyLCBidXJhZGEgeWVyIGthcGxhbWFtYXPEsSBpw6dpbiDDp8Sxa2FyxLFsbcSxxZ90xLFyKSAqLw0KICAgIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCiAgICA8ZGl2IGlkPSJ1bml0eS1jb250YWluZXIiIGNsYXNzPSJ1bml0eS1kZXNrdG9wIj4NCiAgICAgICAgPGNhbnZhcyBpZD0idW5pdHktY2FudmFzIj48L2NhbnZhcz4NCiAgICAgICAgPGRpdiBpZD0ibG9hZGluZy1jb3ZlciI+DQogICAgICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiPg0KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1mdWxsIj48L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lciI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGNvbnN0IGhpZGVGdWxsU2NyZWVuQnV0dG9uID0gIiI7DQogICAgICAgIGNvbnN0IGJ1aWxkVXJsID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvVUdTLUFzc2V0c0BtYWluL2luay1nYW1lL0J1aWxkIjsNCiAgICAgICAgY29uc3QgbG9hZGVyVXJsID0gYnVpbGRVcmwgKyAiL1NxdWlkR2FtZS5sb2FkZXIuanMiOw0KICAgICAgICBjb25zdCBjZG5CYXNlVXJsID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvVUdTLUFzc2V0c0BtYWluL2luay1nYW1lLyI7IC8vIGpzRGVsaXZyIFVSTCdzaW5pIGtlbmRpIHJlcG9udXphIGfDtnJlIGTDvHplbmxleWluDQoNCiAgICAgICAgLy8gUGFydCBkb3N5YWxhcsSxbsSxbiBsaXN0ZXNpDQogICAgICAgIGNvbnN0IGRhdGFQYXJ0cyA9IFsNCiAgICAgICAgICAgIGNkbkJhc2VVcmwgKyAiQnVpbGQvU3F1aWRHYW1lLmRhdGEudW5pdHl3ZWIiDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IHdhc21QYXJ0cyA9IFsNCiAgICAgICAgICAgIGNkbkJhc2VVcmwgKyAiQnVpbGQvU3F1aWRHYW1lLndhc20udW5pdHl3ZWIiDQogICAgICAgIF07DQoNCiAgICAgICAgLy8gRG9zeWEgYmlybGXFn3Rpcm1lIGZvbmtzaXlvbnUNCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRDb21iaW5lUGFydHMocGFydFVybHMpIHsNCiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTsNCiAgICAgICAgICAgIGZvciAoY29uc3QgdXJsIG9mIHBhcnRVcmxzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7dXJsfWApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCB0b3RhbExlbmd0aCA9IGJ1ZmZlcnMucmVkdWNlKChzdW0sIGJ1ZikgPT4gc3VtICsgYnVmLmJ5dGVMZW5ndGgsIDApOw0KICAgICAgICAgICAgY29uc3QgY29tYmluZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7DQogICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDsNCiAgICAgICAgICAgIGZvciAoY29uc3QgYnVmZmVyIG9mIGJ1ZmZlcnMpIHsNCiAgICAgICAgICAgICAgICBjb21iaW5lZC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSwgb2Zmc2V0KTsNCiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyLmJ5dGVMZW5ndGg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2NvbWJpbmVkXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFVuaXR5IGtvbmZpZ8O8cmFzeW9udQ0KICAgICAgICBjb25zdCBjb25maWcgPSB7DQogICAgICAgICAgICBkYXRhVXJsOiAiIiwgLy8gQmxvYiBVUkwgZGluYW1payBvbGFyYWsgYXlhcmxhbmFjYWsNCiAgICAgICAgICAgIGZyYW1ld29ya1VybDogYnVpbGRVcmwgKyAiL1NxdWlkR2FtZS5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLA0KICAgICAgICAgICAgY29kZVVybDogIiIsIC8vIEJsb2IgVVJMIGRpbmFtaWsgb2xhcmFrIGF5YXJsYW5hY2FrDQogICAgICAgICAgICBzdHJlYW1pbmdBc3NldHNVcmw6ICJTdHJlYW1pbmdBc3NldHMiLA0KICAgICAgICAgICAgY29tcGFueU5hbWU6ICJEZWZhdWx0Q29tcGFueSIsDQogICAgICAgICAgICBwcm9kdWN0TmFtZTogIjk5RGF5cyIsDQogICAgICAgICAgICBwcm9kdWN0VmVyc2lvbjogIjAuMSINCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY29udGFpbmVyIik7DQogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsNCiAgICAgICAgY29uc3QgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctY292ZXIiKTsNCiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiKTsNCiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJGdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1mdWxsIik7DQogICAgICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Bpbm5lcicpOw0KDQogICAgICAgIGNvbnN0IGNhbkZ1bGxzY3JlZW4gPSAoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgWw0KICAgICAgICAgICAgICAgICdleGl0RnVsbHNjcmVlbicsDQogICAgICAgICAgICAgICAgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywNCiAgICAgICAgICAgICAgICAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsDQogICAgICAgICAgICAgICAgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLA0KICAgICAgICAgICAgICAgICdtc0V4aXRGdWxsc2NyZWVuJywNCiAgICAgICAgICAgIF0pIHsNCiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGRvY3VtZW50KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgDQogICAgICAgIH0oKSk7DQoNCiAgICAgICAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7DQogICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gInVuaXR5LW1vYmlsZSI7DQogICAgICAgIH0NCg0KICAgICAgICBsb2FkaW5nQ292ZXIuc3R5bGUuYmFja2dyb3VuZCA9ICJ1cmwoJycpIGNlbnRlciAvIGNvdmVyIjsNCiAgICAgICAgbG9hZGluZ0NvdmVyLnN0eWxlLmRpc3BsYXkgPSAiIjsNCg0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGV2ZW50ID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkpOw0KDQogICAgICAgIGZ1bmN0aW9uIEZvY3VzR2FtZSgpIHsNCiAgICAgICAgICAgIHdpbmRvdy5mb2N1cygpOw0KICAgICAgICAgICAgY2FudmFzLmZvY3VzKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBhdXRoKCkgew0KICAgICAgICAgICAgaW5pdFBsYXllcigpOw0KICAgICAgICB9DQoNCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgRm9jdXNHYW1lKTsNCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBGb2N1c0dhbWUpOw0KDQogICAgICAgIGxldCBTdGFydFVuaXR5SW5zdGFuY2U7DQogICAgICAgIGxldCBteUdhbWVJbnN0YW5jZTsNCiAgICAgICAgbGV0IHlzZGsgPSBudWxsOw0KDQogICAgICAgIGxldCBlbnZpcm9ubWVudERhdGEgPSB7DQogICAgICAgICAgICBsYW5ndWFnZTogImVuIiwNCiAgICAgICAgICAgIGRvbWFpbjogImRlZmF1bHRfZG9tYWluIiwNCiAgICAgICAgICAgIGRldmljZVR5cGU6ICJkZXNrdG9wIiwNCiAgICAgICAgICAgIGlzTW9iaWxlOiBmYWxzZSwNCiAgICAgICAgICAgIGlzRGVza3RvcDogdHJ1ZSwNCiAgICAgICAgICAgIGlzVGFibGV0OiBmYWxzZSwNCiAgICAgICAgICAgIGlzVFY6IGZhbHNlLA0KICAgICAgICAgICAgYXBwSUQ6ICJkZWZhdWx0X2FwcF9pZCIsDQogICAgICAgICAgICBicm93c2VyTGFuZzogbmF2aWdhdG9yLmxhbmd1YWdlIHx8ICJlbiIsDQogICAgICAgICAgICBwYXlsb2FkOiBudWxsLA0KICAgICAgICAgICAgcHJvbXB0Q2FuU2hvdzogZmFsc2UsDQogICAgICAgICAgICByZXZpZXdDYW5TaG93OiBmYWxzZSwNCiAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sDQogICAgICAgICAgICBicm93c2VyOiAoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgbGV0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7DQogICAgICAgICAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygiWWFCcm93c2VyIikpIHJldHVybiAiWWFuZGV4IjsNCiAgICAgICAgICAgICAgICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCJPUFIiKSB8fCB1c2VyQWdlbnQuaW5jbHVkZXMoIk9wZXJhIikpIHJldHVybiAiT3BlcmEiOw0KICAgICAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoIkZpcmVmb3giKSkgcmV0dXJuICJGaXJlZm94IjsNCiAgICAgICAgICAgICAgICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCJNU0lFIikgfHwgdXNlckFnZW50LmluY2x1ZGVzKCJUcmlkZW50IikpIHJldHVybiAiSUUiOw0KICAgICAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoIkVkZ2UiKSkgcmV0dXJuICJFZGdlIjsNCiAgICAgICAgICAgICAgICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCJDaHJvbWUiKSkgcmV0dXJuICJDaHJvbWUiOw0KICAgICAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoIlNhZmFyaSIpKSByZXR1cm4gIlNhZmFyaSI7DQogICAgICAgICAgICAgICAgcmV0dXJuICJPdGhlciI7DQogICAgICAgICAgICB9KSgpDQogICAgICAgIH07DQoNCiAgICAgICAgbGV0IGNsb3VkU2F2ZXMgPSAnbm9EYXRhJzsNCiAgICAgICAgbGV0IHBheW1lbnRzRGF0YSA9ICdub25lJzsNCiAgICAgICAgbGV0IHBsYXllckRhdGEgPSAnbm9EYXRhJzsNCiAgICAgICAgbGV0IHBsYXllciA9IG51bGw7DQogICAgICAgIGxldCBwYXltZW50cyA9IG51bGw7DQogICAgICAgIGxldCBpbml0R2FtZSA9IGZhbHNlOw0KICAgICAgICBsZXQgbm93RnVsbEFkT3BlbiA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIEdldFBheW1lbnRzKCkgeyBjb25zb2xlLndhcm4oIkdldFBheW1lbnRzIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCJub25lIik7IH0NCiAgICAgICAgZnVuY3Rpb24gU2F2ZUNsb3VkKCkgeyBjb25zb2xlLndhcm4oIlNhdmVDbG91ZCBpcyBub3QgaW1wbGVtZW50ZWQiKTsgfQ0KICAgICAgICBmdW5jdGlvbiBMb2FkQ2xvdWQoKSB7IGNvbnNvbGUud2FybigiTG9hZENsb3VkIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCJub0RhdGEiKTsgfQ0KICAgICAgICBmdW5jdGlvbiBJbml0TGVhZGVyYm9hcmQoKSB7IGNvbnNvbGUud2FybigiSW5pdFBsYXllciBpcyBub3QgaW1wbGVtZW50ZWQiKTsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgibm9EYXRhIik7IH0NCg0KIA0KDQoNCg0KICAgICAgICBmdW5jdGlvbiBTdGlja3lBZEFjdGl2aXR5KCkgeyBjb25zb2xlLndhcm4oIlN0aWNreUFkQWN0aXZpdHkgaXMgbm90IGltcGxlbWVudGVkIik7IH0NCiAgICAgICAgZnVuY3Rpb24gUmV2aWV3KCkgeyBjb25zb2xlLndhcm4oIlJldmlldyBpcyBub3QgaW1wbGVtZW50ZWQiKTsgfQ0KICAgICAgICBmdW5jdGlvbiBQcm9tcHRTaG93KCkgeyBjb25zb2xlLndhcm4oIlByb21wdFNob3cgaXMgbm90IGltcGxlbWVudGVkIik7IH0NCiAgICAgICAgZnVuY3Rpb24gSW5pdExlYWRlcmJvYXJkcygpIHsgY29uc29sZS53YXJuKCJJbml0TGVhZGVyYm9hcmRzIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyB9DQogICAgICAgIGZ1bmN0aW9uIEdldExlYWRlcmJvYXJkU2NvcmVzKCkgeyBjb25zb2xlLndhcm4oIkdldExlYWRlcmJvYXJkU2NvcmVzIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyB9DQogICAgICAgIGZ1bmN0aW9uIFNldExlYWRlcmJvYXJkU2NvcmVzKCkgeyBjb25zb2xlLndhcm4oIlNldExlYWRlcmJvYXJkU2NvcmVzIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyB9DQogICAgICAgIGZ1bmN0aW9uIENvbnN1bWVQdXJjaGFzZSgpIHsgY29uc29sZS53YXJuKCJDb25zdW1lUHVyY2hhc2UgaXMgbm90IGltcGxlbWVudGVkIik7IH0NCiAgICAgICAgZnVuY3Rpb24gQ29uc3VtZVB1cmNoYXNlcygpIHsgY29uc29sZS53YXJuKCJDb25zdW1lUHVyY2hhc2VzIGlzIG5vdCBpbXBsZW1lbnRlZCIpOyB9DQoNCiAgICAgICAgLy8gVW5pdHkgYmHFn2xhdG1hIHZlIGRvc3lhIGJpcmxlxZ90aXJtZQ0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgICAgICAgDQogICAgICAgICAgICBzY3JpcHQuc3JjID0gbG9hZGVyVXJsOw0KICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBQYXJ0IGRvc3lhbGFyxLFuxLEgYmlybGXFn3Rpcg0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFCbG9iID0gYXdhaXQgZmV0Y2hBbmRDb21iaW5lUGFydHMoZGF0YVBhcnRzKTsNCiAgICAgICAgICAgICAgICBjb25zdCB3YXNtQmxvYiA9IGF3YWl0IGZldGNoQW5kQ29tYmluZVBhcnRzKHdhc21QYXJ0cyk7DQogICAgICAgICAgICAgICAgY29uZmlnLmRhdGFVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGFCbG9iKTsNCiAgICAgICAgICAgICAgICBjb25maWcuY29kZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwod2FzbUJsb2IpOw0KDQogICAgICAgICAgICAgICAgU3RhcnRVbml0eUluc3RhbmNlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyRW1wdHkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXJGdWxsLnN0eWxlLndpZHRoID0gYCR7MTAwICogcHJvZ3Jlc3N9JWA7DQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHVuaXR5SW5zdGFuY2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG15R2FtZUluc3RhbmNlID0gdW5pdHlJbnN0YW5jZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgobWVzc2FnZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiVW5pdHkgecO8a2xlbWUgaGF0YXPEsToiLCBtZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBTdGFydFVuaXR5SW5zdGFuY2UoKTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJCYcWfbGF0bWEgc8SxcmFzxLFuZGEgaGF0YToiLCBlcnJvcik7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBJbml0R2FtZSgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXQgR2FtZSBTdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgaW5pdEdhbWUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGlmIChub3dGdWxsQWRPcGVuID09PSB0cnVlICYmIG15R2FtZUluc3RhbmNlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnT3BlbkZ1bGxBZCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiSW5pdEdhbWUgc8SxcmFzxLFuZGEgaGF0YToiLCBlcnJvcik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidW5oYW5kbGVkcmVqZWN0aW9uIiwgZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgICAgICAgIGNvbnNvbGUud2FybigiSGF0YSBlcyBnZcOnaWxkaToiLCBldmVudC5yZWFzb24pOw0KICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgfSk7DQogICAgPC9zY3JpcHQ+DQoNCjwhLS0gR09PR0xFIC0tPg0KPHN0eWxlPg0KICAvKiBDb250YWluZXI6IFRvcCBjZW50ZXIsIGZpeGVkLCB3aXRoIG92ZXJmbG93IGhpZGRlbiAqLw0KICAjYWQtY29udGFpbmVyIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDUwJTsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7DQogICAgd2lkdGg6IG1pbig3MjhweCwgY2FsYygxMDAlIC0gMjBweCkpOyAvKiA3MjhweCwgMTBweCBtYXJnaW4gb24gbW9iaWxlICovDQogICAgaGVpZ2h0OiA5MHB4Ow0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC45MCk7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB6LWluZGV4OiA5OTk5OTsNCiAgICBib3JkZXItcmFkaXVzOiAwOyAvKiBTaGFycCBjb3JuZXJzICovDQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBib3gtc2hhZG93OiAwIDJweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC40NSk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41cyBlYXNlLWluLW91dDsgLyogU21vb3RoIHNsaWRlLWluL291dCBhbmltYXRpb24gKi8NCiAgfQ0KDQogIC8qIFNsaWRlLW91dCBhbmltYXRpb24gKi8NCiAgI2FkLWNvbnRhaW5lci5oaWRkZW4gew0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0xMDAlKTsgLyogU2xpZGUgdXAgb3V0IG9mIHZpZXcgKi8NCiAgfQ0KDQogICNhZC1pZnJhbWUgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDA7DQogICAgbGVmdDogNTAlOw0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCiAgICB3aWR0aDogNzQ1cHg7IC8qIFVwZGF0ZWQgd2lkdGggKi8NCiAgICBoZWlnaHQ6IDkwcHg7IC8qIFVwZGF0ZWQgaGVpZ2h0ICovDQogICAgYm9yZGVyOiAwOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgcG9pbnRlci1ldmVudHM6IGF1dG87DQogICAgYm94LXNpemluZzogY29udGVudC1ib3g7DQogICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOw0KICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTsNCiAgfQ0KICAjYWQtaWZyYW1lOjotd2Via2l0LXNjcm9sbGJhciB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB3aWR0aDogMDsNCiAgICBoZWlnaHQ6IDA7DQogIH0NCg0KICAvKiBDbG9zZSBidXR0b24gd2l0aCBhcnJvdyAqLw0KICANCg0KICAvKiBSaWdodCBtYXNrIGZvciBzY3JvbGxiYXIgKi8NCiAgI2FkLXJpZ2h0LW1hc2sgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDA7DQogICAgcmlnaHQ6IDA7DQogICAgd2lkdGg6IDEycHg7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSgwLCAwLCAwLCAwKSwgcmdiYSgwLCAwLCAwLCAwLjkpKTsNCiAgICB6LWluZGV4OiA5OTk5OTsNCiAgfQ0KDQogIC8qIE1vYmlsZSBhZGp1c3RtZW50cyAqLw0KICBAbWVkaWEgKG1heC13aWR0aDogNDQwcHgpIHsNCiAgICAjYWQtY29udGFpbmVyIHsNCiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMnB4KTsNCiAgICAgIGxlZnQ6IDUwJTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDA7IC8qIFNoYXJwIGNvcm5lcnMgb24gbW9iaWxlICovDQogICAgfQ0KICAgICNhZC1pZnJhbWUgew0KICAgICAgd2lkdGg6IDcwOHB4Ow0KICAgIH0NCiAgfQ0KPC9zdHlsZT4NCg0KPGRpdiBpZD0iYWQtY29udGFpbmVyIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsPSJBZHZlcnRpc2VtZW50Ij4NCiAgPGlmcmFtZQ0KICAgIGlkPSJhZC1pZnJhbWUiDQogICAgd2lkdGg9Ijc2OHB4Ig0KICAgIGhlaWdodD0iOTVweCINCiAgICBzY3JvbGxpbmc9Im5vIg0KICAgIGZyYW1lYm9yZGVyPSIwIg0KDQogICAgc2FuZGJveD0iYWxsb3ctc2NyaXB0cyBhbGxvdy1wb3B1cHMgYWxsb3ctc2FtZS1vcmlnaW4iDQogID48L2lmcmFtZT4NCg0KDQogDQo8L2JvZHk+DQo8L2h0bWw+";
