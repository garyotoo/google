window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCjwhLS10aGlzIGlzIGEgdG9wIGRvd24gcm9ndWVsaXRlIHNob290ZXIuIFVzZXMganNkZWxpdnItLSE+DQoNCjwhZG9jdHlwZSBodG1sPg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KPGJhc2UgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL1N0aW5rYWxpc3RpYy9VR1NAbWFpbi9NSVNDL2R1ZC8iPg0KICA8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogICAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPg0KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgc2hyaW5rLXRvLWZpdD1ubywgbWluaW11bS1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEiPg0KDQogICAgPCEtLSBMb2FkIGN1c3RvbSBzdHlsZSBzaGVldCAtLT4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJ0aGVtZS9sb3ZlLmNzcyI+DQogIDwvaGVhZD4NCiAgPGJvZHk+DQogICAgPGNlbnRlcj4NCiAgICAgIDxkaXY+DQogICAgICAgIDxjYW52YXMgaWQ9ImxvYWRpbmdDYW52YXMiIG9uY29udGV4dG1lbnU9ImV2ZW50LnByZXZlbnREZWZhdWx0KCkiIHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIj48L2NhbnZhcz4NCiAgICAgICAgPGNhbnZhcyBpZD0iY2FudmFzIiBvbmNvbnRleHRtZW51PSJldmVudC5wcmV2ZW50RGVmYXVsdCgpIj48L2NhbnZhcz4NCiAgICAgIDwvZGl2Pg0KICAgIDwvY2VudGVyPg0KDQogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPg0KICAgICAgZnVuY3Rpb24gZ29GdWxsU2NyZWVuKCl7DQogICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIpOw0KICAgICAgICAgICAgaWYoY2FudmFzLnJlcXVlc3RGdWxsU2NyZWVuKQ0KICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0RnVsbFNjcmVlbigpOw0KICAgICAgICAgICAgZWxzZSBpZihjYW52YXMud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pDQogICAgICAgICAgICAgICAgY2FudmFzLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7DQogICAgICAgICAgICBlbHNlIGlmKGNhbnZhcy5tb3pSZXF1ZXN0RnVsbFNjcmVlbikNCiAgICAgICAgICAgICAgICBjYW52YXMubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTsNCiAgICAgIH0NCiAgICAgIGZ1bmN0aW9uIEZ1bGxTY3JlZW5Ib29rKCl7DQogICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIik7DQogICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOw0KICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7DQogICAgICB9DQogICAgICB2YXIgbG9hZGluZ0NvbnRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ0NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7DQogICAgICBmdW5jdGlvbiBkcmF3TG9hZGluZ1RleHQodGV4dCkgew0KICAgICAgICB2YXIgY2FudmFzID0gbG9hZGluZ0NvbnRleHQuY2FudmFzOw0KDQogICAgICAgIGxvYWRpbmdDb250ZXh0LmZpbGxTdHlsZSA9ICJyZ2IoMCwgMCwgMCkiOw0KICAgICAgICBsb2FkaW5nQ29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMuc2Nyb2xsV2lkdGgsIGNhbnZhcy5zY3JvbGxIZWlnaHQpOw0KDQogICAgICAgIGxvYWRpbmdDb250ZXh0LmZvbnQgPSAnMmVtIGFyaWFsJzsNCiAgICAgICAgbG9hZGluZ0NvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcicNCiAgICAgICAgbG9hZGluZ0NvbnRleHQuZmlsbFN0eWxlID0gInJnYiggMTEsIDg2LCAxMTcgKSI7DQogICAgICAgIGxvYWRpbmdDb250ZXh0LmZpbGxUZXh0KHRleHQsIGNhbnZhcy5zY3JvbGxXaWR0aCAvIDIsIGNhbnZhcy5zY3JvbGxIZWlnaHQgLyAyKTsNCiAgICAgIH0NCg0KICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgd2luZG93LmZvY3VzKCk7IH07DQogICAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uICgpIHsgd2luZG93LmZvY3VzKCk7IH07DQoNCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24oZSkgew0KICAgICAgICAvLyBzcGFjZSBhbmQgYXJyb3cga2V5cw0KICAgICAgICBpZihbMzIsIDM3LCAzOCwgMzksIDQwXS5pbmRleE9mKGUua2V5Q29kZSkgPiAtMSkgew0KICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgfQ0KICAgICAgfSwgZmFsc2UpOw0KDQogICAgICB2YXIgTW9kdWxlID0gew0KICAgICAgICBhcmd1bWVudHM6IFsiLi9nYW1lLmxvdmUiXSwNCiAgICAgICAgSU5JVElBTF9NRU1PUlk6IDE2Nzc3MjE2LA0KICAgICAgICBwcmludEVycjogY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpLA0KICAgICAgICBjYW52YXM6IChmdW5jdGlvbigpIHsNCiAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOw0KDQogICAgICAgICAgLy8gQXMgYSBkZWZhdWx0IGluaXRpYWwgYmVoYXZpb3IsIHBvcCB1cCBhbiBhbGVydCB3aGVuIHdlYmdsIGNvbnRleHQgaXMgbG9zdC4gVG8gbWFrZSB5b3VyDQogICAgICAgICAgLy8gYXBwbGljYXRpb24gcm9idXN0LCB5b3UgbWF5IHdhbnQgdG8gb3ZlcnJpZGUgdGhpcyBiZWhhdmlvciBiZWZvcmUgc2hpcHBpbmchDQogICAgICAgICAgLy8gU2VlIGh0dHA6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvc3BlY3MvbGF0ZXN0LzEuMC8jNS4xNS4yDQogICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLCBmdW5jdGlvbihlKSB7IGFsZXJ0KCdXZWJHTCBjb250ZXh0IGxvc3QuIFlvdSB3aWxsIG5lZWQgdG8gcmVsb2FkIHRoZSBwYWdlLicpOyBlLnByZXZlbnREZWZhdWx0KCk7IH0sIGZhbHNlKTsNCg0KICAgICAgICAgIHJldHVybiBjYW52YXM7DQogICAgICAgIH0pKCksDQogICAgICAgIHNldFN0YXR1czogZnVuY3Rpb24odGV4dCkgew0KICAgICAgICAgIGlmICh0ZXh0KSB7DQogICAgICAgICAgICBkcmF3TG9hZGluZ1RleHQodGV4dCk7DQogICAgICAgICAgfSBlbHNlIGlmIChNb2R1bGUucmVtYWluaW5nRGVwZW5kZW5jaWVzID09PSAwKSB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ0NhbnZhcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHRvdGFsRGVwZW5kZW5jaWVzOiAwLA0KICAgICAgICByZW1haW5pbmdEZXBlbmRlbmNpZXM6IDAsDQogICAgICAgIG1vbml0b3JSdW5EZXBlbmRlbmNpZXM6IGZ1bmN0aW9uKGxlZnQpIHsNCiAgICAgICAgICB0aGlzLnJlbWFpbmluZ0RlcGVuZGVuY2llcyA9IGxlZnQ7DQogICAgICAgICAgdGhpcy50b3RhbERlcGVuZGVuY2llcyA9IE1hdGgubWF4KHRoaXMudG90YWxEZXBlbmRlbmNpZXMsIGxlZnQpOw0KICAgICAgICAgIE1vZHVsZS5zZXRTdGF0dXMobGVmdCA/ICdQcmVwYXJpbmcuLi4gKCcgKyAodGhpcy50b3RhbERlcGVuZGVuY2llcy1sZWZ0KSArICcvJyArIHRoaXMudG90YWxEZXBlbmRlbmNpZXMgKyAnKScgOiAnQWxsIGRvd25sb2FkcyBjb21wbGV0ZS4nKTsNCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICAgIE1vZHVsZS5zZXRTdGF0dXMoJ0Rvd25sb2FkaW5nLi4uJyk7DQogICAgICB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgIC8vIFRPRE86IGRvIG5vdCB3YXJuIG9uIG9rIGV2ZW50cyBsaWtlIHNpbXVsYXRpbmcgYW4gaW5maW5pdGUgbG9vcCBvciBleGl0U3RhdHVzDQogICAgICAgIE1vZHVsZS5zZXRTdGF0dXMoJ0V4Y2VwdGlvbiB0aHJvd24sIHNlZSBKYXZhU2NyaXB0IGNvbnNvbGUnKTsNCiAgICAgICAgTW9kdWxlLnNldFN0YXR1cyA9IGZ1bmN0aW9uKHRleHQpIHsNCiAgICAgICAgICBpZiAodGV4dCkgTW9kdWxlLnByaW50RXJyKCdbcG9zdC1leGNlcHRpb24gc3RhdHVzXSAnICsgdGV4dCk7DQogICAgICAgIH07DQogICAgICB9Ow0KDQogICAgICB2YXIgYXBwbGljYXRpb25Mb2FkID0gZnVuY3Rpb24oZSkgew0KICAgICAgICBMb3ZlKE1vZHVsZSk7DQogICAgICB9DQogICAgPC9zY3JpcHQ+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iZ2FtZS5qcyI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCBhc3luYyB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ibG92ZS5qcyIgb25sb2FkPSJhcHBsaWNhdGlvbkxvYWQodGhpcykiPjwvc2NyaXB0Pg0KICAgIDxmb290ZXI+DQogICAgICA8cD4NCgkJICA8aW1nIGFsaWduPSJyaWdodCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiB0aXRsZT0iR28gRnVsbHNjcmVlbiIgc3JjPSJpdGNoX2Z1bGxzY3JlZW5faW1nX2VubGFyZ2Uuc3ZnIiBvbmNsaWNrPSJnb0Z1bGxTY3JlZW4oKTsiPjwvaW1nPg0KCSAgPC9wPg0KICAgIDwvZm9vdGVyPg0KICA8L2JvZHk+DQo8L2h0bWw+DQo=";
