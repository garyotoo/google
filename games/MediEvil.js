window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4KPCEtLSBGb3IgdGhlIHJlZ3VsYXJseSB1cGRhdGluZyBkb2MgZ28gdG8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xX0ZtSDNCbFNCUUk3RkdnQVFMNTktWlBlOGVDeHMzNXdlbDZKVXlWYUc4US8gLS0+Cgo8aHRtbD4KPGhlYWQ+IAogICAgPHNjcmlwdD4KICAgICAgd2luZG93LmdhbWVjb25maWcgPSB7CiAgICAgICAgbmFtZTogIlJlc2lkZW50IEV2aWwiLAogICAgICAgIHVybDogImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9TdGlua2FsaXN0aWMvVUdTQG1haW4vUk9Ncy9tZWRpZXZpbC9NZWRpRXZpbCAoVVNBKS56aXAiLAogICAgICAgIGNvcmU6ICJwc3giLAogICAgICAgIG1pbjogMSwKICAgICAgICBtYXg6IDE3LAogICAgICB9OwogICAgPC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgICBmdW5jdGlvbiBtZXJnZUZpbGVzKGZpbGVQYXJ0cywgY2IpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgbGV0IGJ1ZmZlcnMgPSBbXTsKICAgICAgICAgIGZ1bmN0aW9uIGZldGNoUGFydChpbmRleCkgewogICAgICAgICAgICBpZiAoaW5kZXggPj0gZmlsZVBhcnRzLmxlbmd0aCkgewogICAgICAgICAgICAgIGxldCBtZXJnZWRCbG9iID0gbmV3IEJsb2IoYnVmZmVycyk7CiAgICAgICAgICAgICAgbGV0IG1lcmdlZEZpbGVVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1lcmdlZEJsb2IpOwogICAgICAgICAgICAgIHJlc29sdmUobWVyZ2VkRmlsZVVybCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZldGNoKGZpbGVQYXJ0c1tpbmRleF0pCiAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKQogICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7CiAgICAgICAgICAgICAgICBmZXRjaFBhcnQoaW5kZXggKyAxKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpOwogICAgICAgICAgICBjYihpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgICBmZXRjaFBhcnQoMCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZ2V0UGFydHMoZmlsZSwgc3RhcnQsIGVuZCkgewogICAgICAgIGxldCBwYXJ0cyA9IFtdOwogICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykgewogICAgICAgICAgbGV0IHBhZGRlZCA9IFN0cmluZyhpKS5wYWRTdGFydCgoZW5kKyIiKS5sZW5ndGgsICcwJyk7CiAgICAgICAgICBwYXJ0cy5wdXNoKGZpbGUgKyAiLnBhcnQiICsgcGFkZGVkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhcnRzOwogICAgICB9CgogICAgPC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgIGJvZHksCiAgICAgIGh0bWwgewogICAgICAgIG1hcmdpbjogMDsKICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsKICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICB9CiAgICAgICNnYW1lLWNvbnRhaW5lciB7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgfQogICAgICAjbG9hZGluZy1wcm9ncmVzcyB7CiAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgIDxkaXYgaWQ9ImdhbWUiPjwvZGl2PgogICAgICA8ZGl2IGlkPSJsb2FkaW5nLXByb2dyZXNzIj5Mb2FkaW5nOiAwLzA8L2Rpdj4KICAgICAgPGRpdiBpZD0iZmlyc3QtdGltZSI+Rmlyc3QtdGltZSBsb2FkaW5nIG1heSB0YWtlIGxvbmdlci4uLjwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICB2YXIgcGFydHMgPSBnZXRQYXJ0cygKICAgICAgICB3aW5kb3cuZ2FtZWNvbmZpZy51cmwsCiAgICAgICAgd2luZG93LmdhbWVjb25maWcubWluLAogICAgICAgIHdpbmRvdy5nYW1lY29uZmlnLm1heAogICAgICApOwogICAgICB2YXIgdG90YWxQYXJ0cyA9IHBhcnRzLmxlbmd0aDsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxvYWRpbmdQcm9ncmVzcyhsb2FkZWQpIHsKICAgICAgICBjb25zdCBwcm9ncmVzc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZy1wcm9ncmVzcyIpOwogICAgICAgIGlmIChsb2FkZWQgPT09IDApIHsKICAgICAgICAgIHByb2dyZXNzRWxlbWVudC50ZXh0Q29udGVudCA9ICJMb2FkaW5nOiAwLzAiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcm9ncmVzc0VsZW1lbnQudGV4dENvbnRlbnQgPSBgTG9hZGluZzogJHtsb2FkZWR9LyR7dG90YWxQYXJ0c31gOwogICAgICAgIH0KICAgICAgfQoKICAgICAgUHJvbWlzZS5hbGwoW21lcmdlRmlsZXMocGFydHMsIHVwZGF0ZUxvYWRpbmdQcm9ncmVzcyldKQogICAgICAgIC50aGVuKChbZ2FtZVVybF0pID0+IHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nLXByb2dyZXNzIikucmVtb3ZlKCk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlyc3QtdGltZSIpLnJlbW92ZSgpOwogICAgICAgICAgRUpTX3BsYXllciA9ICIjZ2FtZSI7CiAgICAgICAgICBFSlNfY29yZSA9IHdpbmRvdy5nYW1lY29uZmlnLmNvcmU7CiAgICAgICAgICBFSlNfZ2FtZU5hbWUgPSB3aW5kb3cuZ2FtZWNvbmZpZy5uYW1lOwogICAgICAgICAgRUpTX2NvbG9yID0gIiMwMDY0ZmYiOwogICAgICAgICAgRUpTX3N0YXJ0T25Mb2FkZWQgPSB0cnVlOwogICAgICAgICAgRUpTX3BhdGh0b2RhdGEgPSAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dlbml6eS9lbXVAbWFzdGVyLyI7CiAgICAgICAgICBFSlNfZ2FtZVVybCA9IGdhbWVVcmw7CiAgICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgIHNjcmlwdC5zcmMgPQogICAgICAgICAgICAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dlbml6eS9lbXVAbWFzdGVyL2xvYWRlci5qcyI7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nLXByb2dyZXNzIikudGV4dENvbnRlbnQgPQogICAgICAgICAgICAiRXJyb3IgbG9hZGluZyBnYW1lLiI7CiAgICAgICAgfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4gIAo=";
