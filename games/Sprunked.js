window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQo8aHRtbD4NCg0KPGhlYWQ+DQogIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgPGJhc2UgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2J1YmJscy9VR1MtQXNzZXRzQGVjMmU1OTg2YjhiZDg3MzExNzk4YjhiOTAzOTJlY2M5NTBmZjkwNTEvc3BydW5rZWQvIiANCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vIj4NCiAgPCEtLSBXZSBvbmx5IGluY2x1ZGUgdGhpcyB0byBleHBsaWNpdGx5IGxvb3NlbiB0aGUgQ1NQIG9mIHZhcmlvdXMgcGFja2FnZXIgZW52aXJvbm1lbnRzLiBJdCBkb2VzIG5vdCBwcm92aWRlIGFueSBzZWN1cml0eS4gLS0+DQogIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtU2VjdXJpdHktUG9saWN5IiBjb250ZW50PSJkZWZhdWx0LXNyYyAqICdzZWxmJyAndW5zYWZlLWlubGluZScgJ3Vuc2FmZS1ldmFsJyBkYXRhOiBibG9iOiI+DQogIDx0aXRsZT5TcHJ1bmtlZDwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCI+DQogIDxzdHlsZT4NCiAgICBib2R5IHsNCiAgICAgIGNvbG9yOiAjZmZmZmZmOw0KICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgcGFkZGluZzogMDsNCiAgICB9DQoNCiAgICA6cm9vdCwNCiAgICBib2R5LmlzLWZ1bGxzY3JlZW4gew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDsNCiAgICB9DQoNCiAgICBbaGlkZGVuXSB7DQogICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7DQogICAgfQ0KDQogICAgaDEgew0KICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgICB9DQoNCiAgICBhIHsNCiAgICAgIGNvbG9yOiBpbmhlcml0Ow0KICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KDQogICAgI2FwcCwNCiAgICAjbG9hZGluZywNCiAgICAjZXJyb3IsDQogICAgI2xhdW5jaCB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IDA7DQogICAgICBsZWZ0OiAwOw0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgfQ0KDQogICAgLnNjcmVlbiB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICAgIHVzZXItc2VsZWN0OiBub25lOw0KICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7DQogICAgfQ0KDQogICAgI2xhdW5jaCB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KDQogICAgLmdyZWVuLWZsYWcgew0KICAgICAgd2lkdGg6IDgwcHg7DQogICAgICBoZWlnaHQ6IDgwcHg7DQogICAgICBwYWRkaW5nOiAxNnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSk7DQogICAgICBib3JkZXI6IDNweCBzb2xpZCBoc2xhKDAsIDEwMCUsIDEwMCUsIDEpOw0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgfQ0KDQogICAgI2xvYWRpbmcge30NCg0KICAgIC5wcm9ncmVzcy1iYXItb3V0ZXIgew0KICAgICAgYm9yZGVyOiAxcHggc29saWQgY3VycmVudENvbG9yOw0KICAgICAgaGVpZ2h0OiAxMHB4Ow0KICAgICAgd2lkdGg6IDIwMHB4Ow0KICAgICAgbWF4LXdpZHRoOiAyMDBweDsNCiAgICB9DQoNCiAgICAucHJvZ3Jlc3MtYmFyLWlubmVyIHsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIHdpZHRoOiAwOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yOw0KICAgIH0NCg0KICAgIC5sb2FkaW5nLXRleHQsDQogICAgbm9zY3JpcHQgew0KICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgICAgIGZvbnQtc2l6ZTogMzZweDsNCiAgICAgIG1hcmdpbjogMCAwIDE2cHg7DQogICAgfQ0KDQogICAgLmxvYWRpbmctaW1hZ2Ugew0KICAgICAgbWFyZ2luOiAwIDAgMTZweDsNCiAgICB9DQoNCiAgICAjZXJyb3ItbWVzc2FnZSwNCiAgICAjZXJyb3Itc3RhY2sgew0KICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsNCiAgICAgIG1heC13aWR0aDogNjAwcHg7DQogICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7DQogICAgICB1c2VyLXNlbGVjdDogdGV4dDsNCiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7DQogICAgfQ0KDQogICAgI2Vycm9yLXN0YWNrIHsNCiAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICBtYXgtaGVpZ2h0OiAyMDBweDsNCiAgICAgIG92ZXJmbG93OiBhdXRvOw0KICAgIH0NCg0KICAgIC5jb250cm9sLWJ1dHRvbiB7DQogICAgICB3aWR0aDogMnJlbTsNCiAgICAgIGhlaWdodDogMnJlbTsNCiAgICAgIHBhZGRpbmc6IDAuMzc1cmVtOw0KICAgICAgbWFyZ2luLXRvcDogMC41cmVtOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOw0KICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgYm9yZGVyOiAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIH0NCg0KICAgIC5jb250cm9sLWJ1dHRvbi1oaWdobGlnaHQ6aG92ZXIgew0KICAgICAgYmFja2dyb3VuZDogI2ZmNGM0YzI2Ow0KICAgIH0NCg0KICAgIC5jb250cm9sLWJ1dHRvbi1oaWdobGlnaHQuYWN0aXZlIHsNCiAgICAgIGJhY2tncm91bmQ6ICNmZjRjNGM1OTsNCiAgICB9DQoNCiAgICAuZnVsbHNjcmVlbi1idXR0b24gew0KICAgICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgfQ0KDQogICAgLnN0YW5kYWxvbmUtZnVsbHNjcmVlbi1idXR0b24gew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgdG9wOiAwOw0KICAgICAgcmlnaHQ6IDA7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7DQogICAgICBib3JkZXItcmFkaXVzOiAwIDAgMCA0cHg7DQogICAgICBwYWRkaW5nOiA0cHg7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KDQogICAgLnNjLWNhbnZhcyB7DQogICAgICBjdXJzb3I6IGF1dG87DQogICAgfQ0KDQogICAgLnNjLW1vbml0b3Itcm9vdFtkYXRhLW9wY29kZV49ImRhdGFfIl0gLnNjLW1vbml0b3ItdmFsdWUtY29sb3Igew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOGMxYTsNCiAgICB9DQoNCiAgICAuc2MtbW9uaXRvci1yb3ctdmFsdWUtb3V0ZXIgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZjNjYyYzsNCiAgICB9DQoNCiAgICAuc2MtbW9uaXRvci1yb3ctdmFsdWUtZWRpdGluZyAuc2MtbW9uaXRvci1yb3ctdmFsdWUtb3V0ZXIgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UyNWIyNzsNCiAgICB9DQogIDwvc3R5bGU+DQogIDxtZXRhIG5hbWU9InRoZW1lLWNvbG9yIiBjb250ZW50PSIjMDAwMDAwIj4NCg0KPC9oZWFkPg0KDQo8Ym9keT4NCiAgPGRpdiBpZD0iYXBwIj48L2Rpdj4NCg0KICA8ZGl2IGlkPSJsYXVuY2giIGNsYXNzPSJzY3JlZW4iIGhpZGRlbiB0aXRsZT0iQ2xpY2sgdG8gc3RhcnQiPg0KICAgIDxkaXYgY2xhc3M9ImdyZWVuLWZsYWciPg0KICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMTYuNjMgMTcuNSIgd2lkdGg9IjQyIiBoZWlnaHQ9IjQ0Ij4NCiAgICAgICAgPGRlZnM+DQogICAgICAgICAgPHN0eWxlPg0KICAgICAgICAgICAgLmNscy0xLA0KICAgICAgICAgICAgLmNscy0yIHsNCiAgICAgICAgICAgICAgZmlsbDogIzRjYmY1NjsNCiAgICAgICAgICAgICAgc3Ryb2tlOiAjNDU5OTNkOw0KICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcDogcm91bmQ7DQogICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbjogcm91bmQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5jbHMtMiB7DQogICAgICAgICAgICAgIHN0cm9rZS13aWR0aDogMS41cHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgPC9zdHlsZT4NCiAgICAgICAgPC9kZWZzPg0KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0uNzUsMkE2LjQ0LDYuNDQsMCwwLDEsOC40NCwyaDBhNi40NCw2LjQ0LDAsMCwwLDcuNjksMFYxMi40YTYuNDQsNi40NCwwLDAsMS03LjY5LDBoMGE2LjQ0LDYuNDQsMCwwLDAtNy42OSwwIiAvPg0KICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTIiIHgxPSIwLjc1IiB5MT0iMTYuNzUiIHgyPSIwLjc1IiB5Mj0iMC43NSIgLz4NCiAgICAgIDwvc3ZnPg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCg0KICA8ZGl2IGlkPSJsb2FkaW5nIiBjbGFzcz0ic2NyZWVuIj4NCiAgICA8bm9zY3JpcHQ+RW5hYmxlIEphdmFTY3JpcHQ8L25vc2NyaXB0Pg0KDQoNCiAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXItb3V0ZXIiPg0KICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyLWlubmVyIiBpZD0ibG9hZGluZy1pbm5lciI+PC9kaXY+DQogICAgPC9kaXY+DQogIDwvZGl2Pg0KDQogIDxkaXYgaWQ9ImVycm9yIiBjbGFzcz0ic2NyZWVuIiBoaWRkZW4+DQogICAgPGgxPkVycm9yPC9oMT4NCiAgICA8ZGV0YWlscz4NCiAgICAgIDxzdW1tYXJ5IGlkPSJlcnJvci1tZXNzYWdlIj48L3N1bW1hcnk+DQogICAgICA8cCBpZD0iZXJyb3Itc3RhY2siPjwvcD4NCiAgICA8L2RldGFpbHM+DQogIDwvZGl2Pg0KDQogIDxzY3JpcHQgc3JjPSJzY3JpcHQuanMiPjwvc2NyaXB0Pg0KICA8c2NyaXB0Pg0KICAgIGNvbnN0IGFwcEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7DQogICAgY29uc3QgbGF1bmNoU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaCcpOw0KICAgIGNvbnN0IGxvYWRpbmdTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpOw0KICAgIGNvbnN0IGxvYWRpbmdJbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLWlubmVyJyk7DQogICAgY29uc3QgZXJyb3JTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKTsNCiAgICBjb25zdCBlcnJvclNjcmVlbk1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3ItbWVzc2FnZScpOw0KICAgIGNvbnN0IGVycm9yU2NyZWVuU3RhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3Itc3RhY2snKTsNCg0KICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yKSA9PiB7DQogICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgIGlmICghZXJyb3JTY3JlZW4uaGlkZGVuKSByZXR1cm47DQogICAgICBlcnJvclNjcmVlbi5oaWRkZW4gPSBmYWxzZTsNCiAgICAgIGVycm9yU2NyZWVuTWVzc2FnZS50ZXh0Q29udGVudCA9ICcnICsgZXJyb3I7DQogICAgICBsZXQgZGVidWcgPSBlcnJvciAmJiBlcnJvci5zdGFjayB8fCAnbm8gc3RhY2snOw0KICAgICAgZGVidWcgKz0gJ1xuVXNlciBhZ2VudDogJyArIG5hdmlnYXRvci51c2VyQWdlbnQ7DQogICAgICBlcnJvclNjcmVlblN0YWNrLnRleHRDb250ZW50ID0gZGVidWc7DQogICAgfTsNCiAgICBjb25zdCBzZXRQcm9ncmVzcyA9IChwcm9ncmVzcykgPT4gew0KICAgICAgaWYgKGxvYWRpbmdJbm5lcikgbG9hZGluZ0lubmVyLnN0eWxlLndpZHRoID0gcHJvZ3Jlc3MgKiAxMDAgKyAnJSc7DQogICAgfTsNCiAgICBjb25zdCBpbnRlcnBvbGF0ZSA9IChhLCBiLCB0KSA9PiBhICsgdCAqIChiIC0gYSk7DQoNCiAgICB0cnkgew0KICAgICAgc2V0UHJvZ3Jlc3MoMC4xKTsNCg0KICAgICAgY29uc3Qgc2NhZmZvbGRpbmcgPSBuZXcgU2NhZmZvbGRpbmcuU2NhZmZvbGRpbmcoKTsNCiAgICAgIHNjYWZmb2xkaW5nLndpZHRoID0gNDgwOw0KICAgICAgc2NhZmZvbGRpbmcuaGVpZ2h0ID0gMzYwOw0KICAgICAgc2NhZmZvbGRpbmcucmVzaXplTW9kZSA9ICJwcmVzZXJ2ZS1yYXRpbyI7DQogICAgICBzY2FmZm9sZGluZy5lZGl0YWJsZUxpc3RzID0gZmFsc2U7DQogICAgICBzY2FmZm9sZGluZy51c2VQYWNrYWdlZFJ1bnRpbWUgPSB0cnVlOw0KICAgICAgc2NhZmZvbGRpbmcuc2V0dXAoKTsNCiAgICAgIHNjYWZmb2xkaW5nLmFwcGVuZFRvKGFwcEVsZW1lbnQpOw0KDQogICAgICBjb25zdCB2bSA9IHNjYWZmb2xkaW5nLnZtOw0KICAgICAgd2luZG93LnNjYWZmb2xkaW5nID0gc2NhZmZvbGRpbmc7DQogICAgICB3aW5kb3cudm0gPSBzY2FmZm9sZGluZy52bTsNCiAgICAgIHdpbmRvdy5TY3JhdGNoID0gew0KICAgICAgICB2bSwNCiAgICAgICAgcmVuZGVyZXI6IHZtLnJlbmRlcmVyLA0KICAgICAgICBhdWRpb0VuZ2luZTogdm0ucnVudGltZS5hdWRpb0VuZ2luZSwNCiAgICAgICAgYml0bWFwQWRhcHRlcjogdm0ucnVudGltZS52MkJpdG1hcEFkYXB0ZXIsDQogICAgICAgIHZpZGVvUHJvdmlkZXI6IHZtLnJ1bnRpbWUuaW9EZXZpY2VzLnZpZGVvLnByb3ZpZGVyDQogICAgICB9Ow0KDQogICAgICBzY2FmZm9sZGluZy5zZXRVc2VybmFtZSgicGxheWVyIyMjIyIucmVwbGFjZSgvIy9nLCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkpKTsNCiAgICAgIHNjYWZmb2xkaW5nLnNldEFjY2VudENvbG9yKCIjZmY0YzRjIik7DQoNCiAgICAgIHRyeSB7DQogICAgICAgIHNjYWZmb2xkaW5nLmFkZENsb3VkUHJvdmlkZXIobmV3IFNjYWZmb2xkaW5nLkNsb3VkLldlYlNvY2tldFByb3ZpZGVyKFsid3NzOi8vY2xvdWRkYXRhLnR1cmJvd2FycC5vcmciLCAid3NzOi8vY2xvdWRkYXRhLnR1cmJvd2FycC54eXoiXSwgIjEwOTcyNzA1MTUiKSk7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgIH0NCg0KICAgICAgdm0uc2V0VHVyYm9Nb2RlKHRydWUpOw0KICAgICAgaWYgKHZtLnNldEludGVycG9sYXRpb24pIHZtLnNldEludGVycG9sYXRpb24oZmFsc2UpOw0KICAgICAgaWYgKHZtLnNldEZyYW1lcmF0ZSkgdm0uc2V0RnJhbWVyYXRlKDMwKTsNCiAgICAgIGlmICh2bS5yZW5kZXJlci5zZXRVc2VIaWdoUXVhbGl0eVJlbmRlcikgdm0ucmVuZGVyZXIuc2V0VXNlSGlnaFF1YWxpdHlSZW5kZXIoZmFsc2UpOw0KICAgICAgaWYgKHZtLnNldFJ1bnRpbWVPcHRpb25zKSB2bS5zZXRSdW50aW1lT3B0aW9ucyh7DQogICAgICAgIGZlbmNpbmc6IHRydWUsDQogICAgICAgIG1pc2NMaW1pdHM6IHRydWUsDQogICAgICAgIG1heENsb25lczogMzAwLA0KICAgICAgfSk7DQogICAgICBpZiAodm0uc2V0Q29tcGlsZXJPcHRpb25zKSB2bS5zZXRDb21waWxlck9wdGlvbnMoew0KICAgICAgICBlbmFibGVkOiB0cnVlLA0KICAgICAgICB3YXJwVGltZXI6IGZhbHNlDQogICAgICB9KTsNCiAgICAgIGlmICh2bS5yZW5kZXJlci5zZXRNYXhUZXh0dXJlRGltZW5zaW9uKSB2bS5yZW5kZXJlci5zZXRNYXhUZXh0dXJlRGltZW5zaW9uKDIwNDgpOw0KDQogICAgICAvLyBlbmZvcmNlUHJpdmFjeSB0aHJlYXQgbW9kZWwgb25seSBtYWtlcyBzZW5zZSBpbiB0aGUgZWRpdG9yDQogICAgICBpZiAodm0ucnVudGltZS5zZXRFbmZvcmNlUHJpdmFjeSkgdm0ucnVudGltZS5zZXRFbmZvcmNlUHJpdmFjeShmYWxzZSk7DQoNCiAgICAgIGlmICh0eXBlb2YgU2NhZmZvbGRpbmdBZGRvbnMgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgIFNjYWZmb2xkaW5nQWRkb25zLnJ1bihzY2FmZm9sZGluZywgew0KICAgICAgICAgICJnYW1lcGFkIjogZmFsc2UsDQogICAgICAgICAgInBvaW50ZXJsb2NrIjogZmFsc2UsDQogICAgICAgICAgInNwZWNpYWxDbG91ZEJlaGF2aW9ycyI6IGZhbHNlLA0KICAgICAgICAgICJ1bnNhZmVDbG91ZEJlaGF2aW9ycyI6IGZhbHNlLA0KICAgICAgICAgICJwYXVzZSI6IGZhbHNlDQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICBzY2FmZm9sZGluZy5zZXRFeHRlbnNpb25TZWN1cml0eU1hbmFnZXIoew0KICAgICAgICBnZXRTYW5kYm94TW9kZTogKCkgPT4gJ3Vuc2FuZGJveGVkJywNCiAgICAgICAgY2FuTG9hZEV4dGVuc2lvbkZyb21Qcm9qZWN0OiAoKSA9PiB0cnVlDQogICAgICB9KTsNCiAgICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIFtdKSB7DQogICAgICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIubG9hZEV4dGVuc2lvblVSTChleHRlbnNpb24pOw0KICAgICAgfQ0KDQogICAgfSBjYXRjaCAoZSkgew0KICAgICAgaGFuZGxlRXJyb3IoZSk7DQogICAgfQ0KICA8L3NjcmlwdD4NCg0KDQogIDxzY3JpcHQ+DQogICAgY29uc3QgZ2V0UHJvamVjdERhdGEgPSAoZnVuY3Rpb24oKSB7DQogICAgICBjb25zdCBzdG9yYWdlID0gc2NhZmZvbGRpbmcuc3RvcmFnZTsNCiAgICAgIHN0b3JhZ2Uub25wcm9ncmVzcyA9ICh0b3RhbCwgbG9hZGVkKSA9PiB7DQogICAgICAgIHNldFByb2dyZXNzKGludGVycG9sYXRlKDAuMiwgMC45OCwgbG9hZGVkIC8gdG90YWwpKTsNCiAgICAgIH07DQoNCiAgICAgIHN0b3JhZ2UuYWRkV2ViU3RvcmUoDQogICAgICAgIFsNCiAgICAgICAgICBzdG9yYWdlLkFzc2V0VHlwZS5JbWFnZVZlY3RvciwNCiAgICAgICAgICBzdG9yYWdlLkFzc2V0VHlwZS5JbWFnZUJpdG1hcCwNCiAgICAgICAgICBzdG9yYWdlLkFzc2V0VHlwZS5Tb3VuZCwNCiAgICAgICAgICBzdG9yYWdlLkFzc2V0VHlwZS5Gb250DQogICAgICAgIF0uZmlsdGVyKGkgPT4gaSksDQogICAgICAgIChhc3NldCkgPT4gbmV3IFVSTCgnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2J1YmJscy9VR1MtQXNzZXRzQGVjMmU1OTg2YjhiZDg3MzExNzk4YjhiOTAzOTJlY2M5NTBmZjkwNTEvc3BydW5rZWQvYXNzZXRzLycgKyBhc3NldC5hc3NldElkICsgJy4nICsgYXNzZXQuZGF0YUZvcm1hdCwgbG9jYXRpb24pLmhyZWYNCiAgICAgICk7DQogICAgICByZXR1cm4gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHsNCiAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7DQogICAgICAgIH07DQogICAgICAgIHhoci5vbmVycm9yID0gKCkgPT4gew0KICAgICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2ZpbGU6Jykgew0KICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignWmlwIGVudmlyb25tZW50IG11c3QgYmUgdXNlZCBmcm9tIGEgd2Vic2l0ZSwgbm90IGZyb20gYSBmaWxlIFVSTC4nKSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdG8gbG9hZCBwcm9qZWN0IGRhdGEgZmFpbGVkLicpKTsNCiAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHhoci5vbnByb2dyZXNzID0gKGUpID0+IHsNCiAgICAgICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7DQogICAgICAgICAgICBzZXRQcm9ncmVzcyhpbnRlcnBvbGF0ZSgwLjEsIDAuMiwgZS5sb2FkZWQgLyBlLnRvdGFsKSk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJzsNCiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL1VHUy1Bc3NldHNAZWMyZTU5ODZiOGJkODczMTE3OThiOGI5MDM5MmVjYzk1MGZmOTA1MS9zcHJ1bmtlZC9hc3NldHMvcHJvamVjdC5qc29uIik7DQogICAgICAgIHhoci5zZW5kKCk7DQogICAgICB9KTsNCiAgICB9KSgpOw0KICA8L3NjcmlwdD4NCiAgPHNjcmlwdD4NCiAgICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7DQogICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IGF3YWl0IGdldFByb2plY3REYXRhKCk7DQogICAgICBhd2FpdCBzY2FmZm9sZGluZy5sb2FkUHJvamVjdChwcm9qZWN0RGF0YSk7DQogICAgICBzZXRQcm9ncmVzcygxKTsNCiAgICAgIGxvYWRpbmdTY3JlZW4uaGlkZGVuID0gdHJ1ZTsNCiAgICAgIGlmIChmYWxzZSkgew0KICAgICAgICBzY2FmZm9sZGluZy5zdGFydCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGF1bmNoU2NyZWVuLmhpZGRlbiA9IGZhbHNlOw0KICAgICAgICBsYXVuY2hTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgbGF1bmNoU2NyZWVuLmhpZGRlbiA9IHRydWU7DQogICAgICAgICAgc2NhZmZvbGRpbmcuc3RhcnQoKTsNCiAgICAgICAgfSk7DQogICAgICAgIGxhdW5jaFNjcmVlbi5mb2N1cygpOw0KICAgICAgfQ0KICAgIH07DQogICAgcnVuKCkuY2F0Y2goaGFuZGxlRXJyb3IpOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCg0KPC9odG1sPg==";
