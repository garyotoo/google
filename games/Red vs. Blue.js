window.game = "DQoNCjwhLS0gVWx0aW1hdGUgR2FtZSBTdGFzaCBmaWxlLS0+IA0KPCEtLSBGb3IgdGhlIHJlZ3VsYXJseSB1cGRhdGluZyBkb2MgZ28gdG8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xX0ZtSDNCbFNCUUk3RkdnQVFMNTktWlBlOGVDeHMzNXdlbDZKVXlWYUc4US8gLS0+DQoNCg0KDQoNCjxodG1sIGxhbmc9ImVuLXVzIj4NCg0KPGhlYWQ+DQoJPHNjcmlwdD4NCgkJKGZ1bmN0aW9uKCl7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShnKXt0aGlzLnQ9e307dGhpcy50aWNrPWZ1bmN0aW9uKGgsbSxmKXt2YXIgbj1mIT12b2lkIDA/ZjoobmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnRbaF09W24sbV07aWYoZj09dm9pZCAwKXRyeXt3aW5kb3cuY29uc29sZS50aW1lU3RhbXAoIkNTSS8iK2gpfWNhdGNoKHEpe319O3RoaXMuZ2V0U3RhcnRUaWNrVGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnQuc3RhcnRbMF19O3RoaXMudGljaygic3RhcnQiLG51bGwsZyl9dmFyIGE7aWYod2luZG93LnBlcmZvcm1hbmNlKXZhciBkPShhPXdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcpJiZhLnJlc3BvbnNlU3RhcnQ7dmFyIHA9ZD4wP25ldyBlKGQpOm5ldyBlO3dpbmRvdy5qc3RpbWluZz17VGltZXI6ZSxsb2FkOnB9O2lmKGEpe3ZhciBiPWEubmF2aWdhdGlvblN0YXJ0O2I+MCYmZD49YiYmKHdpbmRvdy5qc3RpbWluZy5zcnQ9ZC1iKX1pZihhKXt2YXIgYz13aW5kb3cuanN0aW1pbmcubG9hZDsNCmI+MCYmZD49YiYmKGMudGljaygiX3d0c3J0Iix2b2lkIDAsYiksYy50aWNrKCJ3dHNydF8iLCJfd3RzcnQiLGQpLGMudGljaygidGJzZF8iLCJ3dHNydF8iKSl9dHJ5e3ZhciBrPXdpbmRvdy50b3AhPXdpbmRvdy5zZWxmLGw9d2luZG93LmxvY2F0aW9uLmhyZWY7YT1udWxsO3dpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuY3NpJiYoYT1NYXRoLmZsb29yKHdpbmRvdy5jaHJvbWUuY3NpKCkucGFnZVQpLGMmJmI+MCYmKGMudGljaygiX3RibmQiLHZvaWQgMCx3aW5kb3cuY2hyb21lLmNzaSgpLnN0YXJ0RSksYy50aWNrKCJ0Ym5kXyIsIl90Ym5kIixiKSkpO2E9PW51bGwmJndpbmRvdy5ndGJFeHRlcm5hbCYmKGE9az93aW5kb3cuZ3RiRXh0ZXJuYWwuZnJhbWVUKGwpOndpbmRvdy5ndGJFeHRlcm5hbC5wYWdlVCgpKTthPT1udWxsJiZ3aW5kb3cuZXh0ZXJuYWwmJihrP2E9d2luZG93LmV4dGVybmFsLmZyYW1lVChsKTooYT13aW5kb3cuZXh0ZXJuYWwucGFnZVQsYyYmYj4wJiYoYy50aWNrKCJfdGJuZCIsDQp2b2lkIDAsd2luZG93LmV4dGVybmFsLnN0YXJ0RSksYy50aWNrKCJ0Ym5kXyIsIl90Ym5kIixiKSkpKTthJiYod2luZG93LmpzdGltaW5nLnB0PWEpfWNhdGNoKGcpe319KSgpO30pLmNhbGwodGhpcyk7DQp3aW5kb3dbIl9fY3NpIl09e2E6ZmFsc2UsYjpmYWxzZSxjOiJpZyIsdjoiZGVmYXVsdCIsZzpudWxsLGQ6ZmFsc2V9O2lmKHdpbmRvdy5qc3RpbWluZyl7d2luZG93LmpzdGltaW5nLmJlYWNvbkltYWdlUmVmZXJlbmNlc189e307d2luZG93LmpzdGltaW5nLnJlcG9ydENvdW50ZXJfPTE7dmFyIGdldFRpY2s9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEudFtiXSxlPWEudC5zdGFydDtpZihkJiYoZXx8YykpcmV0dXJuIGQ9YS50W2JdWzBdLGU9YyE9dm9pZCAwP2M6ZVswXSxhPWQtZSxNYXRoLnJvdW5kKGEpfSxnZXRSZXBvcnRVcmk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3dpbmRvdy5qc3RpbWluZy5zcnQmJihkKz0iJnNydD0iK3dpbmRvdy5qc3RpbWluZy5zcnQsZGVsZXRlIHdpbmRvdy5qc3RpbWluZy5zcnQpO3dpbmRvdy5qc3RpbWluZy5wdCYmKGQrPSImdGJzcnQ9Iit3aW5kb3cuanN0aW1pbmcucHQsZGVsZXRlIHdpbmRvdy5qc3RpbWluZy5wdCk7dHJ5e3dpbmRvdy5leHRlcm5hbCYmd2luZG93LmV4dGVybmFsLnRyYW4/ZCs9IiZ0cmFuPSIrd2luZG93LmV4dGVybmFsLnRyYW46d2luZG93Lmd0YkV4dGVybmFsJiYNCndpbmRvdy5ndGJFeHRlcm5hbC50cmFuP2QrPSImdHJhbj0iK3dpbmRvdy5ndGJFeHRlcm5hbC50cmFuKCk6d2luZG93LmNocm9tZSYmd2luZG93LmNocm9tZS5jc2kmJihkKz0iJnRyYW49Iit3aW5kb3cuY2hyb21lLmNzaSgpLnRyYW4pfWNhdGNoKG0pe312YXIgZT13aW5kb3cuY2hyb21lO2lmKGUmJihlPWUubG9hZFRpbWVzKSYmdHlwZW9mIGU9PT0iZnVuY3Rpb24iJiYoZT1lKCkpKXtlLndhc0ZldGNoZWRWaWFTcGR5JiYoZCs9IiZwPXMiKTtpZihlLndhc05wbk5lZ290aWF0ZWQpe2QrPSImbnBuPTEiO3ZhciBmPWUubnBuTmVnb3RpYXRlZFByb3RvY29sO2YmJihkKz0iJm5wbnY9IisoZW5jb2RlVVJJQ29tcG9uZW50fHxlc2NhcGUpKGYpKX1lLndhc0FsdGVybmF0ZVByb3RvY29sQXZhaWxhYmxlJiYoZCs9IiZhcGE9MSIpfXZhciBnPWEudCxrPWcuc3RhcnQ7ZT1bXTtmPVtdO2Zvcih2YXIgbCBpbiBnKWlmKGwhPSJzdGFydCImJmwuaW5kZXhPZigiXyIpIT0wKXt2YXIgcT1nW2xdWzFdOw0KcT9nW3FdJiZmLnB1c2gobCsiLiIrZ2V0VGljayhhLGwsZ1txXVswXSkpOmsmJmUucHVzaChsKyIuIitnZXRUaWNrKGEsbCkpfWRlbGV0ZSBnLnN0YXJ0O2lmKGIpZm9yKHZhciBoIGluIGIpZCs9IiYiK2grIj0iK2JbaF07KGI9Yyl8fChiPSJodHRwczoiPT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbD8iaHR0cHM6Ly9jc2kuZ3N0YXRpYy5jb20vY3NpIjoiaHR0cDovL2NzaS5nc3RhdGljLmNvbS9jc2kiKTtyZXR1cm4gYT1bYiwiP3Y9MyIsIiZzPSIrKHdpbmRvdy5qc3RpbWluZy5zbnx8Im9wZW5zb2NpYWwtZ2FkZ2V0cyIpKyImYWN0aW9uPSIsYS5uYW1lLGYubGVuZ3RoPyImaXQ9IitmLmpvaW4oIiwiKToiIixkLCImcnQ9IixlLmpvaW4oIiwiKV0uam9pbigiIil9LHNlbmRSZXBvcnRfPWZ1bmN0aW9uKGEsYixjKXthPWdldFJlcG9ydFVyaShhLGIsYyk7aWYoIWEpcmV0dXJuIiI7Yj1uZXcgSW1hZ2U7dmFyIGQ9d2luZG93LmpzdGltaW5nLnJlcG9ydENvdW50ZXJfKys7d2luZG93LmpzdGltaW5nLmJlYWNvbkltYWdlUmVmZXJlbmNlc19bZF09DQpiO2Iub25sb2FkPWIub25lcnJvcj1mdW5jdGlvbigpe3dpbmRvdy5qc3RpbWluZyYmZGVsZXRlIHdpbmRvdy5qc3RpbWluZy5iZWFjb25JbWFnZVJlZmVyZW5jZXNfW2RdfTtiLnNyYz1hO2I9bnVsbDtyZXR1cm4gYX07d2luZG93LmpzdGltaW5nLnJlcG9ydD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLGU9InZpc2liaWxpdHljaGFuZ2UiO2R8fChkPWRvY3VtZW50LndlYmtpdFZpc2liaWxpdHlTdGF0ZSxlPSJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlIik7aWYoZD09InByZXJlbmRlciIpe3ZhciBmPSExLGc9ZnVuY3Rpb24oKXtpZighZil7Yj9iLnByZXJlbmRlcj0iMSI6Yj17cHJlcmVuZGVyOiIxIn07aWYoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZXx8ZG9jdW1lbnQud2Via2l0VmlzaWJpbGl0eVN0YXRlKT09InByZXJlbmRlciIpdmFyIGs9ITE7ZWxzZSBzZW5kUmVwb3J0XyhhLGIsYyksaz0hMDtrJiYoZj0hMCxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsDQpnLCExKSl9fTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUsZywhMSk7cmV0dXJuIiJ9cmV0dXJuIHNlbmRSZXBvcnRfKGEsYixjKX19Oy8qDQoNCiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLg0KIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wDQoqLw0KdmFyIGdvb2c9Z29vZ3x8e307Z29vZy5nbG9iYWw9dGhpc3x8c2VsZjtnb29nLmV4cG9ydFBhdGhfPWZ1bmN0aW9uKGEsYixjLGQpe2E9YS5zcGxpdCgiLiIpO2Q9ZHx8Z29vZy5nbG9iYWw7YVswXWluIGR8fHR5cGVvZiBkLmV4ZWNTY3JpcHQ9PSJ1bmRlZmluZWQifHxkLmV4ZWNTY3JpcHQoInZhciAiK2FbMF0pO2Zvcih2YXIgZTthLmxlbmd0aCYmKGU9YS5zaGlmdCgpKTspaWYoYS5sZW5ndGh8fGI9PT12b2lkIDApZD1kW2VdJiZkW2VdIT09T2JqZWN0LnByb3RvdHlwZVtlXT9kW2VdOmRbZV09e307ZWxzZSBpZighYyYmZ29vZy5pc09iamVjdChiKSYmZ29vZy5pc09iamVjdChkW2VdKSlmb3IodmFyIGYgaW4gYiliLmhhc093blByb3BlcnR5KGYpJiYoZFtlXVtmXT1iW2ZdKTtlbHNlIGRbZV09Yn07Z29vZy5DTE9TVVJFX0RFRklORVM9dHlwZW9mIENMT1NVUkVfREVGSU5FUyE9PSJ1bmRlZmluZWQiP0NMT1NVUkVfREVGSU5FUzpnb29nLmdsb2JhbC5DTE9TVVJFX0RFRklORVM7DQpnb29nLkNMT1NVUkVfVU5DT01QSUxFRF9ERUZJTkVTPXR5cGVvZiBDTE9TVVJFX1VOQ09NUElMRURfREVGSU5FUyE9PSJ1bmRlZmluZWQiP0NMT1NVUkVfVU5DT01QSUxFRF9ERUZJTkVTOmdvb2cuZ2xvYmFsLkNMT1NVUkVfVU5DT01QSUxFRF9ERUZJTkVTO2dvb2cuZGVmaW5lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Yn07Z29vZy5GRUFUVVJFU0VUX1lFQVI9MjAxMjtnb29nLkRFQlVHPSEwO2dvb2cuTE9DQUxFPSJlbiI7Z29vZy5UUlVTVEVEX1NJVEU9ITA7Z29vZy5ESVNBTExPV19URVNUX09OTFlfQ09ERT0hZ29vZy5ERUJVRztnb29nLkVOQUJMRV9DSFJPTUVfQVBQX1NBRkVfU0NSSVBUX0xPQURJTkc9ITE7Z29vZy5yZWFkRmxhZ0ludGVybmFsRG9Ob3RVc2VPckVsc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nb29nLmdldE9iamVjdEJ5TmFtZShnb29nLkZMQUdTX09CSkVDVF8pO2E9YyYmY1thXTtyZXR1cm4gYSE9bnVsbD9hOmJ9O2dvb2cuRkxBR1NfT0JKRUNUXz0iQ0xPU1VSRV9GTEFHUyI7DQpnb29nLkZMQUdTX1NUQUdJTkdfREVGQVVMVD0hMDtnb29nLkNMT1NVUkVfVE9HR0xFX09SRElOQUxTPXR5cGVvZiBDTE9TVVJFX1RPR0dMRV9PUkRJTkFMUz09PSJvYmplY3QiP0NMT1NVUkVfVE9HR0xFX09SRElOQUxTOmdvb2cuZ2xvYmFsLkNMT1NVUkVfVE9HR0xFX09SRElOQUxTO2dvb2cucmVhZFRvZ2dsZUludGVybmFsRG9Ob3RDYWxsRGlyZWN0bHk9ZnVuY3Rpb24oYSl7dmFyIGI9Z29vZy5DTE9TVVJFX1RPR0dMRV9PUkRJTkFMUzthPWImJmJbYV07cmV0dXJuIHR5cGVvZiBhIT09Im51bWJlciI/ISFhOiEhKGdvb2cuVE9HR0xFU19bTWF0aC5mbG9vcihhLzMwKV0mMTw8YSUzMCl9O2dvb2cuVE9HR0xFX1ZBUl89Il9GX3RvZ2dsZXMiO2dvb2cuVE9HR0xFU189Z29vZy5nbG9iYWxbZ29vZy5UT0dHTEVfVkFSX118fFtdO2dvb2cuTEVHQUNZX05BTUVTUEFDRV9PQkpFQ1RfPWdvb2cuZ2xvYmFsOw0KZ29vZy5wcm92aWRlPWZ1bmN0aW9uKGEpe2lmKGdvb2cuaXNJbk1vZHVsZUxvYWRlcl8oKSl0aHJvdyBFcnJvcigiZ29vZy5wcm92aWRlIGNhbm5vdCBiZSB1c2VkIHdpdGhpbiBhIG1vZHVsZS4iKTtnb29nLmNvbnN0cnVjdE5hbWVzcGFjZV8oYSl9O2dvb2cuY29uc3RydWN0TmFtZXNwYWNlXz1mdW5jdGlvbihhLGIsYyl7Z29vZy5leHBvcnRQYXRoXyhhLGIsYyxnb29nLkxFR0FDWV9OQU1FU1BBQ0VfT0JKRUNUXyl9O2dvb2cuTk9OQ0VfUEFUVEVSTl89L15bXHcrL18tXStbPV17MCwyfSQvO2dvb2cuZ2V0U2NyaXB0Tm9uY2VfPWZ1bmN0aW9uKGEpe2E9KGF8fGdvb2cuZ2xvYmFsKS5kb2N1bWVudDtyZXR1cm4oYT1hLnF1ZXJ5U2VsZWN0b3ImJmEucXVlcnlTZWxlY3Rvcigic2NyaXB0W25vbmNlXSIpKSYmKGE9YS5ub25jZXx8YS5nZXRBdHRyaWJ1dGUoIm5vbmNlIikpJiZnb29nLk5PTkNFX1BBVFRFUk5fLnRlc3QoYSk/YToiIn07Z29vZy5WQUxJRF9NT0RVTEVfUkVfPS9eW2EtekEtWl8kXVthLXpBLVowLTkuXyRdKiQvOw0KZ29vZy5tb2R1bGU9ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGEhPT0ic3RyaW5nInx8IWF8fGEuc2VhcmNoKGdvb2cuVkFMSURfTU9EVUxFX1JFXyk9PS0xKXRocm93IEVycm9yKCJJbnZhbGlkIG1vZHVsZSBpZGVudGlmaWVyIik7aWYoIWdvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfKCkpdGhyb3cgRXJyb3IoIk1vZHVsZSAiK2ErIiBoYXMgYmVlbiBsb2FkZWQgaW5jb3JyZWN0bHkuIE5vdGUsIG1vZHVsZXMgY2Fubm90IGJlIGxvYWRlZCBhcyBub3JtYWwgc2NyaXB0cy4gVGhleSByZXF1aXJlIHNvbWUga2luZCBvZiBwcmUtcHJvY2Vzc2luZyBzdGVwLiBZb3UncmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIGEgbW9kdWxlIHZpYSBhIHNjcmlwdCB0YWcgb3IgYXMgYSBwYXJ0IG9mIGEgY29uY2F0ZW5hdGVkIGJ1bmRsZSB3aXRob3V0IHJld3JpdGluZyB0aGUgbW9kdWxlLiBGb3IgbW9yZSBpbmZvIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvd2lraS9nb29nLm1vZHVsZTotYW4tRVM2LW1vZHVsZS1saWtlLWFsdGVybmF0aXZlLXRvLWdvb2cucHJvdmlkZS4iKTsNCmlmKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWUpdGhyb3cgRXJyb3IoImdvb2cubW9kdWxlIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBtb2R1bGUuIik7Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8ubW9kdWxlTmFtZT1hfTtnb29nLm1vZHVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Z29vZy5tb2R1bGUuZ2V0SW50ZXJuYWxfPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2dvb2cucmVxdWlyZUR5bmFtaWM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Z29vZy5pbXBvcnRIYW5kbGVyXz1udWxsO2dvb2cudW5jb21waWxlZENodW5rSWRIYW5kbGVyXz1udWxsO2dvb2cuc2V0SW1wb3J0SGFuZGxlckludGVybmFsRG9Ob3RDYWxsT3JFbHNlPWZ1bmN0aW9uKGEpe2dvb2cuaW1wb3J0SGFuZGxlcl89YX07DQpnb29nLnNldFVuY29tcGlsZWRDaHVua0lkSGFuZGxlckludGVybmFsRG9Ob3RDYWxsT3JFbHNlPWZ1bmN0aW9uKGEpe2dvb2cudW5jb21waWxlZENodW5rSWRIYW5kbGVyXz1hfTtnb29nLm1heWJlUmVxdWlyZUZyYW1ld29ya0ludGVybmFsT25seURvTm90Q2FsbE9yRWxzZT1mdW5jdGlvbigpe307Z29vZy5Nb2R1bGVUeXBlPXtFUzY6ImVzNiIsR09PRzoiZ29vZyJ9O2dvb2cubW9kdWxlTG9hZGVyU3RhdGVfPW51bGw7Z29vZy5pc0luTW9kdWxlTG9hZGVyXz1mdW5jdGlvbigpe3JldHVybiBnb29nLmlzSW5Hb29nTW9kdWxlTG9hZGVyXygpfHxnb29nLmlzSW5FczZNb2R1bGVMb2FkZXJfKCl9O2dvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfPWZ1bmN0aW9uKCl7cmV0dXJuISFnb29nLm1vZHVsZUxvYWRlclN0YXRlXyYmZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8udHlwZT09Z29vZy5Nb2R1bGVUeXBlLkdPT0d9Ow0KZ29vZy5pc0luRXM2TW9kdWxlTG9hZGVyXz1mdW5jdGlvbigpe3ZhciBhPSEhZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8mJmdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLnR5cGU9PWdvb2cuTW9kdWxlVHlwZS5FUzY7cmV0dXJuIGE/ITA6KGE9Z29vZy5MRUdBQ1lfTkFNRVNQQUNFX09CSkVDVF8uJGpzY29tcCk/dHlwZW9mIGEuZ2V0Q3VycmVudE1vZHVsZVBhdGghPSJmdW5jdGlvbiI/ITE6ISFhLmdldEN1cnJlbnRNb2R1bGVQYXRoKCk6ITF9O2dvb2cubW9kdWxlLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2U9ZnVuY3Rpb24oKXtnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5kZWNsYXJlTGVnYWN5TmFtZXNwYWNlPSEwfTsNCmdvb2cuZGVjbGFyZU1vZHVsZUlkPWZ1bmN0aW9uKGEpe2lmKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfKWdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWU9YTtlbHNle3ZhciBiPWdvb2cuTEVHQUNZX05BTUVTUEFDRV9PQkpFQ1RfLiRqc2NvbXA7aWYoIWJ8fHR5cGVvZiBiLmdldEN1cnJlbnRNb2R1bGVQYXRoIT0iZnVuY3Rpb24iKXRocm93IEVycm9yKCdNb2R1bGUgd2l0aCBuYW1lc3BhY2UgIicrYSsnIiBoYXMgYmVlbiBsb2FkZWQgaW5jb3JyZWN0bHkuJyk7Yj1iLnJlcXVpcmUoYi5nZXRDdXJyZW50TW9kdWxlUGF0aCgpKTtnb29nLmxvYWRlZE1vZHVsZXNfW2FdPXtleHBvcnRzOmIsdHlwZTpnb29nLk1vZHVsZVR5cGUuRVM2LG1vZHVsZUlkOmF9fX07DQpnb29nLnNldFRlc3RPbmx5PWZ1bmN0aW9uKGEpe2lmKGdvb2cuRElTQUxMT1dfVEVTVF9PTkxZX0NPREUpdGhyb3cgYT1hfHwiIixFcnJvcigiSW1wb3J0aW5nIHRlc3Qtb25seSBjb2RlIGludG8gbm9uLWRlYnVnIGVudmlyb25tZW50IisoYT8iOiAiK2E6Ii4iKSk7fTtnb29nLmZvcndhcmREZWNsYXJlPWZ1bmN0aW9uKCl7fTtnb29nLmdldE9iamVjdEJ5TmFtZT1mdW5jdGlvbihhLGIpe2E9YS5zcGxpdCgiLiIpO2I9Ynx8Z29vZy5nbG9iYWw7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYj1iW2FbY11dLGI9PW51bGwpcmV0dXJuIG51bGw7cmV0dXJuIGJ9O2dvb2cuYWRkRGVwZW5kZW5jeT1mdW5jdGlvbigpe307Z29vZy5FTkFCTEVfREVCVUdfTE9BREVSPSExO2dvb2cubG9nVG9Db25zb2xlXz1mdW5jdGlvbihhKXtnb29nLmdsb2JhbC5jb25zb2xlJiZnb29nLmdsb2JhbC5jb25zb2xlLmVycm9yKGEpfTtnb29nLnJlcXVpcmU9ZnVuY3Rpb24oKXt9Ow0KZ29vZy5yZXF1aXJlVHlwZT1mdW5jdGlvbigpe3JldHVybnt9fTtnb29nLmJhc2VQYXRoPSIiO2dvb2cuYWJzdHJhY3RNZXRob2Q9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigidW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QiKTt9O2dvb2cuYWRkU2luZ2xldG9uR2V0dGVyPWZ1bmN0aW9uKGEpe2EuaW5zdGFuY2VfPXZvaWQgMDthLmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7aWYoYS5pbnN0YW5jZV8pcmV0dXJuIGEuaW5zdGFuY2VfO2dvb2cuREVCVUcmJihnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfW2dvb2cuaW5zdGFudGlhdGVkU2luZ2xldG9uc18ubGVuZ3RoXT1hKTtyZXR1cm4gYS5pbnN0YW5jZV89bmV3IGF9fTtnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfPVtdO2dvb2cuTE9BRF9NT0RVTEVfVVNJTkdfRVZBTD0hMDtnb29nLlNFQUxfTU9EVUxFX0VYUE9SVFM9Z29vZy5ERUJVRztnb29nLmxvYWRlZE1vZHVsZXNfPXt9Ow0KZ29vZy5ERVBFTkRFTkNJRVNfRU5BQkxFRD0hMTtnb29nLkFTU1VNRV9FU19NT0RVTEVTX1RSQU5TUElMRUQ9ITE7Z29vZy5UUlVTVEVEX1RZUEVTX1BPTElDWV9OQU1FPSJnb29nIjtnb29nLmhhc0JhZExldFNjb3Bpbmc9bnVsbDsNCmdvb2cubG9hZE1vZHVsZT1mdW5jdGlvbihhKXt2YXIgYj1nb29nLm1vZHVsZUxvYWRlclN0YXRlXzt0cnl7Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV89e21vZHVsZU5hbWU6IiIsZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZTohMSx0eXBlOmdvb2cuTW9kdWxlVHlwZS5HT09HfTt2YXIgYz17fSxkPWM7aWYodHlwZW9mIGE9PT0iZnVuY3Rpb24iKWQ9YS5jYWxsKHZvaWQgMCxkKTtlbHNlIGlmKHR5cGVvZiBhPT09InN0cmluZyIpZD1nb29nLmxvYWRNb2R1bGVGcm9tU291cmNlXy5jYWxsKHZvaWQgMCxkLGEpO2Vsc2UgdGhyb3cgRXJyb3IoIkludmFsaWQgbW9kdWxlIGRlZmluaXRpb24iKTt2YXIgZT1nb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lO2lmKHR5cGVvZiBlPT09InN0cmluZyImJmUpe2dvb2cubW9kdWxlTG9hZGVyU3RhdGVfLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2U/KGE9YyE9PWQsZ29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfKGUsZCxhKSk6Z29vZy5TRUFMX01PRFVMRV9FWFBPUlRTJiYNCk9iamVjdC5zZWFsJiZ0eXBlb2YgZD09Im9iamVjdCImJmQhPW51bGwmJk9iamVjdC5zZWFsKGQpO3ZhciBmPXtleHBvcnRzOmQsdHlwZTpnb29nLk1vZHVsZVR5cGUuR09PRyxtb2R1bGVJZDpnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lfTtnb29nLmxvYWRlZE1vZHVsZXNfW2VdPWZ9ZWxzZSB0aHJvdyBFcnJvcignSW52YWxpZCBtb2R1bGUgbmFtZSAiJytlKyciJyk7fWZpbmFsbHl7Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV89Yn19O2dvb2cubG9hZE1vZHVsZUZyb21Tb3VyY2VfPWZ1bmN0aW9uKGEpe2V2YWwoZ29vZy5DTE9TVVJFX0VWQUxfUFJFRklMVEVSXy5jcmVhdGVTY3JpcHQoYXJndW1lbnRzWzFdKSk7cmV0dXJuIGF9Ow0KZ29vZy5ub3JtYWxpemVQYXRoXz1mdW5jdGlvbihhKXthPWEuc3BsaXQoIi8iKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOylhW2JdPT0iLiI/YS5zcGxpY2UoYiwxKTpiJiZhW2JdPT0iLi4iJiZhW2ItMV0mJmFbYi0xXSE9Ii4uIj9hLnNwbGljZSgtLWIsMik6YisrO3JldHVybiBhLmpvaW4oIi8iKX07Z29vZy5sb2FkRmlsZVN5bmNfPWZ1bmN0aW9uKGEpe2lmKGdvb2cuZ2xvYmFsLkNMT1NVUkVfTE9BRF9GSUxFX1NZTkMpcmV0dXJuIGdvb2cuZ2xvYmFsLkNMT1NVUkVfTE9BRF9GSUxFX1NZTkMoYSk7dHJ5e3ZhciBiPW5ldyBnb29nLmdsb2JhbC5YTUxIdHRwUmVxdWVzdDtiLm9wZW4oImdldCIsYSwhMSk7Yi5zZW5kKCk7cmV0dXJuIGIuc3RhdHVzPT0wfHxiLnN0YXR1cz09MjAwP2IucmVzcG9uc2VUZXh0Om51bGx9Y2F0Y2goYyl7cmV0dXJuIG51bGx9fTsNCmdvb2cudHlwZU9mPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVybiBiIT0ib2JqZWN0Ij9iOmE/QXJyYXkuaXNBcnJheShhKT8iYXJyYXkiOmI6Im51bGwifTtnb29nLmlzQXJyYXlMaWtlPWZ1bmN0aW9uKGEpe3ZhciBiPWdvb2cudHlwZU9mKGEpO3JldHVybiBiPT0iYXJyYXkifHxiPT0ib2JqZWN0IiYmdHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIn07Z29vZy5pc0RhdGVMaWtlPWZ1bmN0aW9uKGEpe3JldHVybiBnb29nLmlzT2JqZWN0KGEpJiZ0eXBlb2YgYS5nZXRGdWxsWWVhcj09ImZ1bmN0aW9uIn07Z29vZy5pc09iamVjdD1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm4gYj09Im9iamVjdCImJmEhPW51bGx8fGI9PSJmdW5jdGlvbiJ9Ow0KZ29vZy5nZXRVaWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGdvb2cuVUlEX1BST1BFUlRZXykmJmFbZ29vZy5VSURfUFJPUEVSVFlfXXx8KGFbZ29vZy5VSURfUFJPUEVSVFlfXT0rK2dvb2cudWlkQ291bnRlcl8pfTtnb29nLmhhc1VpZD1mdW5jdGlvbihhKXtyZXR1cm4hIWFbZ29vZy5VSURfUFJPUEVSVFlfXX07Z29vZy5yZW1vdmVVaWQ9ZnVuY3Rpb24oYSl7YSE9PW51bGwmJiJyZW1vdmVBdHRyaWJ1dGUiaW4gYSYmYS5yZW1vdmVBdHRyaWJ1dGUoZ29vZy5VSURfUFJPUEVSVFlfKTt0cnl7ZGVsZXRlIGFbZ29vZy5VSURfUFJPUEVSVFlfXX1jYXRjaChiKXt9fTtnb29nLlVJRF9QUk9QRVJUWV89ImNsb3N1cmVfdWlkXyIrKE1hdGgucmFuZG9tKCkqMUU5Pj4+MCk7Z29vZy51aWRDb3VudGVyXz0wOw0KZ29vZy5jbG9uZU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj1nb29nLnR5cGVPZihhKTtpZihiPT0ib2JqZWN0Inx8Yj09ImFycmF5Iil7aWYodHlwZW9mIGEuY2xvbmU9PT0iZnVuY3Rpb24iKXJldHVybiBhLmNsb25lKCk7aWYodHlwZW9mIE1hcCE9PSJ1bmRlZmluZWQiJiZhIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKGEpO2lmKHR5cGVvZiBTZXQhPT0idW5kZWZpbmVkIiYmYSBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldChhKTtiPWI9PSJhcnJheSI/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1nb29nLmNsb25lT2JqZWN0KGFbY10pO3JldHVybiBifXJldHVybiBhfTtnb29nLmJpbmROYXRpdmVfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfTsNCmdvb2cuYmluZEpzXz1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZihhcmd1bWVudHMubGVuZ3RoPjIpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGUsZCk7cmV0dXJuIGEuYXBwbHkoYixlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX07DQpnb29nLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2dvb2cuYmluZD1nb29nLlRSVVNURURfU0lURSYmZ29vZy5GRUFUVVJFU0VUX1lFQVI+MjAxMnx8RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZigibmF0aXZlIGNvZGUiKSE9LTE/Z29vZy5iaW5kTmF0aXZlXzpnb29nLmJpbmRKc187cmV0dXJuIGdvb2cuYmluZC5hcHBseShudWxsLGFyZ3VtZW50cyl9O2dvb2cucGFydGlhbD1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7ZC5wdXNoLmFwcGx5KGQsYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseSh0aGlzLGQpfX07Z29vZy5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX07Z29vZy5nbG9iYWxFdmFsPWZ1bmN0aW9uKGEpeygwLGV2YWwpKGEpfTsNCmdvb2cuZ2V0Q3NzTmFtZT1mdW5jdGlvbihhLGIpe2lmKFN0cmluZyhhKS5jaGFyQXQoMCk9PSIuIil0aHJvdyBFcnJvcignY2xhc3NOYW1lIHBhc3NlZCBpbiBnb29nLmdldENzc05hbWUgbXVzdCBub3Qgc3RhcnQgd2l0aCAiLiIuIFlvdSBwYXNzZWQ6ICcrYSk7dmFyIGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGdvb2cuY3NzTmFtZU1hcHBpbmdfW2VdfHxlfSxkPWZ1bmN0aW9uKGUpe2U9ZS5zcGxpdCgiLSIpO2Zvcih2YXIgZj1bXSxnPTA7ZzxlLmxlbmd0aDtnKyspZi5wdXNoKGMoZVtnXSkpO3JldHVybiBmLmpvaW4oIi0iKX07ZD1nb29nLmNzc05hbWVNYXBwaW5nXz9nb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfPT0iQllfV0hPTEUiP2M6ZDpmdW5jdGlvbihlKXtyZXR1cm4gZX07YT1iP2ErIi0iK2QoYik6ZChhKTtyZXR1cm4gZ29vZy5nbG9iYWwuQ0xPU1VSRV9DU1NfTkFNRV9NQVBfRk4/Z29vZy5nbG9iYWwuQ0xPU1VSRV9DU1NfTkFNRV9NQVBfRk4oYSk6YX07DQpnb29nLnNldENzc05hbWVNYXBwaW5nPWZ1bmN0aW9uKGEsYil7Z29vZy5jc3NOYW1lTWFwcGluZ189YTtnb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfPWJ9O2dvb2cuR2V0TXNnT3B0aW9ucz1mdW5jdGlvbigpe307Z29vZy5nZXRNc2c9ZnVuY3Rpb24oYSxiLGMpe2MmJmMuaHRtbCYmKGE9YS5yZXBsYWNlKC88L2csIiZsdDsiKSk7YyYmYy51bmVzY2FwZUh0bWxFbnRpdGllcyYmKGE9YS5yZXBsYWNlKC8mbHQ7L2csIjwiKS5yZXBsYWNlKC8mZ3Q7L2csIj4iKS5yZXBsYWNlKC8mYXBvczsvZywiJyIpLnJlcGxhY2UoLyZxdW90Oy9nLCciJykucmVwbGFjZSgvJmFtcDsvZywiJiIpKTtiJiYoYT1hLnJlcGxhY2UoL1x7XCQoW159XSspfS9nLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGIhPW51bGwmJmUgaW4gYj9iW2VdOmR9KSk7cmV0dXJuIGF9O2dvb2cuZ2V0TXNnV2l0aEZhbGxiYWNrPWZ1bmN0aW9uKGEpe3JldHVybiBhfTsNCmdvb2cuZXhwb3J0U3ltYm9sPWZ1bmN0aW9uKGEsYixjKXtnb29nLmV4cG9ydFBhdGhfKGEsYiwhMCxjKX07Z29vZy5leHBvcnRQcm9wZXJ0eT1mdW5jdGlvbihhLGIsYyl7YVtiXT1jfTtnb29nLndlYWtVc2FnZT1mdW5jdGlvbihhKXtyZXR1cm4gYX07Z29vZy5pbmhlcml0cz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5zdXBlckNsYXNzXz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuYmFzZT1mdW5jdGlvbihkLGUsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspZ1trLTJdPWFyZ3VtZW50c1trXTtyZXR1cm4gYi5wcm90b3R5cGVbZV0uYXBwbHkoZCxnKX19Ow0KZ29vZy5zY29wZT1mdW5jdGlvbihhKXtpZihnb29nLmlzSW5Nb2R1bGVMb2FkZXJfKCkpdGhyb3cgRXJyb3IoImdvb2cuc2NvcGUgaXMgbm90IHN1cHBvcnRlZCB3aXRoaW4gYSBtb2R1bGUuIik7YS5jYWxsKGdvb2cuZ2xvYmFsKX07DQpnb29nLmRlZmluZUNsYXNzPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jb25zdHJ1Y3RvcixkPWIuc3RhdGljcztjJiZjIT1PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yfHwoYz1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJjYW5ub3QgaW5zdGFudGlhdGUgYW4gaW50ZXJmYWNlIChubyBjb25zdHJ1Y3RvciBkZWZpbmVkKS4iKTt9KTtjPWdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyhjLGEpO2EmJmdvb2cuaW5oZXJpdHMoYyxhKTtkZWxldGUgYi5jb25zdHJ1Y3RvcjtkZWxldGUgYi5zdGF0aWNzO2dvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjLnByb3RvdHlwZSxiKTtkIT1udWxsJiYoZCBpbnN0YW5jZW9mIEZ1bmN0aW9uP2QoYyk6Z29vZy5kZWZpbmVDbGFzcy5hcHBseVByb3BlcnRpZXNfKGMsZCkpO3JldHVybiBjfTtnb29nLmRlZmluZUNsYXNzLlNFQUxfQ0xBU1NfSU5TVEFOQ0VTPWdvb2cuREVCVUc7DQpnb29nLmRlZmluZUNsYXNzLmNyZWF0ZVNlYWxpbmdDb25zdHJ1Y3Rvcl89ZnVuY3Rpb24oYSl7aWYoIWdvb2cuZGVmaW5lQ2xhc3MuU0VBTF9DTEFTU19JTlNUQU5DRVMpcmV0dXJuIGE7dmFyIGI9ZnVuY3Rpb24oKXt2YXIgYz1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztjW2dvb2cuVUlEX1BST1BFUlRZX109Y1tnb29nLlVJRF9QUk9QRVJUWV9dO3JldHVybiBjfTtyZXR1cm4gYn07Z29vZy5kZWZpbmVDbGFzcy5PQkpFQ1RfUFJPVE9UWVBFX0ZJRUxEU189ImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZiIuc3BsaXQoIiAiKTsNCmdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGMpJiYoYVtjXT1iW2NdKTtmb3IodmFyIGQ9MDtkPGdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfLmxlbmd0aDtkKyspYz1nb29nLmRlZmluZUNsYXNzLk9CSkVDVF9QUk9UT1RZUEVfRklFTERTX1tkXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixjKSYmKGFbY109YltjXSl9O2dvb2cuaWRlbnRpdHlfPWZ1bmN0aW9uKGEpe3JldHVybiBhfTsNCmdvb2cuY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5PWZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz1nb29nLmdsb2JhbC50cnVzdGVkVHlwZXM7aWYoIWN8fCFjLmNyZWF0ZVBvbGljeSlyZXR1cm4gYjt0cnl7Yj1jLmNyZWF0ZVBvbGljeShhLHtjcmVhdGVIVE1MOmdvb2cuaWRlbnRpdHlfLGNyZWF0ZVNjcmlwdDpnb29nLmlkZW50aXR5XyxjcmVhdGVTY3JpcHRVUkw6Z29vZy5pZGVudGl0eV99KX1jYXRjaChkKXtnb29nLmxvZ1RvQ29uc29sZV8oZC5tZXNzYWdlKX1yZXR1cm4gYn07Z29vZy5Db2RlTG9jYXRpb249e307Z29vZy5jYWxsZXJMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiIifTtnb29nLmNhbGxlckxvY2F0aW9uSWRJbnRlcm5hbERvTm90Q2FsbE9yRWxzZT1mdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGdvb2dsZT13aW5kb3cuZ29vZ2xlfHx7fTsNCmdvb2dsZS5jc2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGgpe3ZhciBtPWc/Zzpkb2N1bWVudC5sb2NhdGlvbi5ocmVmO3JldHVybihoPW0ubWF0Y2gobmV3IFJlZ0V4cCgiWz8mXSIraCsiPShbXiYjXSspIikpKT9oWzFdOm51bGx9ZnVuY3Rpb24gYihoKXt3aW5kb3cuanN0aW1pbmcubG9hZC50aWNrKGgpO2ZbaF09KG5ldyBEYXRlKS5nZXRUaW1lKCl9ZnVuY3Rpb24gYygpe2lmKCFsKXt2YXIgaD1hKCJ1cmwiKXx8ImRlZmF1bHQiLG09d2luZG93Ll9fY3NpfHx7fSxyPW0uY3x8ImRlZmF1bHQiLHY9bS52fHwiZGVmYXVsdCIscD13aW5kb3cuZW5jb2RlVVJJQ29tcG9uZW50P2VuY29kZVVSSUNvbXBvbmVudDplc2NhcGU7cD17Z2FkZ2V0OnAoaCksY29udGFpbmVyOnAociksdmlldzpwKHYpfTt2YXIgdD13aW5kb3cuX19kZmxhZ3N8fHt9LHU9W107bS5nJiZ1LnB1c2gobS5nKTtpZihtLmQpZm9yKHZhciBuIGluIHQpdFtuXSE9PSJjb250cm9sIiYmKHBbbl09dFtuXSx0W25dPT09InRydWUiJiYNCnUucHVzaChuKSk7cC5lPXUuam9pbigiLCIpO249az9rOmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sO249ZVtuXTt3aW5kb3cuanN0aW1pbmcubG9hZC5uYW1lPVtyLCJfIix2XS5qb2luKCIiKTt3aW5kb3cuanN0aW1pbmcucmVwb3J0KHdpbmRvdy5qc3RpbWluZy5sb2FkLHAsbik7KHI9d2luZG93LmdhZGdldHMpJiZyLnJwYyYmbS5iJiYoZi51cmw9aCxmLmlkPWEoIm1pZCIpLHIucnBjLmNhbGwobnVsbCwidGltZV9pZnJhbWUiLHZvaWQgMCxmKSk7bD0hMH19ZnVuY3Rpb24gZChoKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsaCwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsaCl9dmFyIGU9eyJodHRwOiI6Imh0dHA6Ly9jc2kuZ3N0YXRpYy5jb20vY3NpIiwiaHR0cHM6IjoiaHR0cHM6Ly9nZy5nb29nbGUuY29tL2NzaSJ9LGY9e30sZyxrLGw9ITEscT13aW5kb3cuX19jc2l8fA0Ke307cS5hPyhkKGZ1bmN0aW9uKCl7YigicHJ0Iil9KSx3aW5kb3cub25iZWZvcmV1bmxvYWQ9ZnVuY3Rpb24oKXtjKCl9KTpkKGZ1bmN0aW9uKCl7Yigib2wiKTtiKCJwcnQiKTtjKCl9KTtyZXR1cm57cmVzZXRfOmZ1bmN0aW9uKCl7bD0hMX0sbW9ja0hyZWZfOmZ1bmN0aW9uKGgpe2c9aH0sbW9ja1Byb3RvY29sXzpmdW5jdGlvbihoKXtrPWh9LHJlcG9ydF86Yyx0aWNrUHJ0QW5kUmVwb3J0OmZ1bmN0aW9uKCl7YigicHJ0Iik7YygpfSx0aWNrRGw6ZnVuY3Rpb24oKXtiKCJkbCIpfX19KCk7DQoJPC9zY3JpcHQ+DQoJPHNjcmlwdD4NCgkJLyogbXAtc3RhcnQgKi8NCndpbmRvd1snX19fanNsJ109d2luZG93WydfX19qc2wnXXx8e307DQovKiBtcC1lbmQgKi8NCgk8L3NjcmlwdD4NCgk8c2NyaXB0Pg0KCQl3aW5kb3dbJ19faXNnYWRnZXQnXT10cnVlOw0KCTwvc2NyaXB0Pg0KCTxzY3JpcHQ+DQoJCXdpbmRvd1snX19fanNsJ10gPSB3aW5kb3dbJ19fX2pzbCddIHx8IHt9Oyh3aW5kb3dbJ19fX2pzbCddWydjaSddID0gKHdpbmRvd1snX19fanNsJ11bJ2NpJ10gfHwgW10pKS5wdXNoKHsiY29yZS5pbyI6eyJqc29uUHJveHlVcmwiOiIvLyVob3N0JS9nYWRnZXRzL21ha2VSZXF1ZXN0IiwicHJveHlVcmwiOiIvL3d3dy1pZy1vcGVuc29jaWFsLmdvb2dsZXVzZXJjb250ZW50LmNvbS9nYWRnZXRzL3Byb3h5L3JlZnJlc2g9JXJlZnJlc2glJmNvbnRhaW5lcj0lY29udGFpbmVyJSVyZXdyaXRlTWltZSUmZ2FkZ2V0PSVnYWRnZXQlLyVyYXd1cmwlIn0sInNoaW5kaWcuYXV0aCI6eyJhdXRoVG9rZW4iOiIiLCJ0cnVzdGVkSnNvbiI6IiJ9LCJjb3JlLnV0aWwiOnsiY29yZSI6e319fSk7dmFyIHNhZmVKU09OPXdpbmRvdy5zYWZlSlNPTjsNCnZhciB0YW1pbmdzX19fPXdpbmRvdy50YW1pbmdzX19ffHxbXTsNCnZhciBicmlkZ2VfX187DQp2YXIgY2FqYV9fXz13aW5kb3cuY2FqYV9fXzsNCnZhciBfX189d2luZG93Ll9fXzs7DQp2YXIgZ2FwaT13aW5kb3cuZ2FwaXx8e307Z2FwaS5jbGllbnQ9d2luZG93LmdhcGkmJndpbmRvdy5nYXBpLmNsaWVudHx8e307DQo7DQo7DQp2YXIgZ2FkZ2V0cz13aW5kb3cuZ2FkZ2V0c3x8e30sc2hpbmRpZz13aW5kb3cuc2hpbmRpZ3x8e30sb3NhcGk9d2luZG93Lm9zYXBpPXdpbmRvdy5vc2FwaXx8e307DQo7DQp3aW5kb3dbJ19fX2NmZyddID0gd2luZG93WydfX19jZmcnXSB8fCB3aW5kb3dbJ19fX2djZmcnXTs7DQppZighd2luZG93LmdhZGdldHNbImNvbmZpZyJdKXtnYWRnZXRzLmNvbmZpZz1mdW5jdGlvbigpe3ZhciBmOw0KdmFyIGg9e307DQp2YXIgYj17fTsNCmZ1bmN0aW9uIGMoaixsKXtmb3IodmFyIGsgaW4gbCl7aWYoIWwuaGFzT3duUHJvcGVydHkoaykpe2NvbnRpbnVlDQp9aWYodHlwZW9mIGpba109PT0ib2JqZWN0IiYmdHlwZW9mIGxba109PT0ib2JqZWN0Iil7YyhqW2tdLGxba10pDQp9ZWxzZXtqW2tdPWxba10NCn19fWZ1bmN0aW9uIGkoKXt2YXIgaj1kb2N1bWVudC5zY3JpcHRzfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7DQppZighanx8ai5sZW5ndGg9PTApe3JldHVybiBudWxsDQp9dmFyIG07DQppZihmLnUpe2Zvcih2YXIgaz0wOw0KIW0mJms8ai5sZW5ndGg7DQorK2spe3ZhciBsPWpba107DQppZihsLnNyYyYmbC5zcmMuaW5kZXhPZihmLnUpPT0wKXttPWwNCn19fWlmKCFtKXttPWpbai5sZW5ndGgtMV0NCn1pZighbS5zcmMpe3JldHVybiBudWxsDQp9cmV0dXJuIG0NCn1mdW5jdGlvbiBhKGope3ZhciBrPSIiOw0KaWYoai5ub2RlVHlwZT09M3x8ai5ub2RlVHlwZT09NCl7az1qLm5vZGVWYWx1ZQ0KfWVsc2V7aWYoai5pbm5lclRleHQpe2s9ai5pbm5lclRleHQNCn1lbHNle2lmKGouaW5uZXJIVE1MKXtrPWouaW5uZXJIVE1MDQp9ZWxzZXtpZihqLmZpcnN0Q2hpbGQpe3ZhciBsPVtdOw0KZm9yKHZhciBtPWouZmlyc3RDaGlsZDsNCm07DQptPW0ubmV4dFNpYmxpbmcpe2wucHVzaChhKG0pKQ0KfWs9bC5qb2luKCIiKQ0KfX19fXJldHVybiBrDQp9ZnVuY3Rpb24gZShrKXtpZighayl7cmV0dXJue30NCn12YXIgajsNCndoaWxlKGsuY2hhckNvZGVBdChrLmxlbmd0aC0xKT09MCl7az1rLnN1YnN0cmluZygwLGsubGVuZ3RoLTEpDQp9dHJ5e2o9KG5ldyBGdW5jdGlvbigicmV0dXJuICgiK2srIlxuKSIpKSgpDQp9Y2F0Y2gobCl7fWlmKHR5cGVvZiBqPT09Im9iamVjdCIpe3JldHVybiBqDQp9dHJ5e2o9KG5ldyBGdW5jdGlvbigicmV0dXJuICh7IitrKyJcbn0pIikpKCkNCn1jYXRjaChsKXt9cmV0dXJuIHR5cGVvZiBqPT09Im9iamVjdCI/ajp7fQ0KfWZ1bmN0aW9uIGcobil7dmFyIHA9d2luZG93Ll9fX2NmZzsNCmlmKHApe2MobixwKQ0KfXZhciBvPWkoKTsNCmlmKCFvKXtyZXR1cm4NCn12YXIgaz1hKG8pOw0KdmFyIGo9ZShrKTsNCmlmKGYuZiYmZi5mLmxlbmd0aD09MSl7dmFyIG09Zi5mWzBdOw0KaWYoIWpbbV0pe3ZhciBsPXt9Ow0KbFtmLmZbMF1dPWo7DQpqPWwNCn19YyhuLGopDQp9ZnVuY3Rpb24gZChvKXtmb3IodmFyIGwgaW4gaCl7aWYoaC5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIG49aFtsXTsNCmZvcih2YXIgbT0wLGs9bi5sZW5ndGg7DQptPGs7DQorK20pe28obCxuW21dKQ0KfX19fXJldHVybntyZWdpc3RlcjpmdW5jdGlvbihsLGssaixtKXt2YXIgbj1oW2xdOw0KaWYoIW4pe249W107DQpoW2xdPW4NCn1uLnB1c2goe3ZhbGlkYXRvcnM6a3x8e30sY2FsbGJhY2s6aixjYWxsT25VcGRhdGU6bX0pDQp9LGdldDpmdW5jdGlvbihqKXtpZihqKXtyZXR1cm4gYltqXXx8e30NCn1yZXR1cm4gYg0KfSxpbml0OmZ1bmN0aW9uKGssail7Zj13aW5kb3cuX19fanNsfHx7fTsNCmMoYixrKTsNCmcoYik7DQp2YXIgbD13aW5kb3cuX19fY29uZmlnfHx7fTsNCmMoYixsKTsNCmQoZnVuY3Rpb24ocSxwKXt2YXIgbz1iW3FdOw0KaWYobyYmIWope3ZhciBtPXAudmFsaWRhdG9yczsNCmZvcih2YXIgbiBpbiBtKXtpZihtLmhhc093blByb3BlcnR5KG4pKXtpZighbVtuXShvW25dKSl7dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbmZpZyB2YWx1ZSAiJytvW25dKyciIGZvciBwYXJhbWV0ZXIgIicrbisnIiBpbiBjb21wb25lbnQgIicrcSsnIicpDQp9fX19aWYocC5jYWxsYmFjayl7cC5jYWxsYmFjayhiKQ0KfX0pDQp9LHVwZGF0ZTpmdW5jdGlvbihrLHApe3ZhciBvPSh3aW5kb3cuZ2FwaSYmd2luZG93LmdhcGlbImNvbmZpZyJdJiZ3aW5kb3cuZ2FwaVsiY29uZmlnIl1bInVwZGF0ZSJdKTsNCmlmKCFwJiZvKXtvKGspDQp9dmFyIG49W107DQpkKGZ1bmN0aW9uKHEsail7aWYoay5oYXNPd25Qcm9wZXJ0eShxKXx8KHAmJmImJmJbcV0pKXtpZihqLmNhbGxiYWNrJiZqLmNhbGxPblVwZGF0ZSl7bi5wdXNoKGouY2FsbGJhY2spDQp9fX0pOw0KYj1wP3t9OmJ8fHt9Ow0KYyhiLGspOw0KZm9yKHZhciBtPTAsbD1uLmxlbmd0aDsNCm08bDsNCisrbSl7blttXShiKQ0KfX19DQp9KCkNCn1lbHNle2dhZGdldHMuY29uZmlnPXdpbmRvdy5nYWRnZXRzWyJjb25maWciXTsNCmdhZGdldHMuY29uZmlnLnJlZ2lzdGVyPWdhZGdldHMuY29uZmlnLnJlZ2lzdGVyOw0KZ2FkZ2V0cy5jb25maWcuZ2V0PWdhZGdldHMuY29uZmlnLmdldDsNCmdhZGdldHMuY29uZmlnLmluaXQ9Z2FkZ2V0cy5jb25maWcuaW5pdDsNCmdhZGdldHMuY29uZmlnLnVwZGF0ZT1nYWRnZXRzLmNvbmZpZy51cGRhdGUNCn07Ow0KZ2FkZ2V0cy5sb2c9KGZ1bmN0aW9uKCl7dmFyIGU9MTsNCnZhciBhPTI7DQp2YXIgZj0zOw0KdmFyIGM9NDsNCnZhciBkPWZ1bmN0aW9uKGkpe2IoZSxpKQ0KfTsNCmdhZGdldHMud2Fybj1mdW5jdGlvbihpKXtiKGEsaSkNCn07DQpnYWRnZXRzLmVycm9yPWZ1bmN0aW9uKGkpe2IoZixpKQ0KfTsNCmdhZGdldHMuZGVidWc9ZnVuY3Rpb24oaSl7fTsNCmdhZGdldHMuc2V0TG9nTGV2ZWw9ZnVuY3Rpb24oaSl7aD1pDQp9Ow0KZnVuY3Rpb24gYihrLGkpe2lmKGs8aHx8IWcpe3JldHVybg0KfWlmKGs9PT1hJiZnLndhcm4pe2cud2FybihpKQ0KfWVsc2V7aWYoaz09PWYmJmcuZXJyb3Ipe3RyeXtnLmVycm9yKGkpDQp9Y2F0Y2goail7fX1lbHNle2lmKGcubG9nKXtnLmxvZyhpKQ0KfX19fWQuSU5GTz1lOw0KZC5XQVJOSU5HPWE7DQpkLk5PTkU9YzsNCnZhciBoPWU7DQp2YXIgZz13aW5kb3cuY29uc29sZT93aW5kb3cuY29uc29sZTp3aW5kb3cub3BlcmE/d2luZG93Lm9wZXJhLnBvc3RFcnJvcjp1bmRlZmluZWQ7DQpyZXR1cm4gZA0KfSkoKTs7DQp0YW1pbmdzX19fLnB1c2goZnVuY3Rpb24oYSl7Y2FqYV9fXy53aGl0ZWxpc3RGdW5jcyhbW2dhZGdldHMsImxvZyJdLFtnYWRnZXRzLCJ3YXJuIl0sW2dhZGdldHMsImVycm9yIl0sW2dhZGdldHMsInNldExvZ0xldmVsIl1dKTsNCmNhamFfX18ud2hpdGVsaXN0UHJvcHMoW1tnYWRnZXRzLmxvZywiSU5GTyJdLFtnYWRnZXRzLmxvZywiV0FSTklORyJdLFtnYWRnZXRzLmxvZywiRVJST1IiXSxbZ2FkZ2V0cy5sb2csIk5PTkUiXV0pDQp9KTs7DQo7DQooZnVuY3Rpb24oKXtnYWRnZXRzLmNvbmZpZy5FbnVtVmFsaWRhdG9yPWZ1bmN0aW9uKGQpe3ZhciBjPVtdOw0KaWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIGI9MCxhOw0KKGE9YXJndW1lbnRzW2JdKTsNCisrYil7Yy5wdXNoKGEpDQp9fWVsc2V7Yz1kDQp9cmV0dXJuIGZ1bmN0aW9uKGYpe2Zvcih2YXIgZT0wLGc7DQooZz1jW2VdKTsNCisrZSl7aWYoZj09PWNbZV0pe3JldHVybiB0cnVlDQp9fXJldHVybiBmYWxzZQ0KfQ0KfTsNCmdhZGdldHMuY29uZmlnLlJlZ0V4VmFsaWRhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS50ZXN0KGIpDQp9DQp9Ow0KZ2FkZ2V0cy5jb25maWcuRXhpc3RzVmFsaWRhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYSE9PSJ1bmRlZmluZWQiDQp9Ow0KZ2FkZ2V0cy5jb25maWcuTm9uRW1wdHlTdHJpbmdWYWxpZGF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhPT09InN0cmluZyImJmEubGVuZ3RoPjANCn07DQpnYWRnZXRzLmNvbmZpZy5Cb29sZWFuVmFsaWRhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09PSJib29sZWFuIg0KfTsNCmdhZGdldHMuY29uZmlnLkxpa2VWYWxpZGF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2Zvcih2YXIgZCBpbiBhKXtpZihhLmhhc093blByb3BlcnR5KGQpKXt2YXIgYj1hW2RdOw0KaWYoIWIoY1tkXSkpe3JldHVybiBmYWxzZQ0KfX19cmV0dXJuIHRydWUNCn0NCn0NCn0pKCk7Ow0KZ2FkZ2V0cy51dGlsPWdhZGdldHMudXRpbHx8e307DQooZnVuY3Rpb24oKXtnYWRnZXRzLnV0aWwubWFrZUNsb3N1cmU9ZnVuY3Rpb24oZCxmLGUpe3ZhciBjPVtdOw0KZm9yKHZhciBiPTIsYT1hcmd1bWVudHMubGVuZ3RoOw0KYjxhOw0KKytiKXtjLnB1c2goYXJndW1lbnRzW2JdKQ0KfXJldHVybiBmdW5jdGlvbigpe3ZhciBnPWMuc2xpY2UoKTsNCmZvcih2YXIgaz0wLGg9YXJndW1lbnRzLmxlbmd0aDsNCms8aDsNCisrayl7Zy5wdXNoKGFyZ3VtZW50c1trXSkNCn1yZXR1cm4gZi5hcHBseShkLGcpDQp9DQp9Ow0KZ2FkZ2V0cy51dGlsLm1ha2VFbnVtPWZ1bmN0aW9uKGIpe3ZhciBjLGEsZD17fTsNCmZvcihjPTA7DQooYT1iW2NdKTsNCisrYyl7ZFthXT1hDQp9cmV0dXJuIGQNCn0NCn0pKCk7Ow0KZ2FkZ2V0cy51dGlsPWdhZGdldHMudXRpbHx8e307DQooZnVuY3Rpb24oKXt2YXIgYz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI7DQpmdW5jdGlvbiBiKGYsZSl7dmFyIGg9ZXx8e307DQpmb3IodmFyIGcgaW4gaCl7aWYoaC5oYXNPd25Qcm9wZXJ0eShnKSl7ZltnXT1oW2ddDQp9fX1mdW5jdGlvbiBkKGcsZil7dmFyIGU9WyI8IixnXTsNCnZhciBpPWZ8fHt9Ow0KZm9yKHZhciBoIGluIGkpe2lmKGkuaGFzT3duUHJvcGVydHkoaCkpe2UucHVzaCgiICIpOw0KZS5wdXNoKGgpOw0KZS5wdXNoKCc9IicpOw0KZS5wdXNoKGdhZGdldHMudXRpbC5lc2NhcGVTdHJpbmcoaVtoXSkpOw0KZS5wdXNoKCciJykNCn19ZS5wdXNoKCI+PC8iKTsNCmUucHVzaChnKTsNCmUucHVzaCgiPiIpOw0KcmV0dXJuIGUuam9pbigiIikNCn1mdW5jdGlvbiBhKGYpe3ZhciBnPSIiOw0KaWYoZi5ub2RlVHlwZT09M3x8Zi5ub2RlVHlwZT09NCl7Zz1mLm5vZGVWYWx1ZQ0KfWVsc2V7aWYoZi5pbm5lclRleHQpe2c9Zi5pbm5lclRleHQNCn1lbHNle2lmKGYuaW5uZXJIVE1MKXtnPWYuaW5uZXJIVE1MDQp9ZWxzZXtpZihmLmZpcnN0Q2hpbGQpe3ZhciBlPVtdOw0KZm9yKHZhciBoPWYuZmlyc3RDaGlsZDsNCmg7DQpoPWgubmV4dFNpYmxpbmcpe2UucHVzaChhKGgpKQ0KfWc9ZS5qb2luKCIiKQ0KfX19fXJldHVybiBnDQp9Z2FkZ2V0cy51dGlsLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZil7dmFyIGU7DQppZigoIWRvY3VtZW50LmJvZHkpfHxkb2N1bWVudC5ib2R5Lm5hbWVzcGFjZVVSSSl7dHJ5e2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsZikNCn1jYXRjaChnKXt9fXJldHVybiBlfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGYpDQp9Ow0KZ2FkZ2V0cy51dGlsLmNyZWF0ZUlmcmFtZUVsZW1lbnQ9ZnVuY3Rpb24oZyl7dmFyIGk9Z2FkZ2V0cy51dGlsLmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOw0KdHJ5e3ZhciBlPWQoImlmcmFtZSIsZyk7DQp2YXIgZj1nYWRnZXRzLnV0aWwuY3JlYXRlRWxlbWVudChlKTsNCmlmKGYmJigoIWkpfHwoKGYudGFnTmFtZT09aS50YWdOYW1lKSYmKGYubmFtZXNwYWNlVVJJPT1pLm5hbWVzcGFjZVVSSSkpKSl7aT1mDQp9fWNhdGNoKGgpe31iKGksZyk7DQpyZXR1cm4gaQ0KfTsNCmdhZGdldHMudXRpbC5nZXRCb2R5RWxlbWVudD1mdW5jdGlvbigpe2lmKGRvY3VtZW50LmJvZHkpe3JldHVybiBkb2N1bWVudC5ib2R5DQp9dHJ5e3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYywiYm9keSIpOw0KaWYoZiYmKGYubGVuZ3RoPT0xKSl7cmV0dXJuIGZbMF0NCn19Y2F0Y2goZSl7fXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50DQp9Ow0KZ2FkZ2V0cy51dGlsLmdldElubmVyVGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gYShlKQ0KfQ0KfSkoKTs7DQpnYWRnZXRzLnV0aWw9Z2FkZ2V0cy51dGlsfHx7fTsNCihmdW5jdGlvbigpe2dhZGdldHMudXRpbC5hdHRhY2hCcm93c2VyRXZlbnQ9ZnVuY3Rpb24oYyxiLGQsYSl7aWYodHlwZW9mIGMuYWRkRXZlbnRMaXN0ZW5lciE9InVuZGVmaW5lZCIpe2MuYWRkRXZlbnRMaXN0ZW5lcihiLGQsYSkNCn1lbHNle2lmKHR5cGVvZiBjLmF0dGFjaEV2ZW50IT0idW5kZWZpbmVkIil7Yy5hdHRhY2hFdmVudCgib24iK2IsZCkNCn1lbHNle2dhZGdldHMud2FybigiY2Fubm90IGF0dGFjaEJyb3dzZXJFdmVudDogIitiKQ0KfX19Ow0KZ2FkZ2V0cy51dGlsLnJlbW92ZUJyb3dzZXJFdmVudD1mdW5jdGlvbihjLGIsZCxhKXtpZihjLnJlbW92ZUV2ZW50TGlzdGVuZXIpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGQsYSkNCn1lbHNle2lmKGMuZGV0YWNoRXZlbnQpe2MuZGV0YWNoRXZlbnQoIm9uIitiLGQpDQp9ZWxzZXtnYWRnZXRzLndhcm4oImNhbm5vdCByZW1vdmVCcm93c2VyRXZlbnQ6ICIrYikNCn19fQ0KfSkoKTs7DQpnYWRnZXRzLnV0aWw9Z2FkZ2V0cy51dGlsfHx7fTsNCihmdW5jdGlvbigpe3ZhciBhPVtdOw0KZ2FkZ2V0cy51dGlsLnJlZ2lzdGVyT25Mb2FkSGFuZGxlcj1mdW5jdGlvbihiKXthLnB1c2goYikNCn07DQpnYWRnZXRzLnV0aWwucnVuT25Mb2FkSGFuZGxlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGM9MCxiPWEubGVuZ3RoOw0KYzxiOw0KKytjKXthW2NdKCkNCn19DQp9KSgpOzsNCnRhbWluZ3NfX18ucHVzaChmdW5jdGlvbihhKXtjYWphX19fLndoaXRlbGlzdEZ1bmNzKFtbZ2FkZ2V0cy51dGlsLCJyZWdpc3Rlck9uTG9hZEhhbmRsZXIiXV0pDQp9KTs7DQpnYWRnZXRzLnV0aWw9Z2FkZ2V0cy51dGlsfHx7fTsNCihmdW5jdGlvbigpe3ZhciBhPXswOmZhbHNlLDEwOnRydWUsMTM6dHJ1ZSwzNDp0cnVlLDM5OnRydWUsNjA6dHJ1ZSw2Mjp0cnVlLDkyOnRydWUsODIzMjp0cnVlLDgyMzM6dHJ1ZSw2NTI4Mjp0cnVlLDY1Mjg3OnRydWUsNjUzMDg6dHJ1ZSw2NTMxMDp0cnVlLDY1MzQwOnRydWV9Ow0KZnVuY3Rpb24gYihjLGQpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGQpDQp9Z2FkZ2V0cy51dGlsLmVzY2FwZT1mdW5jdGlvbihjLGcpe2lmKCFjKXtyZXR1cm4gYw0KfWVsc2V7aWYodHlwZW9mIGM9PT0ic3RyaW5nIil7cmV0dXJuIGdhZGdldHMudXRpbC5lc2NhcGVTdHJpbmcoYykNCn1lbHNle2lmKHR5cGVvZiBjPT09IkFycmF5Iil7Zm9yKHZhciBmPTAsZD1jLmxlbmd0aDsNCmY8ZDsNCisrZil7Y1tmXT1nYWRnZXRzLnV0aWwuZXNjYXBlKGNbZl0pDQp9fWVsc2V7aWYodHlwZW9mIGM9PT0ib2JqZWN0IiYmZyl7dmFyIGU9e307DQpmb3IodmFyIGggaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShoKSl7ZVtnYWRnZXRzLnV0aWwuZXNjYXBlU3RyaW5nKGgpXT1nYWRnZXRzLnV0aWwuZXNjYXBlKGNbaF0sdHJ1ZSkNCn19cmV0dXJuIGUNCn19fX1yZXR1cm4gYw0KfTsNCmdhZGdldHMudXRpbC5lc2NhcGVTdHJpbmc9ZnVuY3Rpb24oZyl7aWYoIWcpe3JldHVybiBnDQp9dmFyIGQ9W10sZixoOw0KZm9yKHZhciBlPTAsYz1nLmxlbmd0aDsNCmU8YzsNCisrZSl7Zj1nLmNoYXJDb2RlQXQoZSk7DQpoPWFbZl07DQppZihoPT09dHJ1ZSl7ZC5wdXNoKCImIyIsZiwiOyIpDQp9ZWxzZXtpZihoIT09ZmFsc2Upe2QucHVzaChnLmNoYXJBdChlKSkNCn19fXJldHVybiBkLmpvaW4oIiIpDQp9Ow0KZ2FkZ2V0cy51dGlsLnVuZXNjYXBlU3RyaW5nPWZ1bmN0aW9uKGMpe2lmKCFjKXtyZXR1cm4gYw0KfXJldHVybiBjLnJlcGxhY2UoLyYjKFswLTldKyk7L2csYikNCn0NCn0pKCk7Ow0KdGFtaW5nc19fXy5wdXNoKGZ1bmN0aW9uKGEpe2NhamFfX18ud2hpdGVsaXN0RnVuY3MoW1tnYWRnZXRzLnV0aWwsImVzY2FwZSJdLFtnYWRnZXRzLnV0aWwsImVzY2FwZVN0cmluZyJdLFtnYWRnZXRzLnV0aWwsInVuZXNjYXBlU3RyaW5nIl1dKQ0KfSk7Ow0KZ2FkZ2V0cy51dGlsPWdhZGdldHMudXRpbHx8e307DQooZnVuY3Rpb24oKXt2YXIgYT1udWxsOw0KZnVuY3Rpb24gYihlKXt2YXIgZjsNCnZhciBjPWUuaW5kZXhPZigiPyIpOw0KdmFyIGQ9ZS5pbmRleE9mKCIjIik7DQppZihkPT09LTEpe2Y9ZS5zdWJzdHIoYysxKQ0KfWVsc2V7Zj1bZS5zdWJzdHIoYysxLGQtYy0xKSwiJiIsZS5zdWJzdHIoZCsxKV0uam9pbigiIikNCn1yZXR1cm4gZi5zcGxpdCgiJiIpDQp9Z2FkZ2V0cy51dGlsLmdldFVybFBhcmFtZXRlcnM9ZnVuY3Rpb24ocCl7dmFyIGQ9dHlwZW9mIHA9PT0idW5kZWZpbmVkIjsNCmlmKGEhPT1udWxsJiZkKXtyZXR1cm4gYQ0KfXZhciBsPXt9Ow0KdmFyIGY9YihwfHx3aW5kb3cubG9jYXRpb24uaHJlZik7DQp2YXIgbj13aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50P2RlY29kZVVSSUNvbXBvbmVudDp1bmVzY2FwZTsNCmZvcih2YXIgaD0wLGc9Zi5sZW5ndGg7DQpoPGc7DQorK2gpe3ZhciBtPWZbaF0uaW5kZXhPZigiPSIpOw0KaWYobT09PS0xKXtjb250aW51ZQ0KfXZhciBjPWZbaF0uc3Vic3RyaW5nKDAsbSk7DQp2YXIgbz1mW2hdLnN1YnN0cmluZyhtKzEpOw0Kbz1vLnJlcGxhY2UoL1wrL2csIiAiKTsNCnRyeXtsW2NdPW4obykNCn1jYXRjaChrKXt9fWlmKGQpe2E9bA0KfXJldHVybiBsDQp9Ow0KZ2FkZ2V0cy51dGlsLmdldFVybFBhcmFtZXRlcnMoKQ0KfSkoKTs7DQp0YW1pbmdzX19fLnB1c2goZnVuY3Rpb24oYSl7Y2FqYV9fXy53aGl0ZWxpc3RGdW5jcyhbW2dhZGdldHMudXRpbCwiZ2V0VXJsUGFyYW1ldGVycyJdXSkNCn0pOzsNCmdhZGdldHMudXRpbD1nYWRnZXRzLnV0aWx8fHt9Ow0KKGZ1bmN0aW9uKCl7dmFyIGI9e307DQp2YXIgYT17fTsNCmZ1bmN0aW9uIGMoZCl7Yj1kWyJjb3JlLnV0aWwiXXx8e30NCn1pZihnYWRnZXRzLmNvbmZpZyl7Z2FkZ2V0cy5jb25maWcucmVnaXN0ZXIoImNvcmUudXRpbCIsbnVsbCxjKQ0KfWdhZGdldHMudXRpbC5nZXRGZWF0dXJlUGFyYW1ldGVycz1mdW5jdGlvbihkKXtyZXR1cm4gdHlwZW9mIGJbZF09PT0idW5kZWZpbmVkIj9udWxsOmJbZF0NCn07DQpnYWRnZXRzLnV0aWwuaGFzRmVhdHVyZT1mdW5jdGlvbihkKXtyZXR1cm4gdHlwZW9mIGJbZF0hPT0idW5kZWZpbmVkIg0KfTsNCmdhZGdldHMudXRpbC5nZXRTZXJ2aWNlcz1mdW5jdGlvbigpe3JldHVybiBhDQp9DQp9KSgpOzsNCnRhbWluZ3NfX18ucHVzaChmdW5jdGlvbihhKXtjYWphX19fLndoaXRlbGlzdEZ1bmNzKFtbZ2FkZ2V0cy51dGlsLCJnZXRGZWF0dXJlUGFyYW1ldGVycyJdLFtnYWRnZXRzLnV0aWwsImhhc0ZlYXR1cmUiXV0pDQp9KTs7DQpzaGluZGlnLkF1dGg9ZnVuY3Rpb24oKXt2YXIgYXV0aFRva2VuPW51bGw7DQp2YXIgdHJ1c3RlZD1udWxsOw0KZnVuY3Rpb24gYWRkUGFyYW1zVG9Ub2tlbih1cmxQYXJhbXMpe3ZhciBhcmdzPWF1dGhUb2tlbi5zcGxpdCgiJiIpOw0KZm9yKHZhciBpPTA7DQppPGFyZ3MubGVuZ3RoOw0KaSsrKXt2YXIgbmFtZUFuZFZhbHVlPWFyZ3NbaV0uc3BsaXQoIj0iKTsNCmlmKG5hbWVBbmRWYWx1ZS5sZW5ndGg9PT0yKXt2YXIgbmFtZT1uYW1lQW5kVmFsdWVbMF07DQp2YXIgdmFsdWU9bmFtZUFuZFZhbHVlWzFdOw0KaWYodmFsdWU9PT0iJCIpe3ZhbHVlPWVuY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXNbbmFtZV0pOw0KYXJnc1tpXT1uYW1lKyI9Iit2YWx1ZQ0KfX19YXV0aFRva2VuPWFyZ3Muam9pbigiJiIpDQp9ZnVuY3Rpb24gaW5pdChjb25maWd1cmF0aW9uKXt2YXIgdXJsUGFyYW1zPWdhZGdldHMudXRpbC5nZXRVcmxQYXJhbWV0ZXJzKCk7DQp2YXIgY29uZmlnPWNvbmZpZ3VyYXRpb25bInNoaW5kaWcuYXV0aCJdfHx7fTsNCmlmKGNvbmZpZy5hdXRoVG9rZW4pe2F1dGhUb2tlbj1jb25maWcuYXV0aFRva2VuDQp9ZWxzZXtpZih1cmxQYXJhbXMuc3Qpe2F1dGhUb2tlbj11cmxQYXJhbXMuc3QNCn19aWYoYXV0aFRva2VuIT09bnVsbCl7YWRkUGFyYW1zVG9Ub2tlbih1cmxQYXJhbXMpDQp9aWYoY29uZmlnLnRydXN0ZWRKc29uKXt0cnVzdGVkPShldmFsKCIoIitjb25maWcudHJ1c3RlZEpzb24rIikiKSkNCn19Z2FkZ2V0cy5jb25maWcucmVnaXN0ZXIoInNoaW5kaWcuYXV0aCIsbnVsbCxpbml0KTsNCnJldHVybntnZXRTZWN1cml0eVRva2VuOmZ1bmN0aW9uKCl7cmV0dXJuIGF1dGhUb2tlbg0KfSx1cGRhdGVTZWN1cml0eVRva2VuOmZ1bmN0aW9uKG5ld1Rva2VuKXthdXRoVG9rZW49bmV3VG9rZW4NCn0sZ2V0VHJ1c3RlZERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1c3RlZA0KfX0NCn07Ow0Kc2hpbmRpZy5hdXRoPW5ldyBzaGluZGlnLkF1dGgoKTs7DQppZih3aW5kb3cuSlNPTiYmd2luZG93LkpTT04ucGFyc2UmJndpbmRvdy5KU09OLnN0cmluZ2lmeSl7Z2FkZ2V0cy5qc29uPShmdW5jdGlvbigpe3ZhciBhPS9fX18kLzsNCmZ1bmN0aW9uIGIoZCxlKXt2YXIgYz10aGlzW2RdOw0KcmV0dXJuIGMNCn1yZXR1cm57cGFyc2U6ZnVuY3Rpb24oZCl7dHJ5e3JldHVybiB3aW5kb3cuSlNPTi5wYXJzZShkKQ0KfWNhdGNoKGMpe3JldHVybiBmYWxzZQ0KfX0sc3RyaW5naWZ5OmZ1bmN0aW9uKGQpe3ZhciBoPXdpbmRvdy5KU09OLnN0cmluZ2lmeTsNCmZ1bmN0aW9uIGYoZSl7cmV0dXJuIGguY2FsbCh0aGlzLGUsYikNCn12YXIgZz0oQXJyYXkucHJvdG90eXBlLnRvSlNPTiYmaChbe3g6MX1dKT09PSciW3tcXCJ4XFwiOiAxfV0iJyk/ZjpoOw0KdHJ5e3JldHVybiBnKGQsZnVuY3Rpb24oaSxlKXtyZXR1cm4gIWEudGVzdChpKT9lOnZvaWQgMA0KfSkNCn1jYXRjaChjKXtyZXR1cm4gbnVsbA0KfX19DQp9KSgpDQp9OzsNCjsNCmlmKCEod2luZG93LkpTT04mJndpbmRvdy5KU09OLnBhcnNlJiZ3aW5kb3cuSlNPTi5zdHJpbmdpZnkpKXtnYWRnZXRzLmpzb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4pe3JldHVybiBuPDEwPyIwIituOm4NCn1EYXRlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRVVENGdWxsWWVhcigpLCItIixmKHRoaXMuZ2V0VVRDTW9udGgoKSsxKSwiLSIsZih0aGlzLmdldFVUQ0RhdGUoKSksIlQiLGYodGhpcy5nZXRVVENIb3VycygpKSwiOiIsZih0aGlzLmdldFVUQ01pbnV0ZXMoKSksIjoiLGYodGhpcy5nZXRVVENTZWNvbmRzKCkpLCJaIl0uam9pbigiIikNCn07DQp2YXIgbT17IlxiIjoiXFxiIiwiXHQiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn07DQpmdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpe3ZhciBhLGksayxsLHI9L1tcIlxcXHgwMC1ceDFmXHg3Zi1ceDlmXS9nLHY7DQpzd2l0Y2godHlwZW9mIHZhbHVlKXtjYXNlInN0cmluZyI6cmV0dXJuIHIudGVzdCh2YWx1ZSk/JyInK3ZhbHVlLnJlcGxhY2UocixmdW5jdGlvbihhKXt2YXIgYz1tW2FdOw0KaWYoYyl7cmV0dXJuIGMNCn1jPWEuY2hhckNvZGVBdCgpOw0KcmV0dXJuIlxcdTAwIitNYXRoLmZsb29yKGMvMTYpLnRvU3RyaW5nKDE2KSsoYyUxNikudG9TdHJpbmcoMTYpDQp9KSsnIic6JyInK3ZhbHVlKyciJzsNCmNhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUodmFsdWUpP1N0cmluZyh2YWx1ZSk6Im51bGwiOw0KY2FzZSJib29sZWFuIjpjYXNlIm51bGwiOnJldHVybiBTdHJpbmcodmFsdWUpOw0KY2FzZSJvYmplY3QiOmlmKCF2YWx1ZSl7cmV0dXJuIm51bGwiDQp9YT1bXTsNCmlmKHR5cGVvZiB2YWx1ZS5sZW5ndGg9PT0ibnVtYmVyIiYmIXZhbHVlLnByb3BlcnR5SXNFbnVtZXJhYmxlKCJsZW5ndGgiKSl7bD12YWx1ZS5sZW5ndGg7DQpmb3IoaT0wOw0KaTxsOw0KaSs9MSl7YS5wdXNoKHN0cmluZ2lmeSh2YWx1ZVtpXSl8fCJudWxsIikNCn1yZXR1cm4iWyIrYS5qb2luKCIsIikrIl0iDQp9Zm9yKGsgaW4gdmFsdWUpe2lmKC9fX18kLy50ZXN0KGspKXtjb250aW51ZQ0KfWlmKHZhbHVlLmhhc093blByb3BlcnR5KGspKXtpZih0eXBlb2Ygaz09PSJzdHJpbmciKXt2PXN0cmluZ2lmeSh2YWx1ZVtrXSk7DQppZih2KXthLnB1c2goc3RyaW5naWZ5KGspKyI6Iit2KQ0KfX19fXJldHVybiJ7IithLmpvaW4oIiwiKSsifSINCn1yZXR1cm4iIg0KfXJldHVybntzdHJpbmdpZnk6c3RyaW5naWZ5LHBhcnNlOmZ1bmN0aW9uKHRleHQpe2lmKC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFxbIlxcXC9iLXVdL2csIkAiKS5yZXBsYWNlKC8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZywiXSIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxzKlxbKSsvZywiIikpKXtyZXR1cm4gZXZhbCgiKCIrdGV4dCsiKSIpDQp9cmV0dXJuIGZhbHNlDQp9fQ0KfSgpDQp9OzsNCmdhZGdldHMuanNvbi5mbGF0dGVuPWZ1bmN0aW9uKGMpe3ZhciBkPXt9Ow0KaWYoYz09PW51bGx8fGM9PT11bmRlZmluZWQpe3JldHVybiBkDQp9Zm9yKHZhciBhIGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkoYSkpe3ZhciBiPWNbYV07DQppZihudWxsPT09Ynx8dW5kZWZpbmVkPT09Yil7Y29udGludWUNCn1kW2FdPSh0eXBlb2YgYj09PSJzdHJpbmciKT9iOmdhZGdldHMuanNvbi5zdHJpbmdpZnkoYikNCn19cmV0dXJuIGQNCn07Ow0KZ2FkZ2V0cy5pbz1mdW5jdGlvbigpe3ZhciBjb25maWc9e307DQp2YXIgb2F1dGhTdGF0ZTsNCmZ1bmN0aW9uIG1ha2VYaHIoKXt2YXIgeDsNCnZhciB3cmFwcGVyWGhyPXdpbmRvdy5zaGluZGlnJiZ3aW5kb3cuc2hpbmRpZ1sieGhyd3JhcHBlciJdJiZ3aW5kb3cuc2hpbmRpZ1sieGhyd3JhcHBlciJdWyJjcmVhdGVYSFIiXTsNCmlmKHdyYXBwZXJYaHIpe3JldHVybiB3cmFwcGVyWGhyKCkNCn1lbHNle2lmKHR5cGVvZiBBY3RpdmVYT2JqZWN0IT0idW5kZWZpbmVkIil7eD1uZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKTsNCmlmKCF4KXt4PW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpDQp9cmV0dXJuIHgNCn1lbHNle2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9InVuZGVmaW5lZCJ8fHdpbmRvdy5YTUxIdHRwUmVxdWVzdCl7cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKQ0KfWVsc2V7dGhyb3cgKCJubyB4aHIgYXZhaWxhYmxlIikNCn19fX1mdW5jdGlvbiBoYWRFcnJvcih4b2JqLGNhbGxiYWNrKXtpZih4b2JqLnJlYWR5U3RhdGUhPT00KXtyZXR1cm4gdHJ1ZQ0KfXRyeXtpZih4b2JqLnN0YXR1cyE9PTIwMCl7dmFyIGVycm9yPSgiIit4b2JqLnN0YXR1cyk7DQppZih4b2JqLnJlc3BvbnNlVGV4dCl7ZXJyb3I9ZXJyb3IrIiAiK3hvYmoucmVzcG9uc2VUZXh0DQp9Y2FsbGJhY2soe2Vycm9yczpbZXJyb3JdLHJjOnhvYmouc3RhdHVzLHRleHQ6eG9iai5yZXNwb25zZVRleHR9KTsNCnJldHVybiB0cnVlDQp9fWNhdGNoKGUpe2NhbGxiYWNrKHtlcnJvcnM6W2UubnVtYmVyKyIgRXJyb3Igbm90IHNwZWNpZmllZCJdLHJjOmUubnVtYmVyLHRleHQ6ZS5kZXNjcmlwdGlvbn0pOw0KcmV0dXJuIHRydWUNCn1yZXR1cm4gZmFsc2UNCn1mdW5jdGlvbiBwcm9jZXNzTm9uUHJveGllZFJlc3BvbnNlKHVybCxjYWxsYmFjayxwYXJhbXMseG9iail7aWYoaGFkRXJyb3IoeG9iaixjYWxsYmFjaykpe3JldHVybg0KfXZhciBkYXRhPXtib2R5OnhvYmoucmVzcG9uc2VUZXh0fTsNCmNhbGxiYWNrKHRyYW5zZm9ybVJlc3BvbnNlRGF0YShwYXJhbXMsZGF0YSkpDQp9dmFyIFVOUEFSU0VBQkxFX0NSVUZUPSJ0aHJvdyAxOyA8IGRvbid0IGJlIGV2aWwnID4iOw0KZnVuY3Rpb24gcHJvY2Vzc1Jlc3BvbnNlKHVybCxjYWxsYmFjayxwYXJhbXMseG9iail7aWYoaGFkRXJyb3IoeG9iaixjYWxsYmFjaykpe3JldHVybg0KfXZhciB0eHQ9eG9iai5yZXNwb25zZVRleHQ7DQp2YXIgb2Zmc2V0PXR4dC5pbmRleE9mKFVOUEFSU0VBQkxFX0NSVUZUKStVTlBBUlNFQUJMRV9DUlVGVC5sZW5ndGg7DQppZihvZmZzZXQ8VU5QQVJTRUFCTEVfQ1JVRlQubGVuZ3RoKXtyZXR1cm4NCn10eHQ9dHh0LnN1YnN0cihvZmZzZXQpOw0KdmFyIGRhdGE9ZXZhbCgiKCIrdHh0KyIpIik7DQpkYXRhPWRhdGFbdXJsXTsNCmlmKGRhdGEub2F1dGhTdGF0ZSl7b2F1dGhTdGF0ZT1kYXRhLm9hdXRoU3RhdGUNCn1pZihkYXRhLnN0KXtzaGluZGlnLmF1dGgudXBkYXRlU2VjdXJpdHlUb2tlbihkYXRhLnN0KQ0KfWNhbGxiYWNrKHRyYW5zZm9ybVJlc3BvbnNlRGF0YShwYXJhbXMsZGF0YSkpDQp9ZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2VEYXRhKHBhcmFtcyxkYXRhKXt2YXIgcmVzcD17dGV4dDpkYXRhLmJvZHkscmM6ZGF0YS5yY3x8MjAwLGhlYWRlcnM6ZGF0YS5oZWFkZXJzLG9hdXRoQXBwcm92YWxVcmw6ZGF0YS5vYXV0aEFwcHJvdmFsVXJsLG9hdXRoRXJyb3I6ZGF0YS5vYXV0aEVycm9yLG9hdXRoRXJyb3JUZXh0OmRhdGEub2F1dGhFcnJvclRleHQsZXJyb3JzOltdfTsNCmlmKHJlc3AucmM8MjAwfHxyZXNwLnJjPj00MDApe3Jlc3AuZXJyb3JzPVtyZXNwLnJjKyIgRXJyb3IiXQ0KfWVsc2V7aWYocmVzcC50ZXh0KXtpZihyZXNwLnJjPj0zMDAmJnJlc3AucmM8NDAwKXtwYXJhbXMuQ09OVEVOVF9UWVBFPSJURVhUIg0KfXN3aXRjaChwYXJhbXMuQ09OVEVOVF9UWVBFKXtjYXNlIkpTT04iOmNhc2UiRkVFRCI6cmVzcC5kYXRhPWdhZGdldHMuanNvbi5wYXJzZShyZXNwLnRleHQpOw0KaWYoIXJlc3AuZGF0YSl7cmVzcC5lcnJvcnMucHVzaCgiNTAwIEZhaWxlZCB0byBwYXJzZSBKU09OIik7DQpyZXNwLnJjPTUwMDsNCnJlc3AuZGF0YT1udWxsDQp9YnJlYWs7DQpjYXNlIkRPTSI6dmFyIGRvbTsNCmlmKHR5cGVvZiBBY3RpdmVYT2JqZWN0IT0idW5kZWZpbmVkIil7ZG9tPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik7DQpkb20uYXN5bmM9ZmFsc2U7DQpkb20udmFsaWRhdGVPblBhcnNlPWZhbHNlOw0KZG9tLnJlc29sdmVFeHRlcm5hbHM9ZmFsc2U7DQppZighZG9tLmxvYWRYTUwocmVzcC50ZXh0KSl7cmVzcC5lcnJvcnMucHVzaCgiNTAwIEZhaWxlZCB0byBwYXJzZSBYTUwiKTsNCnJlc3AucmM9NTAwDQp9ZWxzZXtyZXNwLmRhdGE9ZG9tDQp9fWVsc2V7dmFyIHBhcnNlcj1uZXcgRE9NUGFyc2VyKCk7DQpkb209cGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXNwLnRleHQsInRleHQveG1sIik7DQppZigicGFyc2VyZXJyb3IiPT09ZG9tLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSl7cmVzcC5lcnJvcnMucHVzaCgiNTAwIEZhaWxlZCB0byBwYXJzZSBYTUwiKTsNCnJlc3AucmM9NTAwDQp9ZWxzZXtyZXNwLmRhdGE9ZG9tDQp9fWJyZWFrOw0KZGVmYXVsdDpyZXNwLmRhdGE9cmVzcC50ZXh0Ow0KYnJlYWsNCn19fXJldHVybiByZXNwDQp9ZnVuY3Rpb24gbWFrZVhoclJlcXVlc3QocmVhbFVybCxwcm94eVVybCxjYWxsYmFjayxwYXJhbURhdGEsbWV0aG9kLHBhcmFtcyxwcm9jZXNzUmVzcG9uc2VGdW5jdGlvbixvcHRfaGVhZGVycyl7dmFyIHhocj1tYWtlWGhyKCk7DQppZihwcm94eVVybC5pbmRleE9mKCIvLyIpPT0wKXtwcm94eVVybD1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCtwcm94eVVybA0KfXhoci5vcGVuKG1ldGhvZCxwcm94eVVybCx0cnVlKTsNCmlmKGNhbGxiYWNrKXt4aHIub25yZWFkeXN0YXRlY2hhbmdlPWdhZGdldHMudXRpbC5tYWtlQ2xvc3VyZShudWxsLHByb2Nlc3NSZXNwb25zZUZ1bmN0aW9uLHJlYWxVcmwsY2FsbGJhY2sscGFyYW1zLHhocikNCn1pZihwYXJhbURhdGEhPT1udWxsKXt2YXIgY29udGVudFR5cGVIZWFkZXI9IkNvbnRlbnQtVHlwZSI7DQp2YXIgY29udGVudFR5cGU9ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI7DQppZih0eXBlb2Ygb3B0X2hlYWRlcnM9PT0ic3RyaW5nIil7Y29udGVudFR5cGU9b3B0X2hlYWRlcnM7DQpvcHRfaGVhZGVycz17fQ0KfXZhciBoZWFkZXJzPW9wdF9oZWFkZXJzfHx7fTsNCmlmKCFoZWFkZXJzW2NvbnRlbnRUeXBlSGVhZGVyXSl7aGVhZGVyc1tjb250ZW50VHlwZUhlYWRlcl09Y29udGVudFR5cGUNCn1mb3IodmFyIGhlYWRlck5hbWUgaW4gaGVhZGVycyl7eGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyTmFtZSxoZWFkZXJzW2hlYWRlck5hbWVdKQ0KfX14aHIuc2VuZChwYXJhbURhdGEpDQp9ZnVuY3Rpb24gcmVzcG9uZFdpdGhQcmVsb2FkKHBvc3REYXRhLHBhcmFtcyxjYWxsYmFjayl7aWYoZ2FkZ2V0cy5pby5wcmVsb2FkZWRfJiZwb3N0RGF0YS5odHRwTWV0aG9kPT09IkdFVCIpe2Zvcih2YXIgaT0wOw0KaTxnYWRnZXRzLmlvLnByZWxvYWRlZF8ubGVuZ3RoOw0KaSsrKXt2YXIgcHJlbG9hZD1nYWRnZXRzLmlvLnByZWxvYWRlZF9baV07DQppZihwcmVsb2FkJiYocHJlbG9hZC5pZD09PXBvc3REYXRhLnVybCkpe2RlbGV0ZSBnYWRnZXRzLmlvLnByZWxvYWRlZF9baV07DQppZihwcmVsb2FkLnJjIT09MjAwKXtjYWxsYmFjayh7cmM6cHJlbG9hZC5yYyxlcnJvcnM6W3ByZWxvYWQucmMrIiBFcnJvciJdfSkNCn1lbHNle2lmKHByZWxvYWQub2F1dGhTdGF0ZSl7b2F1dGhTdGF0ZT1wcmVsb2FkLm9hdXRoU3RhdGUNCn12YXIgcmVzcD17Ym9keTpwcmVsb2FkLmJvZHkscmM6cHJlbG9hZC5yYyxoZWFkZXJzOnByZWxvYWQuaGVhZGVycyxvYXV0aEFwcHJvdmFsVXJsOnByZWxvYWQub2F1dGhBcHByb3ZhbFVybCxvYXV0aEVycm9yOnByZWxvYWQub2F1dGhFcnJvcixvYXV0aEVycm9yVGV4dDpwcmVsb2FkLm9hdXRoRXJyb3JUZXh0LGVycm9yczpbXX07DQpjYWxsYmFjayh0cmFuc2Zvcm1SZXNwb25zZURhdGEocGFyYW1zLHJlc3ApKQ0KfXJldHVybiB0cnVlDQp9fX1yZXR1cm4gZmFsc2UNCn1mdW5jdGlvbiBpbml0KGNvbmZpZ3VyYXRpb24pe2NvbmZpZz1jb25maWd1cmF0aW9uWyJjb3JlLmlvIl18fHt9DQp9Z2FkZ2V0cy5jb25maWcucmVnaXN0ZXIoImNvcmUuaW8iLG51bGwsaW5pdCk7DQpyZXR1cm57bWFrZVJlcXVlc3Q6ZnVuY3Rpb24odXJsLGNhbGxiYWNrLG9wdF9wYXJhbXMpe3ZhciBwYXJhbXM9b3B0X3BhcmFtc3x8e307DQp2YXIgaHR0cE1ldGhvZD1wYXJhbXMuTUVUSE9EfHwiR0VUIjsNCnZhciByZWZyZXNoSW50ZXJ2YWw9cGFyYW1zLlJFRlJFU0hfSU5URVJWQUw7DQp2YXIgYXV0aCxzdDsNCmlmKHBhcmFtcy5BVVRIT1JJWkFUSU9OJiZwYXJhbXMuQVVUSE9SSVpBVElPTiE9PSJOT05FIil7YXV0aD1wYXJhbXMuQVVUSE9SSVpBVElPTi50b0xvd2VyQ2FzZSgpOw0Kc3Q9c2hpbmRpZy5hdXRoLmdldFNlY3VyaXR5VG9rZW4oKQ0KfWVsc2V7aWYoaHR0cE1ldGhvZD09PSJHRVQiJiZyZWZyZXNoSW50ZXJ2YWw9PT11bmRlZmluZWQpe3JlZnJlc2hJbnRlcnZhbD0zNjAwDQp9fXZhciBzaWduT3duZXI9dHJ1ZTsNCmlmKHR5cGVvZiBwYXJhbXMuT1dORVJfU0lHTkVEIT09InVuZGVmaW5lZCIpe3NpZ25Pd25lcj1wYXJhbXMuT1dORVJfU0lHTkVEDQp9dmFyIHNpZ25WaWV3ZXI9dHJ1ZTsNCmlmKHR5cGVvZiBwYXJhbXMuVklFV0VSX1NJR05FRCE9PSJ1bmRlZmluZWQiKXtzaWduVmlld2VyPXBhcmFtcy5WSUVXRVJfU0lHTkVEDQp9dmFyIGhlYWRlcnM9cGFyYW1zLkhFQURFUlN8fHt9Ow0KaWYoaHR0cE1ldGhvZD09PSJQT1NUIiYmIWhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdKXtoZWFkZXJzWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIg0KfXZhciB1cmxQYXJhbXM9Z2FkZ2V0cy51dGlsLmdldFVybFBhcmFtZXRlcnMoKTsNCnZhciBwYXJhbURhdGE9e3VybDp1cmwsaHR0cE1ldGhvZDpodHRwTWV0aG9kLGhlYWRlcnM6Z2FkZ2V0cy5pby5lbmNvZGVWYWx1ZXMoaGVhZGVycyxmYWxzZSkscG9zdERhdGE6cGFyYW1zLlBPU1RfREFUQXx8IiIsYXV0aHo6YXV0aHx8IiIsc3Q6c3R8fCIiLGNvbnRlbnRUeXBlOnBhcmFtcy5DT05URU5UX1RZUEV8fCJURVhUIixudW1FbnRyaWVzOnBhcmFtcy5OVU1fRU5UUklFU3x8IjMiLGdldFN1bW1hcmllczohIXBhcmFtcy5HRVRfU1VNTUFSSUVTLHNpZ25Pd25lcjpzaWduT3duZXIsc2lnblZpZXdlcjpzaWduVmlld2VyLGdhZGdldDp1cmxQYXJhbXMudXJsLGNvbnRhaW5lcjp1cmxQYXJhbXMuY29udGFpbmVyfHx1cmxQYXJhbXMuc3luZHx8ImRlZmF1bHQiLGJ5cGFzc1NwZWNDYWNoZTpnYWRnZXRzLnV0aWwuZ2V0VXJsUGFyYW1ldGVycygpWyJub2NhY2hlIl18fCIiLGdldEZ1bGxIZWFkZXJzOiEhcGFyYW1zLkdFVF9GVUxMX0hFQURFUlN9Ow0KaWYoYXV0aD09PSJvYXV0aCJ8fGF1dGg9PT0ic2lnbmVkIil7aWYoZ2FkZ2V0cy5pby5vYXV0aFJlY2VpdmVkQ2FsbGJhY2tVcmxfKXtwYXJhbURhdGEuT0FVVEhfUkVDRUlWRURfQ0FMTEJBQ0s9Z2FkZ2V0cy5pby5vYXV0aFJlY2VpdmVkQ2FsbGJhY2tVcmxfOw0KZ2FkZ2V0cy5pby5vYXV0aFJlY2VpdmVkQ2FsbGJhY2tVcmxfPW51bGwNCn1wYXJhbURhdGEub2F1dGhTdGF0ZT1vYXV0aFN0YXRlfHwiIjsNCmZvcih2YXIgb3B0IGluIHBhcmFtcyl7aWYocGFyYW1zLmhhc093blByb3BlcnR5KG9wdCkpe2lmKG9wdC5pbmRleE9mKCJPQVVUSF8iKT09PTApe3BhcmFtRGF0YVtvcHRdPXBhcmFtc1tvcHRdDQp9fX19dmFyIHByb3h5VXJsPWNvbmZpZy5qc29uUHJveHlVcmwucmVwbGFjZSgiJWhvc3QlIixkb2N1bWVudC5sb2NhdGlvbi5ob3N0KTsNCmlmKCFyZXNwb25kV2l0aFByZWxvYWQocGFyYW1EYXRhLHBhcmFtcyxjYWxsYmFjaykpe2lmKGh0dHBNZXRob2Q9PT0iR0VUIiYmcmVmcmVzaEludGVydmFsPjApe3ZhciBleHRyYXBhcmFtcz0iP3JlZnJlc2g9IityZWZyZXNoSW50ZXJ2YWwrIiYiK2dhZGdldHMuaW8uZW5jb2RlVmFsdWVzKHBhcmFtRGF0YSk7DQptYWtlWGhyUmVxdWVzdCh1cmwscHJveHlVcmwrZXh0cmFwYXJhbXMsY2FsbGJhY2ssbnVsbCwiR0VUIixwYXJhbXMscHJvY2Vzc1Jlc3BvbnNlKQ0KfWVsc2V7bWFrZVhoclJlcXVlc3QodXJsLHByb3h5VXJsLGNhbGxiYWNrLGdhZGdldHMuaW8uZW5jb2RlVmFsdWVzKHBhcmFtRGF0YSksIlBPU1QiLHBhcmFtcyxwcm9jZXNzUmVzcG9uc2UpDQp9fX0sbWFrZU5vblByb3hpZWRSZXF1ZXN0OmZ1bmN0aW9uKHJlbGF0aXZlVXJsLGNhbGxiYWNrLG9wdF9wYXJhbXMsb3B0X2hlYWRlcnMpe3ZhciBwYXJhbXM9b3B0X3BhcmFtc3x8e307DQptYWtlWGhyUmVxdWVzdChyZWxhdGl2ZVVybCxyZWxhdGl2ZVVybCxjYWxsYmFjayxwYXJhbXMuUE9TVF9EQVRBLHBhcmFtcy5NRVRIT0QscGFyYW1zLHByb2Nlc3NOb25Qcm94aWVkUmVzcG9uc2Usb3B0X2hlYWRlcnMpDQp9LGNsZWFyT0F1dGhTdGF0ZTpmdW5jdGlvbigpe29hdXRoU3RhdGU9dW5kZWZpbmVkDQp9LGVuY29kZVZhbHVlczpmdW5jdGlvbihmaWVsZHMsb3B0X25vRXNjYXBpbmcpe3ZhciBlc2NhcGU9IW9wdF9ub0VzY2FwaW5nOw0KdmFyIGJ1Zj1bXTsNCnZhciBmaXJzdD1mYWxzZTsNCmZvcih2YXIgaSBpbiBmaWVsZHMpe2lmKGZpZWxkcy5oYXNPd25Qcm9wZXJ0eShpKSYmIS9fX18kLy50ZXN0KGkpKXtpZighZmlyc3Qpe2ZpcnN0PXRydWUNCn1lbHNle2J1Zi5wdXNoKCImIikNCn1idWYucHVzaChlc2NhcGU/ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpKSk6aSk7DQpidWYucHVzaCgiPSIpOw0KYnVmLnB1c2goZXNjYXBlP2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZmllbGRzW2ldKSk6ZmllbGRzW2ldKQ0KfX1yZXR1cm4gYnVmLmpvaW4oIiIpDQp9LGdldFByb3h5VXJsOmZ1bmN0aW9uKHVybCxvcHRfcGFyYW1zKXt2YXIgcGFyYW1zPW9wdF9wYXJhbXN8fHt9Ow0KdmFyIHJlZnJlc2g9cGFyYW1zLlJFRlJFU0hfSU5URVJWQUw7DQppZihyZWZyZXNoPT09dW5kZWZpbmVkKXtyZWZyZXNoPSIzNjAwIg0KfXZhciB1cmxQYXJhbXM9Z2FkZ2V0cy51dGlsLmdldFVybFBhcmFtZXRlcnMoKTsNCnZhciByZXdyaXRlTWltZVBhcmFtPXBhcmFtcy5yZXdyaXRlTWltZT8iJnJld3JpdGVNaW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhwYXJhbXMucmV3cml0ZU1pbWUpKToiIjsNCnZhciByZXQ9Y29uZmlnLnByb3h5VXJsLnJlcGxhY2UoIiV1cmwlIixlbmNvZGVVUklDb21wb25lbnQodXJsKSkucmVwbGFjZSgiJWhvc3QlIixkb2N1bWVudC5sb2NhdGlvbi5ob3N0KS5yZXBsYWNlKCIlcmF3dXJsJSIsdXJsKS5yZXBsYWNlKCIlcmVmcmVzaCUiLGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcocmVmcmVzaCkpKS5yZXBsYWNlKCIlZ2FkZ2V0JSIsZW5jb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy51cmwpKS5yZXBsYWNlKCIlY29udGFpbmVyJSIsZW5jb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy5jb250YWluZXJ8fHVybFBhcmFtcy5zeW5kfHwiZGVmYXVsdCIpKS5yZXBsYWNlKCIlcmV3cml0ZU1pbWUlIixyZXdyaXRlTWltZVBhcmFtKTsNCmlmKHJldC5pbmRleE9mKCIvLyIpPT0wKXtyZXQ9d2luZG93LmxvY2F0aW9uLnByb3RvY29sK3JldA0KfXJldHVybiByZXQNCn19DQp9KCk7DQpnYWRnZXRzLmlvLlJlcXVlc3RQYXJhbWV0ZXJzPWdhZGdldHMudXRpbC5tYWtlRW51bShbIk1FVEhPRCIsIkNPTlRFTlRfVFlQRSIsIlBPU1RfREFUQSIsIkhFQURFUlMiLCJBVVRIT1JJWkFUSU9OIiwiTlVNX0VOVFJJRVMiLCJHRVRfU1VNTUFSSUVTIiwiR0VUX0ZVTExfSEVBREVSUyIsIlJFRlJFU0hfSU5URVJWQUwiLCJPQVVUSF9TRVJWSUNFX05BTUUiLCJPQVVUSF9VU0VfVE9LRU4iLCJPQVVUSF9UT0tFTl9OQU1FIiwiT0FVVEhfUkVRVUVTVF9UT0tFTiIsIk9BVVRIX1JFUVVFU1RfVE9LRU5fU0VDUkVUIiwiT0FVVEhfUkVDRUlWRURfQ0FMTEJBQ0siXSk7DQpnYWRnZXRzLmlvLk1ldGhvZFR5cGU9Z2FkZ2V0cy51dGlsLm1ha2VFbnVtKFsiR0VUIiwiUE9TVCIsIlBVVCIsIkRFTEVURSIsIkhFQUQiXSk7DQpnYWRnZXRzLmlvLkNvbnRlbnRUeXBlPWdhZGdldHMudXRpbC5tYWtlRW51bShbIlRFWFQiLCJET00iLCJKU09OIiwiRkVFRCJdKTsNCmdhZGdldHMuaW8uQXV0aG9yaXphdGlvblR5cGU9Z2FkZ2V0cy51dGlsLm1ha2VFbnVtKFsiTk9ORSIsIlNJR05FRCIsIk9BVVRIIl0pOzsNCnRhbWluZ3NfX18ucHVzaChmdW5jdGlvbihhKXtjYWphX19fLndoaXRlbGlzdEZ1bmNzKFtbZ2FkZ2V0cy5pbywiZW5jb2RlVmFsdWVzIl0sW2dhZGdldHMuaW8sImdldFByb3h5VXJsIl0sW2dhZGdldHMuaW8sIm1ha2VSZXF1ZXN0Il1dKQ0KfSk7Ow0KKGZ1bmN0aW9uKCl7dmFyIGk9bnVsbDsNCnZhciBqPXt9Ow0KdmFyIGY9Z2FkZ2V0cy51dGlsLmVzY2FwZVN0cmluZzsNCnZhciBkPXt9Ow0KdmFyIGg9e307DQp2YXIgZT0iZW4iOw0KdmFyIGI9IlVTIjsNCnZhciBhPTA7DQpmdW5jdGlvbiBjKCl7dmFyIGw9Z2FkZ2V0cy51dGlsLmdldFVybFBhcmFtZXRlcnMoKTsNCmZvcih2YXIgayBpbiBsKXtpZihsLmhhc093blByb3BlcnR5KGspKXtpZihrLmluZGV4T2YoInVwXyIpPT09MCYmay5sZW5ndGg+Myl7altrLnN1YnN0cigzKV09U3RyaW5nKGxba10pDQp9ZWxzZXtpZihrPT09ImNvdW50cnkiKXtiPWxba10NCn1lbHNle2lmKGs9PT0ibGFuZyIpe2U9bFtrXQ0KfWVsc2V7aWYoaz09PSJtaWQiKXthPWxba10NCn19fX19fX1mdW5jdGlvbiBnKCl7Zm9yKHZhciBrIGluIGgpe2lmKHR5cGVvZiBqW2tdPT09InVuZGVmaW5lZCIpe2pba109aFtrXQ0KfX19Z2FkZ2V0cy5QcmVmcz1mdW5jdGlvbigpe2lmKCFpKXtjKCk7DQpnKCk7DQppPXRoaXMNCn1yZXR1cm4gaQ0KfTsNCmdhZGdldHMuUHJlZnMuc2V0SW50ZXJuYWxfPWZ1bmN0aW9uKG4scCl7dmFyIG89ZmFsc2U7DQppZih0eXBlb2Ygbj09PSJzdHJpbmciKXtpZighai5oYXNPd25Qcm9wZXJ0eShuKXx8altuXSE9PXApe289dHJ1ZQ0KfWpbbl09cA0KfWVsc2V7Zm9yKHZhciBtIGluIG4pe2lmKG4uaGFzT3duUHJvcGVydHkobSkpe3ZhciBsPW5bbV07DQppZighai5oYXNPd25Qcm9wZXJ0eShtKXx8alttXSE9PWwpe289dHJ1ZQ0KfWpbbV09bA0KfX19cmV0dXJuIG8NCn07DQpnYWRnZXRzLlByZWZzLnNldE1lc3NhZ2VzXz1mdW5jdGlvbihrKXtkPWsNCn07DQpnYWRnZXRzLlByZWZzLnNldERlZmF1bHRQcmVmc189ZnVuY3Rpb24oayl7aD1rDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuZ2V0U3RyaW5nPWZ1bmN0aW9uKGspe2lmKGs9PT0iLmxhbmciKXtrPSJsYW5nIg0KfXJldHVybiBqW2tdP2YoaltrXSk6IiINCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5zZXREb250RXNjYXBlXz1mdW5jdGlvbigpe2Y9ZnVuY3Rpb24obCl7cmV0dXJuIGwNCn0NCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5nZXRJbnQ9ZnVuY3Rpb24oayl7dmFyIGw9cGFyc2VJbnQoaltrXSwxMCk7DQpyZXR1cm4gaXNOYU4obCk/MDpsDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuZ2V0RmxvYXQ9ZnVuY3Rpb24oayl7dmFyIGw9cGFyc2VGbG9hdChqW2tdKTsNCnJldHVybiBpc05hTihsKT8wOmwNCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5nZXRCb29sPWZ1bmN0aW9uKGspe3ZhciBsPWpba107DQppZihsKXtyZXR1cm4gbD09PSJ0cnVlInx8bD09PXRydWV8fCEhcGFyc2VJbnQobCwxMCkNCn1yZXR1cm4gZmFsc2UNCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oayxsKXt0aHJvdyBuZXcgRXJyb3IoInNldHByZWZzIGZlYXR1cmUgcmVxdWlyZWQgdG8gbWFrZSB0aGlzIGNhbGwuIikNCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5nZXRBcnJheT1mdW5jdGlvbihuKXt2YXIgbz1qW25dOw0KaWYobyl7dmFyIGs9by5zcGxpdCgifCIpOw0KZm9yKHZhciBtPTAsbD1rLmxlbmd0aDsNCm08bDsNCisrbSl7a1ttXT1mKGtbbV0ucmVwbGFjZSgvJTdDL2csInwiKSkNCn1yZXR1cm4gaw0KfXJldHVybltdDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oayxsKXt0aHJvdyBuZXcgRXJyb3IoInNldHByZWZzIGZlYXR1cmUgcmVxdWlyZWQgdG8gbWFrZSB0aGlzIGNhbGwuIikNCn07DQpnYWRnZXRzLlByZWZzLnByb3RvdHlwZS5nZXRNc2c9ZnVuY3Rpb24oayl7cmV0dXJuIGRba118fCIiDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuZ2V0Q291bnRyeT1mdW5jdGlvbigpe3JldHVybiBiDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuZ2V0TGFuZz1mdW5jdGlvbigpe3JldHVybiBlDQp9Ow0KZ2FkZ2V0cy5QcmVmcy5wcm90b3R5cGUuZ2V0TW9kdWxlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYQ0KfQ0KfSkoKTs7DQp0YW1pbmdzX19fLnB1c2goZnVuY3Rpb24oYSl7Y2FqYV9fXy53aGl0ZWxpc3RDdG9ycyhbW2dhZGdldHMsIlByZWZzIixPYmplY3RdXSk7DQpjYWphX19fLndoaXRlbGlzdE1ldGhzKFtbZ2FkZ2V0cy5QcmVmcywiZ2V0QXJyYXkiXSxbZ2FkZ2V0cy5QcmVmcywiZ2V0Qm9vbCJdLFtnYWRnZXRzLlByZWZzLCJnZXRDb3VudHJ5Il0sW2dhZGdldHMuUHJlZnMsImdldEZsb2F0Il0sW2dhZGdldHMuUHJlZnMsImdldEludCJdLFtnYWRnZXRzLlByZWZzLCJnZXRMYW5nIl0sW2dhZGdldHMuUHJlZnMsImdldE1zZyJdLFtnYWRnZXRzLlByZWZzLCJnZXRTdHJpbmciXSxbZ2FkZ2V0cy5QcmVmcywic2V0Il0sW2dhZGdldHMuUHJlZnMsInNldEFycmF5Il1dKQ0KfSk7Ow0KdmFyIEpTT049d2luZG93LkpTT058fGdhZGdldHMuanNvbjsNCnZhciBfSUdfUHJlZnM9KGZ1bmN0aW9uKCl7dmFyIGE9bnVsbDsNCnZhciBiPWZ1bmN0aW9uKCl7aWYoIWEpe2E9bmV3IGdhZGdldHMuUHJlZnMoKTsNCmEuc2V0RG9udEVzY2FwZV8oKQ0KfXJldHVybiBhDQp9Ow0KYi5fcGFyc2VVUkw9Z2FkZ2V0cy5QcmVmcy5wYXJzZVVybDsNCnJldHVybiBiDQp9KSgpOw0KZnVuY3Rpb24gX0lHX0ZldGNoX3dyYXBwZXIoYixhKXtiKGEuZGF0YT9hLmRhdGE6IiIpDQp9ZnVuY3Rpb24gX0lHX0ZldGNoQ29udGVudChiLGcsYyl7dmFyIGY9Y3x8e307DQppZihmLnJlZnJlc2hJbnRlcnZhbCl7Zi5SRUZSRVNIX0lOVEVSVkFMPWYucmVmcmVzaEludGVydmFsDQp9ZWxzZXtmLlJFRlJFU0hfSU5URVJWQUw9MzYwMA0KfWZvcih2YXIgZSBpbiBmKXt2YXIgZD1mW2VdOw0KZGVsZXRlIGZbZV07DQpmW2UudG9VcHBlckNhc2UoKV09ZA0KfXZhciBhPWdhZGdldHMudXRpbC5tYWtlQ2xvc3VyZShudWxsLF9JR19GZXRjaF93cmFwcGVyLGcpOw0KZ2FkZ2V0cy5pby5tYWtlUmVxdWVzdChiLGEsZikNCn1mdW5jdGlvbiBfSUdfRmV0Y2hYbWxDb250ZW50KGIsZSxjKXt2YXIgZD1jfHx7fTsNCmlmKGQucmVmcmVzaEludGVydmFsKXtkLlJFRlJFU0hfSU5URVJWQUw9ZC5yZWZyZXNoSW50ZXJ2YWwNCn1lbHNle2QuUkVGUkVTSF9JTlRFUlZBTD0zNjAwDQp9ZC5DT05URU5UX1RZUEU9IkRPTSI7DQp2YXIgYT1nYWRnZXRzLnV0aWwubWFrZUNsb3N1cmUobnVsbCxfSUdfRmV0Y2hfd3JhcHBlcixlKTsNCmdhZGdldHMuaW8ubWFrZVJlcXVlc3QoYixhLGQpDQp9ZnVuY3Rpb24gX0lHX0ZldGNoRmVlZEFzSlNPTihiLGYsYyxhLGQpe3ZhciBlPWR8fHt9Ow0KZS5DT05URU5UX1RZUEU9IkZFRUQiOw0KZS5OVU1fRU5UUklFUz1jOw0KZS5HRVRfU1VNTUFSSUVTPWE7DQpnYWRnZXRzLmlvLm1ha2VSZXF1ZXN0KGIsZnVuY3Rpb24oail7ai5kYXRhPWouZGF0YXx8e307DQppZihqLmVycm9ycyYmai5lcnJvcnMubGVuZ3RoPjApe2ouZGF0YS5FcnJvck1zZz1qLmVycm9yc1swXQ0KfWlmKGouZGF0YS5saW5rKXtqLmRhdGEuVVJMPWINCn1pZihqLmRhdGEudGl0bGUpe2ouZGF0YS5UaXRsZT1qLmRhdGEudGl0bGUNCn1pZihqLmRhdGEuZGVzY3JpcHRpb24pe2ouZGF0YS5EZXNjcmlwdGlvbj1qLmRhdGEuZGVzY3JpcHRpb24NCn1pZihqLmRhdGEubGluayl7ai5kYXRhLkxpbms9ai5kYXRhLmxpbmsNCn1pZihqLmRhdGEuaXRlbXMmJmouZGF0YS5pdGVtcy5sZW5ndGg+MCl7ai5kYXRhLkVudHJ5PWouZGF0YS5pdGVtczsNCmZvcih2YXIgaD0wOw0KaDxqLmRhdGEuRW50cnkubGVuZ3RoOw0KKytoKXt2YXIgaT1qLmRhdGEuRW50cnlbaF07DQppLlRpdGxlPWkudGl0bGU7DQppLkxpbms9aS5saW5rOw0KaS5TdW1tYXJ5PWkuc3VtbWFyeXx8aS5kZXNjcmlwdGlvbjsNCmkuRGF0ZT1pLnB1YkRhdGUNCn19Zm9yKHZhciBnPTA7DQpnPGouZGF0YS5FbnRyeS5sZW5ndGg7DQorK2cpe3ZhciBpPWouZGF0YS5FbnRyeVtnXTsNCmkuRGF0ZT0oaS5EYXRlLzEwMDApDQp9ZihqLmRhdGEpDQp9LGUpDQp9ZnVuY3Rpb24gX0lHX0dldENhY2hlZFVybChhLGIpe3ZhciBjPWJ8fHt9Ow0KYy5SRUZSRVNIX0lOVEVSVkFMPTM2MDA7DQppZihjLnJlZnJlc2hJbnRlcnZhbCl7Yy5SRUZSRVNIX0lOVEVSVkFMPWMucmVmcmVzaEludGVydmFsDQp9cmV0dXJuIGdhZGdldHMuaW8uZ2V0UHJveHlVcmwoYSxjKQ0KfWZ1bmN0aW9uIF9JR19HZXRJbWFnZVVybChhLGIpe3JldHVybiBfSUdfR2V0Q2FjaGVkVXJsKGEsYikNCn1mdW5jdGlvbiBfSUdfR2V0SW1hZ2UoYil7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQphLnNyYz1fSUdfR2V0Q2FjaGVkVXJsKGIpOw0KcmV0dXJuIGENCn1mdW5jdGlvbiBfSUdfUmVnaXN0ZXJPbmxvYWRIYW5kbGVyKGEpe2dhZGdldHMudXRpbC5yZWdpc3Rlck9uTG9hZEhhbmRsZXIoYSkNCn1mdW5jdGlvbiBfSUdfQ2FsbGJhY2soYixjKXt2YXIgYT1hcmd1bWVudHM7DQpyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOw0KYi5hcHBseShudWxsLGQuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMSkpKQ0KfQ0KfXZhciBfYXJncz1nYWRnZXRzLnV0aWwuZ2V0VXJsUGFyYW1ldGVyczsNCmZ1bmN0aW9uIF9nZWwoYSl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOm51bGwNCn1mdW5jdGlvbiBfZ2Vsc3RuKGEpe2lmKGE9PT0iKiImJmRvY3VtZW50LmFsbCl7cmV0dXJuIGRvY3VtZW50LmFsbA0KfXJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZT9kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpbXQ0KfWZ1bmN0aW9uIF9nZWxzYnlyZWdleChkLGYpe3ZhciBjPV9nZWxzdG4oZCk7DQp2YXIgZT1bXTsNCmZvcih2YXIgYj0wLGE9Yy5sZW5ndGg7DQpiPGE7DQorK2Ipe2lmKGYudGVzdChjW2JdLmlkKSl7ZS5wdXNoKGNbYl0pDQp9fXJldHVybiBlDQp9ZnVuY3Rpb24gX2VzYyhhKXtyZXR1cm4gd2luZG93LmVuY29kZVVSSUNvbXBvbmVudD9lbmNvZGVVUklDb21wb25lbnQoYSk6ZXNjYXBlKGEpDQp9ZnVuY3Rpb24gX3VuZXNjKGEpe3JldHVybiB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50P2RlY29kZVVSSUNvbXBvbmVudChhKTp1bmVzY2FwZShhKQ0KfWZ1bmN0aW9uIF9oZXNjKGEpe3JldHVybiBnYWRnZXRzLnV0aWwuZXNjYXBlU3RyaW5nKGEpDQp9ZnVuY3Rpb24gX3N0cmlwdGFncyhhKXtyZXR1cm4gYS5yZXBsYWNlKC88XC8/W14+XSs+L2csIiIpDQp9ZnVuY3Rpb24gX3RyaW0oYSl7cmV0dXJuIGEucmVwbGFjZSgvXlxzK3xccyskL2csIiIpDQp9ZnVuY3Rpb24gX3RvZ2dsZShhKXthPSh0eXBlb2YgYT09PSJzdHJpbmciKT9fZ2VsKGEpOmE7DQppZihhIT09bnVsbCl7aWYoYS5zdHlsZS5kaXNwbGF5Lmxlbmd0aD09PTB8fGEuc3R5bGUuZGlzcGxheT09PSJibG9jayIpe2Euc3R5bGUuZGlzcGxheT0ibm9uZSINCn1lbHNle2lmKGEuc3R5bGUuZGlzcGxheT09PSJub25lIil7YS5zdHlsZS5kaXNwbGF5PSJibG9jayINCn19fX12YXIgX3VpZD0oZnVuY3Rpb24oKXt2YXIgYT0wOw0KcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGErKw0KfQ0KfSkoKTsNCmZ1bmN0aW9uIF9taW4oZCxjKXtyZXR1cm4oZDxjP2Q6YykNCn1mdW5jdGlvbiBfbWF4KGQsYyl7cmV0dXJuKGQ+Yz9kOmMpDQp9ZnVuY3Rpb24gX2V4cG9ydFN5bWJvbHMoYSxjKXt2YXIgbT13aW5kb3c7DQp2YXIgZj1hLnNwbGl0KCIuIik7DQpmb3IodmFyIGg9MCxnPWYubGVuZ3RoOw0KaDxnOw0KaCsrKXt2YXIgYj1mW2hdOw0KbVtiXT1tW2JdfHx7fTsNCm09bVtiXQ0KfWZvcih2YXIgZT0wLGQ9Yy5sZW5ndGg7DQplPGQ7DQplKz0yKXttW2NbZV1dPWNbZSsxXQ0KfX1mdW5jdGlvbiBfSUdfQWRkRE9NRXZlbnRIYW5kbGVyKGMsYixhKXtnYWRnZXRzLndhcm4oIl9JR19BZGRET01FdmVudEhhbmRsZXIgbm90IGltcGxlbWVudGVkIC0gc2VlIFNISU5ESUctMTk4IikNCn07Ow0KKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihiLGMsYSl7Yj17bXNnOmJ8fCIiLGxpbmU6YXx8MCxqc1VybDp3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKGMpPT0wPyItdG9wLSI6YyxmdWxsVXJsOndpbmRvdy5sb2NhdGlvbn07dHJ5e2lmKCsrd2luZG93Ll92YXJ6X251bWVycm9ycyxnYWRnZXRzJiYhKGU+Mykpe2M9e307Y1tnYWRnZXRzLmlvLlJlcXVlc3RQYXJhbWV0ZXJzLk1FVEhPRF09Z2FkZ2V0cy5pby5NZXRob2RUeXBlLkdFVDthPWVuY29kZVVSSUNvbXBvbmVudHx8ZXNjYXBlO3ZhciBkPWdhZGdldHMudXRpbC5nZXRVcmxQYXJhbWV0ZXJzKCksZz1kLmNvbnRhaW5lcnx8ZC5zeW5kLGg9ZC5nYWRnZXR8fGQudXJsLGw9WyIvZ2FkZ2V0cy9ldnRoZGxyP3Q9ZXJyJmdhZGdldD0iLGEoaCksIiZjb250YWluZXI9IixhKGcpLCImanN1cmw9IixhKGIuanNVcmwpLCImbGluZT0iLGEoYi5saW5lKSwiJnNlc3Npb249IixrLCImY291bnQ9IixlLCImbXNnPSIsYShiLm1zZyldO2dhZGdldHMuaW8ubWFrZU5vblByb3hpZWRSZXF1ZXN0KGwuam9pbigiIiksDQpudWxsLGMpO2UrK319Y2F0Y2gobSl7fX13aW5kb3cuX3ZhcnpfbnVtZXJyb3JzPTA7dmFyIGs9KG5ldyBEYXRlKS5nZXRUaW1lKCksZT0wO3dpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIiZkZWJ1Zz0xIik9PS0xJiZ3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/ZGVidWc9MSIpPT0tMSYmKHdpbmRvdy5vbmVycm9yPWYpfSkoKTsNCjsNCihmdW5jdGlvbigpe3ZhciBsPW51bGwscT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYSl7YT0oIiIrYSkubWF0Y2godyk7cmV0dXJuIWE/bDpuZXcgYihwKGFbMV0pLHAoYVsyXSkscChhWzNdKSxwKGFbNF0pLHAoYVs1XSkscChhWzZdKSxwKGFbN10pKX1mdW5jdGlvbiB4KGEsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhP2VuY29kZVVSSShhKS5yZXBsYWNlKGUseSk6bH1mdW5jdGlvbiB5KGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisiMDEyMzQ1Njc4OUFCQ0RFRiIuY2hhckF0KGE+PjQmMTUpKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoYSYxNSl9ZnVuY3Rpb24gdShhKXtpZihhPT09bClyZXR1cm4gbDtmb3IodmFyIGE9YS5yZXBsYWNlKC8oXnxcLylcLig/OlwvfCQpL2csIiQxIikucmVwbGFjZSgvXC97Mix9L2csIi8iKSxlPXosbTsobT1hLnJlcGxhY2UoZSwiJDEiKSkhPWE7YT1tKTtyZXR1cm4gYX1mdW5jdGlvbiB2KGEsZSl7dmFyIG09YS5SKCksYj1lLksoKTtiP20uZmEoZS5qKToNCmI9ZS5WKCk7Yj9tLmNhKGUubik6Yj1lLlcoKTtiP20uZGEoZS5rKTpiPWUuWSgpO3ZhciBzPWUuZyxnPXUocyk7aWYoYiltLmJhKGUuVCgpKSxnPWcmJmcucmVwbGFjZShqLCIiKTtlbHNlIGlmKGI9ISFzKXtpZig0NyE9PWcuY2hhckNvZGVBdCgwKSl2YXIgZz11KG0uZ3x8IiIpLnJlcGxhY2UoaiwiIikscD1nLmxhc3RJbmRleE9mKCIvIikrMSxnPXUoKHA/Zy5zdWJzdHJpbmcoMCxwKToiIikrdShzKSkucmVwbGFjZShqLCIiKX1lbHNlIGc9ZyYmZy5yZXBsYWNlKGosIiIpLGchPT1zJiZtLkcoZyk7Yj9tLkcoZyk6Yj1lLlooKTtiP20uTShlLmwpOmI9ZS5YKCk7YiYmbS5lYShlLm8pO3JldHVybiBtfWZ1bmN0aW9uIGIoYSxlLGIsaixzLGcscCl7dGhpcy5qPWE7dGhpcy5uPWU7dGhpcy5rPWI7dGhpcy5oPWo7dGhpcy5nPXM7dGhpcy5sPWc7dGhpcy5vPXB9ZnVuY3Rpb24gcChhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGEmJjA8YS5sZW5ndGg/YTpsfXZhciB6PVJlZ0V4cCgvKFwvfF4pKD86W14uL11bXi9dKnxcLnsyLH0oPzpbXi4vXVteL10qKXxcLnszLH1bXi9dKilcL1wuXC4oPzpcL3wkKS8pLA0Kaj0vXig/OlwuXC5cLykqKD86XC5cLiQpPy87Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXTtsIT09dGhpcy5qJiZhLnB1c2godGhpcy5qLCI6Iik7bCE9PXRoaXMuayYmKGEucHVzaCgiLy8iKSxsIT09dGhpcy5uJiZhLnB1c2godGhpcy5uLCJAIiksYS5wdXNoKHRoaXMuayksbCE9PXRoaXMuaCYmYS5wdXNoKCI6Iix0aGlzLmgudG9TdHJpbmcoKSkpO2whPT10aGlzLmcmJmEucHVzaCh0aGlzLmcpO2whPT10aGlzLmwmJmEucHVzaCgiPyIsdGhpcy5sKTtsIT09dGhpcy5vJiZhLnB1c2goIiMiLHRoaXMubyk7cmV0dXJuIGEuam9pbigiIil9O2IucHJvdG90eXBlLlI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGIodGhpcy5qLHRoaXMubix0aGlzLmssdGhpcy5oLHRoaXMuZyx0aGlzLmwsdGhpcy5vKX07Yi5wcm90b3R5cGUuVT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmomJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmopLnRvTG93ZXJDYXNlKCl9O2IucHJvdG90eXBlLmZhPQ0KZnVuY3Rpb24oYSl7dGhpcy5qPWE/YTpsfTtiLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7cmV0dXJuIGwhPT10aGlzLmp9O2IucHJvdG90eXBlLmNhPWZ1bmN0aW9uKGEpe3RoaXMubj1hP2E6bH07Yi5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3JldHVybiBsIT09dGhpcy5ufTtiLnByb3RvdHlwZS5kYT1mdW5jdGlvbihhKXt0aGlzLms9YT9hOmw7dGhpcy5HKHRoaXMuZyl9O2IucHJvdG90eXBlLlc9ZnVuY3Rpb24oKXtyZXR1cm4gbCE9PXRoaXMua307Yi5wcm90b3R5cGUuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmgmJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmgpfTtiLnByb3RvdHlwZS5iYT1mdW5jdGlvbihhKXtpZihhKXthPU51bWJlcihhKTtpZihhIT09KGEmNjU1MzUpKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIithKTt0aGlzLmg9IiIrYX1lbHNlIHRoaXMuaD1sfTtiLnByb3RvdHlwZS5ZPWZ1bmN0aW9uKCl7cmV0dXJuIGwhPT10aGlzLmh9O2IucHJvdG90eXBlLlM9DQpmdW5jdGlvbigpe3JldHVybiB0aGlzLmcmJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmcpfTtiLnByb3RvdHlwZS5HPWZ1bmN0aW9uKGEpe2E/KGE9IiIrYSx0aGlzLmc9IXRoaXMua3x8L15cLy8udGVzdChhKT9hOiIvIithKTp0aGlzLmc9bH07Yi5wcm90b3R5cGUuTT1mdW5jdGlvbihhKXt0aGlzLmw9YT9hOmx9O2IucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gbCE9PXRoaXMubH07Yi5wcm90b3R5cGUuYWE9ZnVuY3Rpb24oYSl7aWYoIm9iamVjdCI9PT10eXBlb2YgYSYmIShhIGluc3RhbmNlb2YgQXJyYXkpJiYoYSBpbnN0YW5jZW9mIE9iamVjdHx8IltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSkpe3ZhciBlPVtdLGI9LTEsajtmb3IoaiBpbiBhKXt2YXIgcz1hW2pdOyJzdHJpbmciPT09dHlwZW9mIHMmJihlWysrYl09aixlWysrYl09cyl9YT1lfWZvcih2YXIgZT1bXSxiPSIiLGc9MDtnPGEubGVuZ3RoOylqPWFbZysrXSwNCnM9YVtnKytdLGUucHVzaChiLGVuY29kZVVSSUNvbXBvbmVudChqLnRvU3RyaW5nKCkpKSxiPSImIixzJiZlLnB1c2goIj0iLGVuY29kZVVSSUNvbXBvbmVudChzLnRvU3RyaW5nKCkpKTt0aGlzLmw9ZS5qb2luKCIiKX07Yi5wcm90b3R5cGUuZWE9ZnVuY3Rpb24oYSl7dGhpcy5vPWE/YTpsfTtiLnByb3RvdHlwZS5YPWZ1bmN0aW9uKCl7cmV0dXJuIGwhPT10aGlzLm99O3ZhciB3PS9eKD86KFteOi8/I10rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vPyM6QF0qKSg/OjooWzAtOV0rKSk/KT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLyxCPS9bI1wvXD9AXS9nLEM9L1tcI1w/XS9nO2IucGFyc2U9ZTtiLmNyZWF0ZT1mdW5jdGlvbihhLGUsaixwLHMsZyx1KXthPW5ldyBiKHgoYSxCKSx4KGUsQiksInN0cmluZyI9PXR5cGVvZiBqP2VuY29kZVVSSUNvbXBvbmVudChqKTpsLDA8cD9wLnRvU3RyaW5nKCk6bCx4KHMsQyksbCwic3RyaW5nIj09dHlwZW9mIHU/ZW5jb2RlVVJJQ29tcG9uZW50KHUpOg0KbCk7ZyYmKCJzdHJpbmciPT09dHlwZW9mIGc/YS5NKGcucmVwbGFjZSgvW14/Jj0wLTlBLVphLXpfXC1+LiVdL2cseSkpOmEuYWEoZykpO3JldHVybiBhfTtiLiQ9djtiLmphPXU7Yi52YT17cGE6ZnVuY3Rpb24oYSl7cmV0dXJuL1wuaHRtbCQvLnRlc3QoZShhKS5TKCkpPyJ0ZXh0L2h0bWwiOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0In0sJDpmdW5jdGlvbihhLGIpe3JldHVybiBhP3YoZShhKSxlKGIpKS50b1N0cmluZygpOiIiK2J9fTtyZXR1cm4gYn0oKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuVVJJPXEpO3ZhciBNPXtmOntOT05FOjAsVVJJOjEsVVJJX0ZSQUdNRU5UOjExLFNDUklQVDoyLFNUWUxFOjMsSFRNTDoxMixJRDo0LElEUkVGOjUsSURSRUZTOjYsR0xPQkFMX05BTUU6NyxMT0NBTF9OQU1FOjgsQ0xBU1NFUzo5LEZSQU1FX1RBUkdFVDoxMCxNRURJQV9RVUVSWToxM319O00uYXR5cGU9TS5mOw0KTS53PXsiKjo6Y2xhc3MiOjksIio6OmRpciI6MCwiKjo6ZHJhZ2dhYmxlIjowLCIqOjpoaWRkZW4iOjAsIio6OmlkIjo0LCIqOjppbmVydCI6MCwiKjo6aXRlbXByb3AiOjAsIio6Oml0ZW1yZWYiOjYsIio6Oml0ZW1zY29wZSI6MCwiKjo6bGFuZyI6MCwiKjo6b25ibHVyIjoyLCIqOjpvbmNoYW5nZSI6MiwiKjo6b25jbGljayI6MiwiKjo6b25kYmxjbGljayI6MiwiKjo6b25lcnJvciI6MiwiKjo6b25mb2N1cyI6MiwiKjo6b25rZXlkb3duIjoyLCIqOjpvbmtleXByZXNzIjoyLCIqOjpvbmtleXVwIjoyLCIqOjpvbmxvYWQiOjIsIio6Om9ubW91c2Vkb3duIjoyLCIqOjpvbm1vdXNlbW92ZSI6MiwiKjo6b25tb3VzZW91dCI6MiwiKjo6b25tb3VzZW92ZXIiOjIsIio6Om9ubW91c2V1cCI6MiwiKjo6b25yZXNldCI6MiwiKjo6b25zY3JvbGwiOjIsIio6Om9uc2VsZWN0IjoyLCIqOjpvbnN1Ym1pdCI6MiwiKjo6b250b3VjaGNhbmNlbCI6MiwiKjo6b250b3VjaGVuZCI6MiwiKjo6b250b3VjaGVudGVyIjoyLA0KIio6Om9udG91Y2hsZWF2ZSI6MiwiKjo6b250b3VjaG1vdmUiOjIsIio6Om9udG91Y2hzdGFydCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0YWJpbmRleCI6MCwiKjo6dGl0bGUiOjAsIio6OnRyYW5zbGF0ZSI6MCwiYTo6YWNjZXNza2V5IjowLCJhOjpjb29yZHMiOjAsImE6OmhyZWYiOjEsImE6OmhyZWZsYW5nIjowLCJhOjpuYW1lIjo3LCJhOjpvbmJsdXIiOjIsImE6Om9uZm9jdXMiOjIsImE6OnNoYXBlIjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhcmdldCI6MTAsImF1ZGlvOjpjb250cm9scyI6MCwiYXVkaW86Omxvb3AiOjAsImF1ZGlvOjptZWRpYWdyb3VwIjo1LA0KImF1ZGlvOjptdXRlZCI6MCwiYXVkaW86OnByZWxvYWQiOjAsImF1ZGlvOjpzcmMiOjEsImJkbzo6ZGlyIjowLCJibG9ja3F1b3RlOjpjaXRlIjoxLCJicjo6Y2xlYXIiOjAsImJ1dHRvbjo6YWNjZXNza2V5IjowLCJidXR0b246OmRpc2FibGVkIjowLCJidXR0b246Om5hbWUiOjgsImJ1dHRvbjo6b25ibHVyIjoyLCJidXR0b246Om9uZm9jdXMiOjIsImJ1dHRvbjo6dHlwZSI6MCwiYnV0dG9uOjp2YWx1ZSI6MCwiY2FudmFzOjpoZWlnaHQiOjAsImNhbnZhczo6d2lkdGgiOjAsImNhcHRpb246OmFsaWduIjowLCJjb2w6OmFsaWduIjowLCJjb2w6OmNoYXIiOjAsImNvbDo6Y2hhcm9mZiI6MCwiY29sOjpzcGFuIjowLCJjb2w6OnZhbGlnbiI6MCwiY29sOjp3aWR0aCI6MCwiY29sZ3JvdXA6OmFsaWduIjowLCJjb2xncm91cDo6Y2hhciI6MCwiY29sZ3JvdXA6OmNoYXJvZmYiOjAsImNvbGdyb3VwOjpzcGFuIjowLCJjb2xncm91cDo6dmFsaWduIjowLCJjb2xncm91cDo6d2lkdGgiOjAsDQoiY29tbWFuZDo6Y2hlY2tlZCI6MCwiY29tbWFuZDo6Y29tbWFuZCI6NSwiY29tbWFuZDo6ZGlzYWJsZWQiOjAsImNvbW1hbmQ6Omljb24iOjEsImNvbW1hbmQ6OmxhYmVsIjowLCJjb21tYW5kOjpyYWRpb2dyb3VwIjowLCJjb21tYW5kOjp0eXBlIjowLCJkYXRhOjp2YWx1ZSI6MCwiZGVsOjpjaXRlIjoxLCJkZWw6OmRhdGV0aW1lIjowLCJkZXRhaWxzOjpvcGVuIjowLCJkaXI6OmNvbXBhY3QiOjAsImRpdjo6YWxpZ24iOjAsImRsOjpjb21wYWN0IjowLCJmaWVsZHNldDo6ZGlzYWJsZWQiOjAsImZvbnQ6OmNvbG9yIjowLCJmb250OjpmYWNlIjowLCJmb250OjpzaXplIjowLCJmb3JtOjphY2NlcHQiOjAsImZvcm06OmFjdGlvbiI6MSwiZm9ybTo6YXV0b2NvbXBsZXRlIjowLCJmb3JtOjplbmN0eXBlIjowLCJmb3JtOjptZXRob2QiOjAsImZvcm06Om5hbWUiOjcsImZvcm06Om5vdmFsaWRhdGUiOjAsImZvcm06Om9ucmVzZXQiOjIsImZvcm06Om9uc3VibWl0IjoyLCJmb3JtOjp0YXJnZXQiOjEwLA0KImgxOjphbGlnbiI6MCwiaDI6OmFsaWduIjowLCJoMzo6YWxpZ24iOjAsImg0OjphbGlnbiI6MCwiaDU6OmFsaWduIjowLCJoNjo6YWxpZ24iOjAsImhyOjphbGlnbiI6MCwiaHI6Om5vc2hhZGUiOjAsImhyOjpzaXplIjowLCJocjo6d2lkdGgiOjAsImlmcmFtZTo6YWxpZ24iOjAsImlmcmFtZTo6ZnJhbWVib3JkZXIiOjAsImlmcmFtZTo6aGVpZ2h0IjowLCJpZnJhbWU6Om1hcmdpbmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW53aWR0aCI6MCwiaWZyYW1lOjp3aWR0aCI6MCwiaW1nOjphbGlnbiI6MCwiaW1nOjphbHQiOjAsImltZzo6Ym9yZGVyIjowLCJpbWc6OmhlaWdodCI6MCwiaW1nOjpoc3BhY2UiOjAsImltZzo6aXNtYXAiOjAsImltZzo6bmFtZSI6NywiaW1nOjpzcmMiOjEsImltZzo6dXNlbWFwIjoxMSwiaW1nOjp2c3BhY2UiOjAsImltZzo6d2lkdGgiOjAsImlucHV0OjphY2NlcHQiOjAsImlucHV0OjphY2Nlc3NrZXkiOjAsImlucHV0OjphbGlnbiI6MCwiaW5wdXQ6OmFsdCI6MCwNCiJpbnB1dDo6YXV0b2NvbXBsZXRlIjowLCJpbnB1dDo6Y2hlY2tlZCI6MCwiaW5wdXQ6OmRpc2FibGVkIjowLCJpbnB1dDo6aW5wdXRtb2RlIjowLCJpbnB1dDo6aXNtYXAiOjAsImlucHV0OjpsaXN0Ijo1LCJpbnB1dDo6bWF4IjowLCJpbnB1dDo6bWF4bGVuZ3RoIjowLCJpbnB1dDo6bWluIjowLCJpbnB1dDo6bXVsdGlwbGUiOjAsImlucHV0OjpuYW1lIjo4LCJpbnB1dDo6b25ibHVyIjoyLCJpbnB1dDo6b25jaGFuZ2UiOjIsImlucHV0OjpvbmZvY3VzIjoyLCJpbnB1dDo6b25zZWxlY3QiOjIsImlucHV0OjpwYXR0ZXJuIjowLCJpbnB1dDo6cGxhY2Vob2xkZXIiOjAsImlucHV0OjpyZWFkb25seSI6MCwiaW5wdXQ6OnJlcXVpcmVkIjowLCJpbnB1dDo6c2l6ZSI6MCwiaW5wdXQ6OnNyYyI6MSwiaW5wdXQ6OnN0ZXAiOjAsImlucHV0Ojp0eXBlIjowLCJpbnB1dDo6dXNlbWFwIjoxMSwiaW5wdXQ6OnZhbHVlIjowLCJpbnM6OmNpdGUiOjEsImluczo6ZGF0ZXRpbWUiOjAsImxhYmVsOjphY2Nlc3NrZXkiOjAsDQoibGFiZWw6OmZvciI6NSwibGFiZWw6Om9uYmx1ciI6MiwibGFiZWw6Om9uZm9jdXMiOjIsImxlZ2VuZDo6YWNjZXNza2V5IjowLCJsZWdlbmQ6OmFsaWduIjowLCJsaTo6dHlwZSI6MCwibGk6OnZhbHVlIjowLCJtYXA6Om5hbWUiOjcsIm1lbnU6OmNvbXBhY3QiOjAsIm1lbnU6OmxhYmVsIjowLCJtZW51Ojp0eXBlIjowLCJtZXRlcjo6aGlnaCI6MCwibWV0ZXI6OmxvdyI6MCwibWV0ZXI6Om1heCI6MCwibWV0ZXI6Om1pbiI6MCwibWV0ZXI6Om9wdGltdW0iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLA0KInByZTo6d2lkdGgiOjAsInByb2dyZXNzOjptYXgiOjAsInByb2dyZXNzOjptaW4iOjAsInByb2dyZXNzOjp2YWx1ZSI6MCwicTo6Y2l0ZSI6MSwic2VsZWN0OjphdXRvY29tcGxldGUiOjAsInNlbGVjdDo6ZGlzYWJsZWQiOjAsInNlbGVjdDo6bXVsdGlwbGUiOjAsInNlbGVjdDo6bmFtZSI6OCwic2VsZWN0OjpvbmJsdXIiOjIsInNlbGVjdDo6b25jaGFuZ2UiOjIsInNlbGVjdDo6b25mb2N1cyI6Miwic2VsZWN0OjpyZXF1aXJlZCI6MCwic2VsZWN0OjpzaXplIjowLCJzb3VyY2U6OnR5cGUiOjAsInRhYmxlOjphbGlnbiI6MCwidGFibGU6OmJnY29sb3IiOjAsInRhYmxlOjpib3JkZXIiOjAsInRhYmxlOjpjZWxscGFkZGluZyI6MCwidGFibGU6OmNlbGxzcGFjaW5nIjowLCJ0YWJsZTo6ZnJhbWUiOjAsInRhYmxlOjpydWxlcyI6MCwidGFibGU6OnN1bW1hcnkiOjAsInRhYmxlOjp3aWR0aCI6MCwidGJvZHk6OmFsaWduIjowLCJ0Ym9keTo6Y2hhciI6MCwidGJvZHk6OmNoYXJvZmYiOjAsDQoidGJvZHk6OnZhbGlnbiI6MCwidGQ6OmFiYnIiOjAsInRkOjphbGlnbiI6MCwidGQ6OmF4aXMiOjAsInRkOjpiZ2NvbG9yIjowLCJ0ZDo6Y2hhciI6MCwidGQ6OmNoYXJvZmYiOjAsInRkOjpjb2xzcGFuIjowLCJ0ZDo6aGVhZGVycyI6NiwidGQ6OmhlaWdodCI6MCwidGQ6Om5vd3JhcCI6MCwidGQ6OnJvd3NwYW4iOjAsInRkOjpzY29wZSI6MCwidGQ6OnZhbGlnbiI6MCwidGQ6OndpZHRoIjowLCJ0ZXh0YXJlYTo6YWNjZXNza2V5IjowLCJ0ZXh0YXJlYTo6YXV0b2NvbXBsZXRlIjowLCJ0ZXh0YXJlYTo6Y29scyI6MCwidGV4dGFyZWE6OmRpc2FibGVkIjowLCJ0ZXh0YXJlYTo6aW5wdXRtb2RlIjowLCJ0ZXh0YXJlYTo6bmFtZSI6OCwidGV4dGFyZWE6Om9uYmx1ciI6MiwidGV4dGFyZWE6Om9uY2hhbmdlIjoyLCJ0ZXh0YXJlYTo6b25mb2N1cyI6MiwidGV4dGFyZWE6Om9uc2VsZWN0IjoyLCJ0ZXh0YXJlYTo6cGxhY2Vob2xkZXIiOjAsInRleHRhcmVhOjpyZWFkb25seSI6MCwidGV4dGFyZWE6OnJlcXVpcmVkIjowLA0KInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6d3JhcCI6MCwidGZvb3Q6OmFsaWduIjowLCJ0Zm9vdDo6Y2hhciI6MCwidGZvb3Q6OmNoYXJvZmYiOjAsInRmb290Ojp2YWxpZ24iOjAsInRoOjphYmJyIjowLCJ0aDo6YWxpZ24iOjAsInRoOjpheGlzIjowLCJ0aDo6Ymdjb2xvciI6MCwidGg6OmNoYXIiOjAsInRoOjpjaGFyb2ZmIjowLCJ0aDo6Y29sc3BhbiI6MCwidGg6OmhlYWRlcnMiOjYsInRoOjpoZWlnaHQiOjAsInRoOjpub3dyYXAiOjAsInRoOjpyb3dzcGFuIjowLCJ0aDo6c2NvcGUiOjAsInRoOjp2YWxpZ24iOjAsInRoOjp3aWR0aCI6MCwidGhlYWQ6OmFsaWduIjowLCJ0aGVhZDo6Y2hhciI6MCwidGhlYWQ6OmNoYXJvZmYiOjAsInRoZWFkOjp2YWxpZ24iOjAsInRyOjphbGlnbiI6MCwidHI6OmJnY29sb3IiOjAsInRyOjpjaGFyIjowLCJ0cjo6Y2hhcm9mZiI6MCwidHI6OnZhbGlnbiI6MCwidHJhY2s6OmRlZmF1bHQiOjAsInRyYWNrOjpraW5kIjowLCJ0cmFjazo6bGFiZWwiOjAsDQoidHJhY2s6OnNyY2xhbmciOjAsInVsOjpjb21wYWN0IjowLCJ1bDo6dHlwZSI6MCwidmlkZW86OmNvbnRyb2xzIjowLCJ2aWRlbzo6aGVpZ2h0IjowLCJ2aWRlbzo6bG9vcCI6MCwidmlkZW86Om1lZGlhZ3JvdXAiOjUsInZpZGVvOjptdXRlZCI6MCwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnByZWxvYWQiOjAsInZpZGVvOjpzcmMiOjEsInZpZGVvOjp3aWR0aCI6MH07TS5BVFRSSUJTPU0udztNLmM9e09QVElPTkFMX0VORFRBRzoxLEVNUFRZOjIsQ0RBVEE6NCxSQ0RBVEE6OCxVTlNBRkU6MTYsRk9MREFCTEU6MzIsU0NSSVBUOjY0LFNUWUxFOjEyOCxWSVJUVUFMSVpFRDoyNTZ9O00uZWZsYWdzPU0uYzsNCk0uZT17YTowLGFiYnI6MCxhY3JvbnltOjAsYWRkcmVzczowLGFwcGxldDoyNzIsYXJlYToyLGFydGljbGU6MCxhc2lkZTowLGF1ZGlvOjAsYjowLGJhc2U6Mjc0LGJhc2Vmb250OjI3NCxiZGk6MCxiZG86MCxiaWc6MCxibG9ja3F1b3RlOjAsYm9keTozMDUsYnI6MixidXR0b246MCxjYW52YXM6MCxjYXB0aW9uOjAsY2VudGVyOjAsY2l0ZTowLGNvZGU6MCxjb2w6Mixjb2xncm91cDoxLGNvbW1hbmQ6MixkYXRhOjAsZGF0YWxpc3Q6MCxkZDoxLGRlbDowLGRldGFpbHM6MCxkZm46MCxkaWFsb2c6MjcyLGRpcjowLGRpdjowLGRsOjAsZHQ6MSxlbTowLGZpZWxkc2V0OjAsZmlnY2FwdGlvbjowLGZpZ3VyZTowLGZvbnQ6MCxmb290ZXI6MCxmb3JtOjAsZnJhbWU6Mjc0LGZyYW1lc2V0OjI3MixoMTowLGgyOjAsaDM6MCxoNDowLGg1OjAsaDY6MCxoZWFkOjMwNSxoZWFkZXI6MCxoZ3JvdXA6MCxocjoyLGh0bWw6MzA1LGk6MCxpZnJhbWU6NCxpbWc6MixpbnB1dDoyLGluczowLGlzaW5kZXg6Mjc0LA0Ka2JkOjAsa2V5Z2VuOjI3NCxsYWJlbDowLGxlZ2VuZDowLGxpOjEsbGluazoyNzQsbWFwOjAsbWFyazowLG1lbnU6MCxtZXRhOjI3NCxtZXRlcjowLG5hdjowLG5vYnI6MCxub2VtYmVkOjI3Nixub2ZyYW1lczoyNzYsbm9zY3JpcHQ6Mjc2LG9iamVjdDoyNzIsb2w6MCxvcHRncm91cDowLG9wdGlvbjoxLG91dHB1dDowLHA6MSxwYXJhbToyNzQscHJlOjAscHJvZ3Jlc3M6MCxxOjAsczowLHNhbXA6MCxzY3JpcHQ6ODQsc2VjdGlvbjowLHNlbGVjdDowLHNtYWxsOjAsc291cmNlOjIsc3BhbjowLHN0cmlrZTowLHN0cm9uZzowLHN0eWxlOjE0OCxzdWI6MCxzdW1tYXJ5OjAsc3VwOjAsdGFibGU6MCx0Ym9keToxLHRkOjEsdGV4dGFyZWE6OCx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0aW1lOjAsdGl0bGU6MjgwLHRyOjEsdHJhY2s6Mix0dDowLHU6MCx1bDowLCJ2YXIiOjAsdmlkZW86MCx3YnI6Mn07TS5FTEVNRU5UUz1NLmU7DQpNLk89e2E6IkhUTUxBbmNob3JFbGVtZW50IixhYmJyOiJIVE1MRWxlbWVudCIsYWNyb255bToiSFRNTEVsZW1lbnQiLGFkZHJlc3M6IkhUTUxFbGVtZW50IixhcHBsZXQ6IkhUTUxBcHBsZXRFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGFydGljbGU6IkhUTUxFbGVtZW50Iixhc2lkZToiSFRNTEVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiOiJIVE1MRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50IixiYXNlZm9udDoiSFRNTEJhc2VGb250RWxlbWVudCIsYmRpOiJIVE1MRWxlbWVudCIsYmRvOiJIVE1MRWxlbWVudCIsYmlnOiJIVE1MRWxlbWVudCIsYmxvY2txdW90ZToiSFRNTFF1b3RlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNlbnRlcjoiSFRNTEVsZW1lbnQiLA0KY2l0ZToiSFRNTEVsZW1lbnQiLGNvZGU6IkhUTUxFbGVtZW50Iixjb2w6IkhUTUxUYWJsZUNvbEVsZW1lbnQiLGNvbGdyb3VwOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb21tYW5kOiJIVE1MQ29tbWFuZEVsZW1lbnQiLGRhdGE6IkhUTUxFbGVtZW50IixkYXRhbGlzdDoiSFRNTERhdGFMaXN0RWxlbWVudCIsZGQ6IkhUTUxFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkZXRhaWxzOiJIVE1MRGV0YWlsc0VsZW1lbnQiLGRmbjoiSFRNTEVsZW1lbnQiLGRpYWxvZzoiSFRNTERpYWxvZ0VsZW1lbnQiLGRpcjoiSFRNTERpcmVjdG9yeUVsZW1lbnQiLGRpdjoiSFRNTERpdkVsZW1lbnQiLGRsOiJIVE1MRExpc3RFbGVtZW50IixkdDoiSFRNTEVsZW1lbnQiLGVtOiJIVE1MRWxlbWVudCIsZmllbGRzZXQ6IkhUTUxGaWVsZFNldEVsZW1lbnQiLGZpZ2NhcHRpb246IkhUTUxFbGVtZW50IixmaWd1cmU6IkhUTUxFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvb3RlcjoiSFRNTEVsZW1lbnQiLA0KZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgyOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgzOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg0OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg1OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg2OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaGVhZGVyOiJIVE1MRWxlbWVudCIsaGdyb3VwOiJIVE1MRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaToiSFRNTEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGluczoiSFRNTE1vZEVsZW1lbnQiLGlzaW5kZXg6IkhUTUxVbmtub3duRWxlbWVudCIsa2JkOiJIVE1MRWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsDQpsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFyazoiSFRNTEVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsbmF2OiJIVE1MRWxlbWVudCIsbm9icjoiSFRNTEVsZW1lbnQiLG5vZW1iZWQ6IkhUTUxFbGVtZW50Iixub2ZyYW1lczoiSFRNTEVsZW1lbnQiLG5vc2NyaXB0OiJIVE1MRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLA0KcHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHM6IkhUTUxFbGVtZW50IixzYW1wOiJIVE1MRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VjdGlvbjoiSFRNTEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNtYWxsOiJIVE1MRWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHJpa2U6IkhUTUxFbGVtZW50IixzdHJvbmc6IkhUTUxFbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsc3ViOiJIVE1MRWxlbWVudCIsc3VtbWFyeToiSFRNTEVsZW1lbnQiLHN1cDoiSFRNTEVsZW1lbnQiLHRhYmxlOiJIVE1MVGFibGVFbGVtZW50Iix0Ym9keToiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRkOiJIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0Zm9vdDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLA0KdGg6IkhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdHQ6IkhUTUxFbGVtZW50Iix1OiJIVE1MRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLCJ2YXIiOiJIVE1MRWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQiLHdicjoiSFRNTEVsZW1lbnQifTtNLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9TS5PO00uTj17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn07TS51ZWZmZWN0cz1NLk47DQpNLko9eyJhOjpocmVmIjoyLCJhcmVhOjpocmVmIjoyLCJhdWRpbzo6c3JjIjoxLCJibG9ja3F1b3RlOjpjaXRlIjowLCJjb21tYW5kOjppY29uIjoxLCJkZWw6OmNpdGUiOjAsImZvcm06OmFjdGlvbiI6MiwiaW1nOjpzcmMiOjEsImlucHV0OjpzcmMiOjEsImluczo6Y2l0ZSI6MCwicTo6Y2l0ZSI6MCwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnNyYyI6MX07TS5VUklFRkZFQ1RTPU0uSjtNLkw9e1VOU0FOREJPWEVEOjIsU0FOREJPWEVEOjEsREFUQTowfTtNLmx0eXBlcz1NLkw7TS5JPXsiYTo6aHJlZiI6MiwiYXJlYTo6aHJlZiI6MiwiYXVkaW86OnNyYyI6MiwiYmxvY2txdW90ZTo6Y2l0ZSI6MiwiY29tbWFuZDo6aWNvbiI6MSwiZGVsOjpjaXRlIjoyLCJmb3JtOjphY3Rpb24iOjIsImltZzo6c3JjIjoxLCJpbnB1dDo6c3JjIjoxLCJpbnM6OmNpdGUiOjIsInE6OmNpdGUiOjIsInZpZGVvOjpwb3N0ZXIiOjEsInZpZGVvOjpzcmMiOjJ9O00uTE9BREVSVFlQRVM9TS5JOw0KInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93Lmh0bWw0PU0pO3ZhciBRPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHgoZCl7aWYoRC5oYXNPd25Qcm9wZXJ0eShkKSlyZXR1cm4gRFtkXTt2YXIgYT1kLm1hdGNoKFIpO3JldHVybiBhP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoYVsxXSwxMCkpOihhPWQubWF0Y2goUykpP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoYVsxXSwxNikpOkUmJlQudGVzdChkKT8oRS5pbm5lckhUTUw9IiYiK2QrIjsiLGE9RS50ZXh0Q29udGVudCxEW2RdPWEpOiImIitkKyI7In1mdW5jdGlvbiB5KGQsYSl7cmV0dXJuIHgoYSl9ZnVuY3Rpb24gdShkKXtyZXR1cm4gZC5yZXBsYWNlKFUseSl9ZnVuY3Rpb24gdihkKXtyZXR1cm4oIiIrZCkucmVwbGFjZShOLCImYW1wOyIpLnJlcGxhY2UoRiwiJmx0OyIpLnJlcGxhY2UoRywiJmd0OyIpLnJlcGxhY2UoViwiJiMzNDsiKX1mdW5jdGlvbiBiKGQpe3JldHVybigiIitkKS5yZXBsYWNlKE4sIiZhbXA7IikucmVwbGFjZShGLCImbHQ7IikucmVwbGFjZShHLCImZ3Q7Iil9DQpmdW5jdGlvbiBwKGQpe3JldHVybiBkLnJlcGxhY2UoVywiJmFtcDskMSIpLnJlcGxhY2UoRiwiJmx0OyIpLnJlcGxhY2UoRywiJmd0OyIpfWZ1bmN0aW9uIHooZCl7dmFyIGE9e3o6ZC56fHxkLmNkYXRhLEE6ZC5BfHxkLmNvbW1lbnQsQjpkLkJ8fGQuZW5kRG9jLHQ6ZC50fHxkLmVuZFRhZyxkOmQuZHx8ZC5wY2RhdGEsRjpkLkZ8fGQucmNkYXRhLEg6ZC5IfHxkLnN0YXJ0RG9jLHY6ZC52fHxkLnN0YXJ0VGFnfTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZjt2YXIgcj0vKDxcL3w8XCEtLXw8WyE/XXxbJjw+XSkvZztmPWQrIiI7aWYoWClmPWYuc3BsaXQocik7ZWxzZXtmb3IodmFyIGs9W10saT0wLGI7KGI9ci5leGVjKGYpKSE9PWw7KWsucHVzaChmLnN1YnN0cmluZyhpLGIuaW5kZXgpKSxrLnB1c2goYlswXSksaT1iLmluZGV4K2JbMF0ubGVuZ3RoO2sucHVzaChmLnN1YnN0cmluZyhpKSk7Zj1rfXcoYSxmLDAse3I6ITEsQzohMX0sZSl9fWZ1bmN0aW9uIGooZCxhLGMsZSxmKXtyZXR1cm4gZnVuY3Rpb24oKXt3KGQsDQphLGMsZSxmKX19ZnVuY3Rpb24gdyhkLGEsYyxoLGYpe3RyeXtkLkgmJjA9PWMmJmQuSChmKTtmb3IodmFyIHIsayxpLGI9YS5sZW5ndGg7YzxiOyl7dmFyIG49YVtjKytdLGc9YVtjXTtzd2l0Y2gobil7Y2FzZSAiJiI6WS50ZXN0KGcpPyhkLmQmJmQuZCgiJiIrZyxmLHQsaihkLGEsYyxoLGYpKSxjKyspOmQuZCYmZC5kKCImYW1wOyIsZix0LGooZCxhLGMsaCxmKSk7YnJlYWs7Y2FzZSAiPC8iOmlmKHI9L14oWy1cdzpdKylbXlwnXCJdKi8uZXhlYyhnKSlpZihyWzBdLmxlbmd0aD09PWcubGVuZ3RoJiYiPiI9PT1hW2MrMV0pYys9MixpPXJbMV0udG9Mb3dlckNhc2UoKSxkLnQmJmQudChpLGYsdCxqKGQsYSxjLGgsZikpO2Vsc2V7dmFyIG09YSxvPWMscD1kLHM9Zix1PXQseD1oLHY9QyhtLG8pO3Y/KHAudCYmcC50KHYubmFtZSxzLHUsaihwLG0sbyx4LHMpKSxjPXYubmV4dCk6Yz1tLmxlbmd0aH1lbHNlIGQuZCYmZC5kKCImbHQ7LyIsZix0LGooZCxhLGMsaCxmKSk7YnJlYWs7Y2FzZSAiPCI6aWYocj0NCi9eKFstXHc6XSspXHMqXC8/Ly5leGVjKGcpKWlmKHJbMF0ubGVuZ3RoPT09Zy5sZW5ndGgmJiI+Ij09PWFbYysxXSl7Yys9MjtpPXJbMV0udG9Mb3dlckNhc2UoKTtkLnYmJmQudihpLFtdLGYsdCxqKGQsYSxjLGgsZikpO3ZhciB3PWUuZVtpXTt3Jk8mJihjPUIoYSx7bmFtZTppLG5leHQ6YyxjOnd9LGQsZix0LGgpKX1lbHNle3ZhciBtPWEsbz1kLHA9ZixzPXQsdT1oLEE9QyhtLGMpO0E/KG8udiYmby52KEEubmFtZSxBLlAscCxzLGoobyxtLEEubmV4dCx1LHApKSxjPUEuYyZPP0IobSxBLG8scCxzLHUpOkEubmV4dCk6Yz1tLmxlbmd0aH1lbHNlIGQuZCYmZC5kKCImbHQ7IixmLHQsaihkLGEsYyxoLGYpKTticmVhaztjYXNlICI8XCEtLSI6aWYoIWguQyl7Zm9yKGs9YysxO2s8YiYmISgiPiI9PT1hW2tdJiYvLS0kLy50ZXN0KGFbay0xXSkpO2srKyk7aWYoazxiKXtpZihkLkEpe3ZhciB5PWEuc2xpY2UoYyxrKS5qb2luKCIiKTtkLkEoeS5zdWJzdHIoMCx5Lmxlbmd0aC0yKSxmLA0KdCxqKGQsYSxrKzEsaCxmKSl9Yz1rKzF9ZWxzZSBoLkM9ITB9aC5DJiZkLmQmJmQuZCgiJmx0OyEtLSIsZix0LGooZCxhLGMsaCxmKSk7YnJlYWs7Y2FzZSAiPCEiOmlmKC9eXHcvLnRlc3QoZykpe2lmKCFoLnIpe2ZvcihrPWMrMTtrPGImJiI+IiE9PWFba107aysrKTtrPGI/Yz1rKzE6aC5yPSEwfWguciYmZC5kJiZkLmQoIiZsdDshIixmLHQsaihkLGEsYyxoLGYpKX1lbHNlIGQuZCYmZC5kKCImbHQ7ISIsZix0LGooZCxhLGMsaCxmKSk7YnJlYWs7Y2FzZSAiPD8iOmlmKCFoLnIpe2ZvcihrPWMrMTtrPGImJiI+IiE9PWFba107aysrKTtrPGI/Yz1rKzE6aC5yPSEwfWguciYmZC5kJiZkLmQoIiZsdDs/IixmLHQsaihkLGEsYyxoLGYpKTticmVhaztjYXNlICI+IjpkLmQmJmQuZCgiJmd0OyIsZix0LGooZCxhLGMsaCxmKSk7YnJlYWs7Y2FzZSAiIjpicmVhaztkZWZhdWx0OmQuZCYmZC5kKG4sZix0LGooZCxhLGMsaCxmKSl9fWQuQiYmZC5CKGYpfWNhdGNoKHope2lmKHohPT10KXRocm93IHo7DQp9fWZ1bmN0aW9uIEIoYSxiLGMsaCxmLHIpe3ZhciBrPWEubGVuZ3RoO0guaGFzT3duUHJvcGVydHkoYi5uYW1lKXx8KEhbYi5uYW1lXT1SZWdFeHAoIl4iK2IubmFtZSsiKD86W1xcc1xcL118JCkiLCJpIikpO2Zvcih2YXIgaT1IW2IubmFtZV0sZz1iLm5leHQsbj1iLm5leHQrMTtuPGsmJiEoIjwvIj09PWFbbi0xXSYmaS50ZXN0KGFbbl0pKTtuKyspO248ayYmKG4tPTEpO2s9YS5zbGljZShnLG4pLmpvaW4oIiIpO2lmKGIuYyZlLmMuQ0RBVEEpYy56JiZjLnooayxoLGYsaihjLGEsbixyLGgpKTtlbHNlIGlmKGIuYyZlLmMuUkNEQVRBKWMuRiYmYy5GKHAoayksaCxmLGooYyxhLG4scixoKSk7ZWxzZSB0aHJvdyBFcnJvcigiYnVnIik7cmV0dXJuIG59ZnVuY3Rpb24gQyhhLGIpe3ZhciBjPS9eKFstXHc6XSspLy5leGVjKGFbYl0pLGg9e307aC5uYW1lPWNbMV0udG9Mb3dlckNhc2UoKTtoLmM9ZS5lW2gubmFtZV07Zm9yKHZhciBmPWFbYl0uc3Vic3RyKGNbMF0ubGVuZ3RoKSxyPWIrDQoxLGs9YS5sZW5ndGg7cjxrJiYiPiIhPT1hW3JdO3IrKylmKz1hW3JdO2lmKCEoazw9cikpe2Zvcih2YXIgaT1bXTsiIiE9PWY7KWlmKGM9Wi5leGVjKGYpKWlmKGNbNF0mJiFjWzVdfHxjWzZdJiYhY1s3XSl7Zm9yKHZhciBjPWNbNF18fGNbNl0sZz0hMSxmPVtmLGFbcisrXV07cjxrO3IrKyl7aWYoZyl7aWYoIj4iPT09YVtyXSlicmVha31lbHNlIDA8PWFbcl0uaW5kZXhPZihjKSYmKGc9ITApO2YucHVzaChhW3JdKX1pZihrPD1yKWJyZWFrO2Y9Zi5qb2luKCIiKX1lbHNle3ZhciBnPWNbMV0udG9Mb3dlckNhc2UoKSxuO2lmKGNbMl0pe249Y1szXTt2YXIgaj1uLmNoYXJDb2RlQXQoMCk7aWYoMzQ9PT1qfHwzOT09PWopbj1uLnN1YnN0cigxLG4ubGVuZ3RoLTIpO249dShuLnJlcGxhY2UoJCwiIikpfWVsc2Ugbj0iIjtpLnB1c2goZyxuKTtmPWYuc3Vic3RyKGNbMF0ubGVuZ3RoKX1lbHNlIGY9Zi5yZXBsYWNlKC9eW1xzXFNdW15hLXpcc10qLywiIik7aC5QPWk7aC5uZXh0PXIrMTsNCnJldHVybiBofX1mdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGcoKXt2YXIgYT1oW2gubGVuZ3RoLTFdO3JldHVybiBhP2UuZVthLm1dOjB9ZnVuY3Rpb24gYyhhKXt2YXIgZD1oW2gubGVuZ3RoLTFdO2lmKCFkKXRocm93IEVycm9yKCJzaG91bGRuJ3QgaGFwcGVuOiBDREFUQS9SQ0RBVEEgY29udGV4dCB3aXRob3V0IGFueSBzdGFydCB0YWciKTtyZXR1cm4gYS5yZXBsYWNlKFJlZ0V4cCgiPC8iK2QubSsiKD89W15BLVphLXpdKT4/IiwiaSIpLCI8Lz4iKX12YXIgaCxmO3JldHVybiB6KHtzdGFydERvYzpmdW5jdGlvbigpe2g9W107Zj0hMX0sc3RhcnRUYWc6ZnVuY3Rpb24oYyxiLGkpe2lmKCFmJiZlLmUuaGFzT3duUHJvcGVydHkoYykpe3ZhciBnPWUuZVtjXTtpZighKGcmZS5jLkZPTERBQkxFKSl7dmFyIG49YShjLGIpO2lmKG4pe2lmKCJvYmplY3QiIT09dHlwZW9mIG4pdGhyb3cgRXJyb3IoInRhZ1BvbGljeSBkaWQgbm90IHJldHVybiBvYmplY3QgKG9sZCBBUEk/KSIpO2lmKCJhdHRyaWJzImluDQpuKWI9bi5hdHRyaWJzO2Vsc2UgdGhyb3cgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTt2YXIgajsidGFnTmFtZSJpbiBuPyhqPW4udGFnTmFtZSxuPWUuZVtqXSk6KGo9YyxuPWcpO2lmKGcmZS5jLk9QVElPTkFMX0VORFRBRyl7dmFyIG09aFtoLmxlbmd0aC0xXTttJiZtLkQ9PT1jJiYobS5tIT09anx8YyE9PWopJiZpLnB1c2goIjwvIixtLm0sIj4iKX1nJmUuYy5FTVBUWXx8aC5wdXNoKHtEOmMsbTpqfSk7aS5wdXNoKCI8IixqKTtjPTA7Zm9yKG09Yi5sZW5ndGg7YzxtO2MrPTIpe3ZhciBvPWJbY10scD1iW2MrMV07cCE9PWwmJnZvaWQgMCE9PXAmJmkucHVzaCgiICIsbywnPSInLHYocCksJyInKX1pLnB1c2goIj4iKTtnJmUuYy5FTVBUWSYmIShuJmUuYy5FTVBUWSkmJmkucHVzaCgiPC8iLGosIj4iKX1lbHNlIGY9IShnJmUuYy5FTVBUWSl9fX0sZW5kVGFnOmZ1bmN0aW9uKGEsZCl7aWYoZilmPSExO2Vsc2UgaWYoZS5lLmhhc093blByb3BlcnR5KGEpKXt2YXIgYz0NCmUuZVthXTtpZighKGMmKGUuYy5FTVBUWXxlLmMuRk9MREFCTEUpKSl7aWYoYyZlLmMuT1BUSU9OQUxfRU5EVEFHKWZvcihjPWgubGVuZ3RoOzA8PS0tYzspe3ZhciBiPWhbY10uRDtpZihiPT09YSlicmVhaztpZighKGUuZVtiXSZlLmMuT1BUSU9OQUxfRU5EVEFHKSlyZXR1cm59ZWxzZSBmb3IoYz1oLmxlbmd0aDswPD0tLWMmJmhbY10uRCE9PWE7KTtpZighKDA+Yykpe2ZvcihiPWgubGVuZ3RoOy0tYj5jOyl7dmFyIGc9aFtiXS5tO2UuZVtnXSZlLmMuT1BUSU9OQUxfRU5EVEFHfHxkLnB1c2goIjwvIixnLCI+Iil9YzxoLmxlbmd0aCYmKGE9aFtjXS5tKTtoLmxlbmd0aD1jO2QucHVzaCgiPC8iLGEsIj4iKX19fX0scGNkYXRhOmZ1bmN0aW9uKGEsZCl7Znx8KGcoKSYoZS5jLlJDREFUQXxlLmMuQ0RBVEEpP2QucHVzaChjKGEpKTpkLnB1c2goYSkpfSxyY2RhdGE6ZnVuY3Rpb24oYSxkKXtmfHwoZygpJihlLmMuUkNEQVRBfGUuYy5DREFUQSk/ZC5wdXNoKGMoYSkpOmQucHVzaChhKSl9LA0KY2RhdGE6ZnVuY3Rpb24oYSxkKXtmfHwoZygpJmUuYy5DREFUQT9kLnB1c2goYyhhKSk6ZC5wdXNoKGIoYSkpKX0sZW5kRG9jOmZ1bmN0aW9uKGEpe2Zvcig7aC5sZW5ndGg7aC5sZW5ndGgtLSlhLnB1c2goIjwvIixoW2gubGVuZ3RoLTFdLm0sIj4iKX19KX1mdW5jdGlvbiBKKGEsYixjLGUsZil7aWYoIWYpcmV0dXJuIGw7dHJ5e3ZhciBnPXEucGFyc2UoIiIrYSk7aWYoZyYmKCFnLksoKXx8YWEudGVzdChnLlUoKSkpKXt2YXIgaz1mKGcsYixjLGUpO3JldHVybiBrP2sudG9TdHJpbmcoKTpsfX1jYXRjaChpKXt9cmV0dXJuIGx9ZnVuY3Rpb24gbShhLGIsYyxlLGYpe2N8fGEoYisiIHJlbW92ZWQiLHtROiJyZW1vdmVkIix0YWdOYW1lOmJ9KTtpZihlIT09Zil7dmFyIGc9ImNoYW5nZWQiO2UmJiFmP2c9InJlbW92ZWQiOiFlJiZmJiYoZz0iYWRkZWQiKTthKGIrIi4iK2MrIiAiK2cse1E6Zyx0YWdOYW1lOmIsaWE6YyxvbGRWYWx1ZTplLG5ld1ZhbHVlOmZ9KX19ZnVuY3Rpb24gSyhhLA0KYixjKXtiPWIrIjo6IitjO2lmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuIGFbYl07Yj0iKjo6IitjO2lmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuIGFbYl19ZnVuY3Rpb24gcyhhLGIsYyxoLGYpe2Zvcih2YXIgZz0wO2c8Yi5sZW5ndGg7Zys9Mil7dmFyIGs9YltnXSxpPWJbZysxXSxqPWksbj1sLG87aWYoKG89YSsiOjoiK2ssZS53Lmhhc093blByb3BlcnR5KG8pKXx8KG89Iio6OiIrayxlLncuaGFzT3duUHJvcGVydHkobykpKW49ZS53W29dO2lmKG4hPT1sKXN3aXRjaChuKXtjYXNlIGUuZi5OT05FOmJyZWFrO2Nhc2UgZS5mLlNDUklQVDppPWw7ZiYmbShmLGEsayxqLGkpO2JyZWFrO2Nhc2UgZS5mLlNUWUxFOmlmKCJ1bmRlZmluZWQiPT09dHlwZW9mIEkpe2k9bDtmJiZtKGYsYSxrLGosaSk7YnJlYWt9dmFyIHA9W107SShpLHtkZWNsYXJhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBkPWEudG9Mb3dlckNhc2UoKTtQKGQsYixjP2Z1bmN0aW9uKGEpe3JldHVybiBKKGEsDQplLk4uZ2EsZS5MLmhhLHtUWVBFOiJDU1MiLENTU19QUk9QOmR9LGMpfTpsKTtiLmxlbmd0aCYmcC5wdXNoKGQrIjogIitiLmpvaW4oIiAiKSl9fSk7aT0wPHAubGVuZ3RoP3Auam9pbigiIDsgIik6bDtmJiZtKGYsYSxrLGosaSk7YnJlYWs7Y2FzZSBlLmYuSUQ6Y2FzZSBlLmYuSURSRUY6Y2FzZSBlLmYuSURSRUZTOmNhc2UgZS5mLkdMT0JBTF9OQU1FOmNhc2UgZS5mLkxPQ0FMX05BTUU6Y2FzZSBlLmYuQ0xBU1NFUzppPWg/aChpKTppO2YmJm0oZixhLGssaixpKTticmVhaztjYXNlIGUuZi5VUkk6aT1KKGksSyhlLkosYSxrKSxLKGUuSSxhLGspLHtUWVBFOiJNQVJLVVAiLFhNTF9BVFRSOmssWE1MX1RBRzphfSxjKTtmJiZtKGYsYSxrLGosaSk7YnJlYWs7Y2FzZSBlLmYuVVJJX0ZSQUdNRU5UOmkmJiIjIj09PWkuY2hhckF0KDApPyhpPWkuc3Vic3RyaW5nKDEpLGk9aD9oKGkpOmksaSE9PWwmJnZvaWQgMCE9PWkmJihpPSIjIitpKSk6aT1sO2YmJm0oZixhLGssaixpKTticmVhazsNCmRlZmF1bHQ6aT1sLGYmJm0oZixhLGssaixpKX1lbHNlIGk9bCxmJiZtKGYsYSxrLGosaSk7YltnKzFdPWl9cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGcsZil7aWYoZS5lW2ddJmUuYy5VTlNBRkUpYyYmbShjLGcsdm9pZCAwLHZvaWQgMCx2b2lkIDApO2Vsc2UgcmV0dXJue2F0dHJpYnM6cyhnLGYsYSxiLGMpfX19ZnVuY3Rpb24gTChiLGUpe3ZhciBjPVtdO2EoZSkoYixjKTtyZXR1cm4gYy5qb2luKCIiKX12YXIgSSxQOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKEk9d2luZG93LnBhcnNlQ3NzRGVjbGFyYXRpb25zLFA9d2luZG93LnNhbml0aXplQ3NzUHJvcGVydHkpO3ZhciBEPXtsdDoiPCIsTFQ6IjwiLGd0OiI+IixHVDoiPiIsYW1wOiImIixBTVA6IiYiLHF1b3Q6JyInLGFwb3M6IiciLG5ic3A6Ilx1MDBhMCJ9LFI9L14jKFxkKykkLyxTPS9eI3goWzAtOUEtRmEtZl0rKSQvLFQ9L15bQS1aYS16XVtBLVphLXowLTldKyQvLEU9InVuZGVmaW5lZCIhPT0NCnR5cGVvZiB3aW5kb3cmJndpbmRvdy5kb2N1bWVudD93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTpsLCQ9L1wwL2csVT0vJigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7L2csWT0vXigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7LyxOPS8mL2csVz0vJihbXmEteiNdfCMoPzpbXjAtOXhdfHgoPzpbXjAtOWEtZl18JCl8JCl8JCkvZ2ksRj0vWzxdL2csRz0vPi9nLFY9L1wiL2csWj0vXlxzKihbLS46XHddKykoPzpccyooPSlccyooKCIpW14iXSooInwkKXwoJylbXiddKignfCQpfCg/PVthLXpdWy1cd10qXHMqPSl8W14iJ1xzXSopKT8vaSxYPTM9PT0iYSxiIi5zcGxpdCgvKCwpLykubGVuZ3RoLE89ZS5jLkNEQVRBfGUuYy5SQ0RBVEEsdD17fSxIPXt9LGFhPS9eKD86aHR0cHM/fGdlb3xtYWlsdG98c21zfHRlbCkkL2ksbz17fTtvLmthPW8uZXNjYXBlQXR0cmliPXY7by5sYT1vLmVzY2FwZVBjZGF0YT1iO28ubWE9by5tYWtlSHRtbFNhbml0aXplcj0NCmE7by5uYT1vLm1ha2VTYXhQYXJzZXI9ejtvLm9hPW8ubWFrZVRhZ1BvbGljeT1nO28ucWE9by5ub3JtYWxpemVSQ0RhdGE9cDtvLnJhPW8uc2FuaXRpemU9ZnVuY3Rpb24oYSxiLGMsZSl7cmV0dXJuIEwoYSxnKGIsYyxlKSl9O28uc2E9by5zYW5pdGl6ZUF0dHJpYnM9cztvLnRhPW8uc2FuaXRpemVXaXRoUG9saWN5PUw7by51YT1vLnVuZXNjYXBlRW50aXRpZXM9dTtyZXR1cm4gb30oTSksYmE9US5zYW5pdGl6ZTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuaHRtbD1RLHdpbmRvdy5odG1sX3Nhbml0aXplPWJhKTt9KSgpOw0KOw0KZ2FkZ2V0cy5jb25maWcuaW5pdCh7ImNvcmUuaW8iOnsianNvblByb3h5VXJsIjoiLy8laG9zdCUvZ2FkZ2V0cy9tYWtlUmVxdWVzdCIsInByb3h5VXJsIjoiLy93d3ctaWctb3BlbnNvY2lhbC5nb29nbGV1c2VyY29udGVudC5jb20vZ2FkZ2V0cy9wcm94eS9yZWZyZXNoPSVyZWZyZXNoJSZjb250YWluZXI9JWNvbnRhaW5lciUlcmV3cml0ZU1pbWUlJmdhZGdldD0lZ2FkZ2V0JS8lcmF3dXJsJSJ9LCJzaGluZGlnLmF1dGgiOnsiYXV0aFRva2VuIjoiIiwidHJ1c3RlZEpzb24iOiIifSwiY29yZS51dGlsIjp7ImNvcmUiOnt9fX0pOw0KCTwvc2NyaXB0Pg0KCTxzY3JpcHQ+DQoJCWdhZGdldHMuUHJlZnMuc2V0TWVzc2FnZXNfKHt9KTtnYWRnZXRzLlByZWZzLnNldERlZmF1bHRQcmVmc18oe30pO2dhZGdldHMuaW8ucHJlbG9hZGVkXz1bXTsNCgk8L3NjcmlwdD4NCgk8bGluayBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvbWV5bWVuZXQ2NDV4L2dAbWFpbi9zdHlsZS5jc3MiIHJlbD0ic3R5bGVzaGVldCI+DQoJPHN0eWxlPg0KCQkvKiBEaXNhYmxlIGZvY3VzIG91dGxpbmUgZm9yIGNhbnZhcyAqLw0KCQljYW52YXM6Zm9jdXMgew0KCQkJb3V0bGluZTogbm9uZTsNCgkJfQ0KDQoJCWh0bWwsDQoJCWJvZHkgew0KCQkJcGFkZGluZzogMDsNCgkJCW1hcmdpbjogMDsNCgkJCW92ZXJmbG93OiBoaWRkZW47DQoJCQktd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7DQoJCQktd2Via2l0LXVzZXItc2VsZWN0OiBub25lOw0KCQkJLWtodG1sLXVzZXItc2VsZWN0OiBub25lOw0KCQkJLW1vei11c2VyLXNlbGVjdDogbm9uZTsNCgkJCS1tcy11c2VyLXNlbGVjdDogbm9uZTsNCgkJCXVzZXItc2VsZWN0OiBub25lOw0KCQkJLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApOw0KCQkJaGVpZ2h0OiAxMDAlOw0KCQl9DQoJPC9zdHlsZT4NCgk8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQoJPG1ldGEgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiPg0KCTxtZXRhIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8iIG5hbWU9InZpZXdwb3J0Ij4NCg0KCTwhLS0gWWFuZGV4IEdhbWVzIFNESyAtLT4NCg0KDQoJPCEtLSBBZGRpdGlvbmFsIGhlYWQgbW9kdWxlcyAtLT4NCgk8c2NyaXB0Pg0KCQkvKiBtcC1zdGFydCAqLw0KDQp2YXIgX3BhcmFtcyA9IGdhZGdldHMudXRpbC5nZXRVcmxQYXJhbWV0ZXJzKCk7DQppZiAoX3BhcmFtc1snZXhwX3JwY19qcyddICE9IDEpIHsNCiAgdmFyIHVybCA9IF9wYXJhbXNbJ3BhcmVudCddICsgJy9pZy9pZnBjX3JlbGF5JzsNCiAgZ2FkZ2V0cy5ycGMuc2V0UmVsYXlVcmwoJy4uJywgdXJsLCB0cnVlKTsNCn0NCi8qIG1wLWVuZCAqLw0KCTwvc2NyaXB0Pg0KCTxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyIgaWQ9Im9wZXJhVXNlclN0eWxlIj48L3N0eWxlPg0KCTxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJCToNCgk8L3N0eWxlPg0KPC9oZWFkPg0KDQo8Ym9keSBjbGFzcz0iZGFyayIgZGlyPSJsdHIiPg0KCTxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvbWV5bWVuZXQ2NDV4L2dAbWFpbi92Mi4wNWQyYmE3ZmFkYjVjYTk2YTM4MS5qcyI+PC9zY3JpcHQ+DQoJPGRpdiBjbGFzcz0idW5pdHktZGVza3RvcCIgaWQ9InVuaXR5LWNvbnRhaW5lciI+DQoJCTxjYW52YXMgaWQ9InVuaXR5LWNhbnZhcyIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0iY3Vyc29yOiBkZWZhdWx0OyIgd2lkdGg9IjEzMjIiIGhlaWdodD0iOTI2Ij48L2NhbnZhcz4NCgk8L2Rpdj4NCgk8ZGl2IGlkPSJsb2FkaW5nLWNvdmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KCQk8ZGl2IGlkPSJ1bml0eS1sb2FkaW5nLWJhciI+DQoJCQk8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiIHN0eWxlPSJkaXNwbGF5OiBibG9jazsiPg0KCQkJCTxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1mdWxsIiBzdHlsZT0id2lkdGg6IDEwMCU7Ij48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0ic3Bpbm5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4NCgkJPC9kaXY+DQoJPC9kaXY+DQoNCgk8c2NyaXB0Pg0KCQljb25zdCBoaWRlRnVsbFNjcmVlbkJ1dHRvbiA9ICIiOw0KICAgIGNvbnN0IGJ1aWxkVXJsID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9tZXltZW5ldDY0NXgvZ0BtYWluL0J1aWxkIjsNCiAgICBjb25zdCBsb2FkZXJVcmwgPSBidWlsZFVybCArICIvRmluYWwubG9hZGVyLmpzIjsNCiAgICBjb25zdCBjb25maWcgPSB7DQogICAgICAgIGRhdGFVcmw6IGJ1aWxkVXJsICsgIi9GaW5hbC5kYXRhLnVuaXR5d2ViIiwNCiAgICAgICAgZnJhbWV3b3JrVXJsOiBidWlsZFVybCArICIvRmluYWwuZnJhbWV3b3JrLmpzLnVuaXR5d2ViIiwNCiAgICAgICAgY29kZVVybDogYnVpbGRVcmwgKyAiL0ZpbmFsLndhc20udW5pdHl3ZWIiLA0KICAgICAgICBzdHJlYW1pbmdBc3NldHNVcmw6ICJTdHJlYW1pbmdBc3NldHMiLA0KICAgICAgICBjb21wYW55TmFtZTogIlN0ZWVsUmF2ZW43IiwNCiAgICAgICAgcHJvZHVjdE5hbWU6ICJSYXZlbmZpZWxkIiwNCiAgICAgICAgcHJvZHVjdFZlcnNpb246ICIxLjAiDQogICAgfTsNCg0KICAgIC8vIFBhdGNoIFVuaXR5TG9hZGVyIHRvIHN1cHBvcnQgbXVsdGlwbGUgZGF0YSBmaWxlcw0KICAgIGNvbnN0IG9yaWdpbmFsVW5pdHlMb2FkZXJGZXRjaCA9IGZldGNoOw0KICAgIGZldGNoID0gYXN5bmMgZnVuY3Rpb24gKHVybCwgLi4uYXJncykgew0KICAgICAgICBpZiAodXJsLmVuZHNXaXRoKCIvRmluYWwuZGF0YS51bml0eXdlYiIpKSB7DQogICAgICAgICAgICBjb25zdCBwYXJ0MSA9IGF3YWl0IG9yaWdpbmFsVW5pdHlMb2FkZXJGZXRjaChidWlsZFVybCArICIvRmluYWxfcGFydDEuZGF0YS51bml0eXdlYiIpOw0KICAgICAgICAgICAgY29uc3QgcGFydDIgPSBhd2FpdCBvcmlnaW5hbFVuaXR5TG9hZGVyRmV0Y2goYnVpbGRVcmwgKyAiL0ZpbmFsX3BhcnQyLmRhdGEudW5pdHl3ZWIiKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgcGFydDFCdWZmZXIgPSBhd2FpdCBwYXJ0MS5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgY29uc3QgcGFydDJCdWZmZXIgPSBhd2FpdCBwYXJ0Mi5hcnJheUJ1ZmZlcigpOw0KDQogICAgICAgICAgICBjb25zdCBjb21iaW5lZEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHBhcnQxQnVmZmVyLmJ5dGVMZW5ndGggKyBwYXJ0MkJ1ZmZlci5ieXRlTGVuZ3RoKTsNCiAgICAgICAgICAgIGNvbWJpbmVkQnVmZmVyLnNldChuZXcgVWludDhBcnJheShwYXJ0MUJ1ZmZlciksIDApOw0KICAgICAgICAgICAgY29tYmluZWRCdWZmZXIuc2V0KG5ldyBVaW50OEFycmF5KHBhcnQyQnVmZmVyKSwgcGFydDFCdWZmZXIuYnl0ZUxlbmd0aCk7DQoNCiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoY29tYmluZWRCdWZmZXIuYnVmZmVyKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gb3JpZ2luYWxVbml0eUxvYWRlckZldGNoKHVybCwgLi4uYXJncyk7DQogICAgfTsNCg0KICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jb250YWluZXIiKTsNCiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7DQogICAgY29uc3QgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctY292ZXIiKTsNCiAgICBjb25zdCBwcm9ncmVzc0JhckVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1lbXB0eSIpOw0KICAgIGNvbnN0IHByb2dyZXNzQmFyRnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZnVsbCIpOw0KICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Bpbm5lcicpOw0KDQogICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgc2NyaXB0LnNyYyA9IGxvYWRlclVybDsNCiAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gew0KICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHsNCiAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCiAgICAgICAgICAgIHByb2dyZXNzQmFyRW1wdHkuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgICAgICBwcm9ncmVzc0JhckZ1bGwuc3R5bGUud2lkdGggPSBgJHsxMDAgKiBwcm9ncmVzc30lYDsNCiAgICAgICAgfSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gew0KICAgICAgICAgICAgbG9hZGluZ0NvdmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIH0pLmNhdGNoKChtZXNzYWdlKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpOw0KICAgICAgICB9KTsNCiAgICB9Ow0KDQoNCg0KICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCgk8L3NjcmlwdD4NCgk8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL21leW1lbmV0NjQ1eC9nQG1haW4vQnVpbGQvRmluYWwubG9hZGVyLmpzIj48L3NjcmlwdD4NCg0KCTxzY3JpcHQ+DQoJCWNvbnN0IGJ1aWxkVXJsID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9tZXltZW5ldDY0NXgvZ0BtYWluL0J1aWxkIjsNCiAgICAgICAgY29uc3QgbG9hZGVyVXJsID0gYnVpbGRVcmwgKyAiL0ZpbmFsLmxvYWRlci5qcyI7DQogICAgICAgIGNvbnN0IGNvbmZpZyA9IHsNCiAgICAgICAgICAgIGRhdGFVcmw6IGJ1aWxkVXJsICsgIi9GaW5hbC5kYXRhLnVuaXR5d2ViIiwNCiAgICAgICAgICAgIGZyYW1ld29ya1VybDogYnVpbGRVcmwgKyAiL0ZpbmFsLmZyYW1ld29yay5qcy51bml0eXdlYiIsDQogICAgICAgICAgICBjb2RlVXJsOiBidWlsZFVybCArICIvRmluYWwud2FzbS51bml0eXdlYiIsDQogICAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsDQogICAgICAgICAgICBjb21wYW55TmFtZTogIlN0ZWVsUmF2ZW43IiwNCiAgICAgICAgICAgIHByb2R1Y3ROYW1lOiAiUmF2ZW5maWVsZCIsDQogICAgICAgICAgICBwcm9kdWN0VmVyc2lvbjogIjEuMCINCiAgICAgICAgfTsNCg0KICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jb250YWluZXIiKTsNCiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7DQogICAgY29uc3QgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctY292ZXIiKTsNCiAgICBjb25zdCBwcm9ncmVzc0JhckVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1lbXB0eSIpOw0KICAgIGNvbnN0IHByb2dyZXNzQmFyRnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZnVsbCIpOw0KICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Bpbm5lcicpOw0KDQogICAgICAgIGNvbnN0IGNhbkZ1bGxzY3JlZW4gPSAoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgWw0KICAgICAgICAgICAgICAgICdleGl0RnVsbHNjcmVlbicsDQogICAgICAgICAgICAgICAgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywNCiAgICAgICAgICAgICAgICAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsDQogICAgICAgICAgICAgICAgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLA0KICAgICAgICAgICAgICAgICdtc0V4aXRGdWxsc2NyZWVuJywNCiAgICAgICAgICAgIF0pIHsNCiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGRvY3VtZW50KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSgpKTsNCg0KICAgICAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAidW5pdHktbW9iaWxlIjsNCiAgICAgICAgICAgIGNvbmZpZy5kZXZpY2VQaXhlbFJhdGlvID0gMTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5iYWNrZ3JvdW5kID0gInVybCgnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL21leW1lbmV0NjQ1eC9nQG1haW4vYmFja2dyb3VuZC5wbmcnKSBjZW50ZXIgLyBjb3ZlciI7DQogICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gIiI7DQoNCiAgICAgICAgLy8g0JLRi9C60LvRjtGH0LDQtdC8INC/0L7Rj9Cy0LvQtdC90LjQtSDQvNC10L3RjiDQv9GA0Lgg0L/RgNCw0LLQvtC8INC60LvQuNC60LUg0LzRi9GI0LgNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBldmVudCA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpKTsNCg0KICAgICAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDRhNC+0LrRg9GBLCDQtdGB0LvQuCDQutC70LjQutC90YPQu9C4INC/0L4g0Y3QutGA0LDQvdGDDQogICAgICAgIGZ1bmN0aW9uIEZvY3VzR2FtZSgpIHsNCiAgICAgICAgICAgIHdpbmRvdy5mb2N1cygpOw0KICAgICAgICAgICAgY2FudmFzLmZvY3VzKCk7DQogICAgICAgIH0NCg0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCAoKSA9PiB7DQogICAgICAgICAgICBGb2N1c0dhbWUoKTsNCiAgICAgICAgfSk7DQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gew0KICAgICAgICAgICAgRm9jdXNHYW1lKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIGxldCBTdGFydFVuaXR5SW5zdGFuY2U7DQogICAgICAgIGxldCBteUdhbWVJbnN0YW5jZSA9IG51bGw7DQogICAgICAgIGxldCB5c2RrID0gbnVsbDsNCiAgICAgICAgbGV0IHBsYXllciA9IG51bGw7DQogICAgICAgIGxldCBsZWFkZXJib2FyZDsNCiAgICAgICAgbGV0IHBheW1lbnRzID0gbnVsbDsNCiAgICAgICAgbGV0IGluaXRHYW1lID0gZmFsc2U7DQogICAgICAgIGxldCBub3dGdWxsQWRPcGVuID0gZmFsc2U7DQoNCiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgICAgIHNjcmlwdC5zcmMgPSBsb2FkZXJVcmw7DQogICAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7DQogICAgICAgICAgICBTdGFydFVuaXR5SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIGNvbmZpZywgKHByb2dyZXNzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXJFbXB0eS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyRnVsbC5zdHlsZS53aWR0aCA9IGAkezEwMCAqIHByb2dyZXNzfSVgOw0KICAgICAgICAgICAgICAgIH0pLnRoZW4oKHVuaXR5SW5zdGFuY2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UgPSB1bml0eUluc3RhbmNlOw0KICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ292ZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICB9KS5jYXRjaCgobWVzc2FnZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGlmIChMb2NhbEhvc3QoKSkgLy8gRGVsZXRlIHdoZW4gc2V0dGluZyB1cDogTG9hZCBHYW1lIFJ1bg0KICAgICAgICAgICAgICAgIFN0YXJ0VW5pdHlJbnN0YW5jZV9JZlVubG9hZGVkKCk7DQogICAgICAgIH07DQoNCiAgICAgICAgZnVuY3Rpb24gU3RhcnRVbml0eUluc3RhbmNlX0lmVW5sb2FkZWQoKSB7DQogICAgICAgICAgICBpZiAoc3Bpbm5lci5zdHlsZS5kaXNwbGF5ICE9PSAibm9uZSIpDQogICAgICAgICAgICAgICAgU3RhcnRVbml0eUluc3RhbmNlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBMb2NhbEhvc3QoKSB7DQogICAgICAgICAgICB2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsNCiAgICAgICAgICAgIGlmIChob3N0ID09ICJsb2NhbGhvc3QiIHx8IGhvc3QgPT0gIjEyNy4wLjAuMSIpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHNldFRpbWVvdXQoU3RhcnRVbml0eUluc3RhbmNlX0lmVW5sb2FkZWQsIDUwMDApOw0KDQogICAgICAgIEluaXRZU0RLKCk7DQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIEluaXRZU0RLKCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBpZiAoTG9jYWxIb3N0KCkpIHJldHVybjsNCg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0IFlhbmRleCBTREsnKTsNCiAgICAgICAgICAgICAgICB5c2RrID0gYXdhaXQgWWFHYW1lcy5pbml0KCk7DQoNCiAgICAgICAgICAgICAgICBGdWxsQWRTaG93KCk7IC8vIEZpcnN0IGFkIHRydWUNCg0KICAgICAgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgaW5pdCBtb2R1bGVzDQoNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUkFTSCBJbml0aWFsaXphdGlvbiBTREs6ICcsIGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBTdGFydFVuaXR5SW5zdGFuY2VfSWZVbmxvYWRlZCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gSW5pdEdhbWUoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdCBHYW1lIFN1Y2Nlc3MnKTsNCiAgICAgICAgICAgIGluaXRHYW1lID0gdHJ1ZTsNCg0KICAgICAgICAgICAgaWYgKG5vd0Z1bGxBZE9wZW4gPT0gdHJ1ZSAmJiBteUdhbWVJbnN0YW5jZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnT3BlbkZ1bGxBZCcpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBBZGRpdGlvbmFsIHN0YXJ0IG1vZHVsZXMNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIEZ1bGxBZFNob3coKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmIChub3dGdWxsQWRPcGVuICE9PSB0cnVlICYmIHlzZGsgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgeXNkay5hZHYuc2hvd0Z1bGxzY3JlZW5BZHYoDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ09wZW4gQWQgSW50ZXJzdGl0aWFsJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dGdWxsQWRPcGVuID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0R2FtZSA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15R2FtZUluc3RhbmNlLlNlbmRNZXNzYWdlKCdZYW5kZXhHYW1lJywgJ09wZW5GdWxsQWQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogKHdhc1Nob3duKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dGdWxsQWRPcGVuID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdEdhbWUgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2FzU2hvd24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnQ2xvc2VGdWxsQWQnLCAndHJ1ZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnQ2xvc2VGdWxsQWQnLCAnZmFsc2UnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2N1c0dhbWUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogKGVycm9yKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBBZCBJbnRlcnN0aXRpYWwnLCBlcnJvcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsICdFcnJvckZ1bGxBZCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9jdXNHYW1lKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NSQVNIIEZ1bGxBZCBTaG93OiAnLCBlLm1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gUmV3YXJkZWRTaG93KGlkKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHlzZGsuYWR2LnNob3dSZXdhcmRlZFZpZGVvKA0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6DQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPcGVuZWQgVmlkZW8gQWQuIElkOiAnICsgaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsICdPcGVuVmlkZW8nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nsb3NlZCBWaWRlbyBBZC4gSWQ6ICcgKyBpZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15R2FtZUluc3RhbmNlLlNlbmRNZXNzYWdlKCdZYW5kZXhHYW1lJywgJ0Nsb3NlVmlkZW8nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9jdXNHYW1lKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJld2FyZGVkOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXdhcmQgVmlkZW8gQWQuIElkOiAnICsgaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsICdSZXdhcmRWaWRlbycsIGlkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IChlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIFZpZGVvIEFkLiBJZDogJyArIGlkLCBlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnRXJyb3JWaWRlbycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUkFTSCBSZXdhcmRlZCBWaWRlbyBBZCBTaG93OiAnLCBlcnIubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBTdGlja3lBZEFjdGl2aXR5KHNob3cpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgeXNkay5hZHYuZ2V0QmFubmVyQWR2U3RhdHVzKCkudGhlbigoeyBzdGlja3lBZHZJc1Nob3dpbmcsIHJlYXNvbiB9KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGlja3lBZHZJc1Nob3dpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvdykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlzZGsuYWR2LmhpZGVCYW5uZXJBZHYoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlja3kgYWQgYXJlIG5vdCBzaG93bi4gUmVhc29uOicsIHJlYXNvbik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvdykgew0KICAgICAgICAgICAgICAgICAgICAgICAgeXNkay5hZHYuc2hvd0Jhbm5lckFkdigpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUkFTSCBTdGlja3kgQWN0aXZpdHk6ICcsIGUubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBJbml0TGVhZGVyYm9hcmQoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHlzZGsuZ2V0TGVhZGVyYm9hcmRzKCkudGhlbihfbGIgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZWFkZXJib2FyZCA9IF9sYg0KICAgICAgICAgICAgICAgICAgICBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsICdJbml0aWFsaXplZExCJyk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ1JBU0ggSW5pdCBMZWFkZXJib2FyZDogJywgZS5tZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIFNldExlYWRlcmJvYXJkU2NvcmVzKF9uYW1lLCBzY29yZSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB5c2RrLmdldExlYWRlcmJvYXJkcygpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGxlYWRlcmJvYXJkID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkLnNldExlYWRlcmJvYXJkU2NvcmUoX25hbWUsIHNjb3JlKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ1JBU0ggU2V0IExlYWRlciBib2FyZCBTY29yZXM6ICcsIGUubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBHZXRMZWFkZXJib2FyZFNjb3JlcyhuYW1lTEIsIG1heFBsYXllcnMsIHF1YW50aXR5VG9wLCBxdWFudGl0eUFyb3VuZCwgcGhvdG9TaXplLCBhdXRoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBqc29uRW50cmllcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgdGVjaG5vTmFtZTogJycsDQogICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGlzSW52ZXJ0U29ydE9yZGVyOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbE9mZnNldDogMCwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJycgLy8gLCB0aXRsZTogJycNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgeXNkay5nZXRMZWFkZXJib2FyZHMoKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihsZWFkZXJib2FyZCA9PiBsZWFkZXJib2FyZC5nZXRMZWFkZXJib2FyZERlc2NyaXB0aW9uKG5hbWVMQikpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBqc29uRW50cmllcy50ZWNobm9OYW1lID0gbmFtZUxCOw0KICAgICAgICAgICAgICAgICAgICAgICAganNvbkVudHJpZXMuaXNEZWZhdWx0ID0gcmVzLmRlZmF1bHQ7DQogICAgICAgICAgICAgICAgICAgICAgICBqc29uRW50cmllcy5pc0ludmVydFNvcnRPcmRlciA9IHJlcy5kZXNjcmlwdGlvbi5pbnZlcnRfc29ydF9vcmRlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzb25FbnRyaWVzLmRlY2ltYWxPZmZzZXQgPSByZXMuZGVzY3JpcHRpb24uc2NvcmVfZm9ybWF0Lm9wdGlvbnMuZGVjaW1hbF9vZmZzZXQ7DQogICAgICAgICAgICAgICAgICAgICAgICBqc29uRW50cmllcy50eXBlID0gcmVzLmRlc2NyaXB0aW9uLnR5cGU7IC8vINCd0LUg0L7Qv9GA0LXQtNC10LvRj9C10YLRgdGPINC90LAg0LzQvtC80LXQvdGCIDE4LjA3LjIzDQogICAgICAgICAgICAgICAgICAgICAgICAvL2pzb25FbnRyaWVzLnRpdGxlID0gcmVzLnRpdGxlOyAvLyDQoNC10LDQu9C40LfRg9C50YLQtSDQv9C+INC/0YDQtdC00L/QvtGH0YLQtdC90LjRj9C8DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWFkZXJib2FyZC5nZXRMZWFkZXJib2FyZEVudHJpZXMobmFtZUxCLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHlUb3A6IHF1YW50aXR5VG9wLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVVc2VyOiBhdXRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5QXJvdW5kOiBxdWFudGl0eUFyb3VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvblBsYXllcnMgPSBFbnRyaWVzTEIocmVzLCBtYXhQbGF5ZXJzLCBwaG90b1NpemUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbWJpbmVkSnNvbiA9IHsgLi4uanNvbkVudHJpZXMsIC4uLmpzb25QbGF5ZXJzIH07DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG15R2FtZUluc3RhbmNlLlNlbmRNZXNzYWdlKCdZYW5kZXhHYW1lJywgJ0xlYWRlcmJvYXJkRW50cmllcycsIEpTT04uc3RyaW5naWZ5KGNvbWJpbmVkSnNvbikpOw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUkFTSCBHZXQgTGVhZGVyYm9hcmQ6ICcsIGUubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBFbnRyaWVzTEIocmVzLCBtYXhQbGF5ZXJzLCBwaG90b1NpemUpIHsNCiAgICAgICAgICAgIGxldCBMZWFkZXJib2FyZEVudHJpZXNUZXh0ID0gJyc7DQogICAgICAgICAgICBsZXQgcGxheWVyc0NvdW50Ow0KDQogICAgICAgICAgICBpZiAocmVzLmVudHJpZXMubGVuZ3RoIDwgbWF4UGxheWVycykgew0KICAgICAgICAgICAgICAgIHBsYXllcnNDb3VudCA9IHJlcy5lbnRyaWVzLmxlbmd0aDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcGxheWVyc0NvdW50ID0gbWF4UGxheWVyczsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGV0IHJhbmtzID0gbmV3IEFycmF5KHBsYXllcnNDb3VudCk7DQogICAgICAgICAgICBsZXQgcGhvdG9zID0gbmV3IEFycmF5KHBsYXllcnNDb3VudCk7DQogICAgICAgICAgICBsZXQgbWFtZXMgPSBuZXcgQXJyYXkocGxheWVyc0NvdW50KTsNCiAgICAgICAgICAgIGxldCBzY29yZXMgPSBuZXcgQXJyYXkocGxheWVyc0NvdW50KTsNCiAgICAgICAgICAgIGxldCB1bmlxdWVJRHMgPSBuZXcgQXJyYXkocGxheWVyc0NvdW50KTsNCg0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBsYXllcnNDb3VudDsgaSsrKSB7DQogICAgICAgICAgICAgICAgcmFua3NbaV0gPSByZXMuZW50cmllc1tpXS5yYW5rOw0KICAgICAgICAgICAgICAgIHNjb3Jlc1tpXSA9IHJlcy5lbnRyaWVzW2ldLnNjb3JlOw0KICAgICAgICAgICAgICAgIHVuaXF1ZUlEc1tpXSA9IHJlcy5lbnRyaWVzW2ldLnBsYXllci51bmlxdWVJRDsNCg0KICAgICAgICAgICAgICAgIGlmIChwaG90b1NpemUgPT09ICdub25lUGhvdG8nIHx8IHJlcy5lbnRyaWVzW2ldLnBsYXllci5zY29wZVBlcm1pc3Npb25zLmF2YXRhciAhPT0gImFsbG93Iikgew0KICAgICAgICAgICAgICAgICAgICBwaG90b3NbaV0gPSAnbm9uZVBob3RvJzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBwaG90b3NbaV0gPSByZXMuZW50cmllc1tpXS5wbGF5ZXIuZ2V0QXZhdGFyU3JjKHBob3RvU2l6ZSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKHJlcy5lbnRyaWVzW2ldLnBsYXllci5zY29wZVBlcm1pc3Npb25zLnB1YmxpY19uYW1lICE9PSAiYWxsb3ciKSB7DQogICAgICAgICAgICAgICAgICAgIG1hbWVzW2ldID0gImFub255bW91cyI7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWFtZXNbaV0gPSByZXMuZW50cmllc1tpXS5wbGF5ZXIucHVibGljTmFtZTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBMZWFkZXJib2FyZEVudHJpZXNUZXh0ICs9IHJhbmtzW2ldICsgJy4gJyArIG1hbWVzW2ldICsgIjogIiArIHNjb3Jlc1tpXSArICdcbic7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChwbGF5ZXJzQ291bnQgPT09IDApIHsNCiAgICAgICAgICAgICAgICBMZWFkZXJib2FyZEVudHJpZXNUZXh0ID0gJ25vIGRhdGEnOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsZXQganNvblBsYXllcnMgPSB7DQogICAgICAgICAgICAgICAgImVudHJpZXMiOiBMZWFkZXJib2FyZEVudHJpZXNUZXh0LA0KICAgICAgICAgICAgICAgICJyYW5rcyI6IHJhbmtzLA0KICAgICAgICAgICAgICAgICJwaG90b3MiOiBwaG90b3MsDQogICAgICAgICAgICAgICAgIm5hbWVzIjogbWFtZXMsDQogICAgICAgICAgICAgICAgInNjb3JlcyI6IHNjb3JlcywNCiAgICAgICAgICAgICAgICAidW5pcXVlSURzIjogdW5pcXVlSURzDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICByZXR1cm4ganNvblBsYXllcnM7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBSZXZpZXcoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHlzZGsuZmVlZGJhY2suY2FuUmV2aWV3KCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHsgdmFsdWUsIHJlYXNvbiB9KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5c2RrLmZlZWRiYWNrLnJlcXVlc3RSZXZpZXcoKS50aGVuKCh7IGZlZWRiYWNrU2VudCB9KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmZWVkYmFja1NlbnQgJywgZmVlZGJhY2tTZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlZWRiYWNrU2VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnUmV2aWV3U2VudCcsICd0cnVlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmV2aWV3IGxlZnQnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoJ1lhbmRleEdhbWUnLCAnUmV2aWV3U2VudCcsICdmYWxzZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JldmlldyBub3QgbGVmdCcsIHJlYXNvbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2N1c0dhbWUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JldmlldyBjYW4gc2hvdyA9IGZhbHNlJywgcmVhc29uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2N1c0dhbWUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDUkFTSCBSZXZpZXc6ICcsIGUubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgRm9jdXNHYW1lKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBQcm9tcHRTaG93KCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB5c2RrLnNob3J0Y3V0LnNob3dQcm9tcHQoKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Nob3J0Y3V0IGNyZWF0ZWQ/OicsIHJlc3VsdCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm91dGNvbWUgPT09ICdhY2NlcHRlZCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJvbXB0IFN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsICdPblByb21wdFN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15R2FtZUluc3RhbmNlLlNlbmRNZXNzYWdlKCdZYW5kZXhHYW1lJywgJ09uUHJvbXB0RmFpbCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgRm9jdXNHYW1lKCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NSQVNIIFByb21wdCBTaG93OiAnLCBlLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIEZvY3VzR2FtZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQWRkaXRpb25hbCBzY3JpcHQgbW9kdWxlczoNCg0KICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7DQoJPC9zY3JpcHQ+DQoNCg0KDQoNCg0KCTxzY3JpcHQ+DQoJCWdhZGdldHMudXRpbC5ydW5PbkxvYWRIYW5kbGVycygpOw0KCTwvc2NyaXB0Pg0KCTxzY3JpcHQ+DQoJCXdpbmRvdy5nb29nbGUuY3NpLnRpY2tEbCgpOw0KCTwvc2NyaXB0Pg0KCTxzY3JpcHQgc3JjPSJibG9iOmh0dHBzOi8vdmctb3BlbnNvY2lhbC5nb29nbGV1c2VyY29udGVudC5jb2IgbS85MmZiOGJlNi00M2M3LTQxZmItOGU4NS0xYTZjYTVkNjMyNjgiPjwvc2NyaXB0Pg0KPC9ib2R5Pg0KDQo8L2h0bWw+";
