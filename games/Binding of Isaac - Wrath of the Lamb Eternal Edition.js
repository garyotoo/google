window.game = "PCFET0NUWVBFIGh0bWw+DQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KPGh0bWwgbGFuZz0iZW4iPg0KICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL3Vnc3NAbWFpbi9ib2lsYW1iZXRlcm5hbC8iPg0KPGhlYWQ+DQogIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgPG1ldGEgaHR0cC1lcXVpdj0ieC11YS1jb21wYXRpYmxlIiBjb250ZW50PSJpZT1lZGdlIj4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8iPg0KICA8dGl0bGU+cmVhbGx5IGNvb2wgZmxhc2ggZ2FtZSA8L3RpdGxlPg0KICA8c3R5bGU+DQogICAgaHRtbCwgYm9keSB7DQogICAgICBtYXJnaW46IDA7DQogICAgICBwYWRkaW5nOiAwOw0KICAgICAgYmFja2dyb3VuZDogYmxhY2s7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgfQ0KICAgICNmbGFzaC1jb250YWluZXIgew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgdG9wOiA1MCU7DQogICAgICBsZWZ0OiA1MCU7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgIH0NCiAgICBydWZmbGUtcGxheWVyIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgYmFja2dyb3VuZDogYmxhY2s7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICB9DQogICAgI2xvYWRpbmctdGV4dCB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IDUwJTsNCiAgICAgIGxlZnQ6IDUwJTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICAgICAgY29sb3I6ICNmZmY7DQogICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICB6LWluZGV4OiAxMDAwOw0KICAgIH0NCiAgPC9zdHlsZT4NCiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQHJ1ZmZsZS1ycy9ydWZmbGVAMC4yLjAtbmlnaHRseS4yMDI1LjEwLjIvcnVmZmxlLm1pbi5qcyI+PC9zY3JpcHQ+DQo8L2hlYWQ+DQo8Ym9keT4NCiAgPGRpdiBpZD0ibG9hZGluZy10ZXh0Ij5Mb2FkaW5nIGdhbWUuLi4gMCU8L2Rpdj4NCiAgPGRpdiBpZD0iZmxhc2gtY29udGFpbmVyIj48L2Rpdj4NCiAgPHNjcmlwdD4NCiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmxhc2gtY29udGFpbmVyIik7DQogICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZy10ZXh0Iik7DQoNCiAgICBmdW5jdGlvbiBtZXJnZVNXRlBhcnRzKGZpbGVQYXJ0cykgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgbGV0IGJ1ZmZlcnMgPSBbXTsNCiAgICAgICAgbGV0IHRvdGFsU2l6ZSA9IDA7DQogICAgICAgIGxldCBsb2FkZWRTaXplID0gMDsNCg0KICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHsNCiAgICAgICAgICBpZiAodG90YWxTaXplID4gMCkgew0KICAgICAgICAgICAgY29uc3QgcGN0ID0gTWF0aC5yb3VuZCgobG9hZGVkU2l6ZSAvIHRvdGFsU2l6ZSkgKiAxMDApOw0KICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSB7DQogICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gYExvYWRpbmcgZ2FtZS4uLiAke3BjdH0lYDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBmZXRjaFBhcnQoaSkgew0KICAgICAgICAgIGlmIChpID49IGZpbGVQYXJ0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICdNZXJnaW5nIGZpbGVzLi4uJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBtZXJnZWRCbG9iID0gbmV3IEJsb2IoYnVmZmVycywgeyB0eXBlOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnIH0pOw0KICAgICAgICAgICAgbGV0IG1lcmdlZFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobWVyZ2VkQmxvYik7DQogICAgICAgICAgICByZXNvbHZlKG1lcmdlZFVybCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KDQogICAgICAgICAgZmV0Y2goZmlsZVBhcnRzW2ldKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCAke2ZpbGVQYXJ0c1tpXX06ICR7cmVzcG9uc2Uuc3RhdHVzfWApOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKTsNCiAgICAgICAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB0b3RhbFNpemUgKz0gcGFyc2VJbnQoY29udGVudExlbmd0aCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChkYXRhKTsNCiAgICAgICAgICAgICAgbG9hZGVkU2l6ZSArPSBkYXRhLmJ5dGVMZW5ndGg7DQogICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKCk7DQogICAgICAgICAgICAgIGZldGNoUGFydChpICsgMSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7DQogICAgICAgIH0NCg0KICAgICAgICBmZXRjaFBhcnQoMCk7DQogICAgICB9KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRTV0ZQYXJ0cyhiYXNlRmlsZSwgc3RhcnQsIGVuZCkgew0KICAgICAgbGV0IGFyciA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7DQogICAgICAgIGFyci5wdXNoKGAke2Jhc2VGaWxlfS5wYXJ0JHtpfWApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGFycjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZXNpemVHYW1lKCkgew0KICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsNCiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gNCAvIDM7DQogICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKHdpbmRvd1dpZHRoKTsNCiAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKHdpbmRvd1dpZHRoIC8gYXNwZWN0UmF0aW8pOw0KICAgICAgaWYgKGhlaWdodCA+IHdpbmRvd0hlaWdodCkgew0KICAgICAgICBoZWlnaHQgPSBNYXRoLmZsb29yKHdpbmRvd0hlaWdodCk7DQogICAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihoZWlnaHQgKiBhc3BlY3RSYXRpbyk7DQogICAgICB9DQogICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7DQogICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDsNCiAgICB9DQoNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgcmVzaXplR2FtZSk7DQoNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsICgpID0+IHsNCiAgICAgIHJlc2l6ZUdhbWUoKTsNCiAgICAgIA0KICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIFNXRiBtZXJnZS4uLicpOw0KICAgICAgDQogICAgICBjb25zdCBzd2ZQYXJ0cyA9IGdldFNXRlBhcnRzKCd0Ym9pd290bC12MS42NjYuc3dmJywgMSwgMyk7IA0KICAgICAgDQogICAgICBjb25zdCB1c2VTaW5nbGVGaWxlID0gZmFsc2U7IA0KICAgICAgY29uc3Qgc2luZ2xlRmlsZVVybCA9ICJ0Ym9pd290bC12MS42NjYuc3dmIjsNCg0KICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB1c2VTaW5nbGVGaWxlIA0KICAgICAgICA/IFByb21pc2UucmVzb2x2ZShzaW5nbGVGaWxlVXJsKQ0KICAgICAgICA6IG1lcmdlU1dGUGFydHMoc3dmUGFydHMpOw0KDQogICAgICBsb2FkUHJvbWlzZQ0KICAgICAgICAudGhlbihzd2ZVcmwgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdTV0YgcmVhZHksIGxvYWRpbmcgaW50byBSdWZmbGUuLi4nKTsNCiAgICAgICAgICBpZiAobG9hZGluZ1RleHQpIHsNCiAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ1N0YXJ0aW5nIGdhbWUuLi4nOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGNvbnN0IHJ1ZmZsZSA9IHdpbmRvdy5SdWZmbGVQbGF5ZXI/Lm5ld2VzdCgpIHx8IHdpbmRvdy5SdWZmbGVQbGF5ZXI/LmNyZWF0ZVBsYXllcigpOw0KICAgICAgICAgIGlmIChydWZmbGUgJiYgY29udGFpbmVyKSB7DQogICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBydWZmbGUuY3JlYXRlUGxheWVyKCk7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgICAgICAgcGxheWVyLnN0eWxlLmJhY2tncm91bmQgPSAiYmxhY2siOw0KICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllcik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHBsYXllci5sb2FkKHN3ZlVybCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIGxvYWRlZCBzdWNjZXNzZnVsbHknKTsNCiAgICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSB7DQogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQucmVtb3ZlKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1J1ZmZsZSBsb2FkIGVycm9yOicsIGVycik7DQogICAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ0Vycm9yIGxvYWRpbmcgZ2FtZTogJyArIGVyci5tZXNzYWdlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignUnVmZmxlIG5vdCBhdmFpbGFibGUnKTsNCiAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICJSdWZmbGUgZmFpbGVkIHRvIGxvYWQuIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NXRiBtZXJnZSBlcnJvcjonLCBlcnIpOw0KICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSAnRXJyb3IgbG9hZGluZyBnYW1lIGZpbGVzOiAnICsgZXJyLm1lc3NhZ2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9KTsNCiAgPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+";
