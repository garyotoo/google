window.game = "DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCg0KDQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuLXVzIj4NCiAgPGhlYWQ+DQogICAgPGJhc2UgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dlbml6eS9jZy1yaXBAbWFpbi9jb3VudC1tYXN0ZXJzLXN0aWNrbWFuLWdhbWVzLyI+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDwvaGVhZD4NCiAgPGJvZHkgc3R5bGU9Im1hcmdpbjowO3BhZGRpbmc6MCIgY2xhc3M9Im5vc2VsZWN0Ij4NCiAgICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiIHN0eWxlPSJjb2xvcjogYmxhY2s7IGZvbnQtc2l6ZTogNDhweDsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPkxPQURJTkcuLi48L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lIj48L2NhbnZhcz4NCg0KICAgIDxzY3JpcHQ+DQogICAgY29uc3QgU1BMSVRfTUFQID0geyI3ODA1ZWY1NTE4NzhkZjI2NDg5NzM4OGRiOTAxY2Q4Yi53YXNtIjogbnVsbH07DQogICAgPC9zY3JpcHQ+DQoNCiAgICA8c2NyaXB0Pg0KICAgIGFzeW5jIGZ1bmN0aW9uIG1lcmdlUGFydHMoYmFzZVVybCkgew0KICAgICAgY29uc3QgcGFydHMgPSBbXTsNCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDk5OyBpKyspIHsNCiAgICAgICAgY29uc3QgdGVzdFVybCA9IGJhc2VVcmwgKyAiLnBhcnQiICsgaTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBjb25zdCBoZWFkID0gYXdhaXQgZmV0Y2godGVzdFVybCwgeyBtZXRob2Q6ICJIRUFEIiB9KTsNCiAgICAgICAgICBpZiAoIWhlYWQub2spIGJyZWFrOw0KICAgICAgICAgIHBhcnRzLnB1c2godGVzdFVybCk7DQogICAgICAgIH0gY2F0Y2ggeyBicmVhazsgfQ0KICAgICAgfQ0KICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGJhc2VVcmw7DQoNCiAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChwYXJ0cy5tYXAoYXN5bmMgKHUpID0+IHsNCiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKHUpOw0KICAgICAgICBpZiAoIXIub2spIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHBhcnQgIiArIHUpOw0KICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgci5hcnJheUJ1ZmZlcigpKTsNCiAgICAgIH0pKTsNCg0KICAgICAgY29uc3QgdG90YWwgPSBidWZmZXJzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIubGVuZ3RoLCAwKTsNCiAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KHRvdGFsKTsNCiAgICAgIGxldCBvZmZzZXQgPSAwOw0KICAgICAgZm9yIChjb25zdCBiIG9mIGJ1ZmZlcnMpIHsgbWVyZ2VkLnNldChiLCBvZmZzZXQpOyBvZmZzZXQgKz0gYi5sZW5ndGg7IH0NCg0KICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW21lcmdlZF0pKTsNCiAgICB9DQoNCiAgICBhc3luYyBmdW5jdGlvbiBwcmVNZXJnZUFsbCgpIHsNCiAgICAgIGNvbnN0IG1hcCA9IHt9Ow0KICAgICAgY29uc3QgZmlsZXMgPSBPYmplY3QuZW50cmllcyhTUExJVF9NQVApOw0KICAgICAgY29uc3QgdG90YWwgPSBmaWxlcy5sZW5ndGg7DQogICAgICBsZXQgZG9uZSA9IDA7DQoNCiAgICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmctdGV4dCIpOw0KDQogICAgICBmb3IgKGNvbnN0IFtmaWxlLCBfXSBvZiBmaWxlcykgew0KICAgICAgICBjb25zdCBtZXJnZWQgPSBhd2FpdCBtZXJnZVBhcnRzKCJCdWlsZC8iICsgZmlsZSk7DQogICAgICAgIG1hcFtmaWxlXSA9IG1lcmdlZDsNCiAgICAgICAgZG9uZSsrOw0KICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5mbG9vcigoZG9uZSAvIHRvdGFsKSAqIDEwMCk7DQogICAgICAgIGxvYWRpbmdUZXh0LmlubmVyVGV4dCA9IGBMT0FESU5HLi4uICR7cGVyY2VudH0lYDsNCiAgICAgICAgY29uc29sZS5sb2coIlByZW1lcmdlZDoiLCBmaWxlLCAi4oaSIiwgbWVyZ2VkKTsNCiAgICAgIH0NCg0KICAgICAgbG9hZGluZ1RleHQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgICAgcmV0dXJuIG1hcDsNCiAgICB9DQoNCiAgICAoYXN5bmMgKCkgPT4gew0KICAgICAgY29uc3QgbWVyZ2VkTWFwID0gYXdhaXQgcHJlTWVyZ2VBbGwoKTsNCiAgICAgIHdpbmRvdy5TUExJVF9NQVAgPSBtZXJnZWRNYXA7DQogICAgICBjb25zdCBvcmlnRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7DQogICAgICB3aW5kb3cuZmV0Y2ggPSBhc3luYyBmdW5jdGlvbihyZXNvdXJjZSwgb3B0aW9ucykgew0KICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAic3RyaW5nIikgew0KICAgICAgICAgIGNvbnN0IGtleSA9IHJlc291cmNlLnNwbGl0KCIvIikucG9wKCk7DQogICAgICAgICAgaWYgKG1lcmdlZE1hcFtrZXldKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVkaXJlY3QgZmV0Y2g6Iiwga2V5KTsNCiAgICAgICAgICAgIHJldHVybiBvcmlnRmV0Y2gobWVyZ2VkTWFwW2tleV0sIG9wdGlvbnMpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gb3JpZ0ZldGNoKHJlc291cmNlLCBvcHRpb25zKTsNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IE9yaWdYSFIgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7DQogICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgeGhyID0gbmV3IE9yaWdYSFIoKTsNCiAgICAgICAgY29uc3Qgb3JpZ09wZW4gPSB4aHIub3BlbjsNCiAgICAgICAgeGhyLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgLi4ucmVzdCkgew0KICAgICAgICAgIGNvbnN0IGtleSA9IHVybC5zcGxpdCgiLyIpLnBvcCgpOw0KICAgICAgICAgIGlmIChtZXJnZWRNYXBba2V5XSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIlJlZGlyZWN0IFhIUjoiLCBrZXkpOw0KICAgICAgICAgICAgb3JpZ09wZW4uY2FsbCh4aHIsIG1ldGhvZCwgbWVyZ2VkTWFwW2tleV0sIC4uLnJlc3QpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvcmlnT3Blbi5jYWxsKHhociwgbWV0aG9kLCB1cmwsIC4uLnJlc3QpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIHhocjsNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsNCiAgICAgIGNvbnN0IGxvYWRlclVybCA9ICJCdWlsZC9iYjBkOWVjZGIwNWRiM2U4NGRhMjBiZDE0YTRmODRkYy5sb2FkZXIuanMiOw0KICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICBkYXRhVXJsOiAiQnVpbGQvZmMzZDBlMmYzZWRlNmIyMWQ2OGQxYmRjZjA5ODk3ZjAuZGF0YSIsDQogICAgICAgIGZyYW1ld29ya1VybDogIkJ1aWxkLzYxYzMxMTFhNjE3ZjU3MDQ4OTIyMDdmODUwMDE4MjQzLmZyYW1ld29yay5qcyIsDQogICAgICAgIGNvZGVVcmw6ICJCdWlsZC83ODA1ZWY1NTE4NzhkZjI2NDg5NzM4OGRiOTAxY2Q4Yi53YXNtIiwNCiAgICAgICAgc3RyZWFtaW5nQXNzZXRzVXJsOiAiU3RyZWFtaW5nQXNzZXRzIiwNCiAgICAgICAgY29tcGFueU5hbWU6ICJDb3VudCBNYXN0ZXJzOiBTdGlja21hbiBHYW1lcyIsDQogICAgICAgIHByb2R1Y3ROYW1lOiAiQ291bnQgTWFzdGVyczogU3RpY2ttYW4gR2FtZXMiLA0KICAgICAgICBwcm9kdWN0VmVyc2lvbjogIjEuMC4wIg0KICAgICAgfTsNCg0KICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgICBzY3JpcHQuc3JjID0gbG9hZGVyVXJsOw0KICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsNCiAgICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIGNvbmZpZywgKHByb2dyZXNzKSA9PiB7fSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gew0KICAgICAgICAgIHdpbmRvdy5nYW1lSW5zdGFuY2UgPSB1bml0eUluc3RhbmNlOw0KICAgICAgICB9KS5jYXRjaCgobWVzc2FnZSkgPT4gYWxlcnQobWVzc2FnZSkpOw0KICAgICAgfTsNCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCiAgICB9KSgpOw0KICAgIDwvc2NyaXB0Pg0KDQogICAgPHNjcmlwdD4NCiAgICBmdW5jdGlvbiByZXNpemVDYW52YXMoKSB7DQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5pdHktY2FudmFzIik7DQogICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsNCiAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7DQogICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICJweCI7DQogICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgInB4IjsNCiAgICB9DQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCByZXNpemVDYW52YXMpOw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVDYW52YXMpOw0KICAgIDwvc2NyaXB0Pg0KICA8L2JvZHk+DQo8L2h0bWw+DQo=";
