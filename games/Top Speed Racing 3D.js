window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KICA8aGVhZD4NCiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL1VHUy1Bc3NldHNAbWFpbi90b3AlMjBzcGVlZCUyMHJhY2luZyUyMDNkLyI+DQogICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJUZW1wbGF0ZURhdGEvZmF2aWNvbi5pY28iPg0KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IlRlbXBsYXRlRGF0YS9zdHlsZS5jc3MiPg0KPC9oZWFkPg0KDQo8Ym9keT4NCiAgPGRpdiBpZD0idW5pdHktY29udGFpbmVyIiBjbGFzcz0idW5pdHktZGVza3RvcCI+DQogICAgPGNhbnZhcyBpZD0idW5pdHktY2FudmFzIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48L2NhbnZhcz4NCiAgICA8ZGl2IGlkPSJ1bml0eS1sb2FkaW5nLWJhciI+DQogICAgICA8ZGl2IGlkPSJ1bml0eS1sb2dvIj48L2Rpdj4NCiAgICAgIDxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1lbXB0eSI+DQogICAgICAgIDxkaXYgaWQ9InVuaXR5LXByb2dyZXNzLWJhci1mdWxsIj48L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgaWQ9InVuaXR5LXdhcm5pbmciPiA8L2Rpdj4NCiAgICA8ZGl2IGlkPSJ1bml0eS1mb290ZXIiPg0KICAgICAgPGRpdiBpZD0idW5pdHktd2ViZ2wtbG9nbyI+PC9kaXY+DQogICAgICA8ZGl2IGlkPSJ1bml0eS1mdWxsc2NyZWVuLWJ1dHRvbiI+PC9kaXY+DQogICAgPC9kaXY+DQogIDwvZGl2Pg0KICA8c2NyaXB0Pg0KICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY29udGFpbmVyIik7DQogICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsNCiAgICB2YXIgbG9hZGluZ0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1sb2FkaW5nLWJhciIpOw0KICAgIHZhciBwcm9ncmVzc0JhckZ1bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktcHJvZ3Jlc3MtYmFyLWZ1bGwiKTsNCiAgICB2YXIgZnVsbHNjcmVlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1mdWxsc2NyZWVuLWJ1dHRvbiIpOw0KICAgIHZhciB3YXJuaW5nQmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXdhcm5pbmciKTsNCg0KICAgIGZ1bmN0aW9uIHVuaXR5U2hvd0Jhbm5lcihtc2csIHR5cGUpIHsNCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJhbm5lclZpc2liaWxpdHkoKSB7DQogICAgICAgIHdhcm5pbmdCYW5uZXIuc3R5bGUuZGlzcGxheSA9IHdhcm5pbmdCYW5uZXIuY2hpbGRyZW4ubGVuZ3RoID8gJ2Jsb2NrJyA6ICdub25lJzsNCiAgICAgIH0NCiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgIGRpdi5pbm5lckhUTUwgPSBtc2c7DQogICAgICB3YXJuaW5nQmFubmVyLmFwcGVuZENoaWxkKGRpdik7DQogICAgICBpZiAodHlwZSA9PSAnZXJyb3InKSBkaXYuc3R5bGUgPSAnYmFja2dyb3VuZDogcmVkOyBwYWRkaW5nOiAxMHB4Oyc7DQogICAgICBlbHNlIHsNCiAgICAgICAgaWYgKHR5cGUgPT0gJ3dhcm5pbmcnKSBkaXYuc3R5bGUgPSAnYmFja2dyb3VuZDogeWVsbG93OyBwYWRkaW5nOiAxMHB4Oyc7DQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgd2FybmluZ0Jhbm5lci5yZW1vdmVDaGlsZChkaXYpOw0KICAgICAgICAgIHVwZGF0ZUJhbm5lclZpc2liaWxpdHkoKTsNCiAgICAgICAgfSwgNTAwMCk7DQogICAgICB9DQogICAgICB1cGRhdGVCYW5uZXJWaXNpYmlsaXR5KCk7DQogICAgfQ0KDQogICAgd2luZG93Lm1lcmdlZEJsb2JVcmxzID0ge307DQogICAgd2luZG93LmFzc2V0c1JlYWR5ID0gZmFsc2U7DQoNCiAgICBhc3luYyBmdW5jdGlvbiBtZXJnZVNwbGl0RmlsZShmaWxlVXJsQmFzZSwgbnVtUGFydHMpIHsNCiAgICAgIGNvbnN0IHBhcnRVcmxzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtUGFydHMgfSwgKF8sIGkpID0+IA0KICAgICAgICBgJHtmaWxlVXJsQmFzZX0ucGFydCR7aSArIDF9YA0KICAgICAgKTsNCg0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoDQogICAgICAgICAgcGFydFVybHMubWFwKHVybCA9PiBmZXRjaCh1cmwpKQ0KICAgICAgICApOw0KDQogICAgICAgIGlmIChyZXNwb25zZXMuc29tZShyID0+ICFyLm9rKSkgew0KICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgcGFydHMgPSBhd2FpdCBQcm9taXNlLmFsbCgNCiAgICAgICAgICByZXNwb25zZXMubWFwKHIgPT4gci5hcnJheUJ1ZmZlcigpKQ0KICAgICAgICApOw0KDQogICAgICAgIGNvbnN0IGNvbWJpbmVkQmxvYiA9IG5ldyBCbG9iKHBhcnRzLCB7DQogICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoY29tYmluZWRCbG9iKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIHJldHVybiBudWxsOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldHVwWEhSSW50ZXJjZXB0b3IoKSB7DQogICAgICBpZiAod2luZG93LnhockludGVyY2VwdG9ySW5zdGFsbGVkKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgY29uc3Qgb3JpZ2luYWxPcGVuID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW47DQogICAgICBjb25zdCBvcmlnaW5hbFNlbmQgPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZDsNCg0KICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgLi4uYXJncykgew0KICAgICAgICB0aGlzLl91cmwgPSB1cmw7DQogICAgICAgIHRoaXMuX21ldGhvZCA9IG1ldGhvZDsNCiAgICAgICAgdGhpcy5fYXJncyA9IGFyZ3M7DQogICAgICAgIA0KICAgICAgICBsZXQgZmluYWxVcmwgPSB1cmw7DQogICAgICAgIGNvbnN0IGRlY29kZWRVcmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTsNCiAgICAgICAgDQogICAgICAgIGZvciAoY29uc3QgW2ZpbGVuYW1lLCBibG9iVXJsXSBvZiBPYmplY3QuZW50cmllcyh3aW5kb3cubWVyZ2VkQmxvYlVybHMpKSB7DQogICAgICAgICAgaWYgKHVybC5pbmNsdWRlcyhlbmNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpKSB8fCANCiAgICAgICAgICAgICAgZGVjb2RlZFVybC5pbmNsdWRlcyhmaWxlbmFtZSkgfHwgDQogICAgICAgICAgICAgIHVybC5pbmNsdWRlcyhmaWxlbmFtZSkpIHsNCiAgICAgICAgICAgIGZpbmFsVXJsID0gYmxvYlVybDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmV0dXJuIG9yaWdpbmFsT3Blbi5jYWxsKHRoaXMsIG1ldGhvZCwgZmluYWxVcmwsIC4uLmFyZ3MpOw0KICAgICAgfTsNCg0KICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiguLi5hcmdzKSB7DQogICAgICAgIGNvbnN0IHhociA9IHRoaXM7DQogICAgICAgIA0KICAgICAgICBpZiAoIXdpbmRvdy5hc3NldHNSZWFkeSkgew0KICAgICAgICAgIGNvbnN0IGNoZWNrUmVhZHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgICBpZiAod2luZG93LmFzc2V0c1JlYWR5KSB7DQogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tSZWFkeSk7DQogICAgICAgICAgICAgIG9yaWdpbmFsU2VuZC5hcHBseSh4aHIsIGFyZ3MpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sIDUwKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJldHVybiBvcmlnaW5hbFNlbmQuYXBwbHkodGhpcywgYXJncyk7DQogICAgICB9Ow0KICAgICAgDQogICAgICB3aW5kb3cueGhySW50ZXJjZXB0b3JJbnN0YWxsZWQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldHVwRmV0Y2hJbnRlcmNlcHRvcigpIHsNCiAgICAgIGlmICh3aW5kb3cuZmV0Y2hJbnRlcmNlcHRvckluc3RhbGxlZCkgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGNvbnN0IG9yaWdpbmFsRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7DQogICAgICB3aW5kb3cuZmV0Y2ggPSBmdW5jdGlvbih1cmwsIC4uLmFyZ3MpIHsNCiAgICAgICAgbGV0IGZpbmFsVXJsID0gdXJsOw0KICAgICAgICBjb25zdCBkZWNvZGVkVXJsID0gdHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyBkZWNvZGVVUklDb21wb25lbnQodXJsKSA6ICcnOw0KICAgICAgICANCiAgICAgICAgZm9yIChjb25zdCBbZmlsZW5hbWUsIGJsb2JVcmxdIG9mIE9iamVjdC5lbnRyaWVzKHdpbmRvdy5tZXJnZWRCbG9iVXJscykpIHsNCiAgICAgICAgICBpZiAoKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnICYmIA0KICAgICAgICAgICAgICAodXJsLmluY2x1ZGVzKGVuY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSkpIHx8IA0KICAgICAgICAgICAgICAgZGVjb2RlZFVybC5pbmNsdWRlcyhmaWxlbmFtZSkgfHwgDQogICAgICAgICAgICAgICB1cmwuaW5jbHVkZXMoZmlsZW5hbWUpKSkpIHsNCiAgICAgICAgICAgIGZpbmFsVXJsID0gYmxvYlVybDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBmaW5hbFVybCwgLi4uYXJncyk7DQogICAgICB9Ow0KDQogICAgICB3aW5kb3cuZmV0Y2hJbnRlcmNlcHRvckluc3RhbGxlZCA9IHRydWU7DQogICAgfQ0KDQogICAgYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUdhbWVBc3NldHMoKSB7DQogICAgICB0cnkgew0KICAgICAgICB3aW5kb3cuYXNzZXRzUmVhZHkgPSBmYWxzZTsNCiAgICAgICAgZGVsZXRlIHdpbmRvdy54aHJJbnRlcmNlcHRvckluc3RhbGxlZDsNCiAgICAgICAgZGVsZXRlIHdpbmRvdy5mZXRjaEludGVyY2VwdG9ySW5zdGFsbGVkOw0KICAgICAgICB3aW5kb3cubWVyZ2VkQmxvYlVybHMgPSB7fTsNCiAgICAgICAgDQogICAgICAgIHNldHVwWEhSSW50ZXJjZXB0b3IoKTsNCiAgICAgICAgc2V0dXBGZXRjaEludGVyY2VwdG9yKCk7DQogICAgICAgIA0KICAgICAgICBjb25zdCBmaWxlc1RvTWVyZ2UgPSBbDQogICAgICAgICAgeyBmaWxlbmFtZTogJ0J1aWxkL1RvcFNwZWVkUmFjaW5nX24xLmRhdGEudW5pdHl3ZWInLCBwYXJ0czogMyB9LA0KICAgICAgICBdOw0KICAgICAgICANCiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzVG9NZXJnZSkgew0KICAgICAgICAgIGNvbnN0IGJsb2JVcmwgPSBhd2FpdCBtZXJnZVNwbGl0RmlsZShmaWxlLmZpbGVuYW1lLCBmaWxlLnBhcnRzKTsNCiAgICAgICAgICBpZiAoYmxvYlVybCkgew0KICAgICAgICAgICAgd2luZG93Lm1lcmdlZEJsb2JVcmxzW2ZpbGUuZmlsZW5hbWVdID0gYmxvYlVybDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHdpbmRvdy5hc3NldHNQcmVwYXJlZCA9IHRydWU7DQogICAgICAgIHdpbmRvdy5hc3NldHNSZWFkeSA9IHRydWU7DQogICAgICAgIA0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgd2luZG93LmFzc2V0c1ByZXBhcmVkID0gZmFsc2U7DQogICAgICAgIHdpbmRvdy5hc3NldHNSZWFkeSA9IHRydWU7DQogICAgICB9DQogICAgfQ0KDQogICAgcHJlcGFyZUdhbWVBc3NldHMoKS50aGVuKCgpID0+IHsNCiAgICB2YXIgYnVpbGRVcmwgPSAiQnVpbGQiOw0KICAgIHZhciBsb2FkZXJVcmwgPSBidWlsZFVybCArICIvVG9wU3BlZWRSYWNpbmdfbjEubG9hZGVyLmpzIjsNCiAgICB2YXIgY29uZmlnID0gew0KICAgICAgZGF0YVVybDogYnVpbGRVcmwgKyAiL1RvcFNwZWVkUmFjaW5nX24xLmRhdGEudW5pdHl3ZWIiLA0KICAgICAgZnJhbWV3b3JrVXJsOiBidWlsZFVybCArICIvVG9wU3BlZWRSYWNpbmdfbjEuZnJhbWV3b3JrLmpzLnVuaXR5d2ViIiwNCiAgICAgIGNvZGVVcmw6IGJ1aWxkVXJsICsgIi9Ub3BTcGVlZFJhY2luZ19uMS53YXNtLnVuaXR5d2ViIiwNCiAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsDQogICAgICBjb21wYW55TmFtZTogIlRvcCBTcGVlZCBSYWNpbmcgM2QgMiIsDQogICAgICBwcm9kdWN0TmFtZTogIlRvcCBTcGVlZCBSYWNpbmcgM2QiLA0KICAgICAgcHJvZHVjdFZlcnNpb246ICIxLjAiLA0KICAgICAgICBzaG93QmFubmVyOiB1bml0eVNob3dCYW5uZXIsDQogICAgICB9Ow0KDQogICAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICJ1bml0eS1tb2JpbGUiOw0KICAgICAgICBjb25maWcuZGV2aWNlUGl4ZWxSYXRpbyA9IDE7DQogICAgICAgIHVuaXR5U2hvd0Jhbm5lcignV2ViR0wgYnVpbGRzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIG1vYmlsZSBkZXZpY2VzLicpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgfQ0KICAgICAgY2FudmFzLnN0eWxlLmJhY2tncm91bmQgPSAidXJsKCciICsgYnVpbGRVcmwgKyAiL0JGTlNQVUUgQWxwaGEgNiBQYXJ0IDJiIFdlYkdMLmpwZycpIGNlbnRlciAvIGNvdmVyIjsNCiAgICAgIGxvYWRpbmdCYXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoNCiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsNCiAgICAgIHNjcmlwdC5zcmMgPSBsb2FkZXJVcmw7DQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gew0KICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHsNCiAgICAgICAgICBwcm9ncmVzc0JhckZ1bGwuc3R5bGUud2lkdGggPSAxMDAgKiBwcm9ncmVzcyArICIlIjsNCiAgICAgICAgfSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gew0KICAgICAgICAgIGxvYWRpbmdCYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICBmdWxsc2NyZWVuQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7DQogICAgICAgICAgICB1bml0eUluc3RhbmNlLlNldEZ1bGxzY3JlZW4oMSk7DQogICAgICAgICAgfTsNCiAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IHsNCiAgICAgICAgICBhbGVydChtZXNzYWdlKTsNCiAgICAgICAgfSk7DQogICAgICB9Ow0KICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOw0KICAgIH0pOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCg0KPC9odG1sPg==";
