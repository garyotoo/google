window.game = "DQoNCjwhLS0gVWx0aW1hdGUgR2FtZSBTdGFzaCBmaWxlLS0+IA0KPCEtLSBGb3IgdGhlIHJlZ3VsYXJseSB1cGRhdGluZyBkb2MgZ28gdG8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xX0ZtSDNCbFNCUUk3RkdnQVFMNTktWlBlOGVDeHMzNXdlbDZKVXlWYUc4US8gLS0+DQoNCg0KDQoNCjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KICA8aGVhZD4NCiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ2VuaXp5L2NnLXJpcEBtYWluL2J1aWxkbm93LWdnLyI+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDwvaGVhZD4NCiAgPGJvZHkgc3R5bGU9Im1hcmdpbjowO3BhZGRpbmc6MCIgY2xhc3M9Im5vc2VsZWN0Ij4NCiAgICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiIHN0eWxlPSJjb2xvcjogYmxhY2s7IGZvbnQtc2l6ZTogNDhweDsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPkxPQURJTkcuLi48L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lIj48L2NhbnZhcz4NCg0KICAgIDxzY3JpcHQ+DQogICAgY29uc3QgU1BMSVRfTUFQID0geyI3ZGIwMjJhYmQxNjE0NTVlM2NjNWYyMDdlNzVkMjk0Yi53YXNtIjogbnVsbCwgImFiOGRkMzU2YTQxYTI5NDM2MzkyOTQ2NTdhMDk5MGY4LmRhdGEiOiBudWxsfTsNCiAgICA8L3NjcmlwdD4NCg0KICAgIDxzY3JpcHQ+DQogICAgYXN5bmMgZnVuY3Rpb24gbWVyZ2VQYXJ0cyhiYXNlVXJsKSB7DQogICAgICBjb25zdCBwYXJ0cyA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gOTk7IGkrKykgew0KICAgICAgICBjb25zdCB0ZXN0VXJsID0gYmFzZVVybCArICIucGFydCIgKyBpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IGhlYWQgPSBhd2FpdCBmZXRjaCh0ZXN0VXJsLCB7IG1ldGhvZDogIkhFQUQiIH0pOw0KICAgICAgICAgIGlmICghaGVhZC5vaykgYnJlYWs7DQogICAgICAgICAgcGFydHMucHVzaCh0ZXN0VXJsKTsNCiAgICAgICAgfSBjYXRjaCB7IGJyZWFrOyB9DQogICAgICB9DQogICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSByZXR1cm4gYmFzZVVybDsNCg0KICAgICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKHBhcnRzLm1hcChhc3luYyAodSkgPT4gew0KICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godSk7DQogICAgICAgIGlmICghci5vaykgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgcGFydCAiICsgdSk7DQogICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCByLmFycmF5QnVmZmVyKCkpOw0KICAgICAgfSkpOw0KDQogICAgICBjb25zdCB0b3RhbCA9IGJ1ZmZlcnMucmVkdWNlKChhLCBiKSA9PiBhICsgYi5sZW5ndGgsIDApOw0KICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFVpbnQ4QXJyYXkodG90YWwpOw0KICAgICAgbGV0IG9mZnNldCA9IDA7DQogICAgICBmb3IgKGNvbnN0IGIgb2YgYnVmZmVycykgeyBtZXJnZWQuc2V0KGIsIG9mZnNldCk7IG9mZnNldCArPSBiLmxlbmd0aDsgfQ0KDQogICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbbWVyZ2VkXSkpOw0KICAgIH0NCg0KICAgIGFzeW5jIGZ1bmN0aW9uIHByZU1lcmdlQWxsKCkgew0KICAgICAgY29uc3QgbWFwID0ge307DQogICAgICBjb25zdCBmaWxlcyA9IE9iamVjdC5lbnRyaWVzKFNQTElUX01BUCk7DQogICAgICBjb25zdCB0b3RhbCA9IGZpbGVzLmxlbmd0aDsNCiAgICAgIGxldCBkb25lID0gMDsNCg0KICAgICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZy10ZXh0Iik7DQoNCiAgICAgIGZvciAoY29uc3QgW2ZpbGUsIF9dIG9mIGZpbGVzKSB7DQogICAgICAgIGNvbnN0IG1lcmdlZCA9IGF3YWl0IG1lcmdlUGFydHMoIkJ1aWxkLyIgKyBmaWxlKTsNCiAgICAgICAgbWFwW2ZpbGVdID0gbWVyZ2VkOw0KICAgICAgICBkb25lKys7DQogICAgICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLmZsb29yKChkb25lIC8gdG90YWwpICogMTAwKTsNCiAgICAgICAgbG9hZGluZ1RleHQuaW5uZXJUZXh0ID0gYExPQURJTkcuLi4gJHtwZXJjZW50fSVgOw0KICAgICAgICBjb25zb2xlLmxvZygiUHJlbWVyZ2VkOiIsIGZpbGUsICLihpIiLCBtZXJnZWQpOw0KICAgICAgfQ0KDQogICAgICBsb2FkaW5nVGV4dC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICByZXR1cm4gbWFwOw0KICAgIH0NCg0KICAgIChhc3luYyAoKSA9PiB7DQogICAgICBjb25zdCBtZXJnZWRNYXAgPSBhd2FpdCBwcmVNZXJnZUFsbCgpOw0KICAgICAgd2luZG93LlNQTElUX01BUCA9IG1lcmdlZE1hcDsNCiAgICAgIGNvbnN0IG9yaWdGZXRjaCA9IHdpbmRvdy5mZXRjaDsNCiAgICAgIHdpbmRvdy5mZXRjaCA9IGFzeW5jIGZ1bmN0aW9uKHJlc291cmNlLCBvcHRpb25zKSB7DQogICAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICJzdHJpbmciKSB7DQogICAgICAgICAgY29uc3Qga2V5ID0gcmVzb3VyY2Uuc3BsaXQoIi8iKS5wb3AoKTsNCiAgICAgICAgICBpZiAobWVyZ2VkTWFwW2tleV0pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWRpcmVjdCBmZXRjaDoiLCBrZXkpOw0KICAgICAgICAgICAgcmV0dXJuIG9yaWdGZXRjaChtZXJnZWRNYXBba2V5XSwgb3B0aW9ucyk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChyZXNvdXJjZS5pbmNsdWRlcygiU3RyZWFtaW5nQXNzZXRzIikpIHsNCiAgICAgICAgICAgIHJldHVybiBvcmlnRmV0Y2goKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKS5ocmVmICE9PSBudWxsID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpLmhyZWYrIi8iIDogIiIpICsgIlN0cmVhbWluZ0Fzc2V0cy8iK3Jlc291cmNlLnNwbGl0KCIvU3RyZWFtaW5nQXNzZXRzLyIpWzFdKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gb3JpZ0ZldGNoKHJlc291cmNlLCBvcHRpb25zKTsNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IE9yaWdYSFIgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7DQogICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgeGhyID0gbmV3IE9yaWdYSFIoKTsNCiAgICAgICAgY29uc3Qgb3JpZ09wZW4gPSB4aHIub3BlbjsNCiAgICAgICAgeGhyLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgLi4ucmVzdCkgew0KICAgICAgICAgIGNvbnN0IGtleSA9IHVybC5zcGxpdCgiLyIpLnBvcCgpOw0KICAgICAgICAgIGlmIChtZXJnZWRNYXBba2V5XSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIlJlZGlyZWN0IFhIUjoiLCBrZXkpOw0KICAgICAgICAgICAgb3JpZ09wZW4uY2FsbCh4aHIsIG1ldGhvZCwgbWVyZ2VkTWFwW2tleV0sIC4uLnJlc3QpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvcmlnT3Blbi5jYWxsKHhociwgbWV0aG9kLCB1cmwsIC4uLnJlc3QpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIHhocjsNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsNCiAgICAgIGNvbnN0IGxvYWRlclVybCA9ICJCdWlsZC83YTJkYmRlZDI0ZDU3ZTA1NjE4MDEyNWIxNTgzZTdjNC5sb2FkZXIuanMiOw0KICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICBkYXRhVXJsOiAiQnVpbGQvYWI4ZGQzNTZhNDFhMjk0MzYzOTI5NDY1N2EwOTkwZjguZGF0YSIsDQogICAgICAgIGZyYW1ld29ya1VybDogIkJ1aWxkLzkxYTJiZmNlYzE0MGJjNTI0MTAwNDc4Yjk5YTRmNmQ3LmZyYW1ld29yay5qcyIsDQogICAgICAgIGNvZGVVcmw6ICJCdWlsZC83ZGIwMjJhYmQxNjE0NTVlM2NjNWYyMDdlNzVkMjk0Yi53YXNtIiwNCiAgICAgICAgc3RyZWFtaW5nQXNzZXRzVXJsOiAiU3RyZWFtaW5nQXNzZXRzIiwNCiAgICAgICAgY29tcGFueU5hbWU6ICJCdWlsZE5vdyBHRyIsDQogICAgICAgIHByb2R1Y3ROYW1lOiAiQnVpbGROb3cgR0ciLA0KICAgICAgICBwcm9kdWN0VmVyc2lvbjogIjEuMC4wIg0KICAgICAgfTsNCg0KICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgICBzY3JpcHQuc3JjID0gbG9hZGVyVXJsOw0KICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsNCiAgICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIGNvbmZpZywgKHByb2dyZXNzKSA9PiB7fSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gew0KICAgICAgICAgIHdpbmRvdy5nYW1lSW5zdGFuY2UgPSB1bml0eUluc3RhbmNlOw0KICAgICAgICB9KS5jYXRjaCgobWVzc2FnZSkgPT4gYWxlcnQobWVzc2FnZSkpOw0KICAgICAgfTsNCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCiAgICB9KSgpOw0KICAgIDwvc2NyaXB0Pg0KDQogICAgPHNjcmlwdD4NCiAgICBmdW5jdGlvbiByZXNpemVDYW52YXMoKSB7DQogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5pdHktY2FudmFzIik7DQogICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsNCiAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7DQogICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICJweCI7DQogICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgInB4IjsNCiAgICB9DQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCByZXNpemVDYW52YXMpOw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVDYW52YXMpOw0KICAgIDwvc2NyaXB0Pg0KICA8L2JvZHk+DQo8L2h0bWw+DQo=";
