window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCg0KDQoNCiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDxzdHlsZT4NCiAgICBodG1sLCBib2R5IHsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBiYWNrZ3JvdW5kOiAjMjMxRjIwOw0KICAgIH0NCg0KICAgICN1bml0eS1jb250YWluZXIgew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgfQ0KDQogICAgI3VuaXR5LWNhbnZhcyB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIGJhY2tncm91bmQ6ICMyMzFGMjA7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICB9DQoNCiAgICAjbG9hZGluZy1jb3ZlciB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IDA7IGxlZnQ6IDA7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMUYyMDsNCiAgICAgIHotaW5kZXg6IDk5OTk7DQogICAgfQ0KDQogICAgI3Byb2dyZXNzLWNvbnRhaW5lciB7DQogICAgICB3aWR0aDogNDAlOw0KICAgICAgaGVpZ2h0OiAyNHB4Ow0KICAgICAgYmFja2dyb3VuZDogIzU1NTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7DQogICAgICBwYWRkaW5nOiAycHg7DQogICAgfQ0KDQogICAgI3Byb2dyZXNzLWZpbGwgew0KICAgICAgd2lkdGg6IDAlOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzOw0KICAgIH0NCiAgPC9zdHlsZT48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgd2luZG93LlNES19PUFRJT05TID0gew0KICAgICAgICBnYW1lSWQ6ICJyMnR6cHk5Y2dybjJ1NHhnemM5ejB6YnR2eG0xNm1ieSIsDQogICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uIChhKSB7DQogICAgICAgICAgICBzd2l0Y2ggKGEubmFtZSkgew0KICAgICAgICAgICAgICAgIGNhc2UgIlNES19HQU1FX1BBVVNFIjoNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSAiU0RLX0dBTUVfU1RBUlQiOg0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJTREtfUkVBRFkiOg0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgKGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgIHZhciBkID0gYS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKVswXTsNCiAgICAgICAgaWYgKCFhLmdldEVsZW1lbnRCeUlkKGMpKSB7DQogICAgICAgICAgICB2YXIgZSA9IGEuY3JlYXRlRWxlbWVudChiKTsNCiAgICAgICAgICAgIGUuaWQgPSBjOw0KICAgICAgICAgICAgZS5zcmMgPSAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3N0Mzkvc2RrQG1haW4vc2RranMuanMiOw0KICAgICAgICAgICAgZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLCBkKTsNCiAgICAgICAgfQ0KICAgIH0pKGRvY3VtZW50LCAic2NyaXB0IiwgImdhbWVtb25ldGl6ZS1zZGsiKTsNCjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+I2J1dHRvbiB7DQogIGRpc3BsYXk6bm9uZTsNCn0NCi5pbWdiX3ZpcyB7DQogIGFuaW1hdGlvbjogaW1nYi1hbmltYXRpb24gN3MgbGluZWFyOw0KfQ0KQGtleWZyYW1lcyBpbWdiLWFuaW1hdGlvbiB7DQogIDEwJSB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOw0KICB9DQogIDIwJSB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMHB4KTsNCiAgfQ0KICA5MCUgew0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDBweCk7DQogIH0NCiAgMTAwJSB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOw0KICB9DQp9PC9zdHlsZT48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgICAgICAgICAgIHdpbmRvdy55YW5kZXhNZXRyaWNhQ291bnRlcklkID0gcGFyc2VJbnQoMTAyMzAwMjA5KTsNCiAgICAgICAgICA8L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgICAgICAgICAgIChmdW5jdGlvbiAobSwgZSwgdCwgciwgaSwgaywgYSkgew0KICAgICAgICAgICAgICAgICAgbVtpXSA9IG1baV0gfHwgZnVuY3Rpb24gKCkgeyAobVtpXS5hID0gbVtpXS5hIHx8IFtdKS5wdXNoKGFyZ3VtZW50cykgfTsNCiAgICAgICAgICAgICAgICAgIG1baV0ubCA9IDEgKiBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkb2N1bWVudC5zY3JpcHRzLmxlbmd0aDsgaisrKSB7IGlmIChkb2N1bWVudC5zY3JpcHRzW2pdLnNyYyA9PT0gcikgeyByZXR1cm47IH0gfQ0KICAgICAgICAgICAgICAgICAgayA9IGUuY3JlYXRlRWxlbWVudCh0KSwgYSA9IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodClbMF0sIGsuYXN5bmMgPSAxLCBrLnNyYyA9IHIsIGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaywgYSkNCiAgICAgICAgICAgICAgfSkod2luZG93LCBkb2N1bWVudCwgInNjcmlwdCIsICIiLCAieW0iKTsNCiAgDQogICAgICAgICAgICAgIHltKHdpbmRvdy55YW5kZXhNZXRyaWNhQ291bnRlcklkLCAiaW5pdCIsIHsNCiAgICAgICAgICAgICAgICAgIGNsaWNrbWFwOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgIHRyYWNrTGlua3M6IHRydWUsDQogICAgICAgICAgICAgICAgICBhY2N1cmF0ZVRyYWNrQm91bmNlOiB0cnVlDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgIDwvc2NyaXB0PjwvaGVhZD4NCg0KDQo8Ym9keT4NCiAgPGRpdiBpZD0idW5pdHktY29udGFpbmVyIj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiIHN0eWxlPSJjdXJzb3I6IGRlZmF1bHQ7IiB3aWR0aD0iNzg3IiBoZWlnaHQ9IjUxMSI+PC9jYW52YXM+DQogIDwvZGl2Pg0KDQogIDxkaXYgaWQ9ImxvYWRpbmctY292ZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgPGRpdiBpZD0icHJvZ3Jlc3MtY29udGFpbmVyIj4NCiAgICAgIDxkaXYgaWQ9InByb2dyZXNzLWZpbGwiIHN0eWxlPSJ3aWR0aDogMTAwJTsiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCg0KPHNjcmlwdD4NCg0KKGZ1bmN0aW9uKCl7d2luZG93LmNvbnNvbGUgPSB7DQogICAgbG9nOiBmdW5jdGlvbiAoKSB7fSwNCiAgICB3YXJuOiBmdW5jdGlvbiAoKSB7fSwNCiAgICBlcnJvcjogZnVuY3Rpb24gKCkge30sDQogICAgaW5mbzogZnVuY3Rpb24gKCkge30sDQogICAgZGVidWc6IGZ1bmN0aW9uICgpIHt9LA0KICAgIHRyYWNlOiBmdW5jdGlvbiAoKSB7fSwNCiAgICB0YWJsZTogZnVuY3Rpb24gKCkge30sDQogICAgYXNzZXJ0OiBmdW5jdGlvbiAoKSB7fSwNCn19KSgpOw0KY29uc3QgbXV0ZUNvbnNvbGUgPSB0cnVlOw0KaWYgKG11dGVDb25zb2xlKSB7IGNvbnNvbGUubG9nID0gY29uc29sZS53YXJuID0gY29uc29sZS5lcnJvciA9IGNvbnNvbGUuaW5mbyA9IGNvbnNvbGUuZGVidWcgPSAoKT0+e307IH0NCg0KdmFyIG15R2FtZUluc3RhbmNlID0gbnVsbDsNCnZhciBlbnZpcm9ubWVudERhdGEgPSAnbm8gZGF0YSc7DQp3aW5kb3cuZW52aXJvbm1lbnREYXRhID0gZW52aXJvbm1lbnREYXRhOw0KdmFyIHJldmlld0RhdGEgPSAnZmFsc2UnOw0KDQp2YXIgY2xvdWRTYXZlcyAgID0gJ25vIGRhdGEnOw0KdmFyIHBheW1lbnRzRGF0YSA9ICdubyBkYXRhJzsNCnZhciBwbGF5ZXJEYXRhICAgPSAnbm8gZGF0YSc7DQpsZXQgZmxhc2dzRGF0YSA9ICdubyBkYXRhJzsNCnZhciBnYW1lTGFiZWxEYXRhID0gJ2ZhbHNlJzsNCmxldCBhbGxHYW1lc0RhdGEgPSAnbm8gZGF0YSc7DQp2YXIgc3RhdHNTYXZlcyA9ICdubyBkYXRhJzsNCnZhciBwbGF5ZXIgPSBudWxsLCBwYXltZW50cyA9IG51bGwsIGluaXRHYW1lID0gZmFsc2UsIG5vd0Z1bGxBZE9wZW4gPSBmYWxzZTsNCg0KdHJ5IHsNCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvciwgJ2xhbmd1YWdlJywgIHsgZ2V0OiAoKSA9PiAnZW4tVVMnLCBjb25maWd1cmFibGU6IHRydWUgfSk7DQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdsYW5ndWFnZXMnLCB7IGdldDogKCkgPT4gWydlbi1VUycsJ2VuJ10sIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTsNCn0gY2F0Y2goZSl7DQogIHRyeSB7IG5hdmlnYXRvci5fX2RlZmluZUdldHRlcl9fKCdsYW5ndWFnZScsICAoKT0+J2VuLVVTJyk7IH0gY2F0Y2h7fQ0KICB0cnkgeyBuYXZpZ2F0b3IuX19kZWZpbmVHZXR0ZXJfXygnbGFuZ3VhZ2VzJywgKCk9PlsnZW4tVVMnLCdlbiddKTsgfSBjYXRjaHt9DQp9DQp0cnkgeyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyA9ICdlbic7IH0gY2F0Y2h7fQ0KDQooZnVuY3Rpb24oKXsNCiAgY29uc3QgRk9SQ0VEX0xBTkcgPSAnZW4nOw0KICB3aW5kb3cuWWFHYW1lcyA9IHsNCiAgICBpbml0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKGZ1bmN0aW9uKCl7DQogICAgICBjb25zdCBpc00gPSAvQW5kcm9pZHxpUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICAgIGNvbnN0IG9iaiA9IHsNCiAgICAgICAgZW52aXJvbm1lbnQ6IHsgaTE4bjp7IGxhbmc6Rk9SQ0VEX0xBTkcsIHRsZDonY29tJyB9LCBhcHA6eyBpZDonc3R1Yi5hcHAuaWQnIH0sIGJyb3dzZXI6eyBsYW5nOkZPUkNFRF9MQU5HIH0sIHBheWxvYWQ6bnVsbCB9LA0KICAgICAgICBkZXZpY2VJbmZvOiAgeyB0eXBlOmlzTT8nbW9iaWxlJzonZGVza3RvcCcsIGlzTW9iaWxlOigpPT5pc00sIGlzRGVza3RvcDooKT0+IWlzTSwgaXNUYWJsZXQ6KCk9Pi9pUGFkfFRhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksIGlzVFY6KCk9PmZhbHNlIH0sDQogICAgICAgIHNjcmVlbjogICAgICB7IGZ1bGxzY3JlZW46eyBzdGF0dXM6J29mZicsIHJlcXVlc3QoKXsgdGhpcy5zdGF0dXM9J29uJzsgfSB9IH0sDQogICAgICAgIGFkdjogew0KICAgICAgICAgIHNob3dGdWxsc2NyZWVuQWR2KHtjYWxsYmFja3N9PXt9KXsNCiAgICAgICAgICAgIHRyeXsgY2FsbGJhY2tzPy5vbk9wZW4/LigpOyB9Y2F0Y2h7fQ0KICAgICAgICAgICAgdHJ5eyBJbnRlckFkdlNob3coKTsgfWNhdGNoe30NCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsgdHJ5eyBjYWxsYmFja3M/Lm9uQ2xvc2U/Lih0cnVlKTsgfWNhdGNoe30gfSwgMzAwKTsNCiAgICAgICAgICB9LA0KICAgICAgICAgIHNob3dSZXdhcmRlZFZpZGVvKHtjYWxsYmFja3N9PXt9KXsNCiAgICAgICAgICAgIHRyeXsgY2FsbGJhY2tzPy5vbk9wZW4/LigpOyB9Y2F0Y2h7fQ0KICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+eyB0cnl7IGNhbGxiYWNrcz8ub25SZXdhcmRlZD8uKCk7IGNhbGxiYWNrcz8ub25DbG9zZT8uKCk7IH1jYXRjaHt9IH0sIDMwMCk7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBmZWF0dXJlczogeyBMb2FkaW5nQVBJOiB7IHJlYWR5KCl7ICAgfSB9IH0sDQogICAgICAgIHNlcnZlclRpbWU6ICgpID0+IERhdGUubm93KCksIA0KICAgICAgICBmZWVkYmFjazogew0KICAgICAgICAgIGNhblJldmlldzogICAgICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHZhbHVlOmZhbHNlIH0pLA0KICAgICAgICAgIHJlcXVlc3RSZXZpZXc6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGZlZWRiYWNrU2VudDpmYWxzZSB9KQ0KICAgICAgICB9LA0KICAgICAgICBhdXRoOiB7IG9wZW5BdXRoRGlhbG9nOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSB9LA0KICAgICAgICBnZXRQbGF5ZXI6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7DQogICAgICAgICAgZ2V0TW9kZTogKCk9PidsaXRlJywgZ2V0TmFtZTogKCk9PiAnR3Vlc3QnLCBnZXRQaG90bzogKCk9PiAnJywNCiAgICAgICAgICBnZXRVbmlxdWVJRDogKCk9PiAnZ3Vlc3QxMjMnLCBnZXRQYXlpbmdTdGF0dXM6ICgpPT4gJ3Vua25vd24nLA0KICAgICAgICAgIHNldERhdGE6ICgpPT57fSwgZ2V0RGF0YTogKCk9PiBQcm9taXNlLnJlc29sdmUoeyBzYXZlczogW10gfSkNCiAgICAgICAgfSksDQogICAgICAgIGdldFBheW1lbnRzOiAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdwYXltZW50cy11bmF2YWlsYWJsZScpKSwNCiAgICAgICAgZ2V0TGVhZGVyYm9hcmRzOiAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2xlYWRlcmJvYXJkcy11bmF2YWlsYWJsZScpKSwNCiAgICAgIH07DQogICAgICB3aW5kb3cueXNkayA9IG9iajsNCiAgICAgIHJldHVybiBvYmo7DQogICAgfSkoKSkNCiAgfTsNCn0pKCk7DQoNCmZ1bmN0aW9uIHNlbmRZRyhtZXRob2QsIGFyZyl7DQogIHRyeXsgYXJnPT09dW5kZWZpbmVkID8gbXlHYW1lSW5zdGFuY2U/LlNlbmRNZXNzYWdlKCdZRzJJbnN0YW5jZScsIG1ldGhvZCkNCiAgICAgICAgICAgICAgICAgICAgICAgOiBteUdhbWVJbnN0YW5jZT8uU2VuZE1lc3NhZ2UoJ1lHMkluc3RhbmNlJywgbWV0aG9kLCBTdHJpbmcoYXJnKSk7IH1jYXRjaHt9DQogIHRyeXsgYXJnPT09dW5kZWZpbmVkID8gbXlHYW1lSW5zdGFuY2U/LlNlbmRNZXNzYWdlKCdZYW5kZXhHYW1lJywgbWV0aG9kKQ0KICAgICAgICAgICAgICAgICAgICAgICA6IG15R2FtZUluc3RhbmNlPy5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsIG1ldGhvZCwgU3RyaW5nKGFyZykpOyB9Y2F0Y2h7fQ0KfQ0KDQpmdW5jdGlvbiBMb2dTdHlsZWRNZXNzYWdlKG1zZywgc3R5bGUpeyB0cnl7IGNvbnNvbGUubG9nKCclYycrKG1zZz8/JycpLCBzdHlsZXx8J2NvbG9yOiNGRkRGNzM7YmFja2dyb3VuZDojNDU0NTQ1Jyk7IH1jYXRjaHsgY29uc29sZS5sb2cobXNnKTsgfSB9DQpmdW5jdGlvbiBSZXF1ZXN0aW5nRW52aXJvbm1lbnREYXRhKCl7DQogIGNvbnN0IGlzTSA9IC9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoew0KICAgIGxhbmd1YWdlOiAnZW4nLCBkb21haW46J2NvbScsDQogICAgZGV2aWNlVHlwZTogaXNNPydtb2JpbGUnOidkZXNrdG9wJywNCiAgICBpc01vYmlsZTppc00sIGlzRGVza3RvcDohaXNNLCBpc1RhYmxldDovaVBhZHxUYWJsZXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLCBpc1RWOmZhbHNlLA0KICAgIGFwcElEOidzdHViLmFwcC5pZCcsIGJyb3dzZXJMYW5nOidlbicsIHBheWxvYWQ6bnVsbCwgcGxhdGZvcm06bmF2aWdhdG9yLnBsYXRmb3JtLCBicm93c2VyOidPdGhlcicNCiAgfSk7DQogIGVudmlyb25tZW50RGF0YSA9IGpzb247IHdpbmRvdy5lbnZpcm9ubWVudERhdGEgPSBqc29uOw0KICBzZW5kWUcoJ1NldEVudmlyRGF0YScsIGpzb24pOw0KfQ0KZnVuY3Rpb24gSW5pdFBsYXllcigpew0KICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoew0KICAgIHBsYXllckF1dGg6J3JlamVjdGVkJywgcGxheWVyTmFtZTondW5hdXRob3JpemVkJywNCiAgICBwbGF5ZXJJZDondW5hdXRob3JpemVkJywgcGxheWVyUGhvdG86J251bGwnLCBwYXlpbmdTdGF0dXM6J3Vua25vd24nDQogIH0pOw0KICBwbGF5ZXJEYXRhID0gZGF0YTsNCiAgc2VuZFlHKCdTZXRBdXRoJywgZGF0YSk7DQp9DQpmdW5jdGlvbiBMb2FkQ2xvdWQoKXsgY2xvdWRTYXZlcyA9ICdubyBkYXRhJzsgc2VuZFlHKCdTZXRMb2FkU2F2ZXMnLCdubyBkYXRhJyk7IH0NCmZ1bmN0aW9uIEluaXRSZXZpZXcoKXsgcmV2aWV3RGF0YSA9ICdmYWxzZSc7IH0NCmZ1bmN0aW9uIFJldmlldygpe30NCg0Kd2luZG93Ll9Jbml0RW52aXJvbm1lbnREYXRhX2pzID0gZnVuY3Rpb24oKXsgdHJ5eyBSZXF1ZXN0aW5nRW52aXJvbm1lbnREYXRhKCk7IH1jYXRjaHt9IH07DQp3aW5kb3cuX0luaXRQbGF5ZXJfanMgICAgICAgICAgPSBmdW5jdGlvbigpeyB0cnl7IEluaXRQbGF5ZXIoKTsgfWNhdGNoe30gfTsNCndpbmRvdy5fTG9hZENsb3VkX2pzICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IHRyeXsgTG9hZENsb3VkKCk7IH1jYXRjaHt9IH07DQp3aW5kb3cuX0ludGVyQWR2U2hvd19qcyAgICAgICAgPSBmdW5jdGlvbigpeyB0cnl7IEludGVyQWR2U2hvdygpOyB9Y2F0Y2h7fSB9Ow0Kd2luZG93Ll9SZXdhcmRlZEFkdlNob3dfanMgICAgID0gZnVuY3Rpb24oaWQpeyB0cnl7IFJld2FyZGVkU2hvdyhpZCk7IH1jYXRjaHt9IH07DQp3aW5kb3cuX09wZW5BdXRoRGlhbG9nX2pzICAgICAgPSBmdW5jdGlvbigpeyB0cnl7IE9wZW5BdXRoRGlhbG9nKCk7IH1jYXRjaHt9IH07DQoNCmNvbnN0IHByb2dyZXNzRmlsbCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3MtZmlsbCIpOw0KY29uc3QgbG9hZGluZ0NvdmVyICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nLWNvdmVyIik7DQpmdW5jdGlvbiBzZXRQcm9ncmVzcyh2YWx1ZSl7IHByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9IGAke01hdGgubWluKHZhbHVlKjEwMCwgMTAwKX0lYDsgfQ0KDQphc3luYyBmdW5jdGlvbiBtZXJnZVVuaXR5V2ViRmlsZXMoYmFzZVVybCwgZmlsZVByZWZpeCwgdG90YWxQYXJ0cywgZXh0ZW5zaW9uLCBvblByb2dyZXNzKSB7DQogIGNvbnN0IHBhcnRVcmxzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWxQYXJ0cyB9LCAoXywgaSkgPT4gYCR7YmFzZVVybH0vJHtmaWxlUHJlZml4fSR7aSArIDF9LiR7ZXh0ZW5zaW9ufWApOw0KICBsZXQgdG90YWxTaXplID0gMDsNCg0KICBmb3IgKGNvbnN0IHVybCBvZiBwYXJ0VXJscykgew0KICAgIGNvbnN0IGhlYWQgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbWV0aG9kOiAiSEVBRCIgfSk7DQogICAgY29uc3QgbGVuID0gaGVhZC5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKTsNCiAgICBpZiAobGVuKSB0b3RhbFNpemUgKz0gcGFyc2VJbnQobGVuLCAxMCk7DQogIH0NCg0KICBjb25zdCBidWZmZXJzID0gW107DQogIGxldCBkb3dubG9hZGVkID0gMDsNCg0KICBmb3IgKGNvbnN0IHVybCBvZiBwYXJ0VXJscykgew0KICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgY29uc3QgcmVhZGVyID0gcmVzLmJvZHkuZ2V0UmVhZGVyKCk7DQogICAgY29uc3QgY2h1bmtzID0gW107DQoNCiAgICB3aGlsZSAodHJ1ZSkgew0KICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTsNCiAgICAgIGlmIChkb25lKSBicmVhazsNCiAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTsNCiAgICAgIGRvd25sb2FkZWQgKz0gdmFsdWUubGVuZ3RoOw0KICAgICAgb25Qcm9ncmVzcyAmJiBvblByb2dyZXNzKGRvd25sb2FkZWQgLyB0b3RhbFNpemUgKiAwLjUpOw0KICAgIH0NCg0KICAgIGNvbnN0IGZ1bGwgPSBuZXcgVWludDhBcnJheShjaHVua3MucmVkdWNlKChhLCBiKSA9PiBhICsgYi5sZW5ndGgsIDApKTsNCiAgICBsZXQgb2Zmc2V0ID0gMDsNCiAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykgeyBmdWxsLnNldChjaHVuaywgb2Zmc2V0KTsgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDsgfQ0KICAgIGJ1ZmZlcnMucHVzaChmdWxsKTsNCiAgfQ0KDQogIGNvbnN0IGZpbmFsID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVycy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLmJ5dGVMZW5ndGgsIDApKTsNCiAgbGV0IG9mZnNldCA9IDA7DQogIGZvciAoY29uc3QgYiBvZiBidWZmZXJzKSB7IGZpbmFsLnNldChiLCBvZmZzZXQpOyBvZmZzZXQgKz0gYi5ieXRlTGVuZ3RoOyB9DQogIHJldHVybiBmaW5hbDsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUdhbWUoKSB7DQogIGNvbnN0IGJhc2VVcmwgID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nb2xkaWUtY29kZS9zcGVjaWZpY2F0aW9uQGMzNTFjOTM1ODQwMGVlZWI2YTQ0Nzg5NWFlMmM2ODc3YzQ0ZTRjZDAvdXRpbCI7DQogIGNvbnN0IGxvYWRlclVybCA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ29sZGllLWNvZGUvdGVjaEBmY2NmOWQ0Mjg1MDAwMDk4ZTEwYTY0NDgxOThlZjkyNTYwYTYyOTRjL3BsdWcvc3JjL21haW4vbG9hZGVyLmpzIjsNCg0KICB0cnkgew0KICAgIGNvbnN0IHdhc21CdWZmZXIgPSBhd2FpdCBtZXJnZVVuaXR5V2ViRmlsZXMoYmFzZVVybCwgInNldCIsIDIsICJqcyIsIHNldFByb2dyZXNzKTsNCiAgICBjb25zdCB3YXNtQmxvYiAgID0gbmV3IEJsb2IoW3dhc21CdWZmZXJdLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi93YXNtIiB9KTsNCiAgICBjb25zdCB3YXNtVXJsICAgID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh3YXNtQmxvYik7DQoNCiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsNCiAgICBzY3JpcHQuc3JjID0gbG9hZGVyVXJsOw0KICAgIHNjcmlwdC5vbmxvYWQgPSBhc3luYyAoKSA9PiB7DQogICAgICB0cnkgeyBhd2FpdCB3aW5kb3cuWWFHYW1lcy5pbml0KCk7IH0gY2F0Y2gge30NCg0KICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICBkYXRhVXJsOiAgICAgICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ29sZGllLWNvZGUvdGVjaEBmY2NmOWQ0Mjg1MDAwMDk4ZTEwYTY0NDgxOThlZjkyNTYwYTYyOTRjL3BsdWcvc3JjL21haW4vbGliZGF0YS5qcyIsDQogICAgICAgIGZyYW1ld29ya1VybDogImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nb2xkaWUtY29kZS90ZWNoQGNhZDQ2NGY2MjhhYzM0N2U4ZTQ3OTVjNTc3YjcxMjM1OTNhYzFiMzQvcGx1Zy9zcmMvbWFpbi9saWIuanMiLA0KICAgICAgICBjb2RlVXJsOiAgICAgIHdhc21VcmwsICAgICAgDQogICAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nb2xkaWUtY29kZS90ZWNoQGRiN2E0NWZmY2U5NGYwNzIxMzU2NDY0NDljMTE1ZGNlYWQ1NGMzZmQvcGx1Zy9zcmMvbWFpbi9yZXNvdXJjZXMvTUVUQS1JTkYvZ3JhZGxlLXBsdWdpbnMiLA0KICAgICAgfTsNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bml0eS1jYW52YXMiKTsNCg0KICAgICAgY3JlYXRlVW5pdHlJbnN0YW5jZShjYW52YXMsIGNvbmZpZywgKHVuaXR5UHJvZ3Jlc3MpID0+IHsNCiAgICAgICAgc2V0UHJvZ3Jlc3MoMC41ICsgdW5pdHlQcm9ncmVzcyAqIDAuNSk7DQogICAgICB9KS50aGVuKChpbnN0YW5jZSkgPT4gew0KICAgICAgICBteUdhbWVJbnN0YW5jZSA9IGluc3RhbmNlOw0KICAgICAgICBsb2FkaW5nQ292ZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgdHJ5IHsgUmVxdWVzdGluZ0Vudmlyb25tZW50RGF0YSgpOyB9IGNhdGNoIHt9DQogICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgY29uc29sZS5lcnJvcigiVW5pdHkgY3JlYXRlIGZhaWxlZCIsIGVycm9yKTsNCiAgICAgIH0pOw0KICAgIH07DQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOw0KICB9IGNhdGNoIChlKSB7DQogICAgY29uc29sZS5lcnJvcigiV0FTTSBtZXJnZSBmYWlsZWQiLCBlKTsNCiAgfQ0KfQ0KDQpsZXQgbGFzdEFkVGltZSA9IDA7DQpsZXQgYWRDb29sZG93biA9IDEwMDAwOw0KZnVuY3Rpb24gY2FuU2hvd0FkKCl7IHJldHVybiAoRGF0ZS5ub3coKSAtIGxhc3RBZFRpbWUpID49IGFkQ29vbGRvd247IH0NCg0KZnVuY3Rpb24gRm9jdXNHYW1lKCl7IGlmIChkb2N1bWVudC5oYXNGb2N1cyAmJiAhZG9jdW1lbnQuaGFzRm9jdXMoKSkgeyB3aW5kb3cuZm9jdXMoKTsgfSB9DQoNCmZ1bmN0aW9uIEZ1bGxBZFNob3coKSB7DQogIGlmICghY2FuU2hvd0FkKCkpIHsgc2VuZFlHKCdDbG9zZUludGVyQWR2JywgJ2ZhbHNlJyk7IHJldHVybjsgfQ0KICB0cnkgew0KICAgIGlmIChub3dGdWxsQWRPcGVuKSByZXR1cm47DQogICAgbm93RnVsbEFkT3BlbiA9IHRydWU7IGxhc3RBZFRpbWUgPSBEYXRlLm5vdygpOw0KICAgIHNlbmRZRygnT3BlbkludGVyQWR2Jyk7IA0KDQogICAgaWYgKHR5cGVvZiBzZGsgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzZGsuc2hvd0Jhbm5lciA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgc2RrLnNob3dCYW5uZXIoKTsNCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICBub3dGdWxsQWRPcGVuID0gZmFsc2U7DQogICAgICAgIHNlbmRZRygnQ2xvc2VJbnRlckFkdicsICd0cnVlJyk7IA0KICAgICAgICBGb2N1c0dhbWUoKTsNCiAgICAgIH0sIDMwMDApOw0KICAgIH0gZWxzZSB7DQogICAgICBub3dGdWxsQWRPcGVuID0gZmFsc2U7DQogICAgICBzZW5kWUcoJ0Nsb3NlSW50ZXJBZHYnLCAnZmFsc2UnKTsNCiAgICAgIEZvY3VzR2FtZSgpOw0KICAgIH0NCiAgfSBjYXRjaCAoZSkgew0KICAgIG5vd0Z1bGxBZE9wZW4gPSBmYWxzZTsNCiAgICBzZW5kWUcoJ0Vycm9ySW50ZXJBZHYnKTsNCiAgICBzZW5kWUcoJ0Nsb3NlSW50ZXJBZHYnLCAnZmFsc2UnKTsNCiAgICBGb2N1c0dhbWUoKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBJbnRlckFkdlNob3coKSB7IEZ1bGxBZFNob3coKTsgfQ0KDQpmdW5jdGlvbiBSZXdhcmRlZFNob3coaWQpIHsNCiAgaWYgKCFjYW5TaG93QWQoKSkgeyBzZW5kWUcoJ1Jld2FyZFVuYXZhaWxhYmxlJyk7IHNlbmRZRygnQ2xvc2VSZXdhcmRlZEFkdicpOyByZXR1cm47IH0NCiAgdHJ5IHsNCiAgICBsYXN0QWRUaW1lID0gRGF0ZS5ub3coKTsNCiAgICBzZW5kWUcoJ09wZW5SZXdhcmRlZEFkdicpOyANCg0KICAgIGlmICh0eXBlb2Ygc2RrICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2RrLnNob3dCYW5uZXIgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgIHNkay5zaG93QmFubmVyKCk7DQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgc2VuZFlHKCdSZXdhcmRBZHYnLCBpZCk7ICAgICAgICAgDQogICAgICAgIHNlbmRZRygnQ2xvc2VSZXdhcmRlZEFkdicsICd0cnVlJyk7DQogICAgICAgIEZvY3VzR2FtZSgpOw0KICAgICAgfSwgMzAwMCk7DQogICAgfSBlbHNlIHsNCiAgICAgIHNlbmRZRygnUmV3YXJkQWR2JywgaWQpOw0KICAgICAgc2VuZFlHKCdDbG9zZVJld2FyZGVkQWR2JywgJ3RydWUnKTsNCiAgICAgIEZvY3VzR2FtZSgpOw0KICAgIH0NCiAgfSBjYXRjaCAoZSkgew0KICAgIHNlbmRZRygnRXJyb3JSZXdhcmRlZEFkdicpOw0KICAgIHNlbmRZRygnQ2xvc2VSZXdhcmRlZEFkdicsICdmYWxzZScpOw0KICAgIEZvY3VzR2FtZSgpOw0KICB9DQp9DQoNCmZ1bmN0aW9uIFJld2FyZGVkQWR2U2hvdyhpZCkgeyANCiAgUmV3YXJkZWRTaG93KGlkKTsgDQp9DQoNCmZ1bmN0aW9uIFN0aWNreUFkQWN0aXZpdHkoc2hvdykgew0KICAgIHRyeSB7DQogICAgICAgIHlzZGsuYWR2LmdldEJhbm5lckFkdlN0YXR1cygpLnRoZW4oKHsgc3RpY2t5QWR2SXNTaG93aW5nLCByZWFzb24gfSkgPT4gew0KICAgICAgICAgICAgaWYgKHN0aWNreUFkdklzU2hvd2luZykgew0KICAgICAgICAgICAgICAgIGlmICghc2hvdykgew0KICAgICAgICAgICAgICAgICAgICB5c2RrLmFkdi5oaWRlQmFubmVyQWR2KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAocmVhc29uKSB7DQogICAgICAgICAgICAgICAgTG9nU3R5bGVkTWVzc2FnZSgnU3RpY2t5QWR2IGFyZSBub3Qgc2hvd24uIFJlYXNvbjonLCByZWFzb24pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoc2hvdykgew0KICAgICAgICAgICAgICAgIHlzZGsuYWR2LnNob3dCYW5uZXJBZHYoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICB9IGNhdGNoIChlKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NSQVNIIFN0aWNreUFkdiBhY3Rpdml0eTogJywgZS5tZXNzYWdlKTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIEluaXRHYW1lKCkgeyBpbml0R2FtZSA9IHRydWU7IGlmIChub3dGdWxsQWRPcGVuKSBzZW5kWUcoJ09wZW5JbnRlckFkdicpOyB9DQpmdW5jdGlvbiBDb25zdW1lUHVyY2hhc2VzKCkge30NCmZ1bmN0aW9uIEdldExlYWRlcmJvYXJkU2NvcmVzKCkge30NCmZ1bmN0aW9uIEJ1eVBheW1lbnRzKGlkKSB7fQ0KZnVuY3Rpb24gU2F2ZUNsb3VkKGpzb25EYXRhLCBmbHVzaCl7IHRyeXsgcGxheWVyLnNldERhdGEoe3NhdmVzOltqc29uRGF0YV19LCBmbHVzaCk7IH1jYXRjaChlKXt9IH0NCmZ1bmN0aW9uIEdldFBheW1lbnRzKHNlbmRiYWNrKSB7fQ0KZnVuY3Rpb24gT3BlbkF1dGhEaWFsb2coKXsgaWYobXlHYW1lSW5zdGFuY2UpeyBteUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgnWWFuZGV4R2FtZScsJ0dldERhdGFJbnZva2UnKTsgfSB9DQoNCmluaXRpYWxpemVHYW1lKCk7DQo8L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvc3QzOS9zZGtAbWFpbi9hcGkuanMiPjwvc2NyaXB0Pg0KDQoNCjxkaXYgaWQ9ImJ1dHRvbiIgY2xhc3M9ImltZ2IgaW1nYl92aXMiIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMTAlOyBsZWZ0OiAtMTAwcHg7IHotaW5kZXg6IDEwOyBkaXNwbGF5OiBub25lOyI+PGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vc2l0ZXMuZ29vZ2xlLmNvbS92aWV3L2NsYXNzcm9vbTZ4LyIgdGl0bGU9Ik1vcmUgVW5ibG9ja2VkIEdhbWVzIDZ4Ij48aW1nIHNyYz0iaHR0cHM6Ly9saDQuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2xVRVdyWE1WRXI0QWRqS0lTeUphaERSSjYxYndmdkhkcGVZbTg2RGpuNVU4b0NtOWRJNjBOR1hTQnFhZDlIVXZ6VFhncWxrb3NBX2hXVi1WdVhQanpya0d2aDNfa05TZ1lrOHlTV3pYbkRwYkJDQmlvb3lCYlU4b0J5M1lCWk1Ea1c4UmNSVm1EdUMwcmFvZXFaQm04a0JscXM2YzVtZGZrSmVOMmFFNjhsWFNfbGNPWjVfRjdsSXVNNnFMVmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMzAiIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjsiIGFsdD0iTW9yZSBvZiBiZXN0IENsYXNzcm9vbSA2eCBVbmJsb2NrZWQgR2FtZXMiPjwvYT48L2Rpdj48ZGl2IGlkPSJpbWFDb250YWluZXIiIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDEwMDAwOyB0b3A6IDBweDsgbGVmdDogMHB4OyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMCwgMCk7IHZpc2liaWxpdHk6IGhpZGRlbjsgb3ZlcmZsb3c6IGhpZGRlbjsiPjx2aWRlbyBpZD0iaW1hVmlkZW8iPjwvdmlkZW8+PC9kaXY+PGRpdiBpZD0iaW1hQ29udGFpbmVyX25ldyIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogMTAwMDA7IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAwLCAwKTsgdmlzaWJpbGl0eTogaGlkZGVuOyBvdmVyZmxvdzogaGlkZGVuOyI+PHZpZGVvMiBpZD0iaW1hVmlkZW8yIj48L3ZpZGVvMj48L2Rpdj48c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2dvbGRpZS1jb2RlL3RlY2hAZmNjZjlkNDI4NTAwMDA5OGUxMGE2NDQ4MTk4ZWY5MjU2MGE2Mjk0Yy9wbHVnL3NyYy9tYWluL2xvYWRlci5qcyI+PC9zY3JpcHQ+PHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nb2xkaWUtY29kZS90ZWNoQGNhZDQ2NGY2MjhhYzM0N2U4ZTQ3OTVjNTc3YjcxMjM1OTNhYzFiMzQvcGx1Zy9zcmMvbWFpbi9saWIuanMiPjwvc2NyaXB0Pjxub3NjcmlwdD4NCiAgICAgICAgICAgICAgPGRpdj4NCiAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9ub3NjcmlwdD48L2JvZHk+PC9odG1sPg0K";
