window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQo8aHRtbCBsYW5nPSJlbi11cyI+DQoNCjxoZWFkPg0KPGJhc2UgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2J1YmJscy9VR1MtQXNzZXRzQGUzM2EyMDg5MTViZGE4M2I3YmE0MzU2ZTViYjgwNWI3Zjk1NjMzNmIvZ3Jhbm55JTIwMy8iPg0KDQogIDxzY3JpcHQ+DQogICAgICAvLyB0cyB0cnVlIPCfkpTwn5it4pyMDQogICAgICB3aW5kb3cuZ25NYXRoSXNUaGVCZXN0R2FtZVNpdGVFdmVyID0gew0KICAgICAgICAiYW5jZXN0b3JPcmlnaW5zIjoge30sDQogICAgICAgICJocmVmIjogImh0dHBzOi8vaHRtbDUuZ2FtZWRpc3RyaWJ1dGlvbi5jb20vcnZ2QVNNaU0vMDJmZjAxZTZlOWY3NDUxYmEyOGQ4ODlhMmE1NWVlYzkvaW5kZXguaHRtbD9nZF9zZGtfcmVmZXJyZXJfdXJsPWh0dHBzJTNBJTJGJTJGZ2FtZWRpc3RyaWJ1dGlvbi5jb20lMkZnYW1lcyUyRmdvbGYtb3JiaXQlMkYmZ2Rfem9uZV9jb25maWc9ZXlKd1lYSmxiblJWVWt3aU9pSm9kSFJ3Y3pvdkwyaDBiV3cxTG1kaGJXVmthWE4wY21saWRYUnBiMjR1WTI5dEx6QXlabVl3TVdVMlpUbG1OelExTVdKaE1qaGtPRGc1WVRKaE5UVmxaV001THo5blpGOXpaR3RmY21WbVpYSnlaWEpmZFhKc1BXaDBkSEJ6T2k4dloyRnRaV1JwYzNSeWFXSjFkR2x2Ymk1amIyMHZaMkZ0WlhNdloyOXNaaTF2Y21KcGRDOGlMQ0p3WVhKbGJuUkViMjFoYVc0aU9pSm5ZVzFsWkdsemRISnBZblYwYVc5dUxtTnZiU0lzSW5SdmNFUnZiV0ZwYmlJNkltZGhiV1ZrYVhOMGNtbGlkWFJwYjI0dVkyOXRJaXdpYUdGelNXMXdjbVZ6YzJsdmJpSTZabUZzYzJVc0lteHZZV1JsY2tWdVlXSnNaV1FpT25SeWRXVXNJbWh2YzNRaU9pSm9kRzFzTlM1bllXMWxaR2x6ZEhKcFluVjBhVzl1TG1OdmJTSXNJblpsY25OcGIyNGlPaUl4TGpVdU1UY2lmUSUyNTNEJTI1M0QiLA0KICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vaHRtbDUuZ2FtZWRpc3RyaWJ1dGlvbi5jb20iLA0KICAgICAgICAicHJvdG9jb2wiOiAiaHR0cHM6IiwNCiAgICAgICAgImhvc3QiOiAiaHRtbDUuZ2FtZWRpc3RyaWJ1dGlvbi5jb20iLA0KICAgICAgICAiaG9zdG5hbWUiOiAiaHRtbDUuZ2FtZWRpc3RyaWJ1dGlvbi5jb20iLA0KICAgICAgICAicG9ydCI6ICIiLA0KICAgICAgICAicGF0aG5hbWUiOiAiL3J2dkFTTWlNLzAyZmYwMWU2ZTlmNzQ1MWJhMjhkODg5YTJhNTVlZWM5L2luZGV4Lmh0bWwiLA0KICAgICAgICAic2VhcmNoIjogIj9nZF9zZGtfcmVmZXJyZXJfdXJsPWh0dHBzJTNBJTJGJTJGZ2FtZWRpc3RyaWJ1dGlvbi5jb20lMkZnYW1lcyUyRml0YWxpYW4tYnJhaW5yb3Qtb2JieS1wYXJrb3VyJTJGJmdkX3pvbmVfY29uZmlnPWV5SndZWEpsYm5SVlVrd2lPaUpvZEhSd2N6b3ZMMmRoYldWa2FYTjBjbWxpZFhScGIyNHVZMjl0TDJkaGJXVnpMMmwwWVd4cFlXNHRZbkpoYVc1eWIzUXRiMkppZVMxd1lYSnJiM1Z5THlJc0luQmhjbVZ1ZEVSdmJXRnBiaUk2SW1kaGJXVmthWE4wY21saWRYUnBiMjR1WTI5dElpd2lkRzl3Ukc5dFlXbHVJam9pWjJGdFpXUnBjM1J5YVdKMWRHbHZiaTVqYjIwaUxDSm9ZWE5KYlhCeVpYTnphVzl1SWpwbVlXeHpaU3dpYkc5aFpHVnlSVzVoWW14bFpDSTZkSEoxWlN3aWFHOXpkQ0k2SW1oMGJXdzFMbWRoYldWa2FYTjBjbWxpZFhScGIyNHVZMjl0SWl3aWRtVnljMmx2YmlJNklqRXVOUzR4TnlKOSIsDQogICAgICAgICJoYXNoIjogIiINCiAgICAgIH0NCg0KICAgICAgY29uc3Qgb3JpZ2luYWxGZXRjaCA9IHdpbmRvdy5mZXRjaDsNCiAgICAgIHdpbmRvdy5mZXRjaCA9IGZ1bmN0aW9uICguLi5hcmdzKSB7DQogICAgICAgIGlmIChhcmdzWzBdLmluY2x1ZGVzKCJodG1sNS5hcGkuZ2FtZWRpc3RyaWJ1dGlvbi5jb20vbWFpbi5taW4uanMiKSkgew0KICAgICAgICAgIGFyZ3NbMF0gPSAibWFpbi5taW4uanMiOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvcmlnaW5hbEZldGNoLmFwcGx5KHRoaXMsIGFyZ3MpOw0KICAgICAgfTsNCg0KICAgICAgY29uc3Qgb3JpZ2luYWxPcGVuID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW47DQogICAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgLi4ucmVzdCkgew0KICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCJodG1sNS5hcGkuZ2FtZWRpc3RyaWJ1dGlvbi5jb20vbWFpbi5taW4uanMiKSkgew0KICAgICAgICAgIHVybCA9ICJtYWluLm1pbi5qcyI7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG9yaWdpbmFsT3Blbi5jYWxsKHRoaXMsIG1ldGhvZCwgdXJsLCAuLi5yZXN0KTsNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IG9yaWdpbmFsQ3JlYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCk7DQoNCiAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lKSB7DQogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvcmlnaW5hbENyZWF0ZUVsZW1lbnQodGFnTmFtZSk7DQogICAgICAgIGlmICh0YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJzY3JpcHQiKSB7DQogICAgICAgICAgbGV0IHNyY1ZhbHVlID0gIiI7DQogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICJzcmMiLCB7DQogICAgICAgICAgICBnZXQoKSB7DQogICAgICAgICAgICAgIHJldHVybiBzcmNWYWx1ZTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzZXQobmV3U3JjKSB7DQogICAgICAgICAgICAgIGxldCBuZXdVcmwgPSBuZXdTcmM7DQogICAgICAgICAgICAgIGlmIChuZXdTcmMuaW5jbHVkZXMoImh0bWw1LmFwaS5nYW1lZGlzdHJpYnV0aW9uLmNvbS9tYWluLm1pbi5qcyIpKSB7DQogICAgICAgICAgICAgICAgbmV3VXJsID0gIm1haW4ubWluLmpzIjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBzcmNWYWx1ZSA9IG5ld1VybDsNCiAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoInNyYyIsIG5ld1VybCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLA0KICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZWxlbWVudDsNCiAgICAgIH07DQogIDwvc2NyaXB0Pg0KICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8iPg0KICA8dGl0bGU+R3Jhbm55IDMgUmV0dXJuIHRoZSBTY2hvb2w8L3RpdGxlPg0KDQogIDwhLS0gU3RhbmRhcmRpc2VkIHdlYiBhcHAgbWFuaWZlc3QgLS0+DQogIDxsaW5rIHJlbD0ibWFuaWZlc3QiIGhyZWY9Im1hbmlmZXN0Lmpzb24iIC8+DQoNCiAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJUZW1wbGF0ZURhdGEvZmF2aWNvbi5pY28iPg0KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IlRlbXBsYXRlRGF0YS9zdHlsZS5jc3MiPg0KDQogIDxzdHlsZT4NCiAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1IZWVibzp3Z2h0QDIwMDs1MDAmZGlzcGxheT1zd2FwJyk7DQogICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SGVlYm86d2dodEAyMDA7NTAwJmZhbWlseT1NdXNlb01vZGVybm86d2dodEA2MDAmZGlzcGxheT1zd2FwJyk7DQogIDwvc3R5bGU+DQoNCjwvaGVhZD4NCg0KPGJvZHkgY2xhc3M9ImRhcmsiPg0KICA8ZGl2IGlkPSJ1bml0eS1jb250YWluZXIiIGNsYXNzPSJ1bml0eS1kZXNrdG9wIj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiPjwvY2FudmFzPg0KICA8L2Rpdj4NCiAgPGRpdiBpZD0ibG9hZGluZy1jb3ZlciIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPg0KICAgIDxkaXYgaWQ9InVuaXR5LWxvYWRpbmctYmFyIj4NCg0KDQogICAgICA8ZGl2IGlkPSJ1bml0eS1sb2dvIj4NCiAgICAgICAgPGltZyBzcmM9ImxvZ28ucG5nIj4NCiAgICAgICAgPGJyPg0KICAgICAgICA8cCBpZD0ibG9hZGluZy10eHQiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiAnTXVzZW9Nb2Rlcm5vJywgY3Vyc2l2ZTtjb2xvcjogd2hpdGU7Zm9udC1zaXplOiA1MHB4O21hcmdpbi10b3A6IDBweDttYXJnaW4tYm90dG9tOiAwcHg7Ij5Mb2FkaW5nLi4uPC9wPg0KICAgICAgPC9kaXY+DQoNCg0KICAgICAgPGRpdiBpZD0idW5pdHktcHJvZ3Jlc3MtYmFyLWVtcHR5IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZnVsbCI+PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCiAgPGRpdiBpZD0idW5pdHktZnVsbHNjcmVlbi1idXR0b24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9kaXY+DQogICAgPHNjcmlwdD4NCiAgICAgICAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7DQogICAgICAgICAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsNCiAgICAgICAgICAgIG1ldGEubmFtZSA9ICd2aWV3cG9ydCc7DQogICAgICAgICAgICBtZXRhLmNvbnRlbnQgPSAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBoZWlnaHQ9ZGV2aWNlLWhlaWdodCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8sIHNocmluay10by1maXQ9eWVzJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobWV0YSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9hZGluZy10eHQiKTsNCiAgICAgICAgbGV0IHRvdGFsQnl0ZXMgPSAwOw0KICAgICAgICBsZXQgbG9hZGVkQnl0ZXMgPSAwOw0KDQogICAgICAgIGZ1bmN0aW9uIGZvcm1hdFNpemUoYnl0ZXMpIHsNCiAgICAgICAgICAgIGlmIChieXRlcyA+IDEwMjQgKiAxMDI0ICogMTAyNCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoYnl0ZXMgLyAoMTAyNCAqIDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSArICIgR0IiOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChieXRlcyA+IDEwMjQgKiAxMDI0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIChieXRlcyAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiIE1CIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIChieXRlcyAvIDEwMjQpLnRvRml4ZWQoMikgKyAiIEtCIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVzICsgIiBCIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBhc3luYyBmdW5jdGlvbiBnZXRTaXplKHVybCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsNCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiSEVBRCINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocmVzLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpIHx8ICIwIiwgMTApOw0KICAgICAgICAgICAgfSBjYXRjaCB7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hXaXRoUHJvZ3Jlc3ModXJsKSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpOw0KICAgICAgICAgICAgbGV0IGNodW5rcyA9IFtdOw0KICAgICAgICAgICAgbGV0IHJlY2VpdmVkID0gMDsNCiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgew0KICAgICAgICAgICAgICAgICAgICBkb25lLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZQ0KICAgICAgICAgICAgICAgIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpOw0KICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhazsNCiAgICAgICAgICAgICAgICByZWNlaXZlZCArPSB2YWx1ZS5sZW5ndGg7DQogICAgICAgICAgICAgICAgbG9hZGVkQnl0ZXMgKz0gdmFsdWUubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkb25lVGV4dCA9IGZvcm1hdFNpemUobG9hZGVkQnl0ZXMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsVGV4dCA9IGZvcm1hdFNpemUodG90YWxCeXRlcyk7DQogICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IHRvdGFsQnl0ZXMgPiAwID8gKChsb2FkZWRCeXRlcyAvIHRvdGFsQnl0ZXMpICogMTAwKS50b0ZpeGVkKDEpIDogIj8iOw0KICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gYExPQURJTkcuLi4gJHtkb25lVGV4dH0gLyAke3RvdGFsVGV4dH0gKCR7cGVyY2VudH0lKWA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgZnVsbEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHJlY2VpdmVkKTsNCiAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwOw0KICAgICAgICAgICAgZm9yIChsZXQgY2h1bmsgb2YgY2h1bmtzKSB7DQogICAgICAgICAgICAgICAgZnVsbEJ1ZmZlci5zZXQoY2h1bmssIG9mZnNldCk7DQogICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmdWxsQnVmZmVyLmJ1ZmZlcjsNCiAgICAgICAgfQ0KICAgICAgICBhc3luYyBmdW5jdGlvbiBtZXJnZUZpbGVzKHBhcnRzKSB7DQogICAgICAgICAgICBjb25zdCBidWZmZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwocGFydHMubWFwKGZldGNoV2l0aFByb2dyZXNzKSk7DQogICAgICAgICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihidWZmZXJzKSk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnZXRQYXJ0cyhmaWxlLCBjb3VudCkgew0KICAgICAgICAgICAgbGV0IHBhcnRzID0gW107DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7DQogICAgICAgICAgICAgICAgcGFydHMucHVzaChmaWxlICsgIi5wYXJ0IiArIGkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHBhcnRzOw0KICAgICAgICB9DQogICAgICAgIGxldCBoaWRlRnVsbFNjcmVlbkJ1dHRvbiA9ICIwIjsNCiAgICAgICAgbGV0IGJ1aWxkVXJsID0gIkJ1aWxkIjsNCiAgICAgICAgbGV0IGxvYWRlclVybCA9IGJ1aWxkVXJsICsgIi92MS5sb2FkZXIuanMiOw0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgZGF0YVVybDogIiIsDQogICAgICAgICAgICBmcmFtZXdvcmtVcmw6ICJCdWlsZC92MS5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLA0KICAgICAgICAgICAgY29kZVVybDogIiIsDQogICAgICAgICAgICBzdHJlYW1pbmdBc3NldHNVcmw6ICJTdHJlYW1pbmdBc3NldHMiLA0KICAgICAgICAgICAgY29tcGFueU5hbWU6ICJLaXoxMCIsDQogICAgICAgICAgICBwcm9kdWN0TmFtZTogIkdyYW5ueSAzIFJldHVybiB0aGUgU2Nob29sIiwNCiAgICAgICAgICAgIHByb2R1Y3RWZXJzaW9uOiAiMC4wLjEyIiwNCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY29udGFpbmVyIik7DQogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKTsNCiAgICAgICAgY29uc3QgbG9hZGluZ0NvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctY292ZXIiKTsNCiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZW1wdHkiKTsNCiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJGdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LXByb2dyZXNzLWJhci1mdWxsIik7DQogICAgICAgIGNvbnN0IGZ1bGxzY3JlZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktZnVsbHNjcmVlbi1idXR0b24iKTsNCiAgICAgICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGlubmVyJyk7DQoNCiAgICAgICAgY29uc3QgY2FuRnVsbHNjcmVlbiA9IChmdW5jdGlvbigpIHsNCiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBbDQogICAgICAgICAgICAgICdleGl0RnVsbHNjcmVlbicsDQogICAgICAgICAgICAgICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsDQogICAgICAgICAgICAgICd3ZWJraXRDYW5jZWxGdWxsU2NyZWVuJywNCiAgICAgICAgICAgICAgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLA0KICAgICAgICAgICAgICAnbXNFeGl0RnVsbHNjcmVlbicsDQogICAgICAgICAgICBdKSB7DQogICAgICAgICAgICBpZiAoa2V5IGluIGRvY3VtZW50KSB7DQogICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0oKSk7DQoNCiAgICAgICAgbG9hZGluZ0NvdmVyLnN0eWxlLmRpc3BsYXkgPSAiIjsNCg0KICAgICAgICAoYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgZGF0YVBhcnRzID0gZ2V0UGFydHMoIkJ1aWxkL3YxLmRhdGEudW5pdHl3ZWIiLCA0KTsNCiAgICAgICAgICAgIGNvbnN0IHdhc21QYXJ0cyA9IGdldFBhcnRzKCJCdWlsZC92MS53YXNtLnVuaXR5d2ViIiwgMSk7DQogICAgICAgICAgICBjb25zdCBhbGxQYXJ0cyA9IFsuLi5kYXRhUGFydHMsIC4uLndhc21QYXJ0c107DQogICAgICAgICAgICBjb25zdCBzaXplcyA9IGF3YWl0IFByb21pc2UuYWxsKGFsbFBhcnRzLm1hcChnZXRTaXplKSk7DQogICAgICAgICAgICB0b3RhbEJ5dGVzID0gc2l6ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7DQogICAgICAgICAgICBjb25zdCBbZGF0YVVybCwgd2FzbVVybF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgbWVyZ2VGaWxlcyhkYXRhUGFydHMpLA0KICAgICAgICAgICAgICAgIG1lcmdlRmlsZXMod2FzbVBhcnRzKQ0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBjb25maWcuZGF0YVVybCA9IGRhdGFVcmw7DQogICAgICAgICAgICBjb25maWcuY29kZVVybCA9IHdhc21Vcmw7DQoNCiAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOw0KICAgICAgICAgICAgc2NyaXB0LnNyYyA9IGxvYWRlclVybDsNCiAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7DQogICAgICAgICAgICAgIGNyZWF0ZVVuaXR5SW5zdGFuY2UoY2FudmFzLCBjb25maWcsIChwcm9ncmVzcykgPT4gew0KICAgICAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICBwcm9ncmVzc0JhckVtcHR5LnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgICAgICAgICBwcm9ncmVzc0JhckZ1bGwuc3R5bGUud2lkdGggPSBgJHsxMDAgKiBwcm9ncmVzc30lYDsNCiAgICAgICAgICAgICAgfSkudGhlbigodW5pdHlJbnN0YW5jZSkgPT4gew0KICAgICAgICAgICAgICAgIGxvYWRpbmdDb3Zlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgIGlmIChjYW5GdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgICBpZiAoIWhpZGVGdWxsU2NyZWVuQnV0dG9uKSB7DQogICAgICAgICAgICAgICAgICAgIGZ1bGxzY3JlZW5CdXR0b24uc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgZnVsbHNjcmVlbkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB1bml0eUluc3RhbmNlLlNldEZ1bGxzY3JlZW4oMSk7DQogICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IHsNCiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOw0KDQogICAgICAgICAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICJ1bml0eS1tb2JpbGUiOw0KICAgICAgICAgICAgICBjb25maWcuZGV2aWNlUGl4ZWxSYXRpbyA9IDEuNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkoKTsNCiAgPC9zY3JpcHQ+DQo8L2JvZHk+DQoNCjwvaHRtbD4=";
