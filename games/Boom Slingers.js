window.game = "DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KICA8aGVhZD4NCiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvZ2VuaXp5L2NnLXJpcEBtYWluL2Jvb20tc2xpbmdlcnMtcmVib29tLyI+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+DQogIDwvaGVhZD4NCiAgPGJvZHkgc3R5bGU9Im1hcmdpbjowO3BhZGRpbmc6MCIgY2xhc3M9Im5vc2VsZWN0Ij4NCiAgICA8ZGl2IGlkPSJsb2FkaW5nLXRleHQiIHN0eWxlPSJjb2xvcjogYmxhY2s7IGZvbnQtc2l6ZTogNDhweDsgZm9udC1mYW1pbHk6IGN1cnNpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPkxPQURJTkcuLi48L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lIj48L2NhbnZhcz4NCg0KICAgIDxzY3JpcHQ+DQogICAgY29uc3QgU1BMSVRfTUFQID0geyIyY2JkYTk4YWU2N2QxYjI4ZjkyMDM5ODgwNjA5MzQxNS53YXNtIjogbnVsbCwgIjNiMDNiYjcxODI3NjNhNDE4MTdiNzk1ZTU1MGQ4NDEyLmRhdGEiOiBudWxsfTsNCiAgICA8L3NjcmlwdD4NCg0KICAgIDxzY3JpcHQ+DQogICAgYXN5bmMgZnVuY3Rpb24gbWVyZ2VQYXJ0cyhiYXNlVXJsKSB7DQogICAgICBjb25zdCBwYXJ0cyA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gOTk7IGkrKykgew0KICAgICAgICBjb25zdCB0ZXN0VXJsID0gYmFzZVVybCArICIucGFydCIgKyBpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IGhlYWQgPSBhd2FpdCBmZXRjaCh0ZXN0VXJsLCB7IG1ldGhvZDogIkhFQUQiIH0pOw0KICAgICAgICAgIGlmICghaGVhZC5vaykgYnJlYWs7DQogICAgICAgICAgcGFydHMucHVzaCh0ZXN0VXJsKTsNCiAgICAgICAgfSBjYXRjaCB7IGJyZWFrOyB9DQogICAgICB9DQogICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSByZXR1cm4gYmFzZVVybDsNCg0KICAgICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKHBhcnRzLm1hcChhc3luYyAodSkgPT4gew0KICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godSk7DQogICAgICAgIGlmICghci5vaykgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgcGFydCAiICsgdSk7DQogICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCByLmFycmF5QnVmZmVyKCkpOw0KICAgICAgfSkpOw0KDQogICAgICBjb25zdCB0b3RhbCA9IGJ1ZmZlcnMucmVkdWNlKChhLCBiKSA9PiBhICsgYi5sZW5ndGgsIDApOw0KICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFVpbnQ4QXJyYXkodG90YWwpOw0KICAgICAgbGV0IG9mZnNldCA9IDA7DQogICAgICBmb3IgKGNvbnN0IGIgb2YgYnVmZmVycykgeyBtZXJnZWQuc2V0KGIsIG9mZnNldCk7IG9mZnNldCArPSBiLmxlbmd0aDsgfQ0KDQogICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbbWVyZ2VkXSkpOw0KICAgIH0NCg0KICAgIGFzeW5jIGZ1bmN0aW9uIHByZU1lcmdlQWxsKCkgew0KICAgICAgY29uc3QgbWFwID0ge307DQogICAgICBjb25zdCBmaWxlcyA9IE9iamVjdC5lbnRyaWVzKFNQTElUX01BUCk7DQogICAgICBjb25zdCB0b3RhbCA9IGZpbGVzLmxlbmd0aDsNCiAgICAgIGxldCBkb25lID0gMDsNCg0KICAgICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZy10ZXh0Iik7DQoNCiAgICAgIGZvciAoY29uc3QgW2ZpbGUsIF9dIG9mIGZpbGVzKSB7DQogICAgICAgIGNvbnN0IG1lcmdlZCA9IGF3YWl0IG1lcmdlUGFydHMoIkJ1aWxkLyIgKyBmaWxlKTsNCiAgICAgICAgbWFwW2ZpbGVdID0gbWVyZ2VkOw0KICAgICAgICBkb25lKys7DQogICAgICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLmZsb29yKChkb25lIC8gdG90YWwpICogMTAwKTsNCiAgICAgICAgbG9hZGluZ1RleHQuaW5uZXJUZXh0ID0gYExPQURJTkcuLi4gJHtwZXJjZW50fSVgOw0KICAgICAgICBjb25zb2xlLmxvZygiUHJlbWVyZ2VkOiIsIGZpbGUsICLihpIiLCBtZXJnZWQpOw0KICAgICAgfQ0KDQogICAgICBsb2FkaW5nVGV4dC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICByZXR1cm4gbWFwOw0KICAgIH0NCg0KICAgIChhc3luYyAoKSA9PiB7DQogICAgICBjb25zdCBtZXJnZWRNYXAgPSBhd2FpdCBwcmVNZXJnZUFsbCgpOw0KICAgICAgd2luZG93LlNQTElUX01BUCA9IG1lcmdlZE1hcDsNCiAgICAgIGNvbnN0IG9yaWdGZXRjaCA9IHdpbmRvdy5mZXRjaDsNCiAgICAgIHdpbmRvdy5mZXRjaCA9IGFzeW5jIGZ1bmN0aW9uKHJlc291cmNlLCBvcHRpb25zKSB7DQogICAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICJzdHJpbmciKSB7DQogICAgICAgICAgY29uc3Qga2V5ID0gcmVzb3VyY2Uuc3BsaXQoIi8iKS5wb3AoKTsNCiAgICAgICAgICBpZiAobWVyZ2VkTWFwW2tleV0pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWRpcmVjdCBmZXRjaDoiLCBrZXkpOw0KICAgICAgICAgICAgcmV0dXJuIG9yaWdGZXRjaChtZXJnZWRNYXBba2V5XSwgb3B0aW9ucyk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvcmlnRmV0Y2gocmVzb3VyY2UsIG9wdGlvbnMpOw0KICAgICAgfTsNCg0KICAgICAgY29uc3QgT3JpZ1hIUiA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDsNCiAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBjb25zdCB4aHIgPSBuZXcgT3JpZ1hIUigpOw0KICAgICAgICBjb25zdCBvcmlnT3BlbiA9IHhoci5vcGVuOw0KICAgICAgICB4aHIub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCAuLi5yZXN0KSB7DQogICAgICAgICAgY29uc3Qga2V5ID0gdXJsLnNwbGl0KCIvIikucG9wKCk7DQogICAgICAgICAgaWYgKG1lcmdlZE1hcFtrZXldKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVkaXJlY3QgWEhSOiIsIGtleSk7DQogICAgICAgICAgICBvcmlnT3Blbi5jYWxsKHhociwgbWV0aG9kLCBtZXJnZWRNYXBba2V5XSwgLi4ucmVzdCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIG9yaWdPcGVuLmNhbGwoeGhyLCBtZXRob2QsIHVybCwgLi4ucmVzdCk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4geGhyOw0KICAgICAgfTsNCg0KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VuaXR5LWNhbnZhcyIpOw0KICAgICAgY29uc3QgbG9hZGVyVXJsID0gIkJ1aWxkL2QzNzY2N2UzMTYxOTdhNDViZjUzYWEzZmRjYzZkZWU2LmxvYWRlci5qcyI7DQogICAgICBjb25zdCBjb25maWcgPSB7DQogICAgICAgIGRhdGFVcmw6ICJCdWlsZC8zYjAzYmI3MTgyNzYzYTQxODE3Yjc5NWU1NTBkODQxMi5kYXRhIiwNCiAgICAgICAgZnJhbWV3b3JrVXJsOiAiQnVpbGQvOGZmOTgyNjM3MWJkMTRlMGU4MWVjNDEzYzllMTViYjEuZnJhbWV3b3JrLmpzIiwNCiAgICAgICAgY29kZVVybDogIkJ1aWxkLzJjYmRhOThhZTY3ZDFiMjhmOTIwMzk4ODA2MDkzNDE1Lndhc20iLA0KICAgICAgICBzdHJlYW1pbmdBc3NldHNVcmw6ICJTdHJlYW1pbmdBc3NldHMiLA0KICAgICAgICBjb21wYW55TmFtZTogIkJvb20gU2xpbmdlcnMgUmVCb29tIiwNCiAgICAgICAgcHJvZHVjdE5hbWU6ICJCb29tIFNsaW5nZXJzIFJlQm9vbSIsDQogICAgICAgIHByb2R1Y3RWZXJzaW9uOiAiMS4wLjAiDQogICAgICB9Ow0KDQogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsNCiAgICAgIHNjcmlwdC5zcmMgPSBsb2FkZXJVcmw7DQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gew0KICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGNhbnZhcywgY29uZmlnLCAocHJvZ3Jlc3MpID0+IHt9KS50aGVuKCh1bml0eUluc3RhbmNlKSA9PiB7DQogICAgICAgICAgd2luZG93LmdhbWVJbnN0YW5jZSA9IHVuaXR5SW5zdGFuY2U7DQogICAgICAgIH0pLmNhdGNoKChtZXNzYWdlKSA9PiBhbGVydChtZXNzYWdlKSk7DQogICAgICB9Ow0KICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOw0KICAgIH0pKCk7DQogICAgPC9zY3JpcHQ+DQoNCiAgICA8c2NyaXB0Pg0KICAgIGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcygpIHsNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bml0eS1jYW52YXMiKTsNCiAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgInB4IjsNCiAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAicHgiOw0KICAgIH0NCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlc2l6ZUNhbnZhcyk7DQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZUNhbnZhcyk7DQogICAgPC9zY3JpcHQ+DQogIDwvYm9keT4NCjwvaHRtbD4NCg==";
