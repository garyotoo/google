window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbi11cyI+DQoNCjxoZWFkPg0KICAgIDxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9nZW5penkvd2ViLXBvcnRAbWFpbi9iYWxkaS1yZW1hc3Rlci8iPg0KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+DQogICAgPHRpdGxlPlVuaXR5IFdlYkdMIFBsYXllciB8IEJhbGRpJ3MgQmFzaWNzIENsYXNzaWMgUmVtYXN0ZXJlZDwvdGl0bGU+DQogICAgPHN0eWxlPg0KICAgICAgICBodG1sLA0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBib3JkZXI6IDA7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMjMxRjIwOw0KICAgICAgICB9DQoNCiAgICAgICAgI3VuaXR5LWNhbnZhcyB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCg0KPGJvZHk+DQogICAgPGRpdiBpZD0ibG9hZGluZy10ZXh0IiBzdHlsZT0iY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDQ4cHg7IGZvbnQtZmFtaWx5OiBjdXJzaXZlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDIwcHg7Ij4gTE9BRElORy4uLiA8L2Rpdj4NCiAgICA8Y2FudmFzIGlkPSJ1bml0eS1jYW52YXMiIHRhYmluZGV4PSItMSI+PC9jYW52YXM+DQogICAgPHNjcmlwdCBzcmM9IkJ1aWxkL1dlYkdMLmxvYWRlci5qcyI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdD4NCiAgICAgICAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7DQogICAgICAgICAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsNCiAgICAgICAgICAgIG1ldGEubmFtZSA9ICd2aWV3cG9ydCc7DQogICAgICAgICAgICBtZXRhLmNvbnRlbnQgPSAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBoZWlnaHQ9ZGV2aWNlLWhlaWdodCwgaW5pdGlhbC1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8sIHNocmluay10by1maXQ9eWVzJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobWV0YSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9hZGluZy10ZXh0Iik7DQogICAgICAgIGxldCB0b3RhbEJ5dGVzID0gMDsNCiAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gMDsNCg0KICAgICAgICBmdW5jdGlvbiBmb3JtYXRTaXplKGJ5dGVzKSB7DQogICAgICAgICAgICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiIEdCIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoYnl0ZXMgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpICsgIiBNQiI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoYnl0ZXMgLyAxMDI0KS50b0ZpeGVkKDIpICsgIiBLQiI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBieXRlcyArICIgQiI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2V0U2l6ZSh1cmwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7DQogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkhFQUQiDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHJlcy5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKSB8fCAiMCIsIDEwKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aFByb2dyZXNzKHVybCkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsNCiAgICAgICAgICAgIGxldCBjaHVua3MgPSBbXTsNCiAgICAgICAgICAgIGxldCByZWNlaXZlZCA9IDA7DQogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsNCiAgICAgICAgICAgICAgICAgICAgZG9uZSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUNCiAgICAgICAgICAgICAgICB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTsNCiAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7DQogICAgICAgICAgICAgICAgcmVjZWl2ZWQgKz0gdmFsdWUubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGxvYWRlZEJ5dGVzICs9IHZhbHVlLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBjaHVua3MucHVzaCh2YWx1ZSk7DQogICAgICAgICAgICAgICAgY29uc3QgZG9uZVRleHQgPSBmb3JtYXRTaXplKGxvYWRlZEJ5dGVzKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFRleHQgPSBmb3JtYXRTaXplKHRvdGFsQnl0ZXMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0b3RhbEJ5dGVzID4gMCA/ICgobG9hZGVkQnl0ZXMgLyB0b3RhbEJ5dGVzKSAqIDEwMCkudG9GaXhlZCgxKSA6ICI/IjsNCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9IGBMT0FESU5HLi4uICR7ZG9uZVRleHR9IC8gJHt0b3RhbFRleHR9ICgke3BlcmNlbnR9JSlgOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IGZ1bGxCdWZmZXIgPSBuZXcgVWludDhBcnJheShyZWNlaXZlZCk7DQogICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDsNCiAgICAgICAgICAgIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykgew0KICAgICAgICAgICAgICAgIGZ1bGxCdWZmZXIuc2V0KGNodW5rLCBvZmZzZXQpOw0KICAgICAgICAgICAgICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZnVsbEJ1ZmZlci5idWZmZXI7DQogICAgICAgIH0NCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbWVyZ2VGaWxlcyhwYXJ0cykgew0KICAgICAgICAgICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKHBhcnRzLm1hcChmZXRjaFdpdGhQcm9ncmVzcykpOw0KICAgICAgICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoYnVmZmVycykpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZ2V0UGFydHMoZmlsZSwgY291bnQpIHsNCiAgICAgICAgICAgIGxldCBwYXJ0cyA9IFtdOw0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykgew0KICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goZmlsZSArICIucGFydCIgKyBpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBwYXJ0czsNCiAgICAgICAgfQ0KICAgICAgICAoYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgZGF0YVBhcnRzID0gZ2V0UGFydHMoIkJ1aWxkL1dlYkdMLmRhdGEiLCAzKTsNCiAgICAgICAgICAgIGNvbnN0IHdhc21QYXJ0cyA9IGdldFBhcnRzKCJCdWlsZC9XZWJHTC53YXNtIiwgMyk7DQogICAgICAgICAgICBjb25zdCBhbGxQYXJ0cyA9IFsuLi5kYXRhUGFydHMsIC4uLndhc21QYXJ0c107DQogICAgICAgICAgICBjb25zdCBzaXplcyA9IGF3YWl0IFByb21pc2UuYWxsKGFsbFBhcnRzLm1hcChnZXRTaXplKSk7DQogICAgICAgICAgICB0b3RhbEJ5dGVzID0gc2l6ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7DQogICAgICAgICAgICBjb25zdCBbZGF0YVVybCwgd2FzbVVybF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgbWVyZ2VGaWxlcyhkYXRhUGFydHMpLA0KICAgICAgICAgICAgICAgIG1lcmdlRmlsZXMod2FzbVBhcnRzKQ0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBjcmVhdGVVbml0eUluc3RhbmNlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jYW52YXMiKSwgew0KICAgICAgICAgICAgICAgIGRhdGFVcmw6IGRhdGFVcmwsDQogICAgICAgICAgICAgICAgZnJhbWV3b3JrVXJsOiAiQnVpbGQvV2ViR0wuZnJhbWV3b3JrLmpzIiwNCiAgICAgICAgICAgICAgICBjb2RlVXJsOiB3YXNtVXJsLA0KICAgICAgICAgICAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsDQogICAgICAgICAgICAgICAgY29tcGFueU5hbWU6ICJCYXNpY2FsbHkgR2FtZXMiLA0KICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiAiQmFsZGkncyBCYXNpY3MgQ2xhc3NpYyBSZW1hc3RlcmVkIiwNCiAgICAgICAgICAgICAgICBwcm9kdWN0VmVyc2lvbjogIjEuMSIsDQogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dC5yZW1vdmUoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KSgpOw0KICAgIDwvc2NyaXB0Pg0KPC9ib2R5Pg0KDQo8L2h0bWw+";
