window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCjxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvVUdTLUFzc2V0c0BtYWluL2hhcHB5JTIwcm9vbS8iPg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KPGhlYWQ+DQo8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQo8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+DQo8dGl0bGU+0KHRh9Cw0YHRgtC70LjQstCw0Y8g0JrQvtC80L3QsNGC0LA8L3RpdGxlPg0KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJUZW1wbGF0ZURhdGEvc3R5bGUuY3NzIj4NCjxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iVGVtcGxhdGVEYXRhL2Zhdmljb24uaWNvIiAvPg0KPHNjcmlwdCBzcmM9IlRlbXBsYXRlRGF0YS9Vbml0eVByb2dyZXNzLmpzIj48L3NjcmlwdD4NCg0KPHNjcmlwdD4NCihmdW5jdGlvbigpIHsNCiAgJ3VzZSBzdHJpY3QnOw0KICANCiAgY29uc3QgY29uZmlnID0gew0KICAgIGZpbGVzOiBbDQogICAgICB7IG5hbWU6ICdSZWxlYXNlL2J1aWxkX3dlYi5kYXRhJywgcGFydHM6IDIgfSwNCiAgICAgIHsgbmFtZTogJ1JlbGVhc2UvYnVpbGRfd2ViLmFzbS5qcycsIHBhcnRzOiAyIH0NCiAgICBdLA0KICAgIGRlYnVnOiB0cnVlDQogIH07DQogIA0KICAvLyBTdG9yZSBibG9iIFVSTHMgYW5kIG1lcmdlZCBidWZmZXJzDQogIHdpbmRvdy5ibG9iVXJscyA9IHt9Ow0KICB3aW5kb3cubWVyZ2VkRmlsZXMgPSB7fTsNCiAgY29uc3QgbWVyZ2VTdGF0dXMgPSB7fTsNCg0KICBmdW5jdGlvbiBsb2coLi4uYXJncykgeyANCiAgICBpZiAoY29uZmlnLmRlYnVnKSBjb25zb2xlLmxvZygnW0Jsb2JNZXJnZXJdJywgLi4uYXJncyk7IA0KICB9DQogIA0KICBmdW5jdGlvbiBlcnJvciguLi5hcmdzKSB7IA0KICAgIGNvbnNvbGUuZXJyb3IoJ1tCbG9iTWVyZ2VyXScsIC4uLmFyZ3MpOyANCiAgfQ0KICANCiAgZnVuY3Rpb24gbm9ybWFsaXplVXJsKHVybCkgeyANCiAgICB0cnkgeyANCiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodXJsLnRvU3RyaW5nKCkuc3BsaXQoJz8nKVswXSk7IA0KICAgIH0gY2F0Y2ggKGUpIHsgDQogICAgICByZXR1cm4gdXJsOyANCiAgICB9IA0KICB9DQogIA0KICBmdW5jdGlvbiB1cmxzTWF0Y2godXJsMSwgdXJsMikgew0KICAgIGNvbnN0IG4xID0gbm9ybWFsaXplVXJsKHVybDEpLCBuMiA9IG5vcm1hbGl6ZVVybCh1cmwyKTsNCiAgICBpZiAobjEgPT09IG4yIHx8IG4xLmVuZHNXaXRoKG4yKSB8fCBuMi5lbmRzV2l0aChuMSkpIHJldHVybiB0cnVlOw0KICAgIHJldHVybiBuMS5zcGxpdCgnLycpLnBvcCgpID09PSBuMi5zcGxpdCgnLycpLnBvcCgpOw0KICB9DQoNCiAgYXN5bmMgZnVuY3Rpb24gbWVyZ2VTcGxpdEZpbGVzKGZpbGVQYXRoLCBwYXJ0c0NvdW50KSB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IHBhcnRzID0gW107DQogICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYXJ0c0NvdW50OyBpKyspIHsNCiAgICAgICAgcGFydHMucHVzaChgJHtmaWxlUGF0aH0ucGFydCR7aX1gKTsNCiAgICAgIH0NCiAgICAgIGxvZyhgTWVyZ2luZyAke2ZpbGVQYXRofSBmcm9tICR7cGFydHNDb3VudH0gcGFydHMuLi5gKTsNCiAgICAgIA0KICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocGFydHMubWFwKHAgPT4gZmV0Y2gocCkpKTsNCiAgICAgIGZvciAoY29uc3QgciBvZiByZXNwb25zZXMpIHsNCiAgICAgICAgaWYgKCFyLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFBhcnQgbWlzc2luZzogJHtyLnVybH0gKCR7ci5zdGF0dXN9KWApOw0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyBGb3IgLmpzIGZpbGVzLCBtZXJnZSBhcyB0ZXh0DQogICAgICBpZiAoZmlsZVBhdGguZW5kc1dpdGgoJy5qcycpKSB7DQogICAgICAgIGNvbnN0IHRleHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVzcG9uc2VzLm1hcChyID0+IHIudGV4dCgpKSk7DQogICAgICAgIGNvbnN0IG1lcmdlZCA9IHRleHRzLmpvaW4oJycpOw0KICAgICAgICBsb2coYOKchSBNZXJnZWQ6ICR7ZmlsZVBhdGh9ICgkeyhtZXJnZWQubGVuZ3RoLzEwMjQpLnRvRml4ZWQoMil9IEtCKWApOw0KICAgICAgICANCiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFttZXJnZWRdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTsNCiAgICAgICAgY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogICAgICAgIA0KICAgICAgICByZXR1cm4geyBkYXRhOiBtZXJnZWQsIGJsb2JVcmw6IGJsb2JVcmwsIGlzVGV4dDogdHJ1ZSB9Ow0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8gRm9yIGJpbmFyeSBmaWxlcywgbWVyZ2UgYXMgQXJyYXlCdWZmZXINCiAgICAgICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IFByb21pc2UuYWxsKHJlc3BvbnNlcy5tYXAociA9PiByLmFycmF5QnVmZmVyKCkpKTsNCiAgICAgICAgY29uc3QgdG90YWxMZW4gPSBidWZmZXJzLnJlZHVjZSgoYWNjLCBiKSA9PiBhY2MgKyBiLmJ5dGVMZW5ndGgsIDApOw0KICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbik7DQogICAgICAgIGxldCBvZmZzZXQgPSAwOw0KICAgICAgICANCiAgICAgICAgZm9yIChjb25zdCBiIG9mIGJ1ZmZlcnMpIHsgDQogICAgICAgICAgbWVyZ2VkLnNldChuZXcgVWludDhBcnJheShiKSwgb2Zmc2V0KTsgDQogICAgICAgICAgb2Zmc2V0ICs9IGIuYnl0ZUxlbmd0aDsgDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGxvZyhg4pyFIE1lcmdlZDogJHtmaWxlUGF0aH0gKCR7KHRvdGFsTGVuLzEwMjQvMTAyNCkudG9GaXhlZCgyKX0gTUIpYCk7DQogICAgICAgIA0KICAgICAgICBjb25zdCBtaW1lVHlwZSA9IGZpbGVQYXRoLmVuZHNXaXRoKCcud2FzbScpID8gJ2FwcGxpY2F0aW9uL3dhc20nIDogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7DQogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbWVyZ2VkXSwgeyB0eXBlOiBtaW1lVHlwZSB9KTsNCiAgICAgICAgY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogICAgICAgIA0KICAgICAgICByZXR1cm4geyBkYXRhOiBtZXJnZWQuYnVmZmVyLCBibG9iVXJsOiBibG9iVXJsLCBpc1RleHQ6IGZhbHNlIH07DQogICAgICB9DQogICAgfSBjYXRjaCAoZSkgeyANCiAgICAgIGVycm9yKGUpOyANCiAgICAgIHRocm93IGU7IA0KICAgIH0NCiAgfQ0KDQogIGZ1bmN0aW9uIHNob3VsZEludGVyY2VwdCh1cmwpIHsNCiAgICBjb25zdCBzID0gbm9ybWFsaXplVXJsKHVybCk7DQogICAgaWYgKHMuaW5jbHVkZXMoJy5wYXJ0JykpIHJldHVybiBudWxsOw0KICAgIA0KICAgIGZvciAoY29uc3QgZiBvZiBjb25maWcuZmlsZXMpIHsNCiAgICAgIGlmICh1cmxzTWF0Y2gocywgZi5uYW1lKSkgew0KICAgICAgICByZXR1cm4gZi5uYW1lOw0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbnVsbDsNCiAgfQ0KDQogIGZ1bmN0aW9uIGdldEJsb2JVcmwobmFtZSkgew0KICAgIGlmICh3aW5kb3cuYmxvYlVybHNbbmFtZV0pIHJldHVybiB3aW5kb3cuYmxvYlVybHNbbmFtZV07DQogICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMod2luZG93LmJsb2JVcmxzKSkgew0KICAgICAgaWYgKHVybHNNYXRjaChrLCBuYW1lKSkgcmV0dXJuIHY7DQogICAgfQ0KICAgIHJldHVybiBudWxsOw0KICB9DQoNCiAgZnVuY3Rpb24gZ2V0TWVyZ2VkQnVmZmVyKG5hbWUpIHsNCiAgICBpZiAod2luZG93Lm1lcmdlZEZpbGVzW25hbWVdKSByZXR1cm4gd2luZG93Lm1lcmdlZEZpbGVzW25hbWVdOw0KICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHdpbmRvdy5tZXJnZWRGaWxlcykpIHsNCiAgICAgIGlmICh1cmxzTWF0Y2goaywgbmFtZSkpIHJldHVybiB2Ow0KICAgIH0NCiAgICByZXR1cm4gbnVsbDsNCiAgfQ0KDQogIC8vIEludGVyY2VwdCBmZXRjaCB0byByZXR1cm4gYmxvYiBVUkxzDQogIGlmICghd2luZG93Lm9yaWdpbmFsRmV0Y2gpIHdpbmRvdy5vcmlnaW5hbEZldGNoID0gd2luZG93LmZldGNoOw0KICB3aW5kb3cuZmV0Y2ggPSBmdW5jdGlvbih1cmwsIC4uLmFyZ3MpIHsNCiAgICBjb25zdCBuYW1lID0gc2hvdWxkSW50ZXJjZXB0KHVybCk7DQogICAgaWYgKG5hbWUpIHsNCiAgICAgIGxvZygnSW50ZXJjZXB0aW5nIGZldGNoIGZvcjonLCBuYW1lKTsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgIGNvbnN0IGJsb2JVcmwgPSBnZXRCbG9iVXJsKG5hbWUpOw0KICAgICAgICAgIGlmIChibG9iVXJsKSB7DQogICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsNCiAgICAgICAgICAgIGxvZygnRmV0Y2hpbmcgZnJvbSBibG9iIFVSTDonLCBuYW1lKTsNCiAgICAgICAgICAgIHdpbmRvdy5vcmlnaW5hbEZldGNoKGJsb2JVcmwsIC4uLmFyZ3MpDQogICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpDQogICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpOw0KICAgICAgICAgIH0gZWxzZSBpZiAobWVyZ2VTdGF0dXNbbmFtZV0gPT09ICdmYWlsZWQnKSB7IA0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7IA0KICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTWVyZ2UgZmFpbGVkJykpOyANCiAgICAgICAgICB9DQogICAgICAgIH0sIDUwKTsNCiAgICAgIH0pOw0KICAgIH0NCiAgICByZXR1cm4gd2luZG93Lm9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCB1cmwsIC4uLmFyZ3MpOw0KICB9DQoNCiAgLy8gSW50ZXJjZXB0IFhIUiB0byB1c2UgYmxvYiBVUkxzDQogIGlmICghd2luZG93Lk9yaWdpbmFsWE1MSHR0cFJlcXVlc3QpIHdpbmRvdy5PcmlnaW5hbFhNTEh0dHBSZXF1ZXN0ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0Ow0KICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbihvcHRzKSB7DQogICAgY29uc3QgeGhyID0gbmV3IHdpbmRvdy5PcmlnaW5hbFhNTEh0dHBSZXF1ZXN0KG9wdHMpOw0KICAgIGNvbnN0IG9yaWdpbmFsT3BlbiA9IHhoci5vcGVuOw0KICAgIGNvbnN0IG9yaWdpbmFsU2VuZCA9IHhoci5zZW5kOw0KICAgIA0KICAgIHhoci5vcGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIC4uLmFyZ3MpIHsgDQogICAgICB0aGlzLl91cmwgPSB1cmw7DQogICAgICB0aGlzLl9tZXRob2QgPSBtZXRob2Q7DQogICAgICB0aGlzLl9vcGVuQXJncyA9IGFyZ3M7DQogICAgICBjb25zdCBuYW1lID0gc2hvdWxkSW50ZXJjZXB0KHVybCk7DQogICAgICANCiAgICAgIGlmIChuYW1lKSB7DQogICAgICAgIGxvZygnSW50ZXJjZXB0aW5nIFhIUiBvcGVuOicsIG5hbWUpOw0KICAgICAgICB0aGlzLl9zaG91bGRJbnRlcmNlcHQgPSB0cnVlOw0KICAgICAgICB0aGlzLl9pbnRlcmNlcHROYW1lID0gbmFtZTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgDQogICAgICByZXR1cm4gb3JpZ2luYWxPcGVuLmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIC4uLmFyZ3MpOyANCiAgICB9Ow0KICAgIA0KICAgIHhoci5zZW5kID0gZnVuY3Rpb24oLi4uYXJncykgew0KICAgICAgaWYgKHRoaXMuX3Nob3VsZEludGVyY2VwdCkgew0KICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5faW50ZXJjZXB0TmFtZTsNCiAgICAgICAgbG9nKCdJbnRlcmNlcHRpbmcgWEhSIHNlbmQ6JywgbmFtZSk7DQogICAgICAgIA0KICAgICAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgIGNvbnN0IGJsb2JVcmwgPSBnZXRCbG9iVXJsKG5hbWUpOw0KICAgICAgICAgIGlmIChibG9iVXJsKSB7DQogICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpOw0KICAgICAgICAgICAgbG9nKCdTZW5kaW5nIFhIUiB3aXRoIGJsb2IgVVJMOicsIG5hbWUpOw0KICAgICAgICAgICAgb3JpZ2luYWxPcGVuLmNhbGwodGhpcywgdGhpcy5fbWV0aG9kLCBibG9iVXJsLCAuLi50aGlzLl9vcGVuQXJncyk7DQogICAgICAgICAgICBvcmlnaW5hbFNlbmQuY2FsbCh0aGlzLCAuLi5hcmdzKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKG1lcmdlU3RhdHVzW25hbWVdID09PSAnZmFpbGVkJykgew0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTsNCiAgICAgICAgICAgIGVycm9yKCdGYWlsZWQgdG8gZ2V0IGJsb2IgVVJMIGZvcjonLCBuYW1lKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sIDUwKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgDQogICAgICByZXR1cm4gb3JpZ2luYWxTZW5kLmNhbGwodGhpcywgLi4uYXJncyk7DQogICAgfTsNCiAgICANCiAgICByZXR1cm4geGhyOw0KICB9DQoNCiAgLy8gU3RhcnQgbWVyZ2luZyBwcm9jZXNzDQogIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkgew0KICAgIGxvZygnU3RhcnRpbmcgbWVyZ2UgcHJvY2Vzcy4uLicpOw0KICAgIGZvciAoY29uc3QgZiBvZiBjb25maWcuZmlsZXMpIHsNCiAgICAgIG1lcmdlU3RhdHVzW2YubmFtZV0gPSAnbWVyZ2luZyc7DQogICAgICANCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1lcmdlU3BsaXRGaWxlcyhmLm5hbWUsIGYucGFydHMpOw0KICAgICAgICB3aW5kb3cubWVyZ2VkRmlsZXNbZi5uYW1lXSA9IHJlc3VsdC5kYXRhOw0KICAgICAgICB3aW5kb3cuYmxvYlVybHNbZi5uYW1lXSA9IHJlc3VsdC5ibG9iVXJsOw0KICAgICAgICBtZXJnZVN0YXR1c1tmLm5hbWVdID0gJ3JlYWR5JzsNCiAgICAgICAgbG9nKGDinIUgUmVhZHk6ICR7Zi5uYW1lfWApOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIG1lcmdlU3RhdHVzW2YubmFtZV0gPSAnZmFpbGVkJzsNCiAgICAgICAgZXJyb3IoYEZhaWxlZCB0byBtZXJnZSAke2YubmFtZX06YCwgZXJyKTsNCiAgICAgIH0NCiAgICB9DQogICAgbG9nKCdBbGwgZmlsZXMgcHJvY2Vzc2VkLiBSZWFkeSB0byBsb2FkIFVuaXR5LicpOw0KICB9DQogIA0KICBzdGFydCgpOw0KfSkoKTsNCjwvc2NyaXB0Pg0KDQo8L2hlYWQ+DQo8Ym9keSBjbGFzcz0idGVtcGxhdGUiPg0KPGRpdiBjbGFzcz0idGVtcGxhdGUtd3JhcCBjbGVhciI+DQo8Y2FudmFzIGNsYXNzPSJlbXNjcmlwdGVuIiBpZD0iY2FudmFzIiBvbmNvbnRleHRtZW51PSJldmVudC5wcmV2ZW50RGVmYXVsdCgpIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48L2NhbnZhcz4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICB2YXIgTW9kdWxlID0gew0KICAgIFRPVEFMX01FTU9SWTogMjY4NDM1NDU2LA0KICAgIGVycm9yaGFuZGxlcjogbnVsbCwNCiAgICBjb21wYXRpYmlsaXR5Y2hlY2s6IG51bGwsDQogICAgYmFja2dyb3VuZENvbG9yOiAiIzAwMDAwMCIsDQogICAgc3BsYXNoU3R5bGU6ICJMaWdodCIsDQogICAgZGF0YVVybDogIlJlbGVhc2UvYnVpbGRfd2ViLmRhdGEiLA0KICAgIGNvZGVVcmw6ICJSZWxlYXNlL2J1aWxkX3dlYi5qcyIsDQogICAgYXNtVXJsOiAiUmVsZWFzZS9idWlsZF93ZWIuYXNtLmpzIiwNCiAgICBtZW1Vcmw6ICJSZWxlYXNlL2J1aWxkX3dlYi5tZW0iLA0KICB9Ow0KICBjb25zdCBjYW52YXMyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIpOw0KICAvLyBGdW5jdGlvbiB0byByZXNpemUgdGhlIGNhbnZhcyB0byBmaXQgdGhlIHdpbmRvdw0KICBmdW5jdGlvbiByZXNpemVDYW52YXMoKSB7DQogICAgY2FudmFzMi53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLTUwOw0KICAgIGNhbnZhczIuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LTUwOw0KICB9DQogIHJlc2l6ZUNhbnZhcygpOw0KPC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iUmVsZWFzZS9Vbml0eUxvYWRlci5qcyI+PC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+";
