window.game = "PCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPgoKPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuLXVzIj4KCjxoZWFkPgogIDxiYXNlIGhyZWY9Imh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL2J1YmJscy95b3V0dWJlLXBsYXlhYmxlcy9kZWIxYjJhZGQ5N2YwZDJlY2NiOWQ4YzZhMmZjNTQwZTU0Y2Q0YTllL3N0YWNreS1kYXNoLyI+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJpZT1lZGdlIj4KCiAgPHRpdGxlPllUIEdhbWUgV3JhcHBlciBXZWJHTCBUZW1wbGF0ZTwvdGl0bGU+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJUZW1wbGF0ZURhdGEvc3R5bGUuY3NzIiBub25jZT0iSEF0OTh4ckVpMUZnS2lqNlV1NU5TdyI+CiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL2J1YmJscy95b3V0dWJlLXBsYXlhYmxlcy9tYWluL3l0Z2FtZS5qcyIgbm9uY2U9IkhBdDk4eHJFaTFGZ0tpajZVdTVOU3ciPi8vIExvYWQgWVQgR2FtZSBBUEkgY29kZTwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keT4KICA8ZGl2IGlkPSJ1bml0eS1jb250YWluZXIiIGNsYXNzPSJ1bml0eS1kZXNrdG9wIj4KICAgIDxjYW52YXMgaWQ9InVuaXR5LWNhbnZhcyIgd2lkdGg9MTAwJSBoZWlnaHQ9MTAwJSB0YWJpbmRleD0iLTEiPjwvY2FudmFzPgogICAgPGRpdiBpZD0idW5pdHktbG9hZGluZy1iYXIiPgogICAgICA8ZGl2IGlkPSJ1bml0eS1sb2dvIj48L2Rpdj4KICAgICAgPGRpdiBpZD0idW5pdHktcHJvZ3Jlc3MtYmFyLWVtcHR5Ij4KICAgICAgICA8ZGl2IGlkPSJ1bml0eS1wcm9ncmVzcy1iYXItZnVsbCI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGlkPSJ1bml0eS13YXJuaW5nIj4gPC9kaXY+CiAgPC9kaXY+CgogIDxzY3JpcHQgc3JjPSJ1bmFyY2hpdmVyLm1pbi5qcyIgbm9uY2U9IkhBdDk4eHJFaTFGZ0tpajZVdTVOU3ciPjwvc2NyaXB0PgogIDxzY3JpcHQgbm9uY2U9IkhBdDk4eHJFaTFGZ0tpajZVdTVOU3ciPgogICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1jb250YWluZXIiKTsKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktY2FudmFzIik7CiAgICB2YXIgbG9hZGluZ0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1sb2FkaW5nLWJhciIpOwogICAgdmFyIHByb2dyZXNzQmFyRnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1wcm9ncmVzcy1iYXItZnVsbCIpOwogICAgdmFyIGZ1bGxzY3JlZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktZnVsbHNjcmVlbi1idXR0b24iKTsKICAgIHZhciBmdWxsc2NyZWVuT3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN1bml0eS1vdmVybGF5LWZ1bGxzY3JlZW4tYnV0dG9uIik7CiAgICB2YXIgcXVpdGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNxdWl0LWNhbnZhcyIpOwogICAgdmFyIHdhcm5pbmdCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdW5pdHktd2FybmluZyIpOwogICAgZnVuY3Rpb24gdW5pdHlTaG93QmFubmVyKG1zZywgdHlwZSkge30KCiAgICB2YXIgYnVpbGRVcmwgPSAiQnVpbGQiOwogICAgdmFyIGxvYWRlclVybCA9IGJ1aWxkVXJsICsgIi9XZWIubG9hZGVyLmpzIjsKICAgIHZhciBjb25maWcgPSB7CiAgICAgIGRhdGFVcmw6IGJ1aWxkVXJsICsgIi9XZWIuZGF0YS51bml0eXdlYiIsCiAgICAgIGZyYW1ld29ya1VybDogYnVpbGRVcmwgKyAiL1dlYi5mcmFtZXdvcmsuanMudW5pdHl3ZWIiLAogICAgICAgIGNvZGVVcmw6IGJ1aWxkVXJsICsgIi9XZWIud2FzbS51bml0eXdlYiIsCiAgICAgIHN0cmVhbWluZ0Fzc2V0c1VybDogIlN0cmVhbWluZ0Fzc2V0cyIsCiAgICAgIGNvbXBhbnlOYW1lOiAiQm9ybjJQbGF5IiwKICAgICAgcHJvZHVjdE5hbWU6ICJTdGFja3lEYXNoIiwKICAgICAgcHJvZHVjdFZlcnNpb246ICI0LjguNiIsCiAgICAgIHNob3dCYW5uZXI6IHVuaXR5U2hvd0Jhbm5lciwKICAgIH07CiAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgdmFyIG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgICAgIG1ldGEubmFtZSA9ICd2aWV3cG9ydCc7CiAgICAgIG1ldGEuY29udGVudCA9ICd3aWR0aD1kZXZpY2Utd2lkdGgsIGhlaWdodD1kZXZpY2UtaGVpZ2h0LCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgc2hyaW5rLXRvLWZpdD15ZXMnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKG1ldGEpOwogICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gInVuaXR5LW1vYmlsZSI7CiAgICAgIGNhbnZhcy5jbGFzc05hbWUgPSAidW5pdHktbW9iaWxlIjsKICAgIH0gZWxzZSB7CiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgIH0KCiAgICBsb2FkaW5nQmFyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgbG9hZFJlc291cmNlcyA9IChjYWxsYmFjaykgPT4gewogICAgICB2YXIgY29kZVVybCA9IGNvbmZpZy5jb2RlVXJsOwogICAgICB2YXIgc2hvdWxkRGVjb21wcmVzcyA9IHRydWU7CgogICAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwOwoKICAgICAgbGV0IHJlYWR5RGVmaW5lciA9ICgpID0+IHsKICAgICAgICBwcm9jZXNzZWRDb3VudCsrOwogICAgICAgIGlmKHByb2Nlc3NlZENvdW50ID09PSAyKSB7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgRGVjb21wcmVzc0ZpbGUoY29uZmlnLmNvZGVVcmwsICdhcHBsaWNhdGlvbi93YXNtJywgKGZpbGUpID0+IHsKICAgICAgICBjb25maWcuY29kZVVybCA9IGZpbGU7CiAgICAgICAgcmVhZHlEZWZpbmVyKCk7CiAgICAgIH0pOwoKICAgICAgRGVjb21wcmVzc0ZpbGUoY29uZmlnLmRhdGFVcmwsICdhcHBsaWNhdGlvbi9kYXRhJywgKGZpbGUpID0+IHsKICAgICAgICBjb25maWcuZGF0YVVybCA9IGZpbGU7CiAgICAgICAgcmVhZHlEZWZpbmVyKCk7CiAgICAgIH0pOwogICAgfQogICAgbG9hZFppcERhdGEgPSAodXJsLCBjYWxsYmFjaykgPT4gewogICAgICBmZXRjaCh1cmwpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYmxvYigpKQogICAgICAgIC50aGVuKGJsb2IgPT4gewogICAgICAgICAgY2FsbGJhY2soYmxvYik7CiAgICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBVcmxFeGlzdHModXJsVG9DaGVjaykKICAgIHsKICAgICAgICB2YXIgaHR0cFJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIGh0dHBSZXEub3BlbignSEVBRCcsIHVybFRvQ2hlY2ssIGZhbHNlKTsKICAgICAgICBodHRwUmVxLnNlbmQoKTsKICAgICAgICByZXR1cm4gaHR0cFJlcS5zdGF0dXMhPTQwNDsKICAgIH0KICAgIGZ1bmN0aW9uIERlY29tcHJlc3NGaWxlKGZpbGUsIGJsb2JNaW1lVHlwZSwgY2FsbGJhY2spIHsKICAgICAgbGV0IGRlY29tcHJlc3NlZEZpbGU7CgogICAgICBsb2FkWmlwRGF0YShmaWxlLCAoZikgPT4gewogICAgICAgIFVuYXJjaGl2ZXIub3BlbihmKS50aGVuKGFzeW5jIGZ1bmN0aW9uIChhcmNoaXZlKSB7CiAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBhcmNoaXZlLmVudHJpZXMpIHsKICAgICAgICAgICAgaWYgKGVudHJ5LmlzX2ZpbGUpIHsKICAgICAgICAgICAgICBsZXQgZW50cnlSZWFkID0gYXdhaXQgZW50cnkucmVhZCgpOwogICAgICAgICAgICAgIGxldCBlbnRyeURhdGEgPSBhd2FpdCBlbnRyeVJlYWQuYXJyYXlCdWZmZXIoKTsKICAgICAgICAgICAgICBsZXQgZGF0YUJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoZW50cnlEYXRhKV0sIHsgdHlwZTogYmxvYk1pbWVUeXBlIH0pOwogICAgICAgICAgICAgIGRlY29tcHJlc3NlZEZpbGUgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhQmxvYik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGNhbGxiYWNrKGRlY29tcHJlc3NlZEZpbGUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgdW5pdHlHYW1lSW5zdGFuY2UgPSBudWxsOwogICAgZnVuY3Rpb24gSW5pdFVuaXR5U2VjdGlvbigpIHsKICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICBzY3JpcHQuc3JjID0gbG9hZGVyVXJsOwogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gewogICAgICAgIGNyZWF0ZVVuaXR5SW5zdGFuY2UoY2FudmFzLCBjb25maWcsIChwcm9ncmVzcykgPT4gewogICAgICAgICAgcHJvZ3Jlc3NCYXJGdWxsLnN0eWxlLndpZHRoID0gMTAwICogcHJvZ3Jlc3MgKyAiJSI7CiAgICAgICAgICB9KS50aGVuKCh1bml0eUluc3RhbmNlKSA9PiB7CiAgICAgICAgICAgIHVuaXR5R2FtZUluc3RhbmNlID0gdW5pdHlJbnN0YW5jZTsKICAgICAgICAgICAgbG9hZGluZ0Jhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgfSkuY2F0Y2goKG1lc3NhZ2UpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTsKICAgICAgICAgIH0pOwogICAgICB9OwoKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgfQogICAgSW5pdFVuaXR5U2VjdGlvbigpOwoKICAgICAgCiAgICB3aW5kb3cub25mb2N1cyA9IGZ1bmN0aW9uKCkgewogICAgICB1bml0eUdhbWVJbnN0YW5jZS5TZW5kTWVzc2FnZSgiWVRHYW1lV3JhcHBlciIsICJSZWNlaXZlT25SZXN1bWVFdmVudCIpOwogICAgfTsKICAgIHdpbmRvdy5vbmJsdXIgPSBmdW5jdGlvbigpIHsKICAgICAgdW5pdHlHYW1lSW5zdGFuY2UuU2VuZE1lc3NhZ2UoIllUR2FtZVdyYXBwZXIiLCAiUmVjZWl2ZU9uUGF1c2VFdmVudCIpOwogICAgfTsKICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==";
