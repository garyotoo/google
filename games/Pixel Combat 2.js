window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCg0KPGh0bWwgbGFuZz0iZW4tdXMiPg0KICA8aGVhZD4NCiAgICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL1VHUy1Bc3NldHNAbWFpbi9waXhlbCUyMGNvbWJhdCUyMDIvIj4NCiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogICAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPg0KICAgIDx0aXRsZT5QaXhlbCBDb21iYXQgMjwvdGl0bGU+DQogICAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJzdHlsZS9mYXZpY29uLmljbyI+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS9zdHlsZS5jc3MiPg0KCTxzY3JpcHQgc3JjPSJVbml0eUxvYWRlci5qcyI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCBzcmM9IlVuaXR5UHJvZ3Jlc3MuanMiPjwvc2NyaXB0Pg0KICAgIDxzY3JpcHQ+DQogICAgICB3aW5kb3cubWVyZ2VkQmxvYlVybHMgPSB7fTsNCiAgICAgIHdpbmRvdy5hc3NldHNSZWFkeSA9IGZhbHNlOw0KDQogICAgICBhc3luYyBmdW5jdGlvbiBtZXJnZVNwbGl0RmlsZShmaWxlVXJsQmFzZSwgbnVtUGFydHMgPSAyKSB7DQogICAgICAgIGNvbnN0IHBhcnRVcmxzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtUGFydHMgfSwgKF8sIGkpID0+IA0KICAgICAgICAgIGAke2ZpbGVVcmxCYXNlfS5wYXJ0JHtpICsgMX1gDQogICAgICAgICk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbCgNCiAgICAgICAgICAgIHBhcnRVcmxzLm1hcCh1cmwgPT4gZmV0Y2godXJsKSkNCiAgICAgICAgICApOw0KDQogICAgICAgICAgaWYgKHJlc3BvbnNlcy5zb21lKHIgPT4gIXIub2spKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGF3YWl0IFByb21pc2UuYWxsKA0KICAgICAgICAgICAgcmVzcG9uc2VzLm1hcChyID0+IHIuYXJyYXlCdWZmZXIoKSkNCiAgICAgICAgICApOw0KDQogICAgICAgICAgY29uc3QgY29tYmluZWRCbG9iID0gbmV3IEJsb2IocGFydHMsIHsNCiAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nDQogICAgICAgICAgfSk7DQoNCiAgICAgICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChjb21iaW5lZEJsb2IpOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIGZ1bmN0aW9uIHNldHVwWEhSSW50ZXJjZXB0b3IoKSB7DQogICAgICAgIGlmICh3aW5kb3cueGhySW50ZXJjZXB0b3JJbnN0YWxsZWQpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGNvbnN0IG9yaWdpbmFsT3BlbiA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuOw0KICAgICAgICBjb25zdCBvcmlnaW5hbFNlbmQgPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZDsNCg0KICAgICAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCAuLi5hcmdzKSB7DQogICAgICAgICAgdGhpcy5fdXJsID0gdXJsOw0KICAgICAgICAgIHRoaXMuX21ldGhvZCA9IG1ldGhvZDsNCiAgICAgICAgICB0aGlzLl9hcmdzID0gYXJnczsNCiAgICAgICAgICANCiAgICAgICAgICBsZXQgZmluYWxVcmwgPSB1cmw7DQogICAgICAgICAgY29uc3QgZGVjb2RlZFVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmwpOw0KICAgICAgICAgIA0KICAgICAgICAgIGZvciAoY29uc3QgW2ZpbGVuYW1lLCBibG9iVXJsXSBvZiBPYmplY3QuZW50cmllcyh3aW5kb3cubWVyZ2VkQmxvYlVybHMpKSB7DQogICAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKGVuY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSkpIHx8IA0KICAgICAgICAgICAgICAgIGRlY29kZWRVcmwuaW5jbHVkZXMoZmlsZW5hbWUpIHx8IA0KICAgICAgICAgICAgICAgIHVybC5pbmNsdWRlcyhmaWxlbmFtZSkpIHsNCiAgICAgICAgICAgICAgZmluYWxVcmwgPSBibG9iVXJsOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT3Blbi5jYWxsKHRoaXMsIG1ldGhvZCwgZmluYWxVcmwsIC4uLmFyZ3MpOw0KICAgICAgICB9Ow0KDQogICAgICAgIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oLi4uYXJncykgew0KICAgICAgICAgIGNvbnN0IHhociA9IHRoaXM7DQogICAgICAgICAgDQogICAgICAgICAgaWYgKCF3aW5kb3cuYXNzZXRzUmVhZHkpIHsNCiAgICAgICAgICAgIGNvbnN0IGNoZWNrUmVhZHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgICAgIGlmICh3aW5kb3cuYXNzZXRzUmVhZHkpIHsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUmVhZHkpOw0KICAgICAgICAgICAgICAgIG9yaWdpbmFsU2VuZC5hcHBseSh4aHIsIGFyZ3MpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCA1MCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIHJldHVybiBvcmlnaW5hbFNlbmQuYXBwbHkodGhpcywgYXJncyk7DQogICAgICAgIH07DQogICAgICAgIA0KICAgICAgICB3aW5kb3cueGhySW50ZXJjZXB0b3JJbnN0YWxsZWQgPSB0cnVlOw0KICAgICAgfQ0KDQogICAgICBmdW5jdGlvbiBzZXR1cEZldGNoSW50ZXJjZXB0b3IoKSB7DQogICAgICAgIGlmICh3aW5kb3cuZmV0Y2hJbnRlcmNlcHRvckluc3RhbGxlZCkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IG9yaWdpbmFsRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7DQogICAgICAgIHdpbmRvdy5mZXRjaCA9IGZ1bmN0aW9uKHVybCwgLi4uYXJncykgew0KICAgICAgICAgIGxldCBmaW5hbFVybCA9IHVybDsNCiAgICAgICAgICBjb25zdCBkZWNvZGVkVXJsID0gdHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyBkZWNvZGVVUklDb21wb25lbnQodXJsKSA6ICcnOw0KICAgICAgICAgIA0KICAgICAgICAgIGZvciAoY29uc3QgW2ZpbGVuYW1lLCBibG9iVXJsXSBvZiBPYmplY3QuZW50cmllcyh3aW5kb3cubWVyZ2VkQmxvYlVybHMpKSB7DQogICAgICAgICAgICBpZiAoKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnICYmIA0KICAgICAgICAgICAgICAgICh1cmwuaW5jbHVkZXMoZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKSkgfHwgDQogICAgICAgICAgICAgICAgIGRlY29kZWRVcmwuaW5jbHVkZXMoZmlsZW5hbWUpIHx8IA0KICAgICAgICAgICAgICAgICB1cmwuaW5jbHVkZXMoZmlsZW5hbWUpKSkpIHsNCiAgICAgICAgICAgICAgZmluYWxVcmwgPSBibG9iVXJsOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBmaW5hbFVybCwgLi4uYXJncyk7DQogICAgICAgIH07DQoNCiAgICAgICAgd2luZG93LmZldGNoSW50ZXJjZXB0b3JJbnN0YWxsZWQgPSB0cnVlOw0KICAgICAgfQ0KDQogICAgICBhc3luYyBmdW5jdGlvbiBwcmVwYXJlR2FtZUFzc2V0cygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICB3aW5kb3cuYXNzZXRzUmVhZHkgPSBmYWxzZTsNCiAgICAgICAgICBkZWxldGUgd2luZG93LnhockludGVyY2VwdG9ySW5zdGFsbGVkOw0KICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuZmV0Y2hJbnRlcmNlcHRvckluc3RhbGxlZDsNCiAgICAgICAgICB3aW5kb3cubWVyZ2VkQmxvYlVybHMgPSB7fTsNCiAgICAgICAgICANCiAgICAgICAgICBzZXR1cFhIUkludGVyY2VwdG9yKCk7DQogICAgICAgICAgc2V0dXBGZXRjaEludGVyY2VwdG9yKCk7DQogICAgICAgICAgDQogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnYnVpbGQuanNvbicpOw0KICAgICAgICAgIGNvbnN0IGJ1aWxkQ29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgIA0KICAgICAgICAgIGNvbnN0IGRhdGFVcmwgPSBidWlsZENvbmZpZy5kYXRhVXJsOw0KICAgICAgICAgIGlmIChkYXRhVXJsKSB7DQogICAgICAgICAgICBjb25zdCBibG9iVXJsID0gYXdhaXQgbWVyZ2VTcGxpdEZpbGUoZGF0YVVybCwgMik7DQogICAgICAgICAgICBpZiAoYmxvYlVybCkgew0KICAgICAgICAgICAgICB3aW5kb3cubWVyZ2VkQmxvYlVybHNbZGF0YVVybF0gPSBibG9iVXJsOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICB3aW5kb3cuYXNzZXRzUHJlcGFyZWQgPSB0cnVlOw0KICAgICAgICAgIHdpbmRvdy5hc3NldHNSZWFkeSA9IHRydWU7DQogICAgICAgICAgDQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgd2luZG93LmFzc2V0c1ByZXBhcmVkID0gZmFsc2U7DQogICAgICAgICAgd2luZG93LmFzc2V0c1JlYWR5ID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBwcmVwYXJlR2FtZUFzc2V0cygpLnRoZW4oKCkgPT4gew0KICAgICAgICB2YXIgZ2FtZUluc3RhbmNlID0gVW5pdHlMb2FkZXIuaW5zdGFudGlhdGUoImdhbWVDb250YWluZXIiLCAiYnVpbGQuanNvbiIsIHtvblByb2dyZXNzOiBVbml0eVByb2dyZXNzLE1vZHVsZTp7b25SdW50aW1lSW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uKCkge1VuaXR5UHJvZ3Jlc3MoZ2FtZUluc3RhbmNlLCAiY29tcGxldGUiKX19fSk7DQogICAgICAgIHdpbmRvdy5nYW1lSW5zdGFuY2UgPSBnYW1lSW5zdGFuY2U7DQogICAgICB9KTsNCiAgICA8L3NjcmlwdD4NCiAgPC9oZWFkPg0KICA8Ym9keT4NCiAgICA8ZGl2IGNsYXNzPSJ3ZWJnbC1jb250ZW50Ij4NCiAgICAgIDxkaXYgaWQ9ImdhbWVDb250YWluZXIiIHN0eWxlPSJ3aWR0aDogOTAwcHg7IGhlaWdodDogNjc1cHg7Ij48L2Rpdj4NCgkgIDxkaXYgY2xhc3M9ImZvb3RlciI+DQoJICAgICAgICAgICAgPGRpdiBjbGFzcz0id2ViZ2wtbG9nbyI+PC9kaXY+DQoJICAgICAgICAgICAgPGRpdiBjbGFzcz0iZnVsbHNjcmVlbiIgb25jbGljaz0id2luZG93LmdhbWVJbnN0YW5jZS5TZXRGdWxsc2NyZWVuKDEpIj48L2Rpdj4NCgkgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSI+UGl4ZWwgQ29tYmF0IDI8L2Rpdj4NCgkgICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICA8L2JvZHk+DQo8L2h0bWw+";
