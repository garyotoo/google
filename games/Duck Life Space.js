window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQo8aHRtbCBsYW5nPSJlbi11cyIgc3R5bGU9ImhlaWdodDoxMDAlIj4NCjxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvVUdTLUFzc2V0c0BkZmEzNGNkNzk1MDhjMWFmN2U4M2M0MmZkZmRmMDM0MDI2MGUxNjM4L2R1Y2slMjBsaWZlJTIwNi8iPg0KPGhlYWQ+DQogIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPg0KICA8dGl0bGU+V2l4IEdhbWVzIHwgRHVjayBMaWZlOiBTcGFjZTwvdGl0bGU+DQogIDxzY3JpcHQgc3JjPSJCdWlsZC9Vbml0eUxvYWRlci5qcyI+PC9zY3JpcHQ+IA0KICA8c2NyaXB0Pg0KICAgIC8vIC0tLSB1dGlsaXR5IHRvIG1lcmdlIHNwbGl0IHBhcnRzIC0tLQ0KICAgIGZ1bmN0aW9uIG1lcmdlRmlsZXMoZmlsZVBhcnRzKSB7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBsZXQgYnVmZmVycyA9IFtdOw0KICAgICAgICBmdW5jdGlvbiBmZXRjaFBhcnQoaSkgew0KICAgICAgICAgIGlmIChpID49IGZpbGVQYXJ0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgIGxldCBtZXJnZWRCbG9iID0gbmV3IEJsb2IoYnVmZmVycyk7DQogICAgICAgICAgICBsZXQgbWVyZ2VkVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChtZXJnZWRCbG9iKTsNCiAgICAgICAgICAgIHJlc29sdmUobWVyZ2VkVXJsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgZmV0Y2goZmlsZVBhcnRzW2ldKQ0KICAgICAgICAgICAgLnRoZW4ociA9PiByLmFycmF5QnVmZmVyKCkpDQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgICBmZXRjaFBhcnQoaSArIDEpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpOw0KICAgICAgICB9DQogICAgICAgIGZldGNoUGFydCgwKTsNCiAgICAgIH0pOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFBhcnRzKGZpbGUsIHN0YXJ0LCBlbmQpIHsNCiAgICAgIGxldCBhcnIgPSBbXTsNCiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykgew0KICAgICAgICBhcnIucHVzaChmaWxlICsgIi5wYXJ0IiArIGkpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGFycjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZXNpemVVbml0eUNvbnRhaW5lcigpIHsNCiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZUNvbnRhaW5lciIpOw0KICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyAicHgiOw0KICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICJweCI7DQogICAgfQ0KDQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZVVuaXR5Q29udGFpbmVyKTsNCg0KICAgIC8vIE1pbmltYWwgVW5pdHlQcm9ncmVzcyBzdHViIHNvIG9uUHJvZ3Jlc3MgY2FsbGJhY2tzIHdvbid0IGZhaWwgd2hlbiBub3QgdXNpbmcNCiAgICAvLyB0aGUgZnVsbCBVbml0eSBnZW5lcmF0ZWQgbG9hZGluZyBVSS4gSXQgdG9sZXJhdGVzIG51bWJlciwgb2JqZWN0IG9yDQogICAgLy8gJ2NvbXBsZXRlJyB2YWx1ZXMgYW5kIGlzIGludGVudGlvbmFsbHkgc21hbGwuDQogICAgZnVuY3Rpb24gVW5pdHlQcm9ncmVzcyhnYW1lSW5zdGFuY2UsIHByb2dyZXNzKSB7DQogICAgICB0cnkgew0KICAgICAgICBpZiAocHJvZ3Jlc3MgPT09ICdjb21wbGV0ZScpIHsNCiAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvIGZvciBub3c7IHVzZXIgY2FuIGFkZCBVSSBoaWRlIGxvZ2ljIGlmIGRlc2lyZWQNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHBjdCA9IDA7DQogICAgICAgIGlmICh0eXBlb2YgcHJvZ3Jlc3MgPT09ICdudW1iZXInKSBwY3QgPSBwcm9ncmVzczsNCiAgICAgICAgZWxzZSBpZiAocHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MubG9hZGVkICYmIHByb2dyZXNzLnRvdGFsKSBwY3QgPSBwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbDsNCiAgICAgICAgdmFyIHR4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXRleHQnKTsNCiAgICAgICAgaWYgKHR4dCkgdHh0LnRleHRDb250ZW50ID0gJ0xvYWRpbmcuLi4gJyArIE1hdGgucm91bmQocGN0ICogMTAwKSArICclJzsNCiAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgLy8gc3dhbGxvdyBlcnJvcnMgZnJvbSB0aGUgcHJvZ3Jlc3Mgc3R1Yg0KICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIC0tLS0gTUFJTiBMT0FERVIgLS0tLQ0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24gKCkgew0KICAgICAgLy8gMS4gTG9hZCB0aGUgb3JpZ2luYWwgSlNPTiBjb25maWcNCiAgICAgIGZldGNoKCJCdWlsZC9XZWJHTDVIb29kYS5qc29uIikNCiAgICAgICAgLnRoZW4ociA9PiByLmpzb24oKSkNCiAgICAgICAgLnRoZW4oY29uZmlnID0+IHsNCiAgICAgICAgICAvLyAyLiBNZXJnZSBzcGxpdCAuZGF0YSwgLndhc20uY29kZSwgYW5kIC53YXNtLmZyYW1ld29yayBwYXJ0cw0KICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbDQogICAgICAgICAgICBtZXJnZUZpbGVzKGdldFBhcnRzKCJCdWlsZC9XZWJHTDVIb29kYS5kYXRhLnVuaXR5d2ViIiwgMSwgMykpLA0KICAgICAgICAgICAgbWVyZ2VGaWxlcyhnZXRQYXJ0cygiQnVpbGQvV2ViR0w1SG9vZGEuYXNtLmNvZGUudW5pdHl3ZWIiLCAxLCAxKSksIA0KICAgICAgICAgICAgbWVyZ2VGaWxlcyhnZXRQYXJ0cygiQnVpbGQvV2ViR0w1SG9vZGEuYXNtLm1lbW9yeS51bml0eXdlYiIsIDEsIDEpKSwgLy8gYWRqdXN0IHBhcnQgY291bnQgaWYgbmVlZGVkDQogICAgICAgICAgICBtZXJnZUZpbGVzKGdldFBhcnRzKCJCdWlsZC9XZWJHTDVIb29kYS5hc20uZnJhbWV3b3JrLnVuaXR5d2ViIiwgMSwgMSkpIC8vIGFkanVzdCBwYXJ0IGNvdW50IGlmIG5lZWRlZA0KICAgICAgICAgIF0pLnRoZW4oKFtkYXRhVXJsLCBhc21Db2RlVXJsLCBhc21NZW1vcnlVcmwsIGFzbUZyYW1ld29ya1VybF0pID0+IHsNCiAgICAgICAgICAgIGNvbmZpZy5kYXRhVXJsID0gZGF0YVVybDsNCiAgICAgICAgICAgIGNvbmZpZy5hc21Db2RlVXJsID0gYXNtQ29kZVVybDsNCiAgICAgICAgICAgIGNvbmZpZy5hc21NZW1vcnlVcmwgPSBhc21NZW1vcnlVcmw7DQogICAgICAgICAgICBjb25maWcuYXNtRnJhbWV3b3JrVXJsID0gYXNtRnJhbWV3b3JrVXJsOw0KDQogICAgICAgICAgICAvLyA0LiBUdXJuIGNvbmZpZyBiYWNrIGludG8gYSBCbG9iIEpTT04gZmlsZQ0KICAgICAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoY29uZmlnKV0sIHsgdHlwZTogImFwcGxpY2F0aW9uL2pzb24iIH0pOw0KICAgICAgICAgICAgbGV0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOw0KDQogICAgICAgICAgICAvLyA1LiBJbnN0YW50aWF0ZSBVbml0eSB3aXRoIGJsb2IgVVJMDQogICAgICAgICAgICB3aW5kb3cuZ2FtZUluc3RhbmNlID0gVW5pdHlMb2FkZXIuaW5zdGFudGlhdGUoImdhbWVDb250YWluZXIiLCBibG9iVXJsLCB7DQogICAgICAgICAgICAgIG9uUHJvZ3Jlc3M6IFVuaXR5UHJvZ3Jlc3MsDQogICAgICAgICAgICAgIE1vZHVsZTogew0KICAgICAgICAgICAgICAgIG9uUnVudGltZUluaXRpYWxpemVkOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICByZXNpemVVbml0eUNvbnRhaW5lcigpOw0KICAgICAgICAgICAgICAgICAgbGV0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvYWRpbmctdGV4dCIpOw0KICAgICAgICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSBsb2FkaW5nVGV4dC5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgIC8vIEhpZGUgVW5pdHkgbG9hZGluZyBzY3JlZW4gZWxlbWVudHMNCiAgICAgICAgICAgICAgICAgIFVuaXR5UHJvZ3Jlc3Mod2luZG93LmdhbWVJbnN0YW5jZSwgJ2NvbXBsZXRlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5lcnJvcigiVW5pdHkgbG9hZCBmYWlsZWQ6IiwgZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSk7DQogIDwvc2NyaXB0Pg0KPC9oZWFkPg0KDQo8Ym9keSBzdHlsZT0id2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IG1hcmdpbjowIj4NCiAgPGRpdiBpZD0iZ2FtZUNvbnRhaW5lciIgc3R5bGU9IndpZHRoOjEwMCU7IGhlaWdodDoxMDAlOyI+PC9kaXY+DQo8L2JvZHk+DQoNCjwvaHRtbD4=";
