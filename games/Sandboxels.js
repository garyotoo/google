window.game = "PGh0bWw+DQoNCjwhLS0gVWx0aW1hdGUgR2FtZSBTdGFzaCBmaWxlIC0tPg0KPCEtLSBGb3IgdGhlIHJlZ3VsYXJseSB1cGRhdGluZyBkb2MgZ28gdG8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xX0ZtSDNCbFNCUUk3RkdnQVFMNTktWlBlOGVDeHMzNXdlbDZKVXlWYUc4US8gLS0+DQoNCg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiIgY2xhc3M9ImhvbWVwYWdlIj4NCg0KPGhlYWQ+DQogIDxiYXNlIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9SNzRuQ29tL3NhbmRib3hlbHNAbWFpbi8iPg0KCTxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCgk8dGl0bGUgaWQ9InRpdGxlVGFnIj5TYW5kYm94ZWxzIC0gRXhwZXJpbWVudCB3aXRoIFBpeGVsczwvdGl0bGU+DQoJPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IlJlbGF4IG9yIGV4cGVyaW1lbnQgd2l0aCBvdmVyIDUwMCBtYXRlcmlhbHMgaW4gdGhpcyBmYWxsaW5nIHNhbmQgc2ltdWxhdG9yLCBmZWF0dXJpbmcgaGVhdCwgY2hlbWljYWwgcmVhY3Rpb25zLCBkZW5zaXR5LCBidXJuaW5nLCBleHBsb3Npb25zLiIgaWQ9InBhZ2VEZXNjIj4NCgk8bWV0YSBuYW1lPSJrZXl3b3JkcyIgY29udGVudD0iZmFsbGluZyBzYW5kLCBlbGVtZW50cywgcGl4ZWwgYXJ0LCBzaW11bGF0b3IsIHBvd2RlciwgdG95LCBjaGVtaXN0cnksIHNjaWVuY2UsIGVkdWNhdGlvbmFsIj4NCgk8bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9IlI3NG4iPg0KCTxtZXRhIG5hbWU9ImNvcHlyaWdodCIgY29udGVudD0iUjc0biI+DQoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIj4NCgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9ImFsbCI+DQoJPG1ldGEgbmFtZT0iY29udGFjdCIgY29udGVudD0iY29udGFjdEBSNzRuLmNvbSI+DQoJPGxpbmsgcmVsPSJjYW5vbmljYWwiIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5yNzRuLmNvbSIgaWQ9ImNhbm9uaWNhbExpbmsiLz4NCgkNCgk8IS0tRmF2aWNvbnMtLT4NCgk8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxODB4MTgwIiBocmVmPSJpY29ucy9hcHBsZS10b3VjaC1pY29uLnBuZz92PTIiPg0KCTxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBzaXplcz0iMzJ4MzIiIGhyZWY9Imljb25zL2Zhdmljb24tMzJ4MzIucG5nP3Y9MiI+DQoJPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIHNpemVzPSIxNngxNiIgaHJlZj0iaWNvbnMvZmF2aWNvbi0xNngxNi5wbmc/dj0yIj4NCgk8bGluayByZWw9Im1hbmlmZXN0IiBocmVmPSJtYW5pZmVzdC5qc29uIj4NCgk8bGluayByZWw9Im1hc2staWNvbiIgaHJlZj0iaWNvbnMvc2FmYXJpLXBpbm5lZC10YWIuc3ZnP3Y9MiIgY29sb3I9IiMyMTY3ZmYiPg0KCTxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iaWNvbnMvZmF2aWNvbi5pY28/dj0yIj4NCgk8bGluayByZWw9ImhlbHAiIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9oZWxwIj4NCgk8bGluayByZWw9InNlYXJjaCIgaHJlZj0iaHR0cHM6Ly9SNzRuLmNvbS9zZWFyY2gvI2dzYy50YWI9MCI+DQoJPGxpbmsgcmVsPSJsaWNlbnNlIiBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vbGljZW5zZS50eHQiPg0KCTxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tVGlsZUNvbG9yIiBjb250ZW50PSIjZTZkNTc3Ij4NCgk8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwMDAwMCI+DQoNCgk8IS0tT3BlbkdyYXBoLS0+DQoJPG1ldGEgcHJvcGVydHk9Im9nOmxvY2FsZSIgY29udGVudD0iZW5fVVMiPg0KCTxtZXRhIHByb3BlcnR5PSJvZzp0eXBlIiBjb250ZW50PSJ3ZWJzaXRlIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6dGl0bGUiIGNvbnRlbnQ9IlNhbmRib3hlbHMgLSBFeHBlcmltZW50IHdpdGggUGl4ZWxzIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6ZGVzY3JpcHRpb24iIGNvbnRlbnQ9IlJlbGF4IG9yIGV4cGVyaW1lbnQgd2l0aCBvdmVyIDUwMCBtYXRlcmlhbHMgaW4gdGhpcyBmYWxsaW5nIHNhbmQgc2ltdWxhdG9yLiI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOnVybCIgY29udGVudD0iaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6c2l0ZV9uYW1lIiBjb250ZW50PSJTYW5kYm94ZWxzIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2UiIGNvbnRlbnQ9Imh0dHBzOi8vc2FuZGJveGVscy5yNzRuLmNvbS9pY29ucy9jb3Zlci0zODQweDEyNDBweC10ZXh0LnBuZyI+DQoJPG1ldGEgcHJvcGVydHk9Im9nOmltYWdlOndpZHRoIiBjb250ZW50PSIzODQwIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2U6aGVpZ2h0IiBjb250ZW50PSIxMjQwIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2U6dHlwZSIgY29udGVudD0iaW1hZ2UvcG5nIj4NCgk8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2U6YWx0IiBjb250ZW50PSJNYWdtYSBmYWxsaW5nIGludG8gV2F0ZXIsIGZvcm1pbmcgU3RlYW0gYW5kIEJhc2FsdC4gUGl4ZWwgYXJ0IHN0eWxlLiI+DQoNCgk8IS0tVHdpdHRlci0tPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6Y2FyZCIgY29udGVudD0ic3VtbWFyeV9sYXJnZV9pbWFnZSI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjp0aXRsZSIgY29udGVudD0iU2FuZGJveGVscyAtIEV4cGVyaW1lbnQgd2l0aCBQaXhlbHMiPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6ZGVzY3JpcHRpb24iIGNvbnRlbnQ9IlJlbGF4IG9yIGV4cGVyaW1lbnQgd2l0aCBvdmVyIDUwMCBtYXRlcmlhbHMgaW4gdGhpcyBmYWxsaW5nIHNhbmQgc2ltdWxhdG9yLiI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjpzaXRlOmlkIiBjb250ZW50PSIxNDM2ODU3NjIxODI3NTMwNzUzIj4NCgk8bWV0YSBuYW1lPSJ0d2l0dGVyOmltYWdlIiBjb250ZW50PSJodHRwczovL3NhbmRib3hlbHMucjc0bi5jb20vaWNvbnMvY292ZXItMzg0MHgxMjQwcHgtdGV4dC5wbmciPg0KCTxtZXRhIG5hbWU9InR3aXR0ZXI6aW1hZ2U6YWx0IiBjb250ZW50PSJNYWdtYSBmYWxsaW5nIGludG8gV2F0ZXIsIGZvcm1pbmcgU3RlYW0gYW5kIEJhc2FsdC4gUGl4ZWwgYXJ0IHN0eWxlLiI+DQoJPG1ldGEgbmFtZT0idHdpdHRlcjpjcmVhdG9yOmlkIiBjb250ZW50PSIxNDM2ODU3NjIxODI3NTMwNzUzIj4NCg0KCTxzY3JpcHQ+IC8vIHZlcnNpb25pbmcgaW5mbw0KCQljdXJyZW50dmVyc2lvbiA9ICIxLjEyIjsNCgkJc2F2ZVZlcnNpb24gPSA1Ow0KCQlzdGFuZGFsb25lID0gZmFsc2U7DQoJCXN0YW5kYWxvbmVUeXBlID0gbnVsbDsNCgk8L3NjcmlwdD4NCgk8c3R5bGU+DQoJCS5zZXR0aW5nLXNwYW4gew0KCQkJZGlzcGxheTpibG9jaztwYWRkaW5nLWJvdHRvbTowLjVlbQ0KCQl9DQoJPC9zdHlsZT4NCgk8IS0tIFNjaGVtYSAtLT4NCgk8c2NyaXB0IHR5cGU9ImFwcGxpY2F0aW9uL2xkK2pzb24iPg0KCQl7DQoJCSAgIkBjb250ZXh0IjogImh0dHBzOi8vc2NoZW1hLm9yZyIsDQoJCSAgIkB0eXBlIjogWyJWaWRlb0dhbWUiLCJNb2JpbGVBcHBsaWNhdGlvbiIsIldlYkFwcGxpY2F0aW9uIl0sDQoJCSAgImdhbWVQbGF0Zm9ybSI6WyJXZWIgQnJvd3NlciIsIldpbmRvd3MiLCJtYWNPUyJdLA0KCQkgICJpbWFnZSI6Imh0dHBzOi8vc2FuZGJveGVscy5yNzRuLmNvbS9pY29ucy9pY29uLnBuZyIsDQoJCSAgInVybCI6ICJodHRwczovL3NhbmRib3hlbHMucjc0bi5jb20iLA0KCQkgICJuYW1lIjoiU2FuZGJveGVscyIsDQoJCSAgImF1dGhvciI6IlI3NG4iLA0KCQkgICJjcmVhdG9yIjoiUjc0biIsDQoJCSAgImRlc2NyaXB0aW9uIjoiU2FuZGJveGVscyBpcyBhbiBpbi1icm93c2VyIGZhbGxpbmcgc2FuZCBzaW11bGF0b3IsIHdpdGggbWVjaGFuaWNzIHN1Y2ggYXMgaGVhdCBzaW11bGF0aW9uLCBlbGVjdHJpY2l0eSwgZGVuc2l0eSwgY2hlbWljYWwgcmVhY3Rpb25zLCBmaXJlLCBhbmQgb3ZlciA1MDAgdW5pcXVlIGVsZW1lbnRzIHRvIHBsYXkgd2l0aC4iLA0KCQkgICJvZmZlcnMiOnsNCgkJCSJAdHlwZSI6Ik9mZmVyIiwNCgkJCSJwcmljZSI6IjAiLA0KCQkJInByaWNlQ3VycmVuY3kiOiJVU0QiLA0KCQkJImF2YWlsYWJpbGl0eSI6Imh0dHBzOi8vc2NoZW1hLm9yZy9JblN0b2NrIg0KCQkgIH0sDQoJCSAgImdlbnJlIjogIkZhbGxpbmctc2FuZCBnYW1lIiwNCgkJICAic29mdHdhcmVWZXJzaW9uIjoiMS4xMS4yIiwNCgkJICAiZGF0ZVB1Ymxpc2hlZCI6IjIwMjEtMTItMTUiLA0KCQkgICJkYXRlQ3JlYXRlZCI6IjIwMjEtMTItMTUiLA0KCQkgICJnYW1lVGlwIjoiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2NvbnRyb2xzIiwNCgkJICAic29mdHdhcmVIZWxwIjoiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2NvbnRyb2xzIiwNCgkJICAicmVsZWFzZU5vdGVzIjoiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2NoYW5nZWxvZyIsDQoJCSAgInNjcmVlbnNob3QiOiAiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2ljb25zL2NvdmVyLTM4NDB4MTI0MHB4LXRleHQucG5nIiwNCgkJICAic29mdHdhcmVSZXF1aXJlbWVudHMiOiAiSFRNTDUiLA0KCQkgICJhcmNoaXZlZEF0IjogImh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDIzMDUxOTAwNTQyNy9odHRwczovL3NhbmRib3hlbHMucjc0bi5jb20vIiwNCgkJICAiY29weXJpZ2h0WWVhciI6IDIwMjEsDQoJCSAgImNvcHlyaWdodE5vdGljZSI6ICLCqTIwMjEtMjAyNS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4gUjc0biIsDQoJCSAgImxpY2Vuc2UiOiAiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2xpY2Vuc2UudHh0IiwNCgkJICAiZGlzY3Vzc2lvblVybCI6IFsiaHR0cHM6Ly9yNzRuLmNvbS9kaXNjb3JkLyIsImh0dHBzOi8vd3d3LnJlZGRpdC5jb20vci9TYW5kYm94ZWxzLyIsImh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL2FwcC8zNjY0ODIwL2Rpc2N1c3Npb25zLyJdLA0KCQkgICJkb3dubG9hZFVybCI6ICJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLzM2NjQ4MjAvU2FuZGJveGVscy8iLA0KCQkgICJpbnN0YWxsVXJsIjogImh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvMzY2NDgyMC9TYW5kYm94ZWxzLyIsDQoJCSAgInRyYWlsZXIiOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1UZ0huRC1LUmllTSIsDQoJCSAgImVkdWNhdGlvbmFsVXNlIjogIkhhbmRzLW9uIGxhYiBleHBlcmltZW50cyBhbmQgbGVhcm5pbmciLA0KCQkgICJoZWFkbGluZSI6ICJTYW5kYm94ZWxzIiwNCgkJICAiaXNBY2Nlc3NpYmxlRm9yRnJlZSI6IHRydWUsDQoJCSAgImlzRmFtaWx5RnJpZW5kbHkiOiB0cnVlDQoJfTwvc2NyaXB0Pg0KDQoJPHNjcmlwdD4NCgkJLy8gcmVwbGFjZUFsbCBwb2x5ZmlsbA0KCQlpZiAoIVN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCkge1N0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCA9IGZ1bmN0aW9uKHN0ciwgbmV3U3RyKXtpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cikudG9Mb3dlckNhc2UoKSA9PT0gJ1tvYmplY3QgcmVnZXhwXScpIHtyZXR1cm4gdGhpcy5yZXBsYWNlKHN0ciwgbmV3U3RyKTt9cmV0dXJuIHRoaXMucmVwbGFjZShuZXcgUmVnRXhwKHN0ciwgJ2cnKSwgbmV3U3RyKTt9O30NCgkJLy8gcmVxdWVzdEZ1bGxTY3JlZW4NCgkJZnVuY3Rpb24gcmVxdWVzdEZ1bGxTY3JlZW4oZWxlbWVudCkgeyAvKiBTdXBwb3J0cyBtb3N0IGJyb3dzZXJzIGFuZCB0aGVpciB2ZXJzaW9ucy4qLyB2YXIgcmVxdWVzdE1ldGhvZCA9IGVsZW1lbnQucmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubXNSZXF1ZXN0RnVsbFNjcmVlbjsgaWYgKHJlcXVlc3RNZXRob2QpIHsgLypOYXRpdmUgZnVsbCBzY3JlZW4uKi8gcmVxdWVzdE1ldGhvZC5jYWxsKGVsZW1lbnQpOyB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuQWN0aXZlWE9iamVjdCAhPT0gInVuZGVmaW5lZCIpIHsgLypPbGRlciBJRS4qLyB2YXIgd3NjcmlwdCA9IG5ldyBBY3RpdmVYT2JqZWN0KCJXU2NyaXB0LlNoZWxsIik7IGlmICh3c2NyaXB0ICE9PSBudWxsKSB7IHdzY3JpcHQuU2VuZEtleXMoIntGMTF9Iik7IH0gfSB9DQoJPC9zY3JpcHQ+DQoNCgk8c2NyaXB0PiAvLyBQV0EgdGhpbmdzDQoJCS8vIGFkZCBzZXJ2aWNlIHdvcmtlciBzZXJ2aWNlLXdvcmtlci5qcw0KCQlpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgIXN0YW5kYWxvbmUpIHsNCgkJCWlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7DQoJCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHsNCgkJCQkJbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zZXJ2aWNlLXdvcmtlci5qcycpOw0KCQkJCX0pOw0KCQkJfQ0KCQl9DQoJPC9zY3JpcHQ+DQoNCgk8c2NyaXB0Pg0KCQljb25zb2xlLmxvZygiJWMgV0VMQ09NRSBUTyBSNzRuICIsInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1MCU7IHJpZ2h0OiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlKDUwJSwtNTAlKTsgZm9udC1mYW1pbHk6IEFyaWFsOyBmb250LXNpemU6IDNlbTsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICMwMGZmZmY7IHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMTRjOWM5LCAxcHggMnB4IDFweCAjMTRjOWM5LCAxcHggM3B4IDFweCAjMTRjOWM5LCAxcHggNHB4IDFweCAjMTRjOWM5LCAxcHggNXB4IDFweCAjMTRjOWM5LCAxcHggMTNweCA2cHggcmdiYSgxNiwxNiwxNiwwLjQpLCAxcHggMjJweCAxMHB4IHJnYmEoMTYsMTYsMTYsMC4yKSwgMXB4IDI1cHggMzVweCByZ2JhKDE2LDE2LDE2LDAuMiksIDFweCAzMHB4IDYwcHggcmdiYSgxNiwxNiwxNiwwLjQpO3BhZGRpbmc6MTBweCIpOw0KCQljb25zb2xlLmxvZygiU2FuZGJveGVscyBpcyBkZXZlbG9wZWQgYnkgUjc0biBhbmQgY2FuIGJlIHBsYXllZCBvbiB0aGUgb2ZmaWNpYWwgd2Vic2l0ZTogaHR0cHM6Ly9zYW5kYm94ZWxzLlI3NG4uY29tLyIpOw0KCQljb25zb2xlLmxvZygiQ2FuJ3QgYWNjZXNzPyBKb2luIG91ciBEaXNjb3JkOiBodHRwczovL1I3NG4uY29tL2Rpc2NvcmQvIik7DQoJCWNvbnNvbGUubG9nKCJGb3VuZCB0aGlzIG9uIGFub3RoZXIgd2Vic2l0ZT8gTGV0IHVzIGtub3chIik7DQoJCWNvbnNvbGUubG9nKCLCqTIwMjEtIiArIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArICIuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIGh0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9saWNlbnNlLnR4dCIpOw0KDQoJCWlzT25TaXRlID0gbG9jYXRpb24uaG9zdG5hbWUgPT09ICJzYW5kYm94ZWxzLnI3NG4uY29tIjsNCg0KCQkvLyBJZiBzZXR0aW5ncyBpcyBpbiBsb2NhbFN0b3JhZ2UsIGxvYWQgaXQuIElmIG5vdCwgY3JlYXRlIGFuIGVtcHR5IG9iamVjdC4NCgkJc2V0dGluZ3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2V0dGluZ3MiKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInNldHRpbmdzIikpIDoge307DQoJCS8vIFVSTCBxdWVyeSBoYW5kbGluZw0KCQl2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsNCgkJaWYgKHVybFBhcmFtcy5oYXMoIndvcmxkZ2VuIikpIHsNCgkJCXNldHRpbmdzLndvcmxkZ2VuID0gdXJsUGFyYW1zLmdldCgid29ybGRnZW4iKTsNCgkJfQ0KCQlpZiAoIXNldHRpbmdzWyJ1bmxvY2tlZCJdKSB7DQoJCQlzZXR0aW5nc1sidW5sb2NrZWQiXSA9IHt9Ow0KCQl9DQoJCWZ1bmN0aW9uIHNhdmVTZXR0aW5ncygpIHsNCgkJCWlmIChjdXJyZW50U2F2ZURhdGEubG9hZGVkKSB7IHJldHVybiB9DQoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic2V0dGluZ3MiLCBKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpOw0KCQl9DQoNCgkJc2F2ZVRhZ3NNYXAgPSB7fTsNCgkJc2F2ZVRhZ3MgPSB7DQoJCQkxOiAiU3RydWN0dXJlL0NpdHkiLA0KCQkJMjogIk5hdHVyYWwvTGFuZHNjYXBlIiwNCgkJCTM6ICJNYWNoaW5lIiwNCgkJCTQ6ICJEZXN0cm95YWJsZSIsDQoJCQk1OiAiQXJ0IiwNCgkJCTY6ICJDb29raW5nL0Zvb2QiLA0KCQkJNzogIkV4cGVyaW1lbnQiLA0KCQkJODogIldlYXBvbiIsDQoJCQk5OiAiV29ya3N0YXRpb24iLA0KCQkJMTA6ICJIb2xpZGF5IiwNCgkJCTExOiAiTW9kZGVkIiwNCgkJCTEyOiAiQ2hhbGxlbmdlIiwNCgkJCTEzOiAiQ29udGVzdCIsDQoJCQkxNDogIkNvbnRlc3QgU3VibWlzc2lvbiIsDQoJCQkxNTogIk1pc2NlbGxhbmVvdXMiLA0KCQkJOTA6ICJPZmZpY2lhbCIsDQoJCX0NCgkJDQoJCWRlZmF1bHRDb29sZG93biA9IDg7DQoJCWJlaGF2aW9ycyA9IHsNClBPV0RFUl9PTEQ6IFsNCgkiWFh8WFh8WFgiLA0KCSJYWHxYWHxYWCIsDQoJIk0yfE0xfE0yIiwNCl0sDQpQT1dERVI6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKHBpeGVsLnN0YXJ0ID09PSBwaXhlbFRpY2tzKSB7cmV0dXJufQ0KCWlmIChwaXhlbC5jaGFyZ2UgJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmVoYXZpb3JPbikgew0KCQlwaXhlbFRpY2socGl4ZWwpOw0KCQlyZXR1cm47DQoJfQ0KCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueSsxKSkgew0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkgew0KCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBwaXhlbC54KzEsIHBpeGVsLnkrMSkpIHsNCgkJCQl0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LTEsIHBpeGVsLnkrMSk7DQoJCQl9DQoJCX0gZWxzZSBpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngtMSwgcGl4ZWwueSsxKSkgew0KCQkJdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCsxLCBwaXhlbC55KzEpOw0KCQl9DQoJfQ0KCWRvRGVmYXVsdHMocGl4ZWwpOw0KfSwNCkFHUE9XREVSOiBbDQoJIk0yfE0xfE0yIiwNCgkiWFh8WFh8WFgiLA0KCSJYWHxYWHxYWCIsDQpdLA0KTElRVUlEX09MRDogWw0KCSJYWHxYWHxYWCIsDQoJIk0yfFhYfE0yIiwNCgkiTTF8TTF8TTEiLA0KXSwNCkxJUVVJRDogZnVuY3Rpb24ocGl4ZWwpIHsNCglpZiAocGl4ZWwuc3RhcnQgPT09IHBpeGVsVGlja3MpIHtyZXR1cm59DQoJaWYgKHBpeGVsLmNoYXJnZSAmJiBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5iZWhhdmlvck9uKSB7DQoJCXBpeGVsVGljayhwaXhlbCk7DQoJCXJldHVybjsNCgl9DQoJdmFyIHZpc2NNb3ZlID0gdHJ1ZTsNCglpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0udmlzY29zaXR5KSB7DQoJCXZpc2NNb3ZlID0gKE1hdGgucmFuZG9tKCkqMTAwKSA8IDEwMCAvIE1hdGgucG93KGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnZpc2Nvc2l0eSwgMC4yNSk7DQoJfQ0KCWlmICghdmlzY01vdmUpIHsNCgkJdmFyIG1vdmUxU3BvdHMgPSBbDQoJCQkwDQoJCV0NCgl9DQoJZWxzZSB7DQoJCXZhciBtb3ZlMVNwb3RzID0gWw0KCQkJMSwwLC0xDQoJCV0NCgl9DQoJdmFyIG1vdmVkID0gZmFsc2U7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZlMVNwb3RzLmxlbmd0aDsgaSsrKSB7DQoJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUxU3BvdHMubGVuZ3RoIHwgMDsNCgkJY29uc3QgY29vcmQgPSBtb3ZlMVNwb3RzW2pdOw0KCQlpZiAodHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtjb29yZCwgcGl4ZWwueSsxKSkgeyBtb3ZlZCA9IHRydWU7IGJyZWFrOyB9DQoJCW1vdmUxU3BvdHMuc3BsaWNlKGosIDEpOw0KCX0NCglpZiAoIW1vdmVkKSB7DQoJCWlmICh2aXNjTW92ZSkgew0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHsNCgkJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngrMSwgcGl4ZWwueSkpIHsNCgkJCQkJdHJ5TW92ZShwaXhlbCwgcGl4ZWwueC0xLCBwaXhlbC55KTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueC0xLCBwaXhlbC55KSkgew0KCQkJCQl0cnlNb3ZlKHBpeGVsLCBwaXhlbC54KzEsIHBpeGVsLnkpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCglkb0RlZmF1bHRzKHBpeGVsKTsNCn0sDQpTVVBFUkZMVUlEX09MRDogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfFhYfE0yIEFORCBCTyIsDQoJIlhYfE0xfE0yIiwNCl0sDQpTVVBFUkZMVUlEOiBmdW5jdGlvbihwaXhlbCkgew0KCWlmIChwaXhlbC5zdGFydCA9PT0gcGl4ZWxUaWNrcykge3JldHVybn0NCglpZiAocGl4ZWwuY2hhcmdlICYmIGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmJlaGF2aW9yT24pIHsNCgkJcGl4ZWxUaWNrKHBpeGVsKTsNCgkJcmV0dXJuOw0KCX0NCglpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngsIHBpeGVsLnkrMSkpIHsNCgkJLy8gZ28gZWl0aGVyIGxlZnQgb3IgcmlnaHQgZGVwZW5kaW5nIG9uIHBpeGVsLmZsaXBYDQoJCXZhciBuZXd4ID0gcGl4ZWwuZmxpcFggPyBwaXhlbC54LTEgOiBwaXhlbC54KzE7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld3gsIHBpeGVsLnkpKSB7DQoJCQkJcGl4ZWwuZmxpcFggPSAhcGl4ZWwuZmxpcFg7DQoJCQkJdHJ5TW92ZShwaXhlbCwgbmV3eCwgcGl4ZWwueSsxKTsNCgkJCX0NCgkJfQ0KCQllbHNlIHsNCgkJCWlmICghdHJ5TW92ZShwaXhlbCwgbmV3eCwgcGl4ZWwueSsxKSkgew0KCQkJCWlmICghdHJ5TW92ZShwaXhlbCwgbmV3eCwgcGl4ZWwueSkpIHsgcGl4ZWwuZmxpcFggPSAhcGl4ZWwuZmxpcFg7IH0NCgkJCX0NCgkJfQ0KCX0NCglkb0RlZmF1bHRzKHBpeGVsKTsNCn0sDQpMSUdIVFdFSUdIVDogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfEZYJTAuMjV8WFgiLA0KCSJNMiUxMHxNMSUxMHxNMSUxMCIsDQpdLA0KU0xJREU6IFsNCgkiWFh8WFh8WFgiLA0KCSJYWHxYWHxNMiBBTkQgQk8iLA0KCSJYWHxNMXxNMSIsDQpdLA0KQUdMSVFVSUQ6IFsNCgkiTTF8TTF8TTEiLA0KCSJNMnxYWHxNMiIsDQoJIlhYfFhYfFhYIiwNCl0sDQpXQUxMOiBbDQoJIlhYfFhYfFhYIiwNCgkiWFh8WFh8WFgiLA0KCSJYWHxYWHxYWCIsDQpdLA0KVUxfVVI6IFsNCgkiTTF8TTF8TTEiLA0KCSJNMnxYWHxNMiIsDQoJIlhYfE0yfFhYIiwNCl0sDQpVTF9VUl9PUFRJTUlaRUQ6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKHBpeGVsLnN0YXJ0ID09PSBwaXhlbFRpY2tzKSB7cmV0dXJufQ0KCXZhciBtb3ZlMVNwb3RzID0gWzAsMSwtMV0NCgl2YXIgbW92ZWQgPSBmYWxzZTsNCglmb3IgKHZhciBpID0gMDsgaSA8IG1vdmUxU3BvdHMubGVuZ3RoOyBpKyspIHsNCgkJY29uc3QgaiA9IE1hdGgucmFuZG9tKCkqbW92ZTFTcG90cy5sZW5ndGggfCAwOw0KCQljb25zdCBjb29yZCA9IG1vdmUxU3BvdHNbal07DQoJCWlmICh0cnlNb3ZlKHBpeGVsLCBwaXhlbC54K2Nvb3JkLCBwaXhlbC55LTEpKSB7IG1vdmVkID0gdHJ1ZTsgYnJlYWs7IH0NCgkJZWxzZSB7IG1vdmUxU3BvdHMuc3BsaWNlKGosIDEpO30NCgl9DQoJaWYgKCFtb3ZlZCAmJiAhcGl4ZWwuZGVsKSB7DQoJCXZhciBtb3ZlMlNwb3RzID0gWw0KCQkJWzAsIDFdLA0KCQkJWzEsIDBdLA0KCQkJWy0xLCAwXSwNCgkJXQ0KCQlmb3IgKHZhciBpID0gMDsgaSA8IG1vdmUyU3BvdHMubGVuZ3RoOyBpKyspIHsNCgkJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUyU3BvdHMubGVuZ3RoIHwgMDsNCgkJCWNvbnN0IGNvb3JkcyA9IG1vdmUyU3BvdHNbal07DQoJCQlpZiAodHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtjb29yZHNbMF0sIHBpeGVsLnkrY29vcmRzWzFdKSkgeyBicmVhazsgfQ0KCQkJZWxzZSBpZiAobW92ZTJTcG90cy5sZW5ndGggPiAxKSB7IG1vdmUyU3BvdHMuc3BsaWNlKGosIDEpOyB9DQoJCX0NCgl9DQoJaWYgKHBpeGVsLmRlbCAhPT0gdHJ1ZSkgew0KCQlkb0hlYXQocGl4ZWwpDQoJCWRvQWlyRGVuc2l0eShwaXhlbCk7DQoJCWRvQnVybmluZyhwaXhlbCk7DQoJfQ0KfSwNCkdBU19PTEQ6IFsNCgkiTTJ8TTF8TTIiLA0KCSJNMXxYWHxNMSIsDQoJIk0yfE0xfE0yIiwNCl0sDQpHQVM6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKHBpeGVsLnN0YXJ0ID09PSBwaXhlbFRpY2tzKSB7cmV0dXJufQ0KCWlmIChwaXhlbC5jaGFyZ2UgJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmVoYXZpb3JPbikgew0KCQlwaXhlbFRpY2socGl4ZWwpOw0KCQlyZXR1cm47DQoJfQ0KCWxldCBtb3ZlMVNwb3RzID0gYWRqYWNlbnRDb29yZHMuc2xpY2UoMCk7DQoJdmFyIG1vdmVkID0gZmFsc2U7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZlMVNwb3RzLmxlbmd0aDsgaSsrKSB7DQoJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUxU3BvdHMubGVuZ3RoIHwgMDsNCgkJY29uc3QgY29vcmRzID0gbW92ZTFTcG90c1tqXTsNCgkJaWYgKHRyeU1vdmUocGl4ZWwsIHBpeGVsLngrY29vcmRzWzBdLCBwaXhlbC55K2Nvb3Jkc1sxXSkpIHsgbW92ZWQgPSB0cnVlOyBicmVhazsgfQ0KCQltb3ZlMVNwb3RzLnNwbGljZShqLCAxKTsNCgl9DQoJaWYgKG1vdmVkID09PSBmYWxzZSkgew0KCQlsZXQgbW92ZTJTcG90cyA9IGRpYWdvbmFsQ29vcmRzLnNsaWNlKDApOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IG1vdmUyU3BvdHMubGVuZ3RoOyBpKyspIHsNCgkJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUyU3BvdHMubGVuZ3RoIHwgMDsNCgkJCWNvbnN0IGNvb3JkcyA9IG1vdmUyU3BvdHNbal07DQoJCQlpZiAodHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtjb29yZHNbMF0sIHBpeGVsLnkrY29vcmRzWzFdKSkgeyBicmVhazsgfQ0KCQkJbW92ZTJTcG90cy5zcGxpY2UoaiwgMSk7DQoJCX0NCgl9DQoJZG9EZWZhdWx0cyhwaXhlbCk7DQp9LA0KREdBU19PTEQ6IFsNCgkiTTJ8TTF8TTIiLA0KCSJNMXxETCU1fE0xIiwNCgkiTTJ8TTF8TTIiLA0KXSwNCkRHQVM6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSB7DQoJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCXJldHVybjsNCgl9DQoJYmVoYXZpb3JzLkdBUyhwaXhlbCk7DQp9LA0KU1VQUE9SVDogWw0KCSJYWHxYWHxYWCIsDQoJIlNQfFhYfFNQIiwNCgkiWFh8TTF8WFgiLA0KXSwNClNVUFBPUlRQT1dERVI6IFsNCgkiWFh8WFh8WFgiLA0KCSJTUHxYWHxTUCIsDQoJIk0yfE0xfE0yIiwNCl0sDQpERUxFVEU6IFsNCgkiWFh8REx8WFgiLA0KCSJETHxYWHxETCIsDQoJIlhYfERMfFhYIiwNCl0sDQpGSUxMOiBbDQoJIlhYfENMfFhYIiwNCgkiQ0x8WFh8Q0wiLA0KCSJYWHxDTHxYWCIsDQpdLA0KQ0xPTkVSOiBbDQoJIlhYfENGfFhYIiwNCgkiQ0Z8WFh8Q0YiLA0KCSJYWHxDRnxYWCIsDQpdLA0KQ0xPTkVfT05fQ0xJQ0s6IGZ1bmN0aW9uKHBpeGVsLGVsZW1lbnQpIHsNCglpZiAocGl4ZWwuY2xvbmUpIHJldHVybjsNCglpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uaWdub3JlLmluZGV4T2YoZWxlbWVudCkgIT09IC0xKSByZXR1cm47DQoJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLnRvb2wgJiYgZWxlbWVudHNbZWxlbWVudF0uY2FuUGxhY2UgIT09IHRydWUpIHJldHVybjsNCglpZiAoZWxlbWVudHNbZWxlbWVudF0uY2FuUGxhY2UgPT09IGZhbHNlKSByZXR1cm47DQoJcGl4ZWwuY2xvbmUgPSBlbGVtZW50Ow0KCWlmIChlbGVtZW50c1tlbGVtZW50XS50ZW1wICE9PSB1bmRlZmluZWQpIHBpeGVsLnRlbXAgPSBlbGVtZW50c1tlbGVtZW50XS50ZW1wOw0KfSwNClNUQUlOX09OX01JWDogZnVuY3Rpb24ocGl4ZWwxLHBpeGVsMikgew0KCWlmIChlbGVtZW50c1twaXhlbDEuZWxlbWVudF0uaWQgPT09IGVsZW1lbnRzW3BpeGVsMi5lbGVtZW50XS5pZCkgcmV0dXJuOw0KCWlmIChlbGVtZW50c1twaXhlbDIuZWxlbWVudF0uaXNHYXMpIHJldHVybjsNCglpZiAoIXBpeGVsMS5jb2xvci5tYXRjaCgvXnJnYi8pKSByZXR1cm47DQoJDQoJc3RhaW5QaXhlbChwaXhlbDIsIFJHQlRvSGV4KHBpeGVsMS5jb2xvci5tYXRjaCgvXGQrL2cpKSwgMC4wNSk7DQoJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSBkZWxldGVQaXhlbChwaXhlbDEueCxwaXhlbDEueSk7DQp9LA0KU1RVUkRZUE9XREVSX09MRDogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfFhYfFhYIiwNCgkiWFh8TTF8WFgiLA0KXSwNClNUVVJEWVBPV0RFUjogZnVuY3Rpb24ocGl4ZWwpIHsNCglpZiAocGl4ZWwuc3RhcnQgPT09IHBpeGVsVGlja3MpIHtyZXR1cm59DQoJaWYgKHBpeGVsLmNoYXJnZSAmJiBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5iZWhhdmlvck9uKSB7DQoJCXBpeGVsVGljayhwaXhlbCk7DQoJCXJldHVybjsNCgl9DQoJdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSk7DQoJZG9EZWZhdWx0cyhwaXhlbCk7DQp9LA0KU0VMRkRFTEVURTogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfERMfFhYIiwNCgkiWFh8WFh8WFgiLA0KXSwNCkZPQU06IFsNCgkiWFh8WFh8WFgiLA0KCSJYWHxETCU1fFhYIiwNCgkiTTIlMjV8TTElMjV8TTIlMjUiLA0KXSwNCkJVQkJMRTogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfERMJTAuMjUgQU5EIEZYJTF8TTElNSIsDQoJIlhYfE0xJTF8TTElMiIsDQpdLA0KU1RJQ0tZOiBbDQoJIlhYfFNUfFhYIiwNCgkiU1R8WFh8U1QiLA0KCSJYWHxTVCBBTkQgTTF8WFgiLA0KXSwNCk1PTFRFTjogZnVuY3Rpb24ocGl4ZWwpIHsNCglpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDI1ICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSB7DQoJCWNyZWF0ZVBpeGVsKCJmaXJlIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0udGVtcCA9IHBpeGVsLnRlbXA7DQoJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5maXJlQ29sb3IpIHsNCgkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmZpcmVDb2xvcik7DQoJCX0NCgl9DQoJYmVoYXZpb3JzLkxJUVVJRChwaXhlbCk7DQp9LA0KTU9MVEVOX09MRDogWw0KCSJYWHxDUjpmaXJlJTIuNXxYWCIsDQoJIk0yfFhYfE0yIiwNCgkiTTF8TTF8TTEiLA0KXSwNClJBRFBPV0RFUjogWw0KCSJYWHxYWHxYWCIsDQoJIlhYfFJMOnJhZGlhdGlvbiUxfFhYIiwNCgkiTTJ8TTF8TTIiLA0KXSwNClJBRE1PTFRFTjogWw0KCSJYWHxDUjpmaXJlLGZpcmUsZmlyZSxyYWRpYXRpb24lNC41fFhYIiwNCgkiTTIgQU5EIENSOnJhZGlhdGlvbiUxfFhYfE0yIEFORCBDUjpyYWRpYXRpb24lMSIsDQoJIk0xfE0xfE0xIiwNCl0sDQpSQURMSVFVSUQ6IFsNCgkiWFh8WFh8WFgiLA0KCSJNMnxSTDpyYWRpYXRpb24lMnxNMiIsDQoJIk0xfE0xfE0xIiwNCl0sDQpCT1VOQ1k6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKHBpeGVsLmJ4PT09dW5kZWZpbmVkKSB7DQoJCS8vIGNob29zZSAxLCAwLCBvciAtMQ0KCQlwaXhlbC5ieCA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogTWF0aC5yYW5kb20oKSA8IDAuNSA/IDAgOiAtMTsNCgkJcGl4ZWwuYnkgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAwIDogLTE7DQoJCS8vIGlmIGJvdGggYXJlIDAsIG1ha2Ugb25lIG9mIHRoZW0gMSBvciAtMQ0KCQlpZiAocGl4ZWwuYng9PT0wICYmIHBpeGVsLmJ5PT09MCkgew0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHsgcGl4ZWwuYnggPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xOyB9DQoJCQllbHNlIHsgcGl4ZWwuYnkgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xOyB9DQoJCX0NCgl9DQoJLy8gbW92ZSBhbmQgaW52ZXJ0IGRpcmVjdGlvbiBpZiBoaXQNCglpZiAoIXBpeGVsLmRlbCAmJiBwaXhlbC5ieCAmJiAhdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtwaXhlbC5ieCwgcGl4ZWwueSkpIHsgcGl4ZWwuYnggPSAtcGl4ZWwuYng7IH0NCglpZiAoIXBpeGVsLmRlbCAmJiBwaXhlbC5ieSAmJiAhdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueStwaXhlbC5ieSkpIHsgcGl4ZWwuYnkgPSAtcGl4ZWwuYnk7IH0NCn0sDQpGRUVEUElYRUw6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJaWYgKCFwaXhlbC5mb29kKSB7IHBpeGVsLmZvb2QgPSAxIH0NCgllbHNlIHsgcGl4ZWwuZm9vZCArKyB9DQoJaWYgKHBpeGVsLmZvb2QgPiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uZm9vZE5lZWR8fDMwKSkgew0KDQoJCWxldCByZWxlYXNlZDsNCgkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmVnZykgew0KCQkJcmVsZWFzZWQgPSByZWxlYXNlRWxlbWVudChwaXhlbCxlbGVtZW50c1twaXhlbC5lbGVtZW50XS5lZ2csMSx0cnVlKTsNCgkJfQ0KCQllbHNlIHsNCgkJCXJlbGVhc2VkID0gcmVsZWFzZUVsZW1lbnQocGl4ZWwsImVnZyIsMSx0cnVlKQ0KCQkJaWYgKHJlbGVhc2VkKSB7DQoJCQkJcmVsZWFzZWQuYW5pbWFsID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmFieSB8fCBwaXhlbC5lbGVtZW50Ow0KCQkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5lZ2dDb2xvcikgew0KCQkJCQlyZWxlYXNlZC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHJlbGVhc2VkLGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmVnZ0NvbG9yKQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlpZiAocmVsZWFzZWQpIHsNCgkJCXBpeGVsLmZvb2QgPSAwOw0KCQl9DQoJfQ0KfSwNCktJTExQSVhFTDE6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJcGl4ZWwuZGVhZCA9IHRydWU7DQp9LA0KS0lMTFBJWEVMMjogZnVuY3Rpb24ocGl4ZWwxLHBpeGVsMikgew0KCXBpeGVsMi5kZWFkID0gdHJ1ZTsNCn0sDQpGTFk6IGZ1bmN0aW9uKHBpeGVsLCBvbkhpdCkgew0KCXZhciBueCA9IHBpeGVsLmZsaXBYID8gLTEgOiAxOw0KCXZhciBueSA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7DQoJdmFyIGhpdCA9IGZhbHNlOw0KCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtueCwgcGl4ZWwueStueSkpIHsNCgkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBwaXhlbC54K254LCBwaXhlbC55LW55KSkgew0KCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LCBwaXhlbC55K255KSkgew0KCQkJCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueS1ueSkpIHtoaXQ9W3BpeGVsLngsIHBpeGVsLnktbnldfQ0KCQkJfWVsc2Uge2hpdD1bcGl4ZWwueCwgcGl4ZWwueStueV19DQoJCX1lbHNlIHtoaXQ9W3BpeGVsLngrbngsIHBpeGVsLnktbnldfQ0KCX1lbHNlIHtoaXQ9W3BpeGVsLngrbngsIHBpeGVsLnkrbnldfQ0KCWlmIChoaXQgJiYgb25IaXQpIHsNCgkJaWYgKCFpc0VtcHR5KGhpdFswXSwgaGl0WzFdLCB0cnVlKSkgew0KCQkJb25IaXQocGl4ZWwsIHBpeGVsTWFwW2hpdFswXV1baGl0WzFdXSk7DQoJCX0NCgkJZWxzZSB7b25IaXQocGl4ZWwpO30NCgl9DQoJaWYgKHBpeGVsLmRlbCkge3JldHVybn0NCglpZiAoKCFpc0VtcHR5KHBpeGVsLngrbngscGl4ZWwueSkgJiYgIShjdXJyZW50U2F2ZURhdGEubG9vcFggJiYgb25Cb3JkZXJYKHBpeGVsLngpKSkgfHwgTWF0aC5yYW5kb20oKSA8IDAuMDIpIHsNCgkJcGl4ZWwuZmxpcFggPSAhcGl4ZWwuZmxpcFg7DQoJfQ0KCWlmIChwaXhlbC5jaGFyZ2UgJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmVoYXZpb3JPbikgew0KCQlwaXhlbFRpY2socGl4ZWwpDQoJfQ0KCWRvRGVmYXVsdHMocGl4ZWwpOw0KfSwNCkNSQVdMRVIyOiBmdW5jdGlvbihwaXhlbCxvbkhpdCxhZnRlck1vdmUpIHsNCgl2YXIgbmV3WCA9IDA7IHZhciBuZXdZID0gMDsNCgl2YXIgZmxvb3JYID0gMDsgdmFyIGZsb29yWSA9IDA7DQoJaWYgKHBpeGVsLnIgPT09IHVuZGVmaW5lZCkgeyBwaXhlbC5yID0gMCB9DQoJaWYgKHBpeGVsLmNsaW1iID09PSB1bmRlZmluZWQpIHsgcGl4ZWwuY2xpbWIgPSAwIH0NCglpZiAocGl4ZWwuciA9PT0gMCkgeyBuZXdYID0gMTsgZmxvb3JZID0gMTsgfQ0KCWVsc2UgaWYgKHBpeGVsLnIgPT09IDEpIHsgbmV3WSA9IDE7IGZsb29yWCA9IDE7IH0NCgllbHNlIGlmIChwaXhlbC5yID09PSAyKSB7IG5ld1ggPSAtMTsgZmxvb3JZID0gMTsgfQ0KCWVsc2UgaWYgKHBpeGVsLnIgPT09IDMpIHsgbmV3WSA9IC0xOyBmbG9vclggPSAxO30NCgkNCglpZiAoIWlzRW1wdHkocGl4ZWwueC1mbG9vclgscGl4ZWwueS1mbG9vclkpKSB7DQoJCWlmICghaXNFbXB0eShwaXhlbC54K2Zsb29yWCxwaXhlbC55K2Zsb29yWSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuNSkge30NCgkJZWxzZSB7DQoJCQlmbG9vclggPSAtZmxvb3JYOyBmbG9vclkgPSAtZmxvb3JZOw0KCQl9DQoJfQ0KDQoJaWYgKCEoaXNFbXB0eShwaXhlbC54K2Zsb29yWCxwaXhlbC55K2Zsb29yWSkgJiYgdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkpKSB7IC8vIGZhbGwNCgkJcGl4ZWwuY2xpbWIrKzsNCgkJaWYgKCF0cnlNb3ZlKHBpeGVsLHBpeGVsLngrbmV3WCxwaXhlbC55K25ld1kpICYmICF0cnlNb3ZlKHBpeGVsLHBpeGVsLngrbmV3WCxwaXhlbC55K25ld1krKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTEpKSkgeyAvLyBoaXRzIHdhbGwNCgkJCXBpeGVsLmNsaW1iID0gMDsNCgkJCWlmIChvbkhpdCkgeyBvbkhpdChwaXhlbCxuZXdYLG5ld1kpOyB9DQoJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCtuZXdYLHBpeGVsLnkrbmV3WSx0cnVlKSAmJiBwaXhlbE1hcFtwaXhlbC54K25ld1hdW3BpeGVsLnkrbmV3WV0uZWxlbWVudCA9PT0gcGl4ZWwuZWxlbWVudCkgew0KCQkJCXBpeGVsTWFwW3BpeGVsLngrbmV3WF1bcGl4ZWwueStuZXdZXS5yID0gcGl4ZWwucjsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXBpeGVsLnIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KTsNCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5yICUgMiA9PT0gMSkgew0KCQkJaWYgKHRyeU1vdmUocGl4ZWwscGl4ZWwueCtmbG9vclgscGl4ZWwueSkpIHsNCgkJCQlwaXhlbC5yID0gZmxvb3JYIDwgMCA/IDIgOiAwOw0KCQkJCXBpeGVsLmNsaW1iID0gMDsNCgkJCX0NCgkJfQ0KCQllbHNlIGlmICh0cnlNb3ZlKHBpeGVsLHBpeGVsLngscGl4ZWwueStmbG9vclkpKSB7DQoJCQlwaXhlbC5yID0gZmxvb3JZIDwgMCA/IDMgOiAxOw0KCQkJcGl4ZWwuY2xpbWIgPSAwOw0KCQl9DQoJCWlmIChhZnRlck1vdmUpIHsgYWZ0ZXJNb3ZlKHBpeGVsLG5ld1gsbmV3WSk7IH0NCgl9DQoJZWxzZSB7DQoJCXBpeGVsLnIgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMCA6IDI7DQoJCXBpeGVsLmNsaW1iID0gMDsNCgl9DQoJZG9EZWZhdWx0cyhwaXhlbCk7DQp9LA0KQ1JBV0xFUjogZnVuY3Rpb24ocGl4ZWwpIHt9LA0KQUJTT1JCOiBmdW5jdGlvbihwaXhlbCxsaW1pdD0xMDAscmF0ZT0wLjEpIHsNCglpZiAocGl4ZWwubW9pc3QgPT09IHVuZGVmaW5lZCkgeyBwaXhlbC5tb2lzdCA9IDAgfQ0KCWZvciAodmFyIGkgPSAwOyBpIDwgYWRqYWNlbnRDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJdmFyIGNvb3JkcyA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQl2YXIgeCA9IHBpeGVsLnggKyBjb29yZHNbMF07DQoJCXZhciB5ID0gcGl4ZWwueSArIGNvb3Jkc1sxXTsNCgkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCA9PT0gcGl4ZWwuZWxlbWVudCkgew0KCQkJCXZhciBhdmcgPSAoKHBpeGVsLm1vaXN0fHwwKSArIChuZXdQaXhlbC5tb2lzdHx8MCkpLzI7DQoJCQkJcGl4ZWwubW9pc3QgPSBhdmc7DQoJCQkJbmV3UGl4ZWwubW9pc3QgPSBhdmc7DQoJCQl9DQoJCQllbHNlIGlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5yZWFjdGlvbnNbbmV3UGl4ZWwuZWxlbWVudF0gJiYgKCFlbGVtZW50c1twaXhlbC5lbGVtZW50XS5yZWFjdGlvbnNbbmV3UGl4ZWwuZWxlbWVudF0uZWxlbTIgfHwgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0ucmVhY3Rpb25zW25ld1BpeGVsLmVsZW1lbnRdLnRlbXBNaW4pICYmIChwaXhlbC5tb2lzdHx8MCkgPCBsaW1pdCAmJiBNYXRoLnJhbmRvbSgpIDwgcmF0ZSkgew0KCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQkJcGl4ZWwubW9pc3QrKzsNCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5tb2lzdCA+PSAxICYmIHBpeGVsLnRlbXAgPiAxMDAgJiYgIW91dE9mQm91bmRzKHgseSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJY3JlYXRlUGl4ZWwoInN0ZWFtIix4LHkpOw0KCQkJcGl4ZWwubW9pc3QtLTsNCgkJfQ0KCX0NCn0sDQpSRUxFQVNFX01PSVNUVVJFOiBmdW5jdGlvbihwaXhlbCkgew0KCWlmIChwaXhlbC5tb2lzdCA9PT0gdW5kZWZpbmVkKSB7IHBpeGVsLm1vaXN0ID0gMCB9DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQl2YXIgY29vcmRzID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCXZhciB4ID0gcGl4ZWwueCArIGNvb3Jkc1swXTsNCgkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQlpZiAoaXNFbXB0eSh4LHkpICYmIHBpeGVsLm1vaXN0ID49IDEpIHsNCgkJCWNyZWF0ZVBpeGVsKCJ3YXRlciIseCx5KTsNCgkJCXBpeGVsLm1vaXN0LS07DQoJCX0NCgl9DQp9LA0KRE9fVElDSzogZnVuY3Rpb24ocGl4ZWwpIHsNCglpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0udGljazEpIHsNCgkJZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0udGljazEocGl4ZWwpOyByZXR1cm47DQoJfQ0KCWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnRpY2socGl4ZWwpOw0KfSwNClNFRURSSVNFOiBmdW5jdGlvbihwaXhlbCkgew0KCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQlsZXQgeCA9IDA7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4yNSkgew0KCQkJeCArPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxOw0KCQl9DQoJCWlmICghaXNFbXB0eShwaXhlbC54K3gscGl4ZWwueS0xLHRydWUpICYmIGVMaXN0cy5TT0lMLmluY2x1ZGVzKHBpeGVsTWFwW3BpeGVsLngreF1bcGl4ZWwueS0xXS5lbGVtZW50KSkgew0KCQkJbGV0IHNvaWwgPSBwaXhlbE1hcFtwaXhlbC54K3hdW3BpeGVsLnktMV07DQoJCQlzd2FwUGl4ZWxzKHBpeGVsLHNvaWwpOw0KCQkJY2hhbmdlUGl4ZWwoc29pbCwiZmliZXIiKTsNCgkJfQ0KCX0NCn0NCgkJfQ0KCQl0ZXh0dXJlcyA9IHsNCgkJQlJJQ0s6IFsNCgkJImxsbGxyd2xsbGxsIiwNCgkJInJycnJkd2xycnJyIiwNCgkJImRkZGRkd3JkZGRkIiwNCgkJInd3d3d3d3d3d3d3IiwNCgkJImxyd2xsbGxyd2xsIiwNCgkJInJkd2xycnJkd2xyIiwNCgkJImRkd3JkZGRkd3JkIiwNCgkJInd3d3d3d3d3d3d3IiwNCgkJImxsbGxscndsbGxsIiwNCgkJInJycnJyZHdscnJyIiwNCgkJImRkZGRkZHdyZGRkIiwNCgkJInd3d3d3d3d3d3d3IiwNCgkJImxsbHJ3bGxscndsIiwNCgkJInJycmR3bHJyZHdsIiwNCgkJImRkZGR3cmRkZHdyIiwNCgkJInd3d3d3d3d3d3d3Il0sDQoJCUdMQVNTOiBbIC8vIHNvbGlkIHdpdGggc3RyZWFrcw0KCQkiZ2dnZ2dnZ2dnZ2dnIiwNCgkJImdnZ1NnZ2dnZ2dnZyIsDQoJCSJnZ1NnZ2dnZ2dnc2ciLA0KCQkiZ1NnZ2dnZ2dnc2dnIiwNCgkJImdnZ2dnZ2dnc2dnZyIsDQoJCSJnZ2dnZ2dnZ2dnZ2ciLA0KCQkiZ2dnZ2dnZ2dnZ2dnIiwNCgkJImdnZ2dzZ2dnZ2dnZyIsDQoJCSJnZ2dzZ2dnZ2dnZ2ciLA0KCQkiZ2dnZ2dnZ2dnZ1NnIiwNCgkJImdnZ2dnZ2dnZ1NnZyIsDQoJCSJnZ2dnZ2dnZ2dnZ2ciLA0KCQldDQoJCX0NCgkJcmVuZGVyUHJlc2V0cyA9IHsNCgkJSEVBVEdMT1c6IGZ1bmN0aW9uKHBpeGVsLGN0eCkgew0KCQkJZHJhd0RlZmF1bHQoY3R4LHBpeGVsKTsNCgkJCWlmICghdmlld0luZm9bdmlld10uY29sb3JFZmZlY3RzKSB7IHJldHVybiB9DQoJCQl2YXIgbWF4ID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0udGVtcEhpZ2g7DQoJCQl2YXIgcmF0aW8gPSAoKHBpeGVsLnRlbXAvbWF4KjEwMCl8MCkvMTAwOw0KCQkJaWYgKHJhdGlvIDwgMC4yKSB7IHJldHVybiB9DQoJCQlpZiAocmF0aW8gPiAxKSB7IHJhdGlvID0gMSB9DQoJCQlyYXRpbyAtPSAwLjI7DQoJCQlkcmF3U3F1YXJlKGN0eCwiaHNsKCIrcmF0aW8qNjArIiwxMDAlLDUwJSkiLHBpeGVsLngscGl4ZWwueSx1bmRlZmluZWQsTWF0aC5taW4ocmF0aW8sMC44NSkpOw0KCQl9LA0KCQlXT09EQ0hBUjogZnVuY3Rpb24ocGl4ZWwsY3R4KSB7DQoJCQlkcmF3RGVmYXVsdChjdHgscGl4ZWwpOw0KCQkJaWYgKCF2aWV3SW5mb1t2aWV3XS5jb2xvckVmZmVjdHMpIHsgcmV0dXJuIH0NCgkJCXZhciBtYXggPSA0MDA7DQoJCQl2YXIgcmF0aW8gPSAoKHBpeGVsLnRlbXAvbWF4KjEwMCl8MCkvMTAwOw0KCQkJaWYgKHJhdGlvIDwgMC41KSB7IHJldHVybiB9DQoJCQlpZiAocmF0aW8gPiAxKSB7IHJhdGlvID0gMSB9DQoJCQlkcmF3U3F1YXJlKGN0eCwiIzAwMDAwMCIscGl4ZWwueCxwaXhlbC55LHVuZGVmaW5lZCxNYXRoLm1pbigwLjgsKHJhdGlvLTAuNSkqMC44KSk7DQoJCX0sDQoJCVBMQU5UQ0hBUjogZnVuY3Rpb24ocGl4ZWwsY3R4KSB7DQoJCQlkcmF3RGVmYXVsdChjdHgscGl4ZWwpOw0KCQkJaWYgKCF2aWV3SW5mb1t2aWV3XS5jb2xvckVmZmVjdHMpIHsgcmV0dXJuIH0NCgkJCXZhciBtYXggPSA4MDsNCgkJCXZhciByYXRpbyA9ICgocGl4ZWwudGVtcC9tYXgqMTAwKXwwKS8xMDA7DQoJCQlpZiAocmF0aW8gPCAwLjUpIHsgcmV0dXJuIH0NCgkJCWlmIChyYXRpbyA+IDEpIHsgcmF0aW8gPSAxIH0NCgkJCWRyYXdTcXVhcmUoY3R4LCIjNGQ0MDE4IixwaXhlbC54LHBpeGVsLnksdW5kZWZpbmVkLE1hdGgubWluKDAuOCwocmF0aW8tMC41KSkpOw0KCQl9LA0KCQlDSEFSQ09BTEhFQVQ6IGZ1bmN0aW9uKHBpeGVsLGN0eCkgew0KCQkJZHJhd0RlZmF1bHQoY3R4LHBpeGVsKTsNCgkJCWlmICghdmlld0luZm9bdmlld10uY29sb3JFZmZlY3RzKSB7IHJldHVybiB9DQoJCQl2YXIgbWF4ID0gMTEwMDsNCgkJCXZhciByYXRpbyA9ICgocGl4ZWwudGVtcC9tYXgqMTAwKXwwKS8xMDA7DQoJCQlpZiAocmF0aW8gPCAwLjQpIHsgcmV0dXJuIH0NCgkJCWlmIChyYXRpbyA+IDEpIHsgcmF0aW8gPSAxIH0NCgkJCWRyYXdTcXVhcmUoY3R4LCJoc2woIityYXRpbyoyMCsiLDEwMCUsIitNYXRoLm1pbig5MCxyYXRpbyo3MCkrIiUpIixwaXhlbC54LHBpeGVsLnksdW5kZWZpbmVkLE1hdGgubWluKDAuNywocmF0aW8tMC40KSowLjcpKTsNCgkJfSwNCgkJSFVFU0hJRlQ6IGZ1bmN0aW9uKHBpeGVsLGN0eCkgew0KCQkJaWYgKCFwaXhlbC5vcmlnQ29sb3IgJiYgcGl4ZWwuY29sb3IubWF0Y2goL15yZ2IvKSkgew0KCQkJCXBpeGVsLm9yaWdDb2xvciA9IHBpeGVsLmNvbG9yLm1hdGNoKC9cZCsvZyk7DQoJCQl9DQoJCQlpZiAoIXBpeGVsLm9yaWdDb2xvciB8fCAhdmlld0luZm9bdmlld10uZWZmZWN0cykgew0KCQkJCWRyYXdEZWZhdWx0KGN0eCxwaXhlbCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJdmFyIGhzbCA9IFJHQlRvSFNMKHBpeGVsLm9yaWdDb2xvcik7DQoJCQloc2xbMF0gKz0gMC4wNTsNCgkJCWhzbFswXSAtPSBNYXRoLm1pbigzMCwocGl4ZWxUaWNrcy1waXhlbC5zdGFydCkvMS41KS8zNjA7DQoJCQloc2wgPSAiaHNsKCIraHNsWzBdKjM2MCsiLCIraHNsWzFdKjEwMCsiJSwiK2hzbFsyXSoxMDArIiUpIjsNCgkJCWRyYXdQbHVzKGN0eCxoc2wscGl4ZWwueCxwaXhlbC55KTsNCgkJfSwNCgkJTU9MVEVOOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJCWlmICghcGl4ZWwub3JpZ0NvbG9yICYmIHBpeGVsLmNvbG9yLm1hdGNoKC9ecmdiLykpIHsNCgkJCQlwaXhlbC5vcmlnQ29sb3IgPSBwaXhlbC5jb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJfQ0KCQkJaWYgKCFwaXhlbC5vcmlnQ29sb3IgfHwgIXZpZXdJbmZvW3ZpZXddLmVmZmVjdHMpIHsNCgkJCQlkcmF3RGVmYXVsdChjdHgscGl4ZWwpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCXZhciBoc2wgPSBSR0JUb0hTTChwaXhlbC5vcmlnQ29sb3IpOw0KCQkJaHNsWzBdICs9ICgwLjAyNSpNYXRoLnNpbigocGl4ZWxUaWNrcy1waXhlbC5zdGFydCkqMC4wMzMpKSAtIDAuMDA1Ow0KCQkJaHNsID0gImhzbCgiK2hzbFswXSozNjArIiwiK2hzbFsxXSoxMDArIiUsIitoc2xbMl0qMTAwKyIlKSI7DQoJCQlkcmF3U3F1YXJlKGN0eCxoc2wscGl4ZWwueCxwaXhlbC55KTsNCgkJfSwNCgkJQk9SREVSOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJCWlmICghdmlld0luZm9bdmlld10uY29sb3JFZmZlY3RzKSB7IGRyYXdEZWZhdWx0KGN0eCxwaXhlbCk7IHJldHVybiB9DQoJCQlyZW5kZXJQcmVzZXRzLkhFQVRHTE9XKHBpeGVsLGN0eCk7DQoJCQlpZiAocGl4ZWwuYWxwaGEgPT09IDApIHJldHVybjsNCgkJCWxldCBlZGdlID0gZmFsc2U7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIGNvb3JkcyA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQkJCXZhciB4ID0gcGl4ZWwueCArIGNvb3Jkc1swXTsNCgkJCQl2YXIgeSA9IHBpeGVsLnkgKyBjb29yZHNbMV07DQoJCQkJaWYgKGlzRW1wdHkoeCx5KSB8fCAoIW91dE9mQm91bmRzKHgseSkgJiYgZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0ubW92YWJsZSAhPT0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0ubW92YWJsZSkpIHsNCgkJCQkJZWRnZSA9IHRydWU7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChlZGdlKSB7IGRyYXdTcXVhcmUoY3R4LCJyZ2JhKDI1NSwyNTUsMjU1LCIrKHBpeGVsLmFscGhhfHwxKS80KyIpIixwaXhlbC54LHBpeGVsLnkpIH0NCgkJfSwNCgkJTEVEOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJCWlmICghdmlld0luZm9bdmlld10uY29sb3JFZmZlY3RzKSB7IGRyYXdEZWZhdWx0KGN0eCxwaXhlbCk7IHJldHVybiB9DQoJCQlsZXQgYWxwaGEgPSAocGl4ZWwuYWxwaGE/PzEpOw0KCQkJaWYgKCFwaXhlbC5jaGFyZ2UgJiYgIXBpeGVsLmNoYXJnZUNEKSB7DQoJCQkJYWxwaGEgLT0gMC43NTsNCgkJCQlhbHBoYSA9IE1hdGgubWF4KDAsYWxwaGEpOw0KCQkJCWlmIChwaXhlbC5lbWl0KSBwaXhlbC5lbWl0ID0gZmFsc2U7DQoJCQkJaWYgKGFscGhhID09PSAwKSByZXR1cm47DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlhbHBoYSA9IDE7DQoJCQkJaWYgKCFwaXhlbC5lbWl0KSBwaXhlbC5lbWl0ID0gdHJ1ZTsNCgkJCX0NCgkJCWRyYXdTcXVhcmUoY3R4LHBpeGVsLmNvbG9yLHBpeGVsLngscGl4ZWwueSx1bmRlZmluZWQsYWxwaGEpOw0KCQl9DQoJCX0NCgkJZUxpc3RzID0gew0KCQkJQU5JTUFMOiBbImZsZWEiLCJhbnQiLCJmbHkiLCJmaXJlZmx5IiwiYmVlIiwiZnJvZyIsImZpc2giLCJ3b3JtIiwidGVybWl0ZSIsInJhdCIsInNsdWciLCJzbmFpbCIsInN0aW5rX2J1ZyJdLA0KCQkJQ0xFQU5BTklNQUw6IFsiYW50IiwiZmlyZWZseSIsImJlZSIsImZyb2ciLCJmaXNoIiwidGFkcG9sZSJdLA0KCQkJU0VFRFM6IFsiZ3Jhc3Nfc2VlZCIsIndoZWF0X3NlZWQiLCJmbG93ZXJfc2VlZCIsImJhbWJvb19wbGFudCIsIm11c2hyb29tX3Nwb3JlIiwiY29ybl9zZWVkIiwicG90YXRvX3NlZWQiLCJjYWN0dXMiLCJwdW1wa2luX3NlZWQiXSwNCgkJCVNPSUw6IFsiZGlydCIsIm11ZCIsInNhbmQiLCJ3ZXRfc2FuZCIsImNsYXlfc29pbCIsImNsYXkiLCJteWNlbGl1bSJdLA0KCQkJQ1JBV0xUSFJVOiBbImRpcnQiLCJzYW5kIiwiY2xheV9zb2lsIiwiZ3JhdmVsIiwibXVsY2giLCJjb2xvcl9zYW5kIiwiZ3Jhc3MiXSwNCgkJCUhJVkVQTEFDRTogWyJ3b29kIiwidHJlZV9icmFuY2giLCJldmVyZ3JlZW4iXQ0KCQl9DQoJCWZ1bmN0aW9uIGVMaXN0QWRkKGxpc3ROYW1lLCBpdGVtTGlzdCkgew0KCQkJaWYgKCFlTGlzdHNbbGlzdE5hbWVdKSB7IGVMaXN0c1tsaXN0TmFtZV0gPSBbXTsgfQ0KCQkJaWYgKCFpdGVtTGlzdCkgeyByZXR1cm4gfQ0KCQkJaWYgKHR5cGVvZiBpdGVtTGlzdCA9PT0gInN0cmluZyIpIHsgaXRlbUxpc3QgPSBbaXRlbUxpc3RdOyB9DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJaWYgKGVMaXN0c1tsaXN0TmFtZV0uaW5kZXhPZihpdGVtTGlzdFtpXSkgPT09IC0xKSB7DQoJCQkJCWVMaXN0c1tsaXN0TmFtZV0ucHVzaChpdGVtTGlzdFtpXSk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJYWlyRGVuc2l0eSA9IHNldHRpbmdzLmFpcmRlbnNpdHkgfHwgMS4yMjU7IC8vIGtnL21eMw0KCQlhaXJUZW1wID0gc2V0dGluZ3MuYWlydGVtcCB8fCAyMDsgLy8gQ2Vsc2l1cw0KCQlhYnNvbHV0ZVplcm8gPSBzZXR0aW5ncy5hYnN6ZXJvIHx8IC0yNzMuMTU7IC8vIENlbHNpdXMNCgkJbWF4UGl4ZWxDb3VudCA9IHNldHRpbmdzLm1heHBpeGVscyB8fCAxMzg2MTsNCgkJZnVuY3Rpb24gcmVmcmVzaE1heFBpeGVscygpIHsNCgkJCW1heFBpeGVsQ291bnQgPSBzZXR0aW5ncy5tYXhwaXhlbHMgfHwgMTM4NjE7DQoJCQlpZiAoc2V0dGluZ3MubGltaXRsZXNzKSB7IHNldHRpbmdzLm1heHBpeGVscyA9IDA7IH0NCgkJCWVsc2UgeyBkZWxldGUgc2V0dGluZ3MubWF4cGl4ZWxzOyB9DQoJCQlpZiAoc2V0dGluZ3MubWF4cGl4ZWxzID09PSAwKSB7IG1heFBpeGVsQ291bnQgPSA5OTk5OTk5OTk5OTk7IH0NCgkJfQ0KCQlyZWZyZXNoTWF4UGl4ZWxzKCk7DQoNCgkJLy8gRWxlbWVudCBQcm9wZXJ0aWVzIChPVVREQVRFRCkNCgkJLy8gbmFtZSAtIGRpc3BsYXkgbmFtZSBvZiB0aGUgZWxlbWVudCBbb3B0aW9uYWxdDQoJCS8vIGNvbG9yIC0gY29sb3Igb2YgdGhlIGVsZW1lbnQncyBwaXhlbA0KCQkvLyBiZWhhdmlvciAtIGJlaGF2aW9yIG9mIHRoZSBlbGVtZW50DQoJCS8vIGlnbm9yZSAtIGVsZW1lbnRzIHRvIGlnbm9yZSBpbiBiZWhhdmlvciBbbXVzdCBiZSBhbiBhcnJheV0NCgkJLy8gY2F0ZWdvcnkgLSBjYXRlZ29yeSBpbiB3aGljaCB0aGUgZWxlbWVudCB3aWxsIHNob3cgdXAgaW4NCgkJLy8gZGVuc2l0eSAtIGRlbnNpdHkgb2YgdGhlIGVsZW1lbnQgW29ubHkgdXNlZCBmb3IgbW92YWJsZSBlbGVtZW50c10gKGtnL21eMykNCgkJLy8gc3RhdGUgLSBzb2xpZCwgbGlxdWlkLCBvciBnYXMgW29ubHkgdXNlZCBmb3IgbW92YWJsZSBlbGVtZW50c10NCgkJLy8gcmVhY3Rpb25zIC0gaW5zdHJ1Y3Rpb25zIGZvciB3aGVuIGVsZW1lbnRzIGF0dGVtcHQgdG8gbW92ZSBvbnRvIGVhY2ggb3RoZXIgKG9iamVjdCkNCgkJLy8gY29uZHVjdCAtIGNvbmR1Y3Rpdml0eSBvZiB0aGUgZWxlbWVudCAoMC0xKQ0KCQkvLyBiZWhhdmlvck9uIC0gYmVoYXZpb3IgdG8gb3ZlcnJpZGUgd2hlbiBwb3dlcmVkDQoJCS8vIGNvbG9yT24gLSBjb2xvciB0byBjaGFuZ2UgdG8gd2hlbiBwb3dlcmVkDQoJCS8vIHRlbXAgLSBkZWZhdWx0IHRlbXBlcmF0dXJlIG9mIHRoZSBlbGVtZW50IChDZWxzaXVzKQ0KCQkvLyB0ZW1wSGlnaCAtIGhpZ2hlc3QgdGVtcGVyYXR1cmUgYmVmb3JlIHN0YXRlIGNoYW5nZSAoQ2Vsc2l1cykNCgkJLy8gdGVtcExvdyAtIGxvd2VzdCB0ZW1wZXJhdHVyZSBiZWZvcmUgc3RhdGUgY2hhbmdlIChDZWxzaXVzKQ0KCQkvLyBzdGF0ZUhpZ2ggLSBlbGVtZW50IHRyYW5zZm9ybWVkIGludG8gd2hlbiB0ZW1wSGlnaCBpcyByZWFjaGVkDQoJCS8vIHN0YXRlTG93IC0gZWxlbWVudCB0cmFuc2Zvcm1lZCBpbnRvIHdoZW4gdGVtcExvdyBpcyByZWFjaGVkDQoJCS8vIHZpc2Nvc2l0eSAtIGhvdyBzbG93IGEgbGlxdWlkIHdpbGwgbW92ZSAoaGlnaGVyID0gc2xvd2VyKSAoY3BzKQ0KCQkvLyBidXJuIC0gY2hhbmNlIG9mIGJ1cm5pbmcgcGVyIHRpY2sgKDAtMTAwKSAoJSkNCgkJLy8gYnVyblRpbWUgLSB0aW1lIHRvIGJ1cm4gKHRpY2tzKQ0KCQkvLyBidXJuSW50byAtIGVsZW1lbnQgdG8gdHVybiBpbnRvIGFmdGVyIGJ1cm5pbmcNCgkJLy8gZmlyZUNvbG9yIC0gY29sb3Igb2YgdGhlIGZsYW1lIGdpdmVuIG9mZiB3aGVuIGJ1cm5pbmcNCgkJLy8gYnVybmluZyAtIHdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgYnVybmluZyBvbiBjcmVhdGlvbg0KCQkvLyBjaGFyZ2UgLSBjaGFyZ2Ugb2YgdGhlIGVsZW1lbnQgb24gY3JlYXRpb24NCgkJLy8gaGFyZG5lc3MgLSBjaGFuY2Ugb2YgcmVzaXN0aW5nIGRhbWFnZSAoMC0xKQ0KCQllbGVtZW50cyA9IHsNCiJoZWF0Ijogew0KCWNvbG9yOiAiI2ZmMDAwMCIsDQoJYmVoYXZpb3I6IFsNCgkJIkhUOjJ8SFQ6MnxIVDoyIiwNCgkJIkhUOjJ8SFQ6MnxIVDoyIiwNCgkJIkhUOjJ8SFQ6MnxIVDoyIiwNCgldLA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChzaGlmdERvd24pIHtwaXhlbC50ZW1wICs9IGVsZW1lbnRzLmhlYXQudGVtcCsoTWF0aC5yYW5kb20oKSplbGVtZW50cy5oZWF0LnRlbXAqMS41KSoyMDt9DQoJCWVsc2Uge3BpeGVsLnRlbXAgKz0gZWxlbWVudHMuaGVhdC50ZW1wKyhNYXRoLnJhbmRvbSgpKmVsZW1lbnRzLmhlYXQudGVtcCoxLjUpO30NCgkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCX0sDQoJdGVtcDogMiwNCgljYXRlZ29yeTogInRvb2xzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCWNhblBsYWNlOiBmYWxzZSwNCglkZXNjOiAiVXNlIG9uIHBpeGVscyB0byBpbmNyZWFzZSB0ZW1wZXJhdHVyZS4iDQp9LA0KImNvb2wiOiB7DQoJY29sb3I6ICIjMDAwMGZmIiwNCgliZWhhdmlvcjogWw0KCQkiQ086MnxDTzoyfENPOjIiLA0KCQkiQ086MnxDTzoyfENPOjIiLA0KCQkiQ086MnxDTzoyfENPOjIiLA0KCV0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHNoaWZ0RG93bikge3BpeGVsLnRlbXAgKz0gZWxlbWVudHMuY29vbC50ZW1wKyhNYXRoLnJhbmRvbSgpKmVsZW1lbnRzLmNvb2wudGVtcCoxLjUpKjIwO30NCgkJZWxzZSB7cGl4ZWwudGVtcCArPSBlbGVtZW50cy5jb29sLnRlbXArKE1hdGgucmFuZG9tKCkqZWxlbWVudHMuY29vbC50ZW1wKjEuNSk7fQ0KCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJfSwNCgl0ZW1wOiAtMiwNCgljYXRlZ29yeTogInRvb2xzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCWNhblBsYWNlOiBmYWxzZSwNCglkZXNjOiAiVXNlIG9uIHBpeGVscyB0byBkZWNyZWFzZSB0ZW1wZXJhdHVyZS4iDQp9LA0KImVyYXNlIjogew0KCWNvbG9yOiAiI2ZkYjVmZiIsDQoJYmVoYXZpb3I6IFsNCgkJIkRMfERMfERMIiwNCgkJIkRMfERMfERMIiwNCgkJIkRMfERMfERMIiwNCgldLA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJfSwNCgljYXRlZ29yeTogInRvb2xzIiwNCgljYW5QbGFjZTogZmFsc2UsDQoJZGVzYzogIlVzZSBvbiBwaXhlbHMgdG8gZGVsZXRlIHRoZW0uIg0KfSwNCiJkcmFnIjogew0KCWNvbG9yOiAiI2MxY2ZiNiIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFhYfFNXIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChkcmFnU3RhcnQgPT09IG51bGwpIHsNCgkJCWRyYWdTdGFydCA9IHBpeGVsVGlja3M7DQoJCQlkcmFnZ2luZ1BpeGVscyA9IFtdOw0KCQl9DQoJCWlmIChwaXhlbFRpY2tzID09PSBkcmFnU3RhcnQgJiYgIXBpeGVsLmRyYWcgJiYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm1vdmFibGUgfHwgc2hpZnREb3duKSkgew0KCQkJcGl4ZWwuZHJhZyA9IHRydWU7DQoJCQlkcmFnZ2luZ1BpeGVscy5wdXNoKHBpeGVsKTsNCgkJfQ0KCX0sDQoJb25Nb3VzZVVwOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFkcmFnZ2luZ1BpeGVscykgeyByZXR1cm47IH0NCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBkcmFnZ2luZ1BpeGVscy5sZW5ndGg7IGkrKykgew0KCQkJZGVsZXRlIGRyYWdnaW5nUGl4ZWxzW2ldLmRyYWc7DQoJCX0NCgkJZHJhZ1N0YXJ0ID0gbnVsbDsNCgkJZHJhZ2dpbmdQaXhlbHMgPSBudWxsOw0KCX0sDQoJb25VbnNlbGVjdDogZnVuY3Rpb24oKSB7DQoJCWVsZW1lbnRzLmRyYWcub25Nb3VzZVVwKCk7DQoJfSwNCglwZXJUaWNrOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFkcmFnZ2luZ1BpeGVscykgeyByZXR1cm47IH0NCgkJZm9yICh2YXIgaiA9IDA7IGogPCAoc2hpZnREb3duID8gMyA6IDEpOyBqKyspIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBkcmFnZ2luZ1BpeGVscy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIHBpeGVsID0gZHJhZ2dpbmdQaXhlbHNbaV07DQoJCQlpZiAocGl4ZWwuZGVsKSB7IGNvbnRpbnVlIH0NCgkJCWNvbnN0IHggPSBwaXhlbC54Ow0KCQkJY29uc3QgeSA9IHBpeGVsLnk7DQoJCQljb25zdCBbbVgsIG1ZXSA9IFttb3VzZVBvcy54LCBtb3VzZVBvcy55XTsNCgkJCWNvbnN0IGVtcHR5ID0gY2hlY2tGb3JFbXB0eVBpeGVscyh4LCB5KTsNCgkJCWxldCBiZXN0VmFsID0gTWF0aC5zcXJ0KE1hdGgucG93KG1YIC0geCwgMikgKyBNYXRoLnBvdyhtWSAtIHksIDIpKTsNCgkJCWxldCBiZXN0ID0gbnVsbDsNCgkJCWZvciAoY29uc3QgcGl4ZWxQYWlyIG9mIGVtcHR5KSB7DQoJCQkJY29uc3QgeF8gPSB4ICsgcGl4ZWxQYWlyWzBdOw0KCQkJCWNvbnN0IHlfID0geSArIHBpeGVsUGFpclsxXTsNCgkJCQljb25zdCBjID0gTWF0aC5zcXJ0KE1hdGgucG93KG1YIC0geF8sIDIpICsgTWF0aC5wb3cobVkgLSB5XywgMikpOw0KCQkJCWlmIChjIDwgYmVzdFZhbCkgew0KCQkJCQliZXN0VmFsID0gYzsNCgkJCQkJYmVzdCA9IHBpeGVsUGFpcjsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoYmVzdCkgew0KCQkJCXRyeU1vdmUocGl4ZWwsIHggKyBiZXN0WzBdLCB5ICsgYmVzdFsxXSwgdW5kZWZpbmVkLCB0cnVlKTsNCgkJCX0NCgkJfQ0KCQl9DQoJfSwNCglyb3RhdGFibGU6IHRydWUsDQoJY2F0ZWdvcnk6ICJ0b29scyIsDQoJY2FuUGxhY2U6IGZhbHNlLA0KCWRhcmtUZXh0OiB0cnVlLA0KCWRlc2M6ICJVc2Ugb24gcGl4ZWxzIHRvIG1vdmUgdGhlbSBhcm91bmQuIg0KfSwNCiJwaWNrIjogew0KCWNvbG9yOiBbIiNmYTliOWIiLCIjZmFlOTliIiwiIzliZmFiNyIsIiM5YjlkZmEiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCl7DQoJCWxldCBlbGVtZW50ID0gcGl4ZWwuZWxlbWVudDsNCgkJaWYgKCFzaGlmdERvd24gJiYgZWxlbWVudHNbZWxlbWVudF0ucGlja0VsZW1lbnQpIHsNCgkJCWVsZW1lbnQgPSBlbGVtZW50c1tlbGVtZW50XS5waWNrRWxlbWVudDsNCgkJfQ0KCQlzZWxlY3RFbGVtZW50KGVsZW1lbnQpOw0KCQlzZWxlY3RDYXRlZ29yeShlbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSk7DQoJCWlmIChzaGlmdERvd24pIHsNCgkJCWN1cnJlbnRFbGVtZW50UHJvcCA9IHt9Ow0KCQkJZm9yICh2YXIga2V5IGluIHBpeGVsKSB7IGN1cnJlbnRFbGVtZW50UHJvcFtrZXldID0gcGl4ZWxba2V5XSB9DQoJCQlkZWxldGUgY3VycmVudEVsZW1lbnRQcm9wLng7DQoJCQlkZWxldGUgY3VycmVudEVsZW1lbnRQcm9wLnk7DQoJCX0NCgkJbW91c2VJc0Rvd24gPSBmYWxzZTsNCgl9LA0KCWJlaGF2aW9yOiBbDQoJCSJDRnxDRnxDRiIsDQoJCSJDRnxETCU1fENGIiwNCgkJIkNGfENGfENGIiwNCgldLA0KCWNhdGVnb3J5OiAidG9vbHMiLA0KCW1heFNpemU6IDAsDQoJZGFya1RleHQ6IHRydWUsDQoJY2FuUGxhY2U6IGZhbHNlLA0KCWRlc2M6ICJVc2Ugb24gYSBwaXhlbCB0byBzZWxlY3QgaXRzIGVsZW1lbnQuIg0KfSwNCiJtaXgiOiB7IC8vaGFyZC1jb2RlZA0KCWNvbG9yOiBbIiNmZmY0YjUiLCIjYTZhNmE2Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlNXfFNXfFNXIiwNCgkJIlNXfERMJTV8U1ciLA0KCQkiU1d8U1d8U1ciLA0KCV0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpe30sDQoJY2F0ZWdvcnk6ICJ0b29scyIsDQoJZGFya1RleHQ6IHRydWUsDQoJY2FuUGxhY2U6IGZhbHNlLA0KCWRlc2M6ICJVc2Ugb24gcGl4ZWxzIHRvIHJhbmRvbWl6ZSB0aGVpciBwb3NpdGlvbi4iDQp9LA0KImxvb2t1cCI6IHsNCgljb2xvcjogWyIjNWU4MDdkIiwiIzVlODA3ZCIsIiM2NzllOTkiLCIjNWU4MDdkIiwiIzVlODA3ZCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAobW91c2VTaXplID09PSAxKSBzaG93SW5mbyhwaXhlbC5lbGVtZW50KTsNCgkJZWxzZSBpZiAoIWxvb2t1cFRlbXBFbGVtZW50c1twaXhlbC5lbGVtZW50XSkgbG9va3VwVGVtcEVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdID0gdHJ1ZTsNCgl9LA0KCW9uTW91c2VEb3duOiBmdW5jdGlvbigpIHsNCgkJbG9va3VwVGVtcEVsZW1lbnRzID0ge307DQoJfSwNCglvbk1vdXNlVXA6IGZ1bmN0aW9uKCkgew0KCQlpZiAoT2JqZWN0LmtleXMobG9va3VwVGVtcEVsZW1lbnRzKS5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9DQoJCWlmIChPYmplY3Qua2V5cyhsb29rdXBUZW1wRWxlbWVudHMpLmxlbmd0aCA9PT0gMSkgeyBzaG93SW5mbyhPYmplY3Qua2V5cyhsb29rdXBUZW1wRWxlbWVudHMpWzBdKSB9DQoJCWVsc2UgeyBzaG93SW5mbyhPYmplY3Qua2V5cyhsb29rdXBUZW1wRWxlbWVudHMpLmpvaW4oIiwiKSkgfQ0KCQlsb29rdXBUZW1wRWxlbWVudHMgPSB7fTsNCgl9LA0KCWNhdGVnb3J5OiAidG9vbHMiLA0KCW1heFNpemU6IDUsDQoJY2FuUGxhY2U6IGZhbHNlLA0KCWRlc2M6ICJVc2Ugb24gYSBwaXhlbCB0byBkaXNwbGF5IGl0cyBlbGVtZW50IGluZm8uIg0KfSwNCiJzaG9jayI6IHsNCgljb2xvcjogIiNmZmZmMDAiLA0KCWJlaGF2aW9yOiBbDQoJCSJTSHxTSHxTSCIsDQoJCSJTSHxETCU1fFNIIiwNCgkJIlNIfFNIfFNIIiwNCgldLA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCS8vIE9uZSBsb29wIHRoYXQgcmVwZWF0cyA1IHRpbWVzIGlmIHNoaWZ0RG93biBlbHNlIDEgdGltZQ0KCQl2YXIgY29uID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY29uZHVjdDsNCgkJaWYgKHBpeGVsLnRlbXAgPD0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uc3VwZXJjb25kdWN0QXQpIHsNCgkJCWNvbiA9IDE7DQoJCX0NCgkJaWYgKGNvbiA9PT0gdW5kZWZpbmVkKSB7cmV0dXJufQ0KCQlmb3IgKHZhciBqID0gMDsgaiA8IChzaGlmdERvd24gPyA1IDogMSk7IGorKykgew0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCBjb24pIHsgLy8gSWYgcmFuZG9tIG51bWJlciBpcyBsZXNzIHRoYW4gY29uZHVjdGl2aXR5DQoJCQkJaWYgKCFwaXhlbC5jaGFyZ2UgJiYgIXBpeGVsLmNoYXJnZUNEKSB7DQoJCQkJCXBpeGVsLmNoYXJnZSA9IDE7DQoJCQkJCXBpeGVsLmNoYXJnZVN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmNvbG9yT24pIHsNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSBpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uaW5zdWxhdGUgIT09IHRydWUpIHsgLy8gT3RoZXJ3aXNlIGhlYXQgdGhlIHBpeGVsIChSZXNpc3RhbmNlIHNpbXVsYXRpb24pDQoJCQkJcGl4ZWwudGVtcCArPSAwLjI1Ow0KCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsKTsNCgkJCX0NCgkJfQ0KCX0sDQoJY2F0ZWdvcnk6ICJ0b29scyIsDQoJZGFya1RleHQ6IHRydWUsDQoJY2FuUGxhY2U6IGZhbHNlLA0KCWRlc2M6ICJVc2Ugb24gcGl4ZWxzIHRvIGluY3JlYXNlIGVsZWN0cmljIGNoYXJnZS4iDQp9LA0KInBhaW50Ijogew0KCWNvbG9yOiBbIiNjMjcwNzAiLCIjYzI5YzcwIiwiI2MyYzI3MCIsIiM3MGMyNzAiLCIjNzBjMmMyIiwiIzcwNzBjMiIsIiNjMjcwYzIiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXNoaWZ0RG93bikgew0KCQkJcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCxjdXJyZW50Q29sb3JNYXAucGFpbnQpDQoJCX0NCgkJZWxzZSB7DQoJCQkvLyBjb252ZXJ0IHRoZSBoZXggb2YgY3VycmVudENvbG9yIHRvIHJnYiBhbmQgc2V0IGl0IGFzIGEgc3RyaW5nDQoJCQl2YXIgcmdiID0gY3VycmVudENvbG9yTWFwLnBhaW50LnJlcGxhY2UoIiMiLCIiKS5tYXRjaCgvLnsxLDJ9L2cpOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCByZ2IubGVuZ3RoOyBpKyspIHsNCgkJCQlyZ2JbaV0gPSBwYXJzZUludChyZ2JbaV0sMTYpOw0KCQkJfQ0KCQkJcGl4ZWwuY29sb3IgPSAicmdiKCIgKyByZ2Iuam9pbigiLCIpICsgIikiDQoJCX0NCgkJZGVsZXRlIHBpeGVsLm9yaWdDb2xvcjsNCgl9LA0KCWN1c3RvbUNvbG9yOiB0cnVlLA0KCWNhdGVnb3J5OiAidG9vbHMiLA0KCWNhblBsYWNlOiBmYWxzZSwNCglkZXNjOiAiVXNlIG9uIHBpeGVscyB0byBjaGFuZ2UgY29sb3IuIg0KfSwNCiJzYW5kIjogew0KCWNvbG9yOiAiI2U2ZDU3NyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJzYWx0X3dhdGVyIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjoiZm9hbSJ9LA0KCQkic3VnYXJfd2F0ZXIiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkic2VsdHplciI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJkaXJ0eV93YXRlciI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJwb29sX3dhdGVyIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJInNsdXNoIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJInNvZGEiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkianVpY2UiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkibWlsayI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJjaG9jb2xhdGVfbWlsayI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJmcnVpdF9taWxrIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJInBpbGsiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkiZWdnbm9nIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJIm51dF9taWxrIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJImNyZWFtIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJInZpbmVnYXIiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkiYmxvb2QiOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkidmFjY2luZSI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJhbnRpYm9keSI6e2VsZW0xOiJ3ZXRfc2FuZCIsZWxlbTI6bnVsbH0sDQoJCSJpbmZlY3Rpb24iOntlbGVtMToid2V0X3NhbmQiLGVsZW0yOm51bGx9LA0KCQkicG9pc29uIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJImFudGlkb3RlIjp7ZWxlbTE6IndldF9zYW5kIixlbGVtMjpudWxsfSwNCgkJInRvcm5hZG8iOntlbGVtMToic2FuZHN0b3JtIiwgb25ld2F5OnRydWV9DQoJfSwNCgl0ZW1wSGlnaDogMTcwMCwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fZ2xhc3MiLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTYwMg0KfSwNCiJ3YXRlciI6IHsNCgljb2xvcjogIiMyMTY3ZmYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAic3RlYW0iLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJpY2UiLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJaGVhdENhcGFjaXR5OiA0LjE4NCwNCglyZWFjdGlvbnM6IHsNCgkJInNhbHQiOiB7IGVsZW0xOiAic2FsdF93YXRlciIsIGVsZW0yOiBudWxsLCB0ZW1wMTotMjAgfSwNCgkJInN1Z2FyIjogeyBlbGVtMTogInN1Z2FyX3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImhvbmV5IjogeyBlbGVtMTogInN1Z2FyX3dhdGVyIiB9LA0KCQkiY2FyYW1lbCI6IHsgZWxlbTE6ICJzdWdhcl93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJtb2xhc3NlcyI6IHsgZWxlbTE6ICJzdWdhcl93YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJjYW5keSI6IHsgZWxlbTE6ICJzdWdhcl93YXRlciIsIGVsZW0yOiJmb2FtIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJkdXN0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImFzaCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJjeWFuaWRlIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImN5YW5pZGVfZ2FzIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImNhcmJvbl9kaW94aWRlIjogeyBlbGVtMTogInNlbHR6ZXIiLCBlbGVtMjogbnVsbCwgb25ld2F5OnRydWUgfSwNCgkJInN1bGZ1ciI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJyYXQiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImluZmVjdGlvbiI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJwbGFndWUiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkicnVzdCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkibGVhZCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkic29sZGVyIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJmYWxsb3V0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInJhZGlhdGlvbiI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjI1IH0sDQoJCSJ1cmFuaXVtIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJyYWRfZ2xhc3MiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInJhZF9zaGFyZCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAxIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjI1IH0sDQoJCSJyb3R0ZW5fY2hlZXNlIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJImNhbmNlciI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjI1IH0sDQoJCSJvaWwiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImRpb3hpbiI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjEgfSwNCgkJIm5ldXRyb24iOiB7IGVsZW0xOiBbImRpcnR5X3dhdGVyIiwiZGlydHlfd2F0ZXIiLCJkaXJ0eV93YXRlciIsInJhZF9zdGVhbSJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJyb2NrIjogeyBlbGVtMjogIndldF9zYW5kIiwgY2hhbmNlOiAwLjAwMDM1IH0sDQoJCSJsaW1lc3RvbmUiOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjaGFuY2U6IDAuMDAwMzUgfSwNCgkJInR1ZmYiOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjb2xvcjI6IiM3YTZiNWMiLCBjaGFuY2U6IDAuMDAwMzUgfSwNCgkJInJ1aW5zIjogeyBlbGVtMjogInJvY2siLCBjaGFuY2U6IDAuMDAwMzUgfSwNCgkJIm11ZHN0b25lIjogeyBlbGVtMjogIm11ZCIsIGNoYW5jZTogMC4wMDAzNSB9LA0KCQkibWV0aGFuZSI6IHsgZWxlbTE6InByaW1vcmRpYWxfc291cCIsIGVsZW0yOiJwcmltb3JkaWFsX3NvdXAiLCB0ZW1wTWluOjYwLCBjaGFyZ2VkOnRydWUgfSwNCgkJImFtbW9uaWEiOiB7IGVsZW0xOiJwcmltb3JkaWFsX3NvdXAiLCBlbGVtMjoicHJpbW9yZGlhbF9zb3VwIiwgdGVtcE1pbjo2MCwgY2hhcmdlZDp0cnVlIH0sDQoJCSJmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiYmVlIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4wNSwgb25ld2F5OnRydWUgfSwNCgkJInN0aW5rX2J1ZyI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImN1cmVkX21lYXQiOiB7IGVsZW0xOiJzYWx0X3dhdGVyIiwgZWxlbTI6Im1lYXQiIH0sDQoJCSJ3YXRlciI6IHsgZWxlbTI6ImJ1YmJsZSIsIGF0dHIyOnsiY2xvbmUiOiJ3YXRlciJ9LCBjaGFuY2U6MC4wMDEsIHRlbXBNaW46ODUgfSwNCgkJLy8gZWxlY3Ryb2x5c2lzOg0KCQkiYWx1bWludW0iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMjUgfSwNCgkJInppbmMiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxMjUgfSwNCgkJImlyb24iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxMjUgfSwNCgkJInRpbiI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImJyYXNzIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDEgfSwNCgkJImJyb256ZSI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJjb3BwZXIiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJInNpbHZlciI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDA3NSB9LA0KCQkiZ29sZCI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDA3NSB9DQoJfSwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogOTk3LA0KCWNvbmR1Y3Q6IDAuMDIsDQoJc3RhaW46IC0wLjUsDQoJZXh0aW5ndWlzaDogdHJ1ZQ0KfSwNCiJzYWx0X3dhdGVyIjogew0KCWNvbG9yOiAiIzRkODVmZiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJdGVtcEhpZ2g6IDEwMiwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJzYWx0Il0sDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3dOYW1lOiAic2FsdF9pY2UiLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJcmVhY3Rpb25zOiB7DQoJCSJkdXN0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImFzaCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJjYXJib25fZGlveGlkZSI6IHsgZWxlbTE6ICJzZWx0emVyIiwgZWxlbTI6IG51bGwgfSwNCgkJInN1bGZ1ciI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJjeWFuaWRlIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJInJhdCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJmYWxsb3V0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInJhZGlhdGlvbiI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjI1IH0sDQoJCSJydXN0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJsZWFkIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzb2xkZXIiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInJvY2siOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjaGFuY2U6IDAuMDAwNSB9LA0KCQkibGltZXN0b25lIjogeyBlbGVtMjogIndldF9zYW5kIiwgY2hhbmNlOiAwLjAwMDUgfSwNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiY2FuY2VyIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJIm9pbCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkidXJhbml1bSI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjI1IH0sDQoJCSJ3ZXRfc2FuZCI6IHsgb25ld2F5OnRydWUsIGNoYW5jZTowLjAwNywgZnVuYzpmdW5jdGlvbihwaXhlbCl7DQoJCQlpZiAoaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkgfHwgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMikgfHwgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMykpIHsNCgkJCQljaGFuZ2VQaXhlbChwaXhlbCwiZm9hbSIpOw0KCQkJCXBpeGVsLmNsb25lID0gInNhbHRfd2F0ZXIiOw0KCQkJfQ0KCQl9fSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJidWJibGUiLCBhdHRyMjp7ImNsb25lIjoic2FsdF93YXRlciJ9LCBjaGFuY2U6MC4wMDEsIHRlbXBNaW46ODUgfSwNCgkJLy8gZWxlY3Ryb2x5c2lzOg0KCQkiYWx1bWludW0iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJseWUiLCJjaGxvcmluZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMjUgfSwNCgkJInppbmMiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJseWUiLCJjaGxvcmluZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJseWUiLCJjaGxvcmluZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxMjUgfSwNCgkJImlyb24iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJseWUiLCJjaGxvcmluZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxMjUgfSwNCgkJInRpbiI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImx5ZSIsImNobG9yaW5lIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImJyYXNzIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwibHllIiwiY2hsb3JpbmUiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDEgfSwNCgkJImJyb256ZSI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImx5ZSIsImNobG9yaW5lIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJjb3BwZXIiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJseWUiLCJjaGxvcmluZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJInNpbHZlciI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImx5ZSIsImNobG9yaW5lIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDA3NSB9LA0KCQkiZ29sZCI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImx5ZSIsImNobG9yaW5lIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDA3NSB9DQoJfSwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTAyNiwNCgljb25kdWN0OiAwLjEsDQoJc3RhaW46IC0wLjY2LA0KCWV4dGluZ3Vpc2g6IHRydWUNCn0sDQoic3VnYXJfd2F0ZXIiOiB7DQoJY29sb3I6ICIjOGVhYWU2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgl0ZW1wSGlnaDogMTA1LA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsInN1Z2FyIl0sDQoJdGVtcExvdzogLTUsDQoJc3RhdGVMb3dOYW1lOiAic3VnYXJfaWNlIiwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXJlYWN0aW9uczogew0KCQkiZHVzdCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJhc2giOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0xOiAic29kYSIsIGVsZW0yOiBudWxsIH0sDQoJCSJjeWFuaWRlIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJInN1bGZ1ciI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGVsZW0yOiBudWxsIH0sDQoJCSJjaGFyY29hbCI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkicmF0IjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImZhbGxvdXQiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4yNSB9LA0KCQkicmFkaWF0aW9uIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInJ1c3QiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImxlYWQiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInNvbGRlciI6IHsgZWxlbTE6ICJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkicm9jayI6IHsgZWxlbTI6ICJ3ZXRfc2FuZCIsIGNoYW5jZTogMC4wMDA0IH0sDQoJCSJsaW1lc3RvbmUiOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjaGFuY2U6IDAuMDAwNCB9LA0KCQkiZmx5IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImJlZSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMDUsIG9uZXdheTp0cnVlIH0sDQoJCSJzdGlua19idWciOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJ1cmFuaXVtIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnViYmxlIiwgYXR0cjI6eyJjbG9uZSI6InN1Z2FyX3dhdGVyIn0sIGNoYW5jZTowLjAwMSwgdGVtcE1pbjo4NSB9LA0KCQkvLyBlbGVjdHJvbHlzaXM6DQoJCSJhbHVtaW51bSI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwic3VnYXIiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDI1IH0sDQoJCSJ6aW5jIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJzdWdhciJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiIsInN1Z2FyIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEyNSB9LA0KCQkiaXJvbiI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwic3VnYXIiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMTI1IH0sDQoJCSJ0aW4iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiIsInN1Z2FyIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImJyYXNzIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJzdWdhciJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMSB9LA0KCQkiYnJvbnplIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJzdWdhciJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMSB9LA0KCQkiY29wcGVyIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJzdWdhciJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJInNpbHZlciI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwic3VnYXIiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDc1IH0sDQoJCSJnb2xkIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJzdWdhciJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfQ0KCX0sDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDI2LA0KCWNvbmR1Y3Q6IDAuMDUsDQoJc3RhaW46IC0wLjQ1LA0KCWV4dGluZ3Vpc2g6IHRydWUNCn0sDQoic2VsdHplciI6IHsNCgljb2xvcjogWyIjOGVhYWU2IiwiIzgyYTRlZCIsIiNiNWM1ZTgiLCIjOGVhYWU2IiwiIzgyYTRlZCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpmb2FtJTN8WFgiLA0KCQkiTTJ8WFh8TTIiLA0KCQkiTTJ8TTF8TTIiLA0KCV0sDQoJb25NaXg6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXJlbGVhc2VFbGVtZW50KHBpeGVsLCAiZm9hbSIsIHNoaWZ0RG93bikNCgl9LA0KCXRlbXBIaWdoOiA5OCwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJjYXJib25fZGlveGlkZSJdLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3dOYW1lOiAic2VsdHplcl9pY2UiLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJcmVhY3Rpb25zOiB7DQoJCSJyb2NrIjogeyBlbGVtMjogIndldF9zYW5kIiwgY2hhbmNlOiAwLjAwMDQgfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTogMC4wMDA0IH0sDQoJCSJzdWdhciI6IHsgZWxlbTE6ICJzb2RhIiwgZWxlbTI6ICJmb2FtIiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiAic29kYSIsIGVsZW0yOiAiZm9hbSIgfSwNCgkJImN5YW5pZGUiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImR1c3QiOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkiYXNoIjogeyBlbGVtMTogImRpcnR5X3dhdGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xLCBvbmV3YXk6dHJ1ZSB9LA0KCQkicGxhbnQiOiB7IGVsZW0xOiJ3YXRlciIgfSwNCgkJImV2ZXJncmVlbiI6IHsgZWxlbTE6IndhdGVyIiB9LA0KCQkiY2FjdHVzIjogeyBlbGVtMToid2F0ZXIiIH0sDQoJCSJhbGdhZSI6IHsgZWxlbTE6IndhdGVyIiB9LA0KCQkia2VscCI6IHsgZWxlbTE6IndhdGVyIiB9LA0KCQkiY29yYWwiOiB7IGVsZW0xOiJ3YXRlciIgfSwNCgkJInVyYW5pdW0iOiB7IGVsZW0xOiAiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4yNSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJ1YmJsZSIsIGF0dHIyOnsiY2xvbmUiOiJzZWx0emVyIn0sIGNoYW5jZTowLjAwMSwgdGVtcE1pbjo4NSB9LA0KCQkvLyBlbGVjdHJvbHlzaXM6DQoJCSJhbHVtaW51bSI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwiY2FyYm9uX2Rpb3hpZGUiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDI1IH0sDQoJCSJ6aW5jIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJjYXJib25fZGlveGlkZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiIsImNhcmJvbl9kaW94aWRlIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEyNSB9LA0KCQkiaXJvbiI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwiY2FyYm9uX2Rpb3hpZGUiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMTI1IH0sDQoJCSJ0aW4iOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiIsImNhcmJvbl9kaW94aWRlIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImxlYWQiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJoeWRyb2dlbiIsIm94eWdlbiIsImNhcmJvbl9kaW94aWRlIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImJyYXNzIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJjYXJib25fZGlveGlkZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMSB9LA0KCQkiYnJvbnplIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJjYXJib25fZGlveGlkZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwMSB9LA0KCQkiY29wcGVyIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJjYXJib25fZGlveGlkZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJInNpbHZlciI6IHsgZWxlbTE6WyJoeWRyb2dlbiIsImh5ZHJvZ2VuIiwib3h5Z2VuIiwiY2FyYm9uX2Rpb3hpZGUiXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDc1IH0sDQoJCSJnb2xkIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwiaHlkcm9nZW4iLCJveHlnZW4iLCJjYXJib25fZGlveGlkZSJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfQ0KCX0sDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDI2LjkxLA0KCWNvbmR1Y3Q6IDAuMDUsDQoJc3RhaW46IC0wLjQ1LA0KCWV4dGluZ3Vpc2g6IHRydWUsDQoJYWxpYXM6WyJjYXJib25hdGVkIHdhdGVyIiwic29kYSB3YXRlciJdDQp9LA0KImRpcnR5X3dhdGVyIjogew0KCWNvbG9yOiBbIiMwZTgyNGUiLCIjMDc3NTVhIiwiIzBjNjkzNCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRlbXBIaWdoOiAxMDUsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwiY2FyYm9uX2Rpb3hpZGUiXSwNCgl0ZW1wTG93OiAtNSwNCglzdGF0ZUxvd05hbWU6ICJkaXJ0eV9pY2UiLA0KCXZpc2Nvc2l0eTogMTAsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglyZWFjdGlvbnM6IHsNCgkJInJvY2siOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjaGFuY2U6IDAuMDAwNCB9LA0KCQkibGltZXN0b25lIjogeyBlbGVtMjogIndldF9zYW5kIiwgY2hhbmNlOiAwLjAwMDQgfSwNCgkJInBsYW50IjogeyBlbGVtMToid2F0ZXIiLCBjaGFuY2U6MC4wNSB9LA0KCQkiYWxnYWUiOiB7IGVsZW0xOiJ3YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJrZWxwIjogeyBlbGVtMToid2F0ZXIiLCBjaGFuY2U6MC4wNSB9LA0KCQkiY29yYWwiOiB7IGVsZW0xOiJ3YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJjaGFyY29hbCI6IHsgZWxlbTE6IndhdGVyIiwgY2hhbmNlOjAuMDIgfSwNCgkJImdyYXZlbCI6IHsgZWxlbTE6IndhdGVyIiwgY2hhbmNlOjAuMDEgfSwNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0yOiJidWJibGUiLCBhdHRyMjp7ImNsb25lIjoid2F0ZXIifSwgY2hhbmNlOjAuMDAxLCB0ZW1wTWluOjg1IH0sDQoJCSJjb3JhbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDA0IH0NCgl9LA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTAwNSwNCgljb25kdWN0OiAwLjEsDQoJZXh0aW5ndWlzaDogdHJ1ZQ0KfSwNCiJwb29sX3dhdGVyIjogew0KCWNvbG9yOiAiI2E4ZDJlMyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJdGVtcEhpZ2g6IDEwNSwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJjaGxvcmluZSJdLA0KCXRlbXBMb3c6IC01LA0KCXN0YXRlTG93TmFtZTogInBvb2xfaWNlIiwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXJlYWN0aW9uczogew0KCQkicm9jayI6IHsgZWxlbTI6ICJ3ZXRfc2FuZCIsIGNoYW5jZTogMC4wMDEgfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTI6ICJ3ZXRfc2FuZCIsIGNoYW5jZTogMC4wMDEgfSwNCgkJInBsYW50IjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJImNhY3R1cyI6IHsgZWxlbTI6ImRlYWRfcGxhbnQiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZ3Jhc3MiOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJImFsZ2FlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkia2VscCI6IHsgZWxlbTI6InBvb2xfd2F0ZXIiLCBjaGFuY2U6MC4wNSB9LA0KCQkiY29yYWwiOiB7IGVsZW0yOiJwb29sX3dhdGVyIiwgY2hhbmNlOjAuMDEgfSwNCgkJImNlbGwiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJjYW5jZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJwbGFndWUiOiB7IGVsZW0yOm51bGwgfSwNCgkJImZsZWEiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4wNSB9LA0KCQkiYW50IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4wNSB9LA0KCQkid29ybSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMDUgfSwNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMDUgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJzdGlua19idWciOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMDUgfSwNCgkJInNsdWciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzbmFpbCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImxpY2hlbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImRlYWRfYnVnIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDEgfSwNCgkJInBvbGxlbiI6IHsgZWxlbTI6bnVsbCB9LA0KCQkicm9vdCI6IHsgZWxlbTI6ImZpYmVyIiwgY2hhbmNlOjAuMDUgfSwNCgkJImZsb3dlcl9zZWVkIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJ3aGVhdF9zZWVkIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJiYW1ib29fcGxhbnQiOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJInBvdGF0b19zZWVkIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJjb3JuX3NlZWQiOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJInNhcGxpbmciOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJInBpbmVjb25lIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJibG9vZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImluZmVjdGlvbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImFudGlib2R5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkicG9pc29uIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiY2hhcmNvYWwiOiB7IGVsZW0xOiJ3YXRlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJkbmEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMiB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTI6ImJ1YmJsZSIsIGF0dHIyOnsiY2xvbmUiOiJwb29sX3dhdGVyIn0sIGNoYW5jZTowLjAwMSwgdGVtcE1pbjo4NSB9DQoJfSwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDk5Mi43MiwNCgljb25kdWN0OiAwLjE1LA0KCXN0YWluOiAtMC41LA0KCWV4dGluZ3Vpc2g6IHRydWUNCn0sDQoiZGlydCI6IHsNCgljb2xvcjogWyIjNzY1NTJiIiwiIzVjNDIyMSIsIiM1NzNjMWEiLCIjNmI0ODFlIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkic2FsdF93YXRlciI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkic3VnYXJfd2F0ZXIiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJInNlbHR6ZXIiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJImRpcnR5X3dhdGVyIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJwb29sX3dhdGVyIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJzbHVzaCI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkic29kYSI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkianVpY2UiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJIm1pbGsiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJImNob2NvbGF0ZV9taWxrIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJmcnVpdF9taWxrIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJwaWxrIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJlZ2dub2ciOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJIm51dF9taWxrIjp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJjcmVhbSI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkidmluZWdhciI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkiYmxvb2QiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJInZhY2NpbmUiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJImFudGlib2R5Ijp7ZWxlbTE6Im11ZCIsZWxlbTI6bnVsbH0sDQoJCSJpbmZlY3Rpb24iOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJInBvaXNvbiI6e2VsZW0xOiJtdWQiLGVsZW0yOm51bGx9LA0KCQkiYW50aWRvdGUiOntlbGVtMToibXVkIixlbGVtMjpudWxsfSwNCgkJImJvbmUiOiB7IGVsZW0xOiJyb2NrIiwgY2hhbmNlOjAuMDAxLCBvbmV3YXk6dHJ1ZSB9DQoJfSwNCgl0ZW1wSGlnaDoxMjAwLA0KCXRlbXBMb3c6IC01MCwNCglzdGF0ZUxvdzogInBlcm1hZnJvc3QiLA0KCWNhdGVnb3J5OiJsYW5kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMjIwDQp9LA0KIm11ZCI6IHsNCgljb2xvcjogIiMzODI0MTciLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkiZGlydCI6IHsgZWxlbTE6ImRpcnQiLCBlbGVtMjoibXVkIiwgY2hhbmNlOjAuMDAwNSwgb25ld2F5OnRydWUgfSwNCgkJInNhbmQiOiB7IGVsZW0xOiJkaXJ0IiwgZWxlbTI6IndldF9zYW5kIiwgY2hhbmNlOjAuMDAwNSwgb25ld2F5OnRydWUgfSwNCgkJInNhd2R1c3QiOiB7IGVsZW0xOiJtdWxjaCIsICJlbGVtMiI6bnVsbCB9LA0KCQkiZXZlcmdyZWVuIjogeyBlbGVtMToibXVsY2giLCAiZWxlbTIiOm51bGwgfSwNCgkJIndoZWF0IjogeyBlbGVtMToiYWRvYmUiLCAiZWxlbTIiOiJhZG9iZSIgfSwNCgkJInN0cmF3IjogeyBlbGVtMToiYWRvYmUiLCAiZWxlbTIiOiJhZG9iZSIgfSwNCgkJImZsb3VyIjogeyBlbGVtMToiYWRvYmUiLCAiZWxlbTIiOiJhZG9iZSIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJtdWRzdG9uZSIsDQoJb25TdGF0ZUhpZ2g6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXJlbGVhc2VFbGVtZW50KHBpeGVsLCJzdGVhbSIpOw0KCX0sDQoJdGVtcExvdzogLTUwLA0KCXN0YXRlTG93OiAicGVybWFmcm9zdCIsDQoJY2F0ZWdvcnk6ICJsYW5kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNzMwLA0KCXN0YWluOiAwLjAyDQp9LA0KIndldF9zYW5kIjogew0KCWNvbG9yOiBbIiNhMTkzNDgiLCIjYjVhODVlIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJzYW5kIjogeyBlbGVtMToic2FuZCIsIGVsZW0yOiJ3ZXRfc2FuZCIsIGNoYW5jZTowLjAwMDUsIG9uZXdheTp0cnVlIH0sDQoJCSJkaXJ0IjogeyBlbGVtMToic2FuZCIsIGVsZW0yOiJtdWQiLCBjaGFuY2U6MC4wMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZ3JhdmVsIjogeyBlbGVtMToiY2VtZW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogInBhY2tlZF9zYW5kIiwNCglvblN0YXRlSGlnaDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJcmVsZWFzZUVsZW1lbnQocGl4ZWwsInN0ZWFtIik7DQoJfSwNCgl0ZW1wTG93OiAtNTAsDQoJc3RhdGVMb3c6ICJwYWNrZWRfc2FuZCIsDQoJY2F0ZWdvcnk6ICJsYW5kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxOTA1DQp9LA0KInJvY2siOiB7DQoJY29sb3I6IFsiIzgwODA4MCIsIiM0ZjRmNGYiLCIjOTQ5NDk0Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjI1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMiwgb25ld2F5OnRydWUgfSwNCgkJInN0aW5rX2J1ZyI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMTUsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJiaXJkIjogeyBlbGVtMjoiZmVhdGhlciIsIGNoYW5jZTowLjAyNSwgb25ld2F5OnRydWUgfSwNCgkJImVnZyI6IHsgZWxlbTI6InlvbGsiLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZ3Jhc3MiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSwgb25ld2F5OnRydWUgfSwNCgkJImJvbmUiOiB7IGVsZW0yOiJvaWwiLCB0ZW1wTWluOjMwMCwgY2hhbmNlOjAuMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZGVhZF9wbGFudCI6IHsgZWxlbTI6ImNoYXJjb2FsIiwgdGVtcE1pbjoyMDAsIGNoYW5jZTowLjAwNSwgb25ld2F5OnRydWUgfSwNCgkJImNoYXJjb2FsIjogeyBlbGVtMjoiZGlhbW9uZCIsIHRlbXBNaW46ODAwLCB0ZW1wTWF4OjkwMCwgY2hhbmNlOjAuMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkic2FuZCI6IHsgZWxlbTI6InBhY2tlZF9zYW5kIiwgdGVtcE1pbjo1MDAsIGNoYW5jZTowLjAwNSwgb25ld2F5OnRydWUgfSwNCgkJIndldF9zYW5kIjogeyBlbGVtMjoicGFja2VkX3NhbmQiLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0NCgl9LA0KCXRlbXBIaWdoOiA5NTAsDQoJc3RhdGVIaWdoOiAibWFnbWEiLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjU1MCwNCgloYXJkbmVzczogMC41LA0KCWJyZWFrSW50bzogWyJzYW5kIiwiZ3JhdmVsIl0NCn0sDQoicm9ja193YWxsIjogew0KCWNvbG9yOiBbIiM2NjY2NjYiLCIjMzYzNjM2IiwiIzdhN2E3YSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuZWxlbWVudCA9PT0gInN1biIpIHsNCgkJCXBpeGVsLmVjbGlwc2UgPSB0cnVlOw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEpIHsNCgkJCQljaGFuZ2VQaXhlbChwaXhlbCwicm9ja193YWxsIik7DQoJCQkJcGl4ZWwudGVtcCA9IDIwOw0KCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiMzMDFCMTYiKQ0KCQkJfQ0KCQl9DQoJfSwNCgljYW5QbGFjZTogdHJ1ZSwNCgl0ZW1wSGlnaDogOTUwLA0KCXN0YXRlSGlnaDogIm1hZ21hIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDI1NTAsDQoJaGFyZG5lc3M6IDAuNSwNCglicmVha0ludG86ICJyb2NrIg0KfSwNCiJtdWRzdG9uZSI6IHsNCgljb2xvcjogIiM0YTM0MWUiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1VQUE9SVCwNCgl0ZW1wSGlnaDoxMjAwLA0KCXN0YXRlSGlnaDogIm1vbHRlbl9kaXJ0IiwNCgl0ZW1wTG93OiAtNTAsDQoJc3RhdGVMb3c6ICJwZXJtYWZyb3N0IiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEyNTAsDQoJYnJlYWtJbnRvOiAiZGlydCINCn0sDQoicGFja2VkX3NhbmQiOiB7DQoJY29sb3I6IFsiI2ExOTc1ZCIsIiNiNWFiNzAiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlQsDQoJdGVtcEhpZ2g6MTcwMCwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fZ2xhc3MiLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTY4MiwNCglicmVha0ludG86ICJzYW5kIg0KfSwNCiJwbGFudCI6IHsNCgljb2xvcjogIiMwMGJmMDAiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZWFjdGlvbnM6IHsNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX3BsYW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDM1IH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYmxlYWNoIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9LA0KCQkibWVyY3VyeSI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkic2FsdCI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDEgfSwNCgkJInN0ZW5jaCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUgfSwNCgkJImNobG9yaW5lIjogeyBzdGFpbjE6IiNhMmJmMDAiIH0NCgl9LA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLlBMQU5UQ0hBUiwNCgljYXRlZ29yeToibGlmZSIsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJkZWFkX3BsYW50IiwNCgl0ZW1wTG93OiAtMS42NiwNCglzdGF0ZUxvdzogImZyb3plbl9wbGFudCIsDQoJYnVybjoxNSwNCglidXJuVGltZTo2MCwNCglidXJuSW50bzogImRlYWRfcGxhbnQiLA0KCWJyZWFrSW50bzogImRlYWRfcGxhbnQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwNTAsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUNCn0sDQoiZGVhZF9wbGFudCI6IHsNCgljb2xvcjogWyIjODI2NTIxIiwiIzgyNjAyMSIsIiM4MjUzMjEiLCIjNzAzNjBjIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCWNhdGVnb3J5OiJsaWZlIiwNCgl0ZW1wSGlnaDogMzAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXRlbXBMb3c6IC0yLA0KCXN0YXRlTG93OiAiZnJvemVuX3BsYW50IiwNCglidXJuOjg1LA0KCWJ1cm5UaW1lOjQ1LA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwNTAsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImZyb3plbl9wbGFudCI6IHsNCgljb2xvcjogIiMwMGJmOGMiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgljYXRlZ29yeToibGlmZSIsDQoJdGVtcDogLTIuNjYsDQoJdGVtcEhpZ2g6IDcsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTA1MCwNCgloaWRkZW46IHRydWUNCn0sDQoiZ3Jhc3MiOiB7DQoJY29sb3I6IFsiIzQzOTgwOSIsIiMyNThiMDgiLCIjMTE4NTExIiwiIzEyN2IxMiIsIiMxMzZkMTQiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQlpZiAocGl4ZWwuaCA8IDIgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDAwNSAmJiBpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSkgew0KCQkJCWNyZWF0ZVBpeGVsKHBpeGVsLmVsZW1lbnQscGl4ZWwueCxwaXhlbC55LTEpOw0KCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uaCA9IHBpeGVsLmgrMTsNCgkJCX0NCgkJCXZhciBjb29yZHMgPSBbDQoJCQkJW3BpeGVsLngrMSxwaXhlbC55XSwNCgkJCQlbcGl4ZWwueC0xLHBpeGVsLnldLA0KCQkJCVtwaXhlbC54KzEscGl4ZWwueSsxXSwNCgkJCQlbcGl4ZWwueC0xLHBpeGVsLnkrMV0sDQoJCQldOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDA1ICYmIGlzRW1wdHkoY29vcmRzW2ldWzBdLGNvb3Jkc1tpXVsxXSkpIHsNCgkJCQkJaWYgKCFpc0VtcHR5KGNvb3Jkc1tpXVswXSxjb29yZHNbaV1bMV0rMSx0cnVlKSkgew0KCQkJCQkJdmFyIHNvaWwgPSBwaXhlbE1hcFtjb29yZHNbaV1bMF1dW2Nvb3Jkc1tpXVsxXSsxXTsNCgkJCQkJCWlmIChlTGlzdHMuU09JTC5pbmRleE9mKHNvaWwuZWxlbWVudCkgIT09IC0xKSB7DQoJCQkJCQkJY3JlYXRlUGl4ZWwocGl4ZWwuZWxlbWVudCxjb29yZHNbaV1bMF0sY29vcmRzW2ldWzFdKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLlBMQU5UQ0hBUiwNCglwcm9wZXJ0aWVzOiB7DQoJCSJoIjogMA0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ2aW5lZ2FyIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9LA0KCQkibWVyY3VyeSI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYWxjb2hvbCI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMzUgfSwNCgkJImJha2luZ19zb2RhIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46MywNCglidXJuVGltZToyMCwNCglicmVha0ludG86ICJkZWFkX3BsYW50IiwNCgljYXRlZ29yeToibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQwMCwNCglzZWVkOiAiZ3Jhc3Nfc2VlZCINCn0sDQoiYWxnYWUiOiB7DQoJY29sb3I6IFsiIzM5NTcwNiIsIiM2ZjkzMTUiLCIjOWRjYTE5Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlNXOndhdGVyLHNhbHRfd2F0ZXIsZGlydHlfd2F0ZXIsc3VnYXJfd2F0ZXIlMXxYWHxTVzp3YXRlcixzYWx0X3dhdGVyLGRpcnR5X3dhdGVyLHN1Z2FyX3dhdGVyJTEiLA0KCQkiTTIlMTB8TTF8TTIlMTAiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxICYmICFpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55KzEsdHJ1ZSkgJiYgaXNFbXB0eShwaXhlbC54KzEscGl4ZWwueSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueSsxXTsNCgkJCWlmIChuZXdQaXhlbC5lbGVtZW50ICE9PSAiYWxnYWUiICYmIGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YXRlID09PSAibGlxdWlkIikgew0KCQkJCWNyZWF0ZVBpeGVsKHBpeGVsLmVsZW1lbnQscGl4ZWwueCsxLHBpeGVsLnkpOw0KCQkJfQ0KCQl9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiAhaXNFbXB0eShwaXhlbC54LTEscGl4ZWwueSsxLHRydWUpICYmIGlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnkpKSB7DQoJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFtwaXhlbC54LTFdW3BpeGVsLnkrMV07DQoJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCAhPT0gImFsZ2FlIiAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5zdGF0ZSA9PT0gImxpcXVpZCIpIHsNCgkJCQljcmVhdGVQaXhlbChwaXhlbC5lbGVtZW50LHBpeGVsLngtMSxwaXhlbC55KTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkid29vZCI6IHsgZWxlbTE6ImxpY2hlbiIgfSwNCgkJImNobG9yaW5lIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9LA0KCQkiYmFraW5nX3NvZGEiOiB7IGVsZW0xOiJkZWFkX3BsYW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDM1IH0sDQoJCSJibGVhY2giOiB7IGVsZW0xOiJkZWFkX3BsYW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDM1IH0sDQoJCSJtZXJjdXJ5IjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9LA0KCQkiYnJvdGgiOiB7IGVsZW0yOiJ3YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJ0ZWEiOiB7IGVsZW0yOiJ3YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJuaXRyb2dlbiI6IHsgZWxlbTI6ImFsZ2FlIiwgY2hhbmNlOjAuMDUgfSwNCgkJIndhdGVyIjogeyBlbGVtMjoiZm9hbSIsIGF0dHIyOnsiY2xvbmUiOiJ3YXRlciJ9LCBjb2xvcjI6IiNlM2Q4Y2EiLCBjaGFuY2U6MC4wMDEgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJmb2FtIiwgYXR0cjI6eyJjbG9uZSI6InNhbHRfd2F0ZXIifSwgY29sb3IyOiIjZTNkOGNhIiwgY2hhbmNlOjAuMDAxIH0NCgl9LA0KCWNhdGVnb3J5OiJsaWZlIiwNCgl0ZW1wSGlnaDogNzAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImZyb3plbl9wbGFudCIsDQoJYnVybjo5NSwNCglidXJuVGltZToyMCwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogOTIwLA0KCXNlZWQ6ICJhbGdhZSINCn0sDQoiY29uY3JldGUiOiB7DQoJY29sb3I6ICIjYWJhYmFiIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlQsDQoJdGVtcEhpZ2g6IDE1MDAsDQoJc3RhdGVIaWdoOiAibWFnbWEiLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjQwMCwNCgloYXJkbmVzczogMC41LA0KCWJyZWFrSW50bzogImR1c3QiLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KIndhbGwiOiB7DQoJY29sb3I6ICIjODA4MDgwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWluc3VsYXRlOiB0cnVlLA0KCWhhcmRuZXNzOiAxLA0KCW5vTWl4OiB0cnVlLA0KCWFsaWFzOiAic29saWQiDQp9LA0KImZpcmUiOiB7DQoJY29sb3I6IFsiI2ZmNmIyMSIsIiNmZmE2MDAiLCIjZmY0MDAwIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpew0KCQlpZiAocGl4ZWwuc3RhcnQgPT09IHBpeGVsVGlja3MpIHtyZXR1cm59DQoJCWxldCBtb3ZlMVNwb3RzID0gYWRqYWNlbnRDb29yZHMuc2xpY2UoMCk7DQoJCWxldCBtb3ZlZCA9IGZhbHNlOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IG1vdmUxU3BvdHMubGVuZ3RoOyBpKyspIHsNCgkJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUxU3BvdHMubGVuZ3RoIHwgMDsNCgkJCWNvbnN0IGNvb3JkcyA9IG1vdmUxU3BvdHNbal07DQoJCQljb25zdCB4ID0gcGl4ZWwueCtjb29yZHNbMF07DQoJCQljb25zdCB5ID0gcGl4ZWwueStjb29yZHNbMV07DQoJCQlpZiAodHJ5TW92ZShwaXhlbCwgeCwgeSkpIHsgbW92ZWQgPSB0cnVlOyBicmVhazsgfQ0KCQkJbW92ZTFTcG90cy5zcGxpY2UoaiwgMSk7DQoJCX0NCgkJaWYgKG1vdmVkID09PSBmYWxzZSkgew0KCQkJbGV0IG1vdmUyU3BvdHMgPSBkaWFnb25hbENvb3Jkcy5zbGljZSgwKTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgbW92ZTJTcG90cy5sZW5ndGg7IGkrKykgew0KCQkJCWNvbnN0IGogPSBNYXRoLnJhbmRvbSgpKm1vdmUyU3BvdHMubGVuZ3RoIHwgMDsNCgkJCQljb25zdCBjb29yZHMgPSBtb3ZlMlNwb3RzW2pdOw0KCQkJCWlmICh0cnlNb3ZlKHBpeGVsLCBwaXhlbC54K2Nvb3Jkc1swXSwgcGl4ZWwueStjb29yZHNbMV0pKSB7IGJyZWFrOyB9DQoJCQkJbW92ZTJTcG90cy5zcGxpY2UoaiwgMSk7DQoJCQl9DQoJCX0NCgkJaWYgKHBpeGVsLmRlbCAhPT0gdHJ1ZSkgew0KCQkJZG9IZWF0KHBpeGVsKQ0KCQkJZG9BaXJEZW5zaXR5KHBpeGVsKTsNCgkJCWRvQnVybmluZyhwaXhlbCk7DQoNCgkJCWlmIChzZXR0aW5ncy5idXJuPT09MCAmJiAocGl4ZWxUaWNrcy1waXhlbC5zdGFydCA+IDcwKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4xKSB7IGNoYW5nZVBpeGVsKHBpeGVsLCJzbW9rZSIpIH0NCgkJfQ0KCX0sDQoJb25Db2xsaWRlOiBmdW5jdGlvbihwaXhlbDEscGl4ZWwyKSB7DQoJCWlmIChlbGVtZW50c1twaXhlbDIuZWxlbWVudF0uZmlyZUNvbG9yKSB7DQoJCQlwaXhlbDEuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbDEsZWxlbWVudHNbcGl4ZWwyLmVsZW1lbnRdLmZpcmVDb2xvcik7DQoJCQlwaXhlbDEub3JpZ0NvbG9yID0gdW5kZWZpbmVkOw0KCQkJcGl4ZWwxLmNjID0gdHJ1ZTsNCgkJfQ0KCX0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPj0gZWxlbWVudHMuZmlyZS50ZW1wIHx8IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmluc3VsYXRlKSB7cmV0dXJuO30NCgkJcGl4ZWwudGVtcCArPSBlbGVtZW50cy5maXJlLnRlbXAvKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmV4dGluZ3Vpc2ggPyAyNDAgOiA2MCk7DQoJCXBpeGVsVGVtcENoZWNrKHBpeGVsKTsNCgl9LA0KCWNhblBsYWNlOiB0cnVlLA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLkhVRVNISUZULA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0xOiAic21va2UiIH0sDQoJCSJzdGVhbSI6IHsgZWxlbTE6ICJzbW9rZSIgfSwNCgkJImNhcmJvbl9kaW94aWRlIjogeyBlbGVtMTogInNtb2tlIiB9LA0KCQkiZm9hbSI6IHsgZWxlbTE6ICJzbW9rZSIgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMTogInNtb2tlIiB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6ICJzbW9rZSIgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMTogInNtb2tlIiB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6ICJzbW9rZSIgfSwNCgkJInBvb2xfd2F0ZXIiOiB7IGVsZW0xOiAic21va2UiIH0sDQoJCSJzbW9rZSI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTowLjEgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdGVtcDo2MDAsDQoJdGVtcExvdzoxMDAsDQoJc3RhdGVMb3c6ICJzbW9rZSIsDQoJdGVtcEhpZ2g6IDcwMDAsDQoJc3RhdGVIaWdoOiAicGxhc21hIiwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJYnVybmluZzogdHJ1ZSwNCglidXJuVGltZTogMjUsDQoJYnVybkludG86ICJzbW9rZSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDAuMSwNCglub01peDogdHJ1ZQ0KfSwNCiJib21iIjogew0KCWNvbG9yOiAiIzUyNGM0MSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfEVYOjEwfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xIEFORCBFWDoxMHxNMiIsDQoJXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEzMDAsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duDQp9LA0KInN0ZWFtIjogew0KCWNvbG9yOiAiI2FiZDZmZiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPiAzMDAwICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCxNYXRoLnJhbmRvbSgpIDwgMC41ID8gImh5ZHJvZ2VuIiA6ICJveHlnZW4iKTsNCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJzdGVhbSI6IHsgZWxlbTE6ICJjbG91ZCIsIGVsZW0yOiAiY2xvdWQiLCBjaGFuY2U6MC4wNSwgInkiOlswLDE1XSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJyYWluX2Nsb3VkIjogeyBlbGVtMTogInJhaW5fY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImNsb3VkIjogeyBlbGVtMTogImNsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJzbm93X2Nsb3VkIjogeyBlbGVtMTogInJhaW5fY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImhhaWxfY2xvdWQiOiB7IGVsZW0xOiAicmFpbl9jbG91ZCIsIGNoYW5jZTowLjQsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkidGh1bmRlcl9jbG91ZCI6IHsgZWxlbTE6ICJyYWluX2Nsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJweXJvY3VtdWx1cyI6IHsgZWxlbTE6ICJjbG91ZCIsIGNoYW5jZTowLjQsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkiYW5lc3RoZXNpYSI6IHsgZWxlbTE6ImFjaWRfY2xvdWQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJmaXJlX2Nsb3VkIjogeyBlbGVtMTogImNsb3VkIiwgZWxlbTI6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjQsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkic21va2UiOiB7IGVsZW0xOiAic21vZyIsIGVsZW0yOiBudWxsLCBjaGFuY2U6MC4wMDEgfSwNCgkJImNhcmJvbl9kaW94aWRlIjogeyBlbGVtMTogInNtb2ciLCBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDAxIH0sDQoJCSJwbGFzbWEiOiB7IGVsZW0xOiJvem9uZSIsIHRlbXBNaW46NTAwLCBjaGFyZ2VkOnRydWUgfSwNCgkJImNvcHBlciI6IHsgZWxlbTE6Im94eWdlbiIsIGVsZW0yOiJveGlkaXplZF9jb3BwZXIiLCBjaGFuY2U6MC4wMSB9LA0KCQkiYnJvbnplIjogeyBlbGVtMToib3h5Z2VuIiwgZWxlbTI6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkiaXJvbiI6IHsgZWxlbTE6Im94eWdlbiIsIGVsZW0yOiJydXN0IiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzdGVlbCI6IHsgZWxlbTE6Im94eWdlbiIsIGVsZW0yOiJydXN0IiwgY2hhbmNlOjAuMDA0IH0sDQoJCSJ0b3JuYWRvIjp7ZWxlbTE6ImNsb3VkIn0sDQoJCSJtZWx0ZWRfd2F4IjogeyBlbGVtMToiZXhwbG9zaW9uIiB9DQoJfSwNCgl0ZW1wOiAxNTAsDQoJdGVtcExvdzogOTUsDQoJZXh0cmFUZW1wTG93OiB7DQoJCTA6ICJyaW1lIg0KCX0sDQoJc3RhdGVMb3c6ICJ3YXRlciIsDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDAuNiwNCgljb25kdWN0OiAwLjAwMiwNCglzdGFpbjogLTAuMDUsDQoJYWxpYXM6ICJ3YXRlciB2YXBvciIsDQoJZXh0aW5ndWlzaDogdHJ1ZQ0KfSwNCiJpY2UiOiB7DQoJY29sb3I6ICIjYjJkYWViIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJdGVtcDogLTUsDQoJdGVtcEhpZ2g6IDUsDQoJc3RhdGVIaWdoOiAid2F0ZXIiLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA5MTcsDQoJYnJlYWtJbnRvOiAic25vdyINCn0sDQoicmltZSI6IHsNCgljb2xvcjogIiNlNmYyZjciLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgliZWhhdmlvck9uOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpyYWluX2Nsb3VkfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCXRlbXA6IC01LA0KCXRlbXBIaWdoOiAyMCwNCglzdGF0ZUhpZ2g6ICJ3YXRlciIsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAyNTAsDQoJY29uZHVjdDogMSwNCglicmVha0ludG86ICJwYWNrZWRfc25vdyINCn0sDQoic25vdyI6IHsNCgljb2xvcjogIiNlMWY4ZmMiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0xOiJzbHVzaCIsIGVsZW0yOiJzbHVzaCIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOiJzbHVzaCIsIGVsZW0yOiJzbHVzaCIgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToic2x1c2giLCBlbGVtMjoic2x1c2giIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMToic2x1c2giLCBlbGVtMjoic2x1c2giIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTE6InNsdXNoIiwgZWxlbTI6InNsdXNoIiB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6InNsdXNoIiwgZWxlbTI6InNsdXNoIiB9LA0KCQkidXJhbml1bSI6IHsgZWxlbTE6ImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMDAxIH0NCgl9LA0KCXRlbXA6IC01LA0KCXRlbXBIaWdoOiAxOCwNCgl0ZW1wTG93OiAtMTAwLA0KCXN0YXRlTG93OiAicGFja2VkX3Nub3ciLA0KCXN0YXRlSGlnaDogIndhdGVyIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMA0KfSwNCiJzbHVzaCI6IHsNCgljb2xvcjogIiM4MWJjZDQiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkidXJhbml1bSI6IHsgZWxlbTE6ImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMjUgfQ0KCX0sDQoJdGVtcDogLTUsDQoJdGVtcEhpZ2g6IDE4LA0KCXRlbXBMb3c6IC0yMCwNCglzdGF0ZUxvdzogImljZSIsDQoJc3RhdGVIaWdoOiAid2F0ZXIiLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDk1LA0KCXZpc2Nvc2l0eTogMTAwLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJwYWNrZWRfc25vdyI6IHsNCgljb2xvcjogIiNiY2RkZTMiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1VQUE9SVFBPV0RFUiwNCgl0ZW1wOiAtNSwNCgl0ZW1wSGlnaDogMjAsDQoJdGVtcExvdzogLTIwMCwNCglzdGF0ZUxvdzogImljZSIsDQoJc3RhdGVIaWdoOiAid2F0ZXIiLA0KCWJyZWFrSW50bzogInNub3ciLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDAwLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJ3b29kIjogew0KCWNvbG9yOiAiI2EwNTIyZCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLldPT0RDSEFSLA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiBbImVtYmVyIiwiY2hhcmNvYWwiLCJmaXJlIiwiZmlyZSIsImZpcmUiXSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJYnVybjogNSwNCglidXJuVGltZTogMzAwLA0KCWJ1cm5JbnRvOiBbImVtYmVyIiwiY2hhcmNvYWwiLCJmaXJlIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJaGFyZG5lc3M6IDAuMTUsDQoJYnJlYWtJbnRvOiAic2F3ZHVzdCIsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUNCn0sDQoic21va2UiOiB7DQoJY29sb3I6ICIjMzgzODM4IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkRHQVMsDQoJcmVhY3Rpb25zOiB7DQoJCSJzdGVhbSI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA4LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInJhaW5fY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBjaGFuY2U6MC4wOCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJjbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA4LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInNub3dfY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBjaGFuY2U6MC4wOCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJoYWlsX2Nsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDgsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkidGh1bmRlcl9jbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA4LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImFjaWRfY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBjaGFuY2U6MC4wNSwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJmaXJlX2Nsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDUsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkicmFkX2Nsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDUsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkicHlyb2N1bXVsdXMiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBjaGFuY2U6MC4wOCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0NCgl9LA0KCXRlbXA6IDExNCwNCgl0ZW1wSGlnaDogMTAwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCgljYXRlZ29yeTogImdhc2VzIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4xLA0KCXN0YWluOiAwLjA3NSwNCglub01peDogdHJ1ZQ0KfSwNCiJtYWdtYSI6IHsNCgljb2xvcjogWyIjZmY2ZjAwIiwiI2ZmOGMwMCIsIiNmZjRkMDAiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLk1PTFRFTiwNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5NT0xURU4sDQoJcmVhY3Rpb25zOiB7DQoJCSJpY2UiOiB7IGVsZW0xOiAiYmFzYWx0IiB9LA0KCQkiYXNoIjogeyBlbGVtMTogIm1vbHRlbl90dWZmIiwgImVsZW0yIjpudWxsIH0sDQoJCSJtb2x0ZW5fYXNoIjogeyBlbGVtMTogIm1vbHRlbl90dWZmIiwgImVsZW0yIjpudWxsIH0sDQoJCSJjaGFyY29hbCI6IHsgZWxlbTI6ImRpYW1vbmQiLCB0ZW1wTWluOjgwMCwgdGVtcE1heDo5MDAsIGNoYW5jZTowLjAwNSwgb25ld2F5OnRydWUgfQ0KCX0sDQoJdGVtcDogMTIwMCwNCgl0ZW1wTG93OiA4MDAsDQoJc3RhdGVMb3c6IFsiYmFzYWx0IiwiYmFzYWx0IiwiYmFzYWx0Iiwicm9jayJdLA0KCXZpc2Nvc2l0eTogMTAwMDAsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMjcyNSwNCglhbGlhczogImxhdmEiDQp9LA0KInBsYXNtYSI6IHsNCgljb2xvcjogWyIjODgwMGZmIiwiI2IxODRkOSIsIiM4ODAwZmYiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkRHQVMsDQoJYmVoYXZpb3JPbjogWw0KCQkiTTJ8TTF8TTIiLA0KCQkiQ0wlNSBBTkQgTTF8WFh8Q0wlNSBBTkQgTTEiLA0KCQkiTTJ8TTF8TTIiLA0KCV0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPj0gZWxlbWVudHMucGxhc21hLnRlbXAgfHwgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uaW5zdWxhdGUpIHtyZXR1cm47fQ0KCQlwaXhlbC50ZW1wICs9IGVsZW1lbnRzLnBsYXNtYS50ZW1wLyhlbGVtZW50c1twaXhlbC5lbGVtZW50XS5leHRpbmd1aXNoID8gMjQwIDogNjApOw0KCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJfSwNCgljYW5QbGFjZTogdHJ1ZSwNCgl0ZW1wOjcwNjUsDQoJdGVtcExvdzo1MDAwLA0KCXN0YXRlTG93OiAiZmlyZSIsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLA0KCS8vY2hhcmdlOiAwLjUsDQoJY29uZHVjdDogMQ0KfSwNCiJjb2xkX2ZpcmUiOiB7DQoJY29sb3I6IFsiIzIxY2JmZiIsIiMwMDZhZmYiLCIjMDBmZmZmIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpew0KCQliZWhhdmlvcnMuR0FTKHBpeGVsKTsNCgkJaWYgKCFwaXhlbC5kZWwgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDggKSB7IGNoYW5nZVBpeGVsKHBpeGVsLCJzbW9rZSIpIH0NCgl9LA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC50ZW1wIDw9IGVsZW1lbnRzLmNvbGRfZmlyZS50ZW1wIHx8IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmluc3VsYXRlKSB7cmV0dXJuO30NCgkJcGl4ZWwudGVtcCArPSBlbGVtZW50cy5jb2xkX2ZpcmUudGVtcC8oZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uZXh0aW5ndWlzaCA/IDI0MCA6IDYwKTsNCgkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCX0sDQoJY2FuUGxhY2U6IHRydWUsDQoJcmVhY3Rpb25zOiB7DQoJCSJmaXJlIjogeyBlbGVtMTogInNtb2tlIiwgZWxlbTI6ICJzbW9rZSIgfSwNCgkJInBsYXNtYSI6IHsgZWxlbTE6ICJsaWdodCIsIGVsZW0yOiAibGlnaHQiIH0sDQoJCSJzbW9rZSI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTowLjEgfQ0KCX0sDQoJcmVuZGVyZXI6IHJlbmRlclByZXNldHMuSFVFU0hJRlQsDQoJdGVtcDotMjAwLA0KCXRlbXBIaWdoOjAsDQoJc3RhdGVIaWdoOiAic21va2UiLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4xDQp9LA0KImdsYXNzIjogew0KCWNvbG9yOiBbIiM1ZTgwN2QiLCIjNWU4MDdkIiwiIzY3OWU5OSIsIiM1ZTgwN2QiLCIjNWU4MDdkIl0sDQoJY29sb3JQYXR0ZXJuOiB0ZXh0dXJlcy5HTEFTUywNCgljb2xvcktleTogew0KCQkiZyI6ICIjNWU4MDdkIiwNCgkJInMiOiAiIzYzOGY4YiIsDQoJCSJTIjogIiM2NzllOTkifSwNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5CT1JERVIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXJlYWN0aW9uczogew0KCQkicmFkaWF0aW9uIjogeyBlbGVtMToicmFkX2dsYXNzIiwgY2hhbmNlOjAuMzMgfSwNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTE6InJhZF9nbGFzcyIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjMzIH0sDQoJCSJmYWxsb3V0IjogeyBlbGVtMToicmFkX2dsYXNzIiwgZWxlbTI6InJhZGlhdGlvbiIsIGNoYW5jZTowLjEgfSwNCgkJInVyYW5pdW0iOiB7IGVsZW0xOiJyYWRfZ2xhc3MiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgl0ZW1wSGlnaDogMTUwMCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjUwMCwNCglicmVha0ludG86ICJnbGFzc19zaGFyZCIsDQoJbm9NaXg6IHRydWUsDQoJZ3JhaW46IDANCn0sDQoibW9sdGVuX2dsYXNzIjogew0KCXJlYWN0aW9uczogew0KCQkicmFkaWF0aW9uIjogeyBlbGVtMToibW9sdGVuX3JhZF9nbGFzcyIsIGNoYW5jZTowLjY2IH0sDQoJCSJyYWRfc3RlYW0iOiB7IGVsZW0xOiJtb2x0ZW5fcmFkX2dsYXNzIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMzMgfSwNCgkJIm1vbHRlbl91cmFuaXVtIjogeyBlbGVtMToibW9sdGVuX3JhZF9nbGFzcyIsIGVsZW0yOm51bGwgfSwNCgkJImZhbGxvdXQiOiB7IGVsZW0xOiJtb2x0ZW5fcmFkX2dsYXNzIiwgZWxlbTI6InJhZGlhdGlvbiIgfSwNCg0KCQkicnVzdCI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6MH0gfSwgLy9yZWQNCgkJIm1vbHRlbl9pcm9uIjogeyBlbGVtMToibW9sdGVuX3N0YWluZWRfZ2xhc3MiLCBlbGVtMjpudWxsLCBhdHRyMTp7Y29sb3JzdGFydDowfSB9LCAvL3JlZA0KCQkibW9sdGVuX2Jyb256ZSI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6Mzh9IH0sIC8vb3JhbmdlLXllbGxvdw0KCQkibWVyY3VyeSI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6NDV9IH0sIC8vb3JhbmdlLXllbGxvdw0KCQkibWVyY3VyeV9nYXMiOiB7IGVsZW0xOiJtb2x0ZW5fc3RhaW5lZF9nbGFzcyIsIGVsZW0yOm51bGwsIGF0dHIxOntjb2xvcnN0YXJ0OjQ1fSB9LCAvL29yYW5nZS15ZWxsb3cNCgkJIm1vbHRlbl9zdWxmdXIiOiB7IGVsZW0xOiJtb2x0ZW5fc3RhaW5lZF9nbGFzcyIsIGVsZW0yOm51bGwsIGF0dHIxOntjb2xvcnN0YXJ0OjYwfSB9LCAvL3llbGxvdw0KCQkic3VsZnVyX2dhcyI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6NjB9IH0sIC8veWVsbG93DQoJCSJtb2x0ZW5fY29wcGVyIjogeyBlbGVtMToibW9sdGVuX3N0YWluZWRfZ2xhc3MiLCBlbGVtMjpudWxsLCBhdHRyMTp7Y29sb3JzdGFydDoxNTB9IH0sIC8vYmx1ZS1ncmVlbg0KCQkib3hpZGl6ZWRfY29wcGVyIjogeyBlbGVtMToibW9sdGVuX3N0YWluZWRfZ2xhc3MiLCBlbGVtMjpudWxsLCBhdHRyMTp7Y29sb3JzdGFydDoxNTB9IH0sIC8vYmx1ZS1ncmVlbg0KCQkibW9sdGVuX25pY2tlbCI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6MjQwfSB9LCAvL2JsdWUNCgkJIm1vbHRlbl9wdXJwbGVfZ29sZCI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6MjgwfSB9LCAvL3B1cnBsZQ0KCQkibW9sdGVuX3Jvc2VfZ29sZCI6IHsgZWxlbTE6Im1vbHRlbl9zdGFpbmVkX2dsYXNzIiwgZWxlbTI6bnVsbCwgYXR0cjE6e2NvbG9yc3RhcnQ6MzAwfSB9LCAvL21hZ2VudGENCgkJIm1vbHRlbl9nb2xkIjogeyBlbGVtMToibW9sdGVuX3N0YWluZWRfZ2xhc3MiLCBlbGVtMjpudWxsLCBhdHRyMTp7Y29sb3JzdGFydDozMjB9IH0sIC8vcHVycGxlLXJlZA0KCQkiZ29sZF9jb2luIjogeyBlbGVtMToibW9sdGVuX3N0YWluZWRfZ2xhc3MiLCBlbGVtMjpudWxsLCBhdHRyMTp7Y29sb3JzdGFydDozMjB9IH0sIC8vcHVycGxlLXJlZA0KCX0sDQoJZ3JhaW46IDANCn0sDQoibW9sdGVuX3JhZF9nbGFzcyI6IHsNCgljb2xvcjogWyIjYmNjODNlIiwiI2JjYTgzZSIsIiNiYzljMDAiLCIjYmNjODNlIiwiI2JjYmMzZSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUkFETU9MVEVOLA0KCWdyYWluOiAwDQp9LA0KInJhZF9nbGFzcyI6IHsNCgljb2xvcjogWyIjNjQ4YzY0IiwiIzY0OGM2NCIsIiM2YWFkODMiLCIjNjQ4YzY0IiwiIzY0OGM2NCJdLA0KCWNvbG9yUGF0dGVybjogdGV4dHVyZXMuR0xBU1MsDQoJY29sb3JLZXk6IHsNCgkJImciOiAiIzY0OGM2NCIsDQoJCSJzIjogIiM2NzlENzQiLA0KCQkiUyI6ICIjNmFhZDgzIn0sDQoJcmVuZGVyZXI6IHJlbmRlclByZXNldHMuQk9SREVSLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpyYWRpYXRpb24lMC4wNzV8WFgiLA0KCQkiQ1I6cmFkaWF0aW9uJTAuMDc1fFhYfENSOnJhZGlhdGlvbiUwLjA3NSIsDQoJCSJYWHxDUjpyYWRpYXRpb24lMC4wNzV8WFgiLA0KCV0sDQoJdGVtcEhpZ2g6IDE1MDAsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDI1MDAsDQoJYnJlYWtJbnRvOiAicmFkX3NoYXJkIiwNCgloaWRkZW46IHRydWUsDQoJbm9NaXg6IHRydWUsDQoJZ3JhaW46IDAuMw0KfSwNCiJtZWF0Ijogew0KCWNvbG9yOiBbIiM5ZTQ4MzkiLCIjYmE2NDQ5IiwiI2QyODU2YyIsIiNhMTQ5NDAiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiU1B8WFh8U1AiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiZmx5IjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4yIH0sDQoJCSJkaW94aW4iOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInVyYW5pdW0iOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjEgfSwNCgkJImNhbmNlciI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4zIH0sDQoJCSJhbnQiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjEgfSwNCgkJIndvcm0iOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjEgfSwNCgkJInJhdCI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMyB9LA0KCQkibXVzaHJvb21fc3BvcmUiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjEgfSwNCgkJIm11c2hyb29tX3N0YWxrIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4xIH0sDQoJCSJteWNlbGl1bSI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiaHlwaGFlIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4xIH0sDQoJCSJtZXJjdXJ5IjogeyBlbGVtMToicm90dGVuX21lYXQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4yIH0sDQoJCSJtZXJjdXJ5X2dhcyI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkidmlydXMiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjEgfSwNCgkJInBvaXNvbiI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJpbmsiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJImFjaWQiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjUgfSwNCgkJImFjaWRfZ2FzIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC40IH0sDQoJCSJjeWFuaWRlIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC41IH0sDQoJCSJjeWFuaWRlX2dhcyI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSB9LA0KCQkicm90dGVuX2NoZWVzZSI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMDIgfSwNCgkJImZhbGxvdXQiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjIgfSwNCgkJInNsaW1lIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4yIH0sDQoJCSJ3YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfSwNCgkJInNhbHQiOiB7IGVsZW0xOiJjdXJlZF9tZWF0IiB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6ImN1cmVkX21lYXQiLCBjaGFuY2U6MC4xIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiY29va2VkX21lYXQiLA0KCXRlbXBMb3c6IC0xOCwNCglzdGF0ZUxvdzogImZyb3plbl9tZWF0IiwNCgljYXRlZ29yeToiZm9vZCIsDQoJYnVybjoxNSwNCglidXJuVGltZToyMDAsDQoJYnVybkludG86ImNvb2tlZF9tZWF0IiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMDE5LjUsDQoJY29uZHVjdDogMC4yLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJyb3R0ZW5fbWVhdCI6IHsNCgljb2xvcjogWyIjYjhiMTY1IiwiI2I4OTc2NSJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpwbGFndWUsc3RlbmNoLHN0ZW5jaCxzdGVuY2gsZmx5JTAuMjUgQU5EIENIOm1lYXQ+cm90dGVuX21lYXQlMXxYWCIsDQoJCSJTUCU5OSBBTkQgQ0g6bWVhdD5yb3R0ZW5fbWVhdCUxfFhYfFNQJTk5IEFORCBDSDptZWF0PnJvdHRlbl9tZWF0JTEiLA0KCQkiWFh8TTEgQU5EIENIOm1lYXQ+cm90dGVuX21lYXQlMXxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6IiNkN2RiNjkiIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6IiNkN2RiNjkiIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOiIjZDdkYjY5IiB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAsIGNvbG9yMjoiI2Q3ZGI2OSIgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAsIGNvbG9yMjoiI2Q3ZGI2OSIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDMwMCwNCglzdGF0ZUhpZ2g6IFsicGxhZ3VlIiwiYXNoIiwiYW1tb25pYSJdLA0KCWNhdGVnb3J5OiJmb29kIiwNCgloaWRkZW46IHRydWUsDQoJYnVybjoxMiwNCglidXJuVGltZToyMDAsDQoJYnVybkludG86WyJwbGFndWUiLCJhc2giLCJhbW1vbmlhIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTAwNSwNCgljb25kdWN0OiAwLjEsDQoJaXNGb29kOiB0cnVlDQp9LA0KImN1cmVkX21lYXQiOiB7DQoJY29sb3I6IFsiI2JlNWM0YiIsIiNjODg0NmYiLCIjZGRhNTkyIiwiI2JjNjE1NyJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJTUHxYWHxTUCIsDQoJCSJYWHxNMXxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImNvb2tlZF9tZWF0IiwNCgljYXRlZ29yeToiZm9vZCIsDQoJYnVybjoxNSwNCglidXJuVGltZToyMDAsDQoJYnVybkludG86ImNvb2tlZF9tZWF0IiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMDE5LjUsDQoJY29uZHVjdDogMC4zLA0KCWlzRm9vZDogdHJ1ZSwNCgloaWRkZW46IHRydWUNCn0sDQoiY29va2VkX21lYXQiOiB7DQoJY29sb3I6IFsiI2FlN2Q1YiIsIiM5YjZkNTQiLCIjN2U0ZDMxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPiAxNTAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDAyNSAmJiBpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSkgew0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsImdyZWFzZSIpDQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOiIjZDdkYjY5IiB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9DQoJfSwNCgl0ZW1wSGlnaDogMzAwLA0KCXN0YXRlSGlnaDogImFzaCIsDQoJY2F0ZWdvcnk6ImZvb2QiLA0KCWhpZGRlbjp0cnVlLA0KCWJ1cm46MTAsDQoJYnVyblRpbWU6MjAwLA0KCWJ1cm5JbnRvOiAiYXNoIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMDA1LA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJmcm96ZW5fbWVhdCI6IHsNCgljb2xvcjogWyIjMzk5ZThmIiwiIzQ5YmFhOSIsIiM2Y2QyYzYiLCIjNDBhMTk3Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcDogLTE4LA0KCXRlbXBIaWdoOiAwLA0KCXN0YXRlSGlnaDogIm1lYXQiLA0KCWNhdGVnb3J5OiJmb29kIiwNCgloaWRkZW46dHJ1ZSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMDY3LjUsDQoJaXNGb29kOiB0cnVlDQp9LA0KInNhbHQiOiB7DQoJY29sb3I6IFsiI2YyZjJmMiIsIiNlMGUwZTAiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImljZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InNhbHRfd2F0ZXIiLCBjaGFuY2U6MC4xIH0sDQoJCSJyaW1lIjogeyBlbGVtMTpudWxsLCBlbGVtMjoic2FsdF93YXRlciIsIGNoYW5jZTowLjA3NSB9LA0KCQkic25vdyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InNhbHRfd2F0ZXIiLCBjaGFuY2U6MC4yNSB9LA0KCQkicGFja2VkX3Nub3ciOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJzYWx0X3dhdGVyIiwgY2hhbmNlOjAuMDUgfSwNCgkJInBhY2tlZF9pY2UiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJzYWx0X3dhdGVyIiwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCgl0ZW1wSGlnaDogODAxLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIxNjAsDQoJZmlyZUNvbG9yOiAiI0YxRTkwNiIsDQoJYWxpYXM6ICJzb2RpdW0gY2hsb3JpZGUiDQp9LA0KIm1vbHRlbl9zYWx0Ijogew0KCWNvbmR1Y3Q6IDAuMSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMToiZXhwbG9zaW9uIiB9DQoJfSwNCglhbGlhczogIm1vbHRlbiBzb2RpdW0gY2hsb3JpZGUiDQp9LA0KInN1Z2FyIjogew0KCWNvbG9yOiAiI2YyZjJmMiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJncmFwZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImplbGx5IiwgY2hhbmNlOjAuMDA1LCB0ZW1wTWluOjEwMCB9DQoJfSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXRlbXBIaWdoOiAxODYsDQoJc3RhdGVIaWdoOiAiY2FyYW1lbCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTU5MCwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiZmxvdXIiOiB7DQoJY29sb3I6IFsiI2YwZTJiNyIsIiNmMGU0YzAiLCIjZGVkMWFiIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6ICJkb3VnaCIsIGVsZW0yOiBudWxsIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTogImRvdWdoIiwgZWxlbTI6IG51bGwgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMTogImRvdWdoIiwgZWxlbTI6IG51bGwgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0xOiAiZG91Z2giLCBlbGVtMjogbnVsbCB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6ICJkb3VnaCIsIGVsZW0yOiBudWxsIH0sDQoJCSJqdWljZSI6IHsgZWxlbTE6ICJkb3VnaCIsIGVsZW0yOiBudWxsIH0sDQoJCSJ2aW5lZ2FyIjogeyBlbGVtMTogImRvdWdoIiwgZWxlbTI6IG51bGwgfSwNCgkJInlvbGsiOiB7IGVsZW0xOiAiYmF0dGVyIiwgZWxlbTI6IG51bGwgfSwNCgkJInlvZ3VydCI6IHsgZWxlbTE6ICJiYXR0ZXIiLCBlbGVtMjogbnVsbCB9LA0KCQkiaG9uZXkiOiB7IGVsZW0xOiJnaW5nZXJicmVhZCIsIGVsZW0yOm51bGwgfSwNCgkJIm1vbGFzc2VzIjogeyBlbGVtMToiZ2luZ2VyYnJlYWQiLCBlbGVtMjpudWxsIH0sDQoJCSJzYXAiOiB7IGVsZW0xOiJnaW5nZXJicmVhZCIsIGVsZW0yOm51bGwgfSwNCgkJImNhcmFtZWwiOiB7IGVsZW0xOiJnaW5nZXJicmVhZCIsIGVsZW0yOm51bGwgfSwNCgkJImJyb3RoIjogeyBlbGVtMToiZG91Z2giLCBlbGVtMjpudWxsIH0sDQoJCSJzb2RhIjogeyBlbGVtMToiZG91Z2giLCBlbGVtMjpudWxsIH0sDQoJCSJ0ZWEiOiB7IGVsZW0xOiJkb3VnaCIsIGVsZW0yOm51bGwgfSwNCgkJImJsb29kIjogeyBlbGVtMToiZG91Z2giLCBlbGVtMjpudWxsIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiJkb3VnaCIsIGVsZW0yOm51bGwgfSwNCgkJImFudGlib2R5IjogeyBlbGVtMToiZG91Z2giLCBlbGVtMjpudWxsIH0sDQoJCSJtaWxrIjogeyBlbGVtMToiZG91Z2giLCBlbGVtMjpudWxsIH0sDQoJCSJjcmVhbSI6IHsgZWxlbTE6ImRvdWdoIiwgZWxlbTI6bnVsbCB9DQoJfSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjo0MCwNCglidXJuVGltZToyNSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJaXNGb29kOiB0cnVlDQp9LA0KIndpcmUiOiB7DQoJY29sb3I6ICIjNGQwYTAzIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6IHRydWUsDQoJY29uZHVjdDogMSwNCglub01peDogdHJ1ZSwNCgkvLyBpZ25vcmVDb25kdWN0OlsiZWNsb25lciJdLA0KfSwNCiJiYXR0ZXJ5Ijogew0KCWNvbG9yOiAiIzljNmMyNSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFNIfFhYIiwgLy8gc2hvY2tzIChhZGRzIGNoYXJnZSkNCgkJIlNIfFhYfFNIIiwNCgkJIlhYfFNIfFhYIiwNCgldLA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCXRlbXBIaWdoOiAxNDU1LjUsDQoJc3RhdGVIaWdoOiBbIm1vbHRlbl9zdGVlbCIsImV4cGxvc2lvbiIsImFjaWRfZ2FzIl0sDQoJaGFyZG5lc3M6IDAuOCwNCglicmVha0ludG86IFsibWV0YWxfc2NyYXAiLCJhY2lkIl0NCn0sDQoiY2xvbmVyIjogew0KCWNvbG9yOiAiI2RkZGQwMCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5DTE9ORVIsDQoJb25DbGlja2VkOiBiZWhhdmlvcnMuQ0xPTkVfT05fQ0xJQ0ssDQoJaWdub3JlOiBbImVjbG9uZXIiLCJzbG93X2Nsb25lciIsImNsb25lX3Bvd2RlciIsImZsb2F0aW5nX2Nsb25lciIsIndhbGwiLCJld2FsbCJdLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6dHJ1ZSwNCgloYXJkbmVzczogMSwNCglkYXJrVGV4dDogdHJ1ZSwNCn0sDQoic2Vuc29yIjogew0KCWNvbG9yOiAiI2JlYmZhMyIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkcyA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQkJdmFyIHggPSBwaXhlbC54ICsgY29vcmRzWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCXZhciBzZW5zZWQgPSBwaXhlbE1hcFt4XVt5XTsNCgkJCQlpZiAocGl4ZWwuc2Vuc2UgJiYgc2Vuc2VkLmVsZW1lbnQgIT09IHBpeGVsLnNlbnNlICYmIHBpeGVsLnNlbnNlLnNwbGl0KCIsIikuaW5kZXhPZihzZW5zZWQuZWxlbWVudCkgPT09IC0xKSBjb250aW51ZTsNCgkJCQlpZiAoIXNlbnNlZC5jaGFyZ2UgJiYgIXNlbnNlZC5jaGFyZ2VDRCAmJiAoc2Vuc2VkLmNvbiB8fCBlbGVtZW50c1tzZW5zZWQuZWxlbWVudF0ubW92YWJsZSAmJiBlbGVtZW50cy5zZW5zb3IuaWdub3JlLmluZGV4T2Yoc2Vuc2VkLmVsZW1lbnQpID09PSAtMSkpIHsNCgkJCQkJcGl4ZWwuY2hhcmdlID0gMTsNCgkJCQkJaWYgKCFwaXhlbC5jaGFyZ2VTdGFydCkgcGl4ZWwuY2hhcmdlU3RhcnQgPSBwaXhlbFRpY2tzOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCglpZ25vcmU6IFsiZmxhc2giXSwNCgljb25kdWN0OiAxLA0KCW1vdmFibGU6IGZhbHNlLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJZGFya1RleHQ6IHRydWUsDQp9LA0KImhlYXRlciI6IHsNCgljb2xvcjogIiM4ODExMTEiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxIVDoyfFhYIiwNCgkJIkhUOjJ8WFh8SFQ6MiIsDQoJCSJYWHxIVDoyfFhYIiwNCgldLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6dHJ1ZQ0KfSwNCiJjb29sZXIiOiB7DQoJY29sb3I6ICIjMTExMTg4IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q086MnxYWCIsDQoJCSJDTzoyfFhYfENPOjIiLA0KCQkiWFh8Q086MnxYWCIsDQoJXSwNCgljYXRlZ29yeToibWFjaGluZXMiLA0KCWluc3VsYXRlOnRydWUNCn0sDQoicmFuZG9tIjogew0KCWNvbG9yOiBbIiMzZTVmOGEiLCIjYTMzNGVjIiwiI2VhOTZmOSIsIiNhNmVjZjYiLCIjNzBlYmM4IiwiI2Q5Mjg2YiIsIiM3ZWVkOTEiLCIjYTE4YjMwIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWNoYW5nZVBpeGVsKHBpeGVsLHJhbmRvbUNob2ljZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZG9tQ2hvaWNlcy5sZW5ndGgpXSk7DQoJfSwNCglvblBsYWNlOiBmdW5jdGlvbihwaXhlbCkgew0KCQljaGFuZ2VQaXhlbChwaXhlbCxyYW5kb21DaG9pY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJhbmRvbUNob2ljZXMubGVuZ3RoKV0pOw0KCX0sDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCglleGNsdWRlUmFuZG9tOiB0cnVlDQp9LA0KImltYWdlIjogew0KCWNvbG9yOiBbIiM3OGJiZmYiLCIjNWJiODFhIl0sDQoJb25TZWxlY3Q6IGZ1bmN0aW9uKCkgew0KCQkvLyBwcm9tcHQgdG8gdXBsb2FkIGFuIGltYWdlIGZpbGUsIHRoZW4gc3RvcmUgdGhlIGltYWdlIGluIHBsYWNpbmdJbWFnZQ0KCQl2YXIgZmlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7DQoJCWZpbGUudHlwZSA9ICJmaWxlIjsNCgkJZmlsZS5hY2NlcHQgPSAiaW1hZ2UvKiI7DQoJCWZpbGUub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsNCgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkJCQl2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCgkJCQlyZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgew0KCQkJCQl2YXIgaW1nID0gbmV3IEltYWdlKCk7DQoJCQkJCWltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCgkJCQkJCXBsYWNpbmdJbWFnZSA9IGltZzsNCgkJCQkJfQ0KCQkJCQlpbWcuc3JjID0gZS50YXJnZXQucmVzdWx0Ow0KCQkJCQlmaWxlLnZhbHVlID0gIiI7DQoJCQkJfQ0KCQkJCXJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUuZmlsZXNbMF0pOw0KCQkJfSw1MDApOw0KCQl9DQoJCWZpbGUub25jYW5jZWwgPSBmdW5jdGlvbigpIHsNCgkJCXNlbGVjdEVsZW1lbnQobnVsbCk7DQoJCX0NCgkJZmlsZS5jbGljaygpOw0KCX0sDQoJb25VbnNlbGVjdDogZnVuY3Rpb24oKSB7DQoJCXBsYWNpbmdJbWFnZSA9IG51bGw7DQoJfSwNCgl0b29sOiBmdW5jdGlvbigpIHt9LA0KCWNhdGVnb3J5OiAic3BlY2lhbCIsDQp9LA0KInVucGFpbnQiOiB7DQoJY29sb3I6IFsiI2ZmZmZmZiIsIiMwMDAwMDAiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQl2YXIgciA9IGVsZW1lbnRzLnVucGFpbnQucmVhY3Rpb25zW3BpeGVsLmVsZW1lbnRdOw0KCQlpZiAociAmJiByLmVsZW0yKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCxyLmVsZW0yKQ0KCQl9DQoJCWlmICghZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY3VzdG9tQ29sb3IpIHsNCgkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5jb2xvclBhdHRlcm4gJiYgc2V0dGluZ3MudGV4dHVyZXMhPT0wKSB7DQoJCQkJcGl4ZWwuY29sb3IgPSBjb2xvclBhdHRlcm5QaWNrKHBpeGVsKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwpDQoJCQl9DQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkiY29sb3Jfc2FuZCI6IHsgZWxlbTI6InNhbmQiIH0sDQoJCSJzdGFpbmVkX2dsYXNzIjogeyBlbGVtMjoiZ2xhc3MiIH0sDQoJCSJtb2x0ZW5fc3RhaW5lZF9nbGFzcyI6IHsgZWxlbTI6Im1vbHRlbl9nbGFzcyIgfSwNCgkJInJhaW5ib3ciOiB7IGVsZW0yOiJhcnQiIH0sDQoJCSJzdGF0aWMiOiB7IGVsZW0yOiJhcnQiIH0sDQoJCSJib3JkZXIiOiB7IGVsZW0yOiJ3YWxsIiB9LA0KCQkiY29sb3Jfc21va2UiOiB7IGVsZW0yOiJzbW9rZSIgfSwNCgkJInNwcmF5X3BhaW50IjogeyBlbGVtMjoic21va2UiIH0sDQoJCSJkeWUiOiB7IGVsZW0yOiJpbmsiIH0sDQoJCSJwYWludCI6IHsgZWxlbTI6bnVsbCB9DQoJfSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCWRlc2M6ICJVc2Ugb24gcGl4ZWxzIHRvIHJldHVybiB0aGVpciBvcmlnaW5hbCBjb2xvci4iDQp9LA0KInVuY2hhcmdlIjogew0KCWNvbG9yOiAiIzAwMDBmZiIsDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmNoYXJnZSkgew0KCQkJZGVsZXRlIHBpeGVsLmNoYXJnZTsNCgkJCXBpeGVsLmNoYXJnZUNEID0gMTY7DQoJCX0NCgkJaWYgKHBpeGVsLmNoYXJnZUNEICYmIGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmNvbG9yT24pIHsNCgkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwpOw0KCQl9DQoJCXZhciByID0gZWxlbWVudHMudW5jaGFyZ2UucmVhY3Rpb25zW3BpeGVsLmVsZW1lbnRdOw0KCQlpZiAocikgew0KCQkJaWYgKHIuZWxlbTIpIHsgY2hhbmdlUGl4ZWwocGl4ZWwsci5lbGVtMikgfQ0KCQkJZWxzZSB7IGRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSkgfQ0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImVsZWN0cmljIjogeyBlbGVtMjpudWxsIH0sDQoJCSJsaWdodG5pbmciOiB7IGVsZW0yOm51bGwgfSwNCgkJInByb3RvbiI6IHsgZWxlbTI6Im5ldXRyb24iIH0sDQoJCSJzaG9jayI6IHsgZWxlbTI6bnVsbCB9DQoJfSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJZGVzYzogIlVzZSBvbiBwaXhlbHMgdG8gcmVtb3ZlIGVsZWN0cmljIGNoYXJnZS4iDQp9LA0KInVuYnVybiI6IHsNCgljb2xvcjogIiMzODM2NDUiLA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5idXJuaW5nKSB7DQoJCQlkZWxldGUgcGl4ZWwuYnVybmluZzsNCgkJCWRlbGV0ZSBwaXhlbC5idXJuU3RhcnQ7DQoJCX0NCgkJdmFyIHIgPSBlbGVtZW50cy51bmJ1cm4ucmVhY3Rpb25zW3BpeGVsLmVsZW1lbnRdOw0KCQlpZiAocikgew0KCQkJaWYgKHIuZWxlbTIpIHsgY2hhbmdlUGl4ZWwocGl4ZWwsci5lbGVtMikgfQ0KCQkJZWxzZSB7IGRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSkgfQ0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImZpcmUiOiB7IGVsZW0yOiJzbW9rZSIgfSwNCgkJInBsYXNtYSI6IHsgZWxlbTI6InNtb2tlIiB9LA0KCQkiZW1iZXIiOiB7IGVsZW0yOiJhc2giIH0sDQoJCSJmd19lbWJlciI6IHsgZWxlbTI6InNtb2tlIiB9LA0KCQkidG9yY2giOiB7IGVsZW0yOiJ3b29kIiB9DQoJfSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJZGVzYzogIlVzZSBvbiBwaXhlbHMgdG8gc3RvcCBidXJuaW5nLiINCn0sDQoic21hc2giOiB7DQoJY29sb3I6IFsiIzY2NjY2NiIsIiM4ODg4ODgiLCIjNjY2NjY2Il0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJbGV0IG9sZCA9IHBpeGVsLmVsZW1lbnQ7DQoJCWlmIChpc0JyZWFrYWJsZShwaXhlbCkpIHsNCgkJCS8vIHRpbWVzIDAuMjUgaWYgbm90IHNoaWZ0RG93biBlbHNlIDENCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgKDEtKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IDApKSAvIChzaGlmdERvd24gPyAxIDogNCkpIHsNCgkJCQlicmVha1BpeGVsKHBpeGVsKTsNCgkJCX0NCgkJCS8vIGlmIChNYXRoLnJhbmRvbSgpID4gKCgxLShlbGVtZW50c1twaXhlbC5lbGVtZW50XS5oYXJkbmVzcyB8fCAxKSkgKiAoc2hpZnREb3duID8gMC41IDogMSkpKSB7DQoJCX0NCgkJZWxzZSBpZiAob2xkID09PSBwaXhlbC5lbGVtZW50ICYmIGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm1vdmFibGUgJiYgIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpICYmICFwYXVzZWQpIHsNCgkJCWxldCB4ID0gMDsgbGV0IHkgPSAwOw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjY2KSB4ID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiAtMTsNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC42NikgeSA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7DQoJCQl0cnlNb3ZlKHBpeGVsLHBpeGVsLngreCxwaXhlbC55K3kpDQoJCX0NCgl9LA0KCWNhdGVnb3J5OiAidG9vbHMiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJZGVzYzogIlVzZSBvbiBwaXhlbHMgdG8gYnJlYWsgdGhlbSwgaWYgcG9zc2libGUuIg0KfSwNCiJmaWxsZXIiOiB7DQoJY29sb3I6ICIjYWU0Y2Q5IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkZJTEwsDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJcmVhY3Rpb25zOiB7DQoJCSJuZXV0cm9uIjogeyBlbGVtMToibGF0dGljZSIgfSwNCgkJInByb3RvbiI6IHsgZWxlbTE6InZlcnRpY2FsIiB9LA0KCQkiZWxlY3RyaWMiOiB7IGVsZW0xOiJob3Jpem9udGFsIiB9LA0KCQkicG9zaXRyb24iOiB7IGVsZW0xOiJ2ZXJ0aWNhbCIgfSwNCgkJInBsYXNtYSI6IHsgZWxlbTE6ImFybWFnZWRkb24iLCB0ZW1wTWluOjUwMCwgY2hhcmdlZDp0cnVlIH0NCgl9LA0KCWRlbnNpdHk6IDE4MzQNCn0sDQoibGF0dGljZSI6IHsNCgljb2xvcjogIiNjYjRjZDkiLA0KCWJlaGF2aW9yOiBbDQoJCSJDTHxYWHxDTCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJDTHxYWHxDTCIsDQoJXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgY29vcmRzID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCQl2YXIgeCA9IHBpeGVsLnggKyBjb29yZHNbMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkgKyBjb29yZHNbMV07DQoJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQgPT09ICJsYXR0aWNlIikgew0KCQkJCWRlbGV0ZVBpeGVsKHgseSkNCgkJCX0NCgkJfQ0KCX0sDQoJb25QbGFjZTogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmRlbCkgcmV0dXJuOw0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMikgcmV0dXJuOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgY29vcmRzID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCQl2YXIgeCA9IHBpeGVsLnggKyBjb29yZHNbMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkgKyBjb29yZHNbMV07DQoJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQgPT09ICJsYXR0aWNlIikgew0KCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQl9DQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkiY29sZF9maXJlIjogeyBlbGVtMToiaWNlX25pbmUiLCBjaGFuY2U6MC4xIH0sDQoJCSJwcm90b24iOiB7IGVsZW0xOiJmaWxsZXIiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJlbGVjdHJpYyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImZpbGxlciIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJbW92YWJsZTogZmFsc2UsDQoJZGVuc2l0eTogOTE3DQp9LA0KImdyYXZlbCI6IHsNCgljb2xvcjogWyIjZTNlMGRmIiwiI2IxYWJhMyIsIiM3NDczNmQiLCIjNTI0YjQ3Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJicm90aCI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMDEgfSwNCgkJInRlYSI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJY2F0ZWdvcnk6ImxhbmQiLA0KCXRlbXBIaWdoOiA5NTAsDQoJc3RhdGVIaWdoOiAibWFnbWEiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE2ODAsDQoJaGFyZG5lc3M6IDAuMiwNCglicmVha0ludG86ICJzYW5kIg0KfSwNCiJzbGltZSI6IHsNCgljb2xvcjogIiM4MWNmNjMiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXZpc2Nvc2l0eTogNTAwMCwNCgl0ZW1wSGlnaDogMTIwLA0KCXN0YXRlSGlnaDogInN0ZWFtIiwNCgl0ZW1wTG93OiAwLA0KCWNhdGVnb3J5OiJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTQ1MCwNCglzdGFpbjogMC4wNQ0KfSwNCiJjZW1lbnQiOiB7DQoJY29sb3I6ICIjYjViNWI1IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWxUaWNrcyAtIHBpeGVsLnN0YXJ0ID4gMTAwICYmIE1hdGgucmFuZG9tKCkgPCAwLjEpIHsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJjb25jcmV0ZSIpDQoJCX0NCgl9LA0KCW9uTWl4OiBmdW5jdGlvbihwaXhlbCkgew0KCQlwaXhlbC5zdGFydCA9IHBpeGVsVGlja3M7DQoJfSwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJdGVtcEhpZ2g6IDE1NTAsDQoJc3RhdGVIaWdoOiAibWFnbWEiLA0KCXRlbXBMb3c6IC0xMCwNCglzdGF0ZUxvdzogImNvbmNyZXRlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDQwLA0KCWhhcmRuZXNzOiAwLjEsDQoJdmlzY29zaXR5OiAxMDAwLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KImR1c3QiOiB7DQoJY29sb3I6ICIjNjY2NjY2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCWJ1cm46IDEwLA0KCWJ1cm5UaW1lOiAxLA0KCXRlbXBIaWdoOiA0MjUsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQ5MA0KfSwNCiJ2b2lkIjogew0KCWNvbG9yOiAiIzI2MjYyNiIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIHggPSBwaXhlbC54K2FkamFjZW50Q29vcmRzW2ldWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55K2FkamFjZW50Q29vcmRzW2ldWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcyA9PT0gMSkgeyBjb250aW51ZTsgfQ0KCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQl9DQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJaGFyZG5lc3M6IDEsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgltb3ZhYmxlOiBmYWxzZSwNCglpbnN1bGF0ZTogdHJ1ZQ0KfSwNCiJzdW4iOiB7DQoJY29sb3I6ICIjZmZmZmJkIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQkvLyBtaW5pbXVtIDE3MjYNCgkJLy8gbWF4aW11bSA3NzI2DQoJCWlmIChwaXhlbC5lY2xpcHNlKSB7IHBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiNGRDhDMDMiKTsgdmFyIGM9MC4wMX0NCgkJZWxzZSBpZiAocGl4ZWwudGVtcCA8IDE1MDApIHsgcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCwiIzdhNGU0MyIpOyB9DQoJCWVsc2UgaWYgKHBpeGVsLnRlbXAgPCAzNjAwKSB7IHBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiNmZmJkYmQiKTsgdmFyIGM9MC4wMTUgfQ0KCQllbHNlIGlmIChwaXhlbC50ZW1wIDwgNTAwMCkgeyBwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLCIjZmZkNWJkIik7IHZhciBjPTAuMDI1IH0NCgkJZWxzZSBpZiAocGl4ZWwudGVtcCA8IDcwMDApIHsgcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCwiI2ZmZmZiZCIpOyB2YXIgYz0wLjA1IH0NCgkJZWxzZSBpZiAocGl4ZWwudGVtcCA8IDExMDAwKSB7IHBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiNmN2ZmZjUiKTsgdmFyIGM9MC4xIH0NCgkJZWxzZSBpZiAocGl4ZWwudGVtcCA8IDI4MDAwKSB7IHBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiNiZGUwZmYiKTsgdmFyIGM9MC4yIH0NCgkJZWxzZSB7IHBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIiNjM2JkZmYiKTsgdmFyIGM9MC40IH0NCgkJaWYgKHBpeGVsLnRlbXAgPCAxNTAwKSB7IHZhciBjPTAgfQ0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgeCA9IHBpeGVsLngrYWRqYWNlbnRDb29yZHNbaV1bMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkrYWRqYWNlbnRDb29yZHNbaV1bMV07DQoJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPiBjKSB7Y29udGludWV9DQoJCQkJY3JlYXRlUGl4ZWwoImxpZ2h0IiwgeCwgeSk7DQoJCQkJcGl4ZWxNYXBbeF1beV0uY29sb3IgPSBwaXhlbC5jb2xvcjsNCgkJCX0NCgkJCWVsc2UgaWYgKCFvdXRPZkJvdW5kcyh4LHkpKSB7DQoJCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy5zdW4uaWQpIHsNCgkJCQkJaWYgKHBpeGVsLmVjbGlwc2UpIHsgbmV3UGl4ZWwuZWNsaXBzZSA9IHRydWUgfQ0KCQkJCQlpZiAocGl4ZWwudGVtcCE9PW5ld1BpeGVsLnRlbXApIHsNCgkJCQkJCXZhciBhdmcgPSAocGl4ZWwudGVtcCArIG5ld1BpeGVsLnRlbXApLzI7DQoJCQkJCQlwaXhlbC50ZW1wID0gYXZnOw0KCQkJCQkJbmV3UGl4ZWwudGVtcCA9IGF2ZzsNCgkJCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsKTsNCgkJCQkJCXBpeGVsVGVtcENoZWNrKG5ld1BpeGVsKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmVsZW1lbnQgPT09ICJsaWdodCIpIHsNCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCX0NCgl9LA0KCWNhblBsYWNlOiB0cnVlLA0KCXJlYWN0aW9uczogew0KCQkiaHlkcm9nZW4iOiB7IGVsZW0yOiJoZWxpdW0iLCB0ZW1wMTo1IH0sDQoJCSJoZWxpdW0iOiB7IGVsZW0yOiJjYXJib25fZGlveGlkZSIsIHRlbXAxOjUsIHRlbXBNYXg6MzYwMCB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0yOiJuZW9uIiwgdGVtcDE6NSwgdGVtcE1heDoxODAwIH0NCgl9LA0KCXRlbXA6IDU1MDQsDQoJdGVtcExvdzogLTEwMCwNCglzdGF0ZUxvdzogInN1cGVybm92YSIsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCglzdGF0ZTogImdhcyIsDQoJLy9kZW5zaXR5OiAxNDA4LA0KCWluc3VsYXRlOiB0cnVlLA0KCW5vTWl4OiB0cnVlLA0KCWFsaWFzOiAic3RhciIsDQoJbW92YWJsZTogZmFsc2UNCn0sDQoiY2VsbCI6IHsNCgljb2xvcjogWyIjMDBlZTAwIiwiIzgzZWUwMCIsIiNkNmVlMDAiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCl7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDUgJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIGNsb25lUGl4ZWwocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEpOw0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDA1ICYmIGlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnkpKSBjbG9uZVBpeGVsKHBpeGVsLHBpeGVsLngtMSxwaXhlbC55KTsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAwNSAmJiBpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55KSkgY2xvbmVQaXhlbChwaXhlbCxwaXhlbC54KzEscGl4ZWwueSk7DQoJCWlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJdHJ5TW92ZShwaXhlbCxwaXhlbC54KyhNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xKSxwaXhlbC55KzEpOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBjaGFuY2U6MC4wMTUgfSwNCgkJImJsb29kIjogeyBlbGVtMToiYmxvb2QiLCBjaGFuY2U6MC4wMSB9LA0KCQkiYW50aWJvZHkiOiB7IGVsZW0xOiJhbnRpYm9keSIsIGNoYW5jZTowLjAxIH0sDQoJCSJzdWdhciI6IHsgZWxlbTI6ImNlbGwiLCBjaGFuY2U6MC4wMyB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJjZWxsIiwgY2hhbmNlOjAuMDQgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOltudWxsLCJkbmEiXSwgY2hhbmNlOjAuMDIgfSwNCgkJInBvaXNvbiI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJIm1lcmN1cnkiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAyIH0sDQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJImN5YW5pZGUiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAyIH0sDQoJCSJzb2FwIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wMTUgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDUgfSwNCgkJImFtbW9uaWEiOiB7IGVsZW0yOiJuaXRyb2dlbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJvaWwiOiB7IGVsZW0yOiJtZXRoYW5lIiwgY2hhbmNlOjAuMDAxIH0sDQoJCSJtaWxrIjogeyBlbGVtMjoieW9ndXJ0IiwgY2hhbmNlOjAuMDEgfSwNCgkJImNyZWFtIjogeyBlbGVtMjoieW9ndXJ0IiwgY2hhbmNlOjAuMDEgfSwNCgkJImNob2NvbGF0ZV9taWxrIjogeyBlbGVtMjoieW9ndXJ0IiwgY2hhbmNlOjAuMDEsIGNvbG9yMjoiIzRjMzkyYyIgfSwNCgkJImZydWl0X21pbGsiOiB7IGVsZW0yOiJ5b2d1cnQiLCBjaGFuY2U6MC4wMSwgY29sb3IyOiIjOTc3ODcxIiB9LA0KCQkicGlsayI6IHsgZWxlbTI6InlvZ3VydCIsIGNoYW5jZTowLjAxLCBjb2xvcjI6IiNiYmE3ODkiIH0sDQoJCSJlZ2dub2ciOiB7IGVsZW0yOiJ5b2d1cnQiLCBjaGFuY2U6MC4wMSwgY29sb3IyOiIjYWU5YTdlIiB9DQoJfSwNCgl0ZW1wSGlnaDogMTAyLA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsInN0ZWFtIiwic3RlYW0iLCJzdWdhciJdLA0KCXRlbXBMb3c6IC0yLA0KCXN0YXRlTG93OiBbImljZSIsImljZSIsImljZSIsInN1Z2FyX2ljZSJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMDAuMSwNCgljYXRlZ29yeTogImxpZmUiLA0KCWJyZWFrSW50bzogWyJ3YXRlciIsImRuYSIsImRuYSIsImRuYSJdDQp9LA0KImNhbmNlciI6IHsNCgljb2xvcjogWyIjMzAwYjI5IiwiIzVjMTE0ZSIsIiM4NzBjNzEiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCl7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiBpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSkgY2xvbmVQaXhlbChwaXhlbCxwaXhlbC54LHBpeGVsLnktMSk7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiBpc0VtcHR5KHBpeGVsLngtMSxwaXhlbC55KSkgY2xvbmVQaXhlbChwaXhlbCxwaXhlbC54LTEscGl4ZWwueSk7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiBpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55KSkgY2xvbmVQaXhlbChwaXhlbCxwaXhlbC54KzEscGl4ZWwueSk7DQoJCWlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJdHJ5TW92ZShwaXhlbCxwaXhlbC54KyhNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xKSxwaXhlbC55KzEpOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJjZWxsIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJmcm9nIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJ0YWRwb2xlIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJmaXNoIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJyYXQiOiB7IGVsZW0yOiJjYW5jZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImJpcmQiOiB7IGVsZW0yOiJjYW5jZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImhvbXVuY3VsdXMiOiB7IGVsZW0yOiJjYW5jZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImJvbmUiOiB7IGVsZW0yOiJjYW5jZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImJvbmVfbWFycm93IjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJza2luIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzdWdhciI6IHsgZWxlbTI6ImNhbmNlciIsIGNoYW5jZTowLjA0IH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6ImNhbmNlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMTpbbnVsbCwiZG5hIl0sIGNoYW5jZTowLjAxIH0sDQoJCSJwb2lzb24iOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6WyJkZWFkX3BsYW50IixudWxsXSwgY2hhbmNlOjAuMDA1IH0sDQoJCSJncmFzcyI6IHsgZWxlbTI6WyJkZWFkX3BsYW50IixudWxsXSwgY2hhbmNlOjAuMDA1IH0sDQoJCSJwcm90b24iOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA0IH0sDQoJCSJsYXNlciI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDQgfQ0KCX0sDQoJdGVtcEhpZ2g6IDgwLA0KCXN0YXRlSGlnaDogInBsYWd1ZSIsDQoJdGVtcExvdzogLTMwLA0KCXN0YXRlTG93OiAiZGlydHlfd2F0ZXIiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMDAuMiwNCgljYXRlZ29yeTogImxpZmUiLA0KCWJyZWFrSW50bzogImRuYSIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiI2M5YjdiNyIsIiNjOWM2YjciLCIjYzljNmI3IiwiI2I3YzhjOSIsIiNjOWI3YzUiXSwNCglub2NoZWVyOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJkbmEiOiB7DQoJY29sb3I6IFsiI2ZmZTNlMyIsIiNlM2UzZmYiLCIjZmZmZmUzIiwiI2UzZmZlMyJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkiZmlyZSI6IHsgZWxlbTI6bnVsbCB9LA0KCQkicmFkaWF0aW9uIjogeyAiY29sb3IxIjpbIiNmZmUzZTMiLCIjZTNlM2ZmIiwiI2ZmZmZlMyIsIiNlM2ZmZTMiXSB9LA0KCQkibmV1dHJvbiI6IHsgImNvbG9yMSI6WyIjZmZlM2UzIiwiI2UzZTNmZiIsIiNmZmZmZTMiLCIjZTNmZmUzIl0gfQ0KCX0sDQoJdGVtcEhpZ2g6IDE5MCwNCglzdGF0ZUhpZ2g6ICJzbW9rZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTcwMCwNCgljYXRlZ29yeTogImxpZmUiLA0KCWhpZGRlbjogdHJ1ZSwNCglhbGlhczogImRlb3h5cmlib251Y2xlaWMgYWNpZCINCn0sDQoicGxhZ3VlIjogew0KCWNvbG9yOiAiIzM2MDA1YyIsDQoJYmVoYXZpb3I6IFsNCgkJIk0yfE0xfE0yIiwNCgkJIk0xfERMJTF8TTEiLA0KCQkiTTJ8TTF8TTIiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJmcm9nIjogeyBlbGVtMjoicGxhZ3VlIiwgY2hhbmNlOjAuMDUgfSwNCgkJImFudCI6IHsgZWxlbTI6InBsYWd1ZSIsIGNoYW5jZTowLjA1IH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJwbGFndWUiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZmlzaCI6IHsgZWxlbTI6InBsYWd1ZSIsIGNoYW5jZTowLjA1IH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjoicGxhZ3VlIiwgY2hhbmNlOjAuMDUgfSwNCgkJImNobG9yaW5lIjogeyBlbGVtMTpudWxsIH0sDQoJCSJsaXF1aWRfY2hsb3JpbmUiOiB7IGVsZW0xOm51bGwgfSwNCgkJImxpZ2h0IjogeyBlbGVtMTpudWxsIH0sDQoJCSJoZWFkIjogeyBzdGFpbjI6IiM1NDZlMDAiIH0NCgl9LA0KCXRlbXBIaWdoOiAzMDAsDQoJc3RhdGVIaWdoOiBudWxsLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDYwMA0KfSwNCiJ3b3JtIjogew0KCWNvbG9yOiAiI2QzNGMzNyIsDQoJYmVoYXZpb3I6IFsNCgkJIlNXOmRpcnQsc2FuZCxncmF2ZWwsYXNoLG15Y2VsaXVtLG11ZCx3ZXRfc2FuZCxjbGF5X3NvaWwsd2F0ZXIsc2FsdF93YXRlcixkaXJ0eV93YXRlcixwcmltb3JkaWFsX3NvdXAsYmxvb2QsaW5mZWN0aW9uLGNvbG9yX3NhbmQlM3xYWHxTVzpkaXJ0LHNhbmQsZ3JhdmVsLGFzaCxteWNlbGl1bSxtdWQsd2V0X3NhbmQsY2xheV9zb2lsLHdhdGVyLHNhbHRfd2F0ZXIsZGlydHlfd2F0ZXIscHJpbW9yZGlhbF9zb3VwLGJsb29kLGluZmVjdGlvbixjb2xvcl9zYW5kJTMiLA0KCQkiTTIlMTB8WFh8TTIlMTAiLA0KCQkiU1c6ZGlydCxzYW5kLGdyYXZlbCxhc2gsbXljZWxpdW0sbXVkLHdldF9zYW5kLGNsYXlfc29pbCx3YXRlcixzYWx0X3dhdGVyLGRpcnR5X3dhdGVyLHByaW1vcmRpYWxfc291cCxibG9vZCxpbmZlY3Rpb24sY29sb3Jfc2FuZCUzfE0xfFNXOmRpcnQsc2FuZCxncmF2ZWwsYXNoLG15Y2VsaXVtLG11ZCx3ZXRfc2FuZCxjbGF5X3NvaWwsd2F0ZXIsc2FsdF93YXRlcixkaXJ0eV93YXRlcixwcmltb3JkaWFsX3NvdXAsYmxvb2QsaW5mZWN0aW9uLGNvbG9yX3NhbmQlMyIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImFzaCI6IHsgZWxlbTI6W251bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsImRpcnQiXSwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjcnVtYiI6IHsgZWxlbTI6W251bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsImRpcnQiXSwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJmZWF0aGVyIjogeyBlbGVtMjpbbnVsbCxudWxsLG51bGwsbnVsbCwiZGlydCJdLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInJvb3QiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidGluZGVyIjogeyBlbGVtMjpbbnVsbCwiZGlydCJdLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNhd2R1c3QiOiB7IGVsZW0yOltudWxsLG51bGwsbnVsbCxudWxsLCJkaXJ0Il0sIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZHVzdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZGVhZF9idWciOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJoeXBoYWUiOiB7IGVsZW0yOiJteWNlbGl1bSIsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicGxhbnQiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmliZXIiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZXZlcmdyZWVuIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInBldGFsIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInBpc3RpbCI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ2aW5lIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhlcmIiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyaWNlIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvZmZlZV9ncm91bmQiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJudXQiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkieW9sayI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2hhcmNvYWwiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3RyYXciOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibXVkc3RvbmUiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMSB9LA0KCQkicGVybWFmcm9zdCI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4xIH0sDQoJCSJwYWNrZWRfc2FuZCI6IHsgZWxlbTI6InNhbmQiLCBjaGFuY2U6MC4xIH0sDQoJCSJsaWNoZW4iOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDAyNSB9LA0KCQkic2FsdCI6IHsgZWxlbTE6ICJzbGltZSIsIGVsZW0yOiBudWxsIH0sDQoJCSJwb3Rhc3NpdW1fc2FsdCI6IHsgZWxlbTE6ICJzbGltZSIsIGVsZW0yOiBudWxsIH0sDQoJCSJlcHNvbV9zYWx0IjogeyBlbGVtMTogInNsaW1lIiwgZWxlbTI6IG51bGwgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAwNSB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImFzaCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImZyb3plbl93b3JtIiwNCgljYXRlZ29yeToibGlmZSIsDQoJYnJlYWtJbnRvOiAic2xpbWUiLA0KCWJ1cm46MjAsDQoJYnVyblRpbWU6NTAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTA1MCwNCgljb25kdWN0OiAwLjE3DQp9LA0KImZyb3plbl93b3JtIjogew0KCWNvbG9yOiAiIzM3ZDNiNiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcDogLTIwLA0KCXRlbXBIaWdoOiA1LA0KCXN0YXRlSGlnaDogIndvcm0iLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglicmVha0ludG86ICJzbGltZSIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwNTAsDQoJY29uZHVjdDogMC4xNw0KfSwNCiJmbGVhIjogew0KCWNvbG9yOiAiIzllNDczMiIsDQoJYmVoYXZpb3I6IFsNCgkJIk0yfFhYfE0yIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkiYmxvb2QiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE4NzUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xODc1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImFudGlib2R5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xODc0LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImFudGlkb3RlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJrZXRjaHVwIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkiaGFpciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIm1lcmN1cnkiOiB7IGVsZW0yOm51bGwsIGVsZW0xOm51bGwsIGNoYW5jZTowLjE4NzUgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfSwNCgkJIm1heW8iOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAyNSB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImFzaCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImRlYWRfYnVnIiwNCgljYXRlZ29yeToibGlmZSIsDQoJYnVybjo5NSwNCglidXJuVGltZToyNSwNCglicmVha0ludG86IFsiZHVzdCIsImRlYWRfYnVnIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDAwLA0KCWNvbmR1Y3Q6IDAuMTUNCn0sDQoidGVybWl0ZSI6IHsNCgljb2xvcjogIiNmNWEwNTYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxTVzp3b29kLHRyZWVfYnJhbmNoLGRpcnQsc2FuZCxncmF2ZWwsY2xheV9zb2lsJTUiLA0KCQkiWFh8RlglM3xNMiUxNSBBTkQgQk8iLA0KCQkiWFh8TTF8U1c6d29vZCx0cmVlX2JyYW5jaCxkaXJ0LHNhbmQsZ3JhdmVsLGNsYXlfc29pbCU1IiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkid29vZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDQsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidHJlZV9icmFuY2giOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNlbGx1bG9zZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDQsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicGFwZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA0LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJhbWJvbyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDMsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiYmFtYm9vX3BsYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNCwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzYXBsaW5nIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic2F3ZHVzdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm11bGNoIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAyNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjb25mZXR0aSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndoZWF0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3RyYXciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwYXJ0aWNsZWJvYXJkIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidGluZGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibnV0IjogeyBlbGVtMjpbIm51dF9tZWF0IixudWxsXSwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfQ0KCX0sDQoJZm9vZE5lZWQ6IDIwLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZGVhZF9idWciLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglidXJuOjk1LA0KCWJ1cm5UaW1lOjI1LA0KCWJyZWFrSW50bzogImRlYWRfYnVnIiwNCglzdGF0ZTogInNvbGlkIiwNCgljb25kdWN0OiAwLjE1DQp9LA0KImFudCI6IHsNCgljb2xvcjogIiM1ZTBiMDQiLA0KCWJlaGF2aW9yOiBmdW5jdGlvbihwaXhlbCl7DQoJCWJlaGF2aW9ycy5DUkFXTEVSMihwaXhlbCxmdW5jdGlvbihwaXhlbCxuZXdYLG5ld1kpew0KCWlmICghcGl4ZWwuaGlsbGVkICYmICFpc0VtcHR5KHBpeGVsLngrbmV3WCxwaXhlbC55LHRydWUpICYmIHBpeGVsTWFwW3BpeGVsLngrbmV3WF1bcGl4ZWwueV0uZWxlbWVudCA9PT0gImFudF93YWxsIikgew0KCQlwaXhlbC5oaWxsZWQgPSB0cnVlOw0KCX0NCn0sZnVuY3Rpb24ocGl4ZWwsbmV3WCxuZXdZKXsNCglpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEgJiYgIWlzRW1wdHkocGl4ZWwueCtuZXdYLHBpeGVsLnkrMSx0cnVlKSAmJiBlTGlzdHMuQ1JBV0xUSFJVLmluZGV4T2YocGl4ZWxNYXBbcGl4ZWwueCtuZXdYXVtwaXhlbC55KzFdLmVsZW1lbnQpICE9PSAtMSkgew0KCQlpZiAoIXBpeGVsLmhpbGxlZCB8fCAhaXNFbXB0eShwaXhlbC54K25ld1gscGl4ZWwueSx0cnVlKSAmJiBwaXhlbE1hcFtwaXhlbC54K25ld1hdW3BpeGVsLnldLmVsZW1lbnQgPT09ICJhbnRfd2FsbCIpIHsNCgkJCXZhciB3YWxsQ29vcmRzID0gWw0KCQkJCVstMSwtMV0sWzEsLTFdLA0KCQkJCVstMSwwXSxbMSwwXSwNCgkJCQlbMCwxXQ0KCQkJXTsNCgkJCWlmICghaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMikpIHsNCgkJCQl3YWxsQ29vcmRzLnB1c2goWzAsLTFdKQ0KCQkJfQ0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjE1KSB7IHdhbGxDb29yZHMucHVzaChbLTEsMV0pIH0NCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4xNSkgeyB3YWxsQ29vcmRzLnB1c2goWzEsMV0pIH0NCgkJCS8vIGxvb3AgdGhyb3VnaCB3YWxsQ29vcmRzLCBjaGFuZ2UgcGl4ZWwgdG8gYW50X3dhbGwgaWYgaW4gY3Jhd2x0aHJ1DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHdhbGxDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQl2YXIgeCA9IHBpeGVsLngrbmV3WCt3YWxsQ29vcmRzW2ldWzBdOw0KCQkJCXZhciB5ID0gcGl4ZWwueSsxK3dhbGxDb29yZHNbaV1bMV07DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSAmJiBlTGlzdHMuQ1JBV0xUSFJVLmluZGV4T2YocGl4ZWxNYXBbeF1beV0uZWxlbWVudCkgIT09IC0xKSB7DQoJCQkJCWNoYW5nZVBpeGVsKHBpeGVsTWFwW3hdW3ldLCJhbnRfd2FsbCIpOw0KCQkJCX0NCgkJCX0NCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngrbmV3WCxwaXhlbC55KzEpOw0KCQkJdHJ5TW92ZShwaXhlbCxwaXhlbC54K25ld1gscGl4ZWwueSsxKTsNCgkJfQ0KCX0NCgllbHNlIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4wOCAmJiAhaXNFbXB0eShwaXhlbC54K25ld1gscGl4ZWwueS0xLHRydWUpICYmIGVMaXN0cy5DUkFXTFRIUlUuaW5kZXhPZihwaXhlbE1hcFtwaXhlbC54K25ld1hdW3BpeGVsLnktMV0uZWxlbWVudCkgIT09IC0xKSB7DQoJCXN3YXBQaXhlbHMocGl4ZWwscGl4ZWxNYXBbcGl4ZWwueCtuZXdYXVtwaXhlbC55LTFdKTsNCgl9DQp9KQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ3aGVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjYXJhbWVsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJicmVhZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhvbmV5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNvZGEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImp1aWNlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzdWdhciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY3J1bWIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNoZWVzZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2hlZXNlX3Bvd2RlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicm90dGVuX2NoZWVzZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZGVhZF9idWciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGVsZW0yOm51bGwgfSwNCgkJIm9pbCI6IHsgZWxlbTE6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMiB9LA0KCQkibXVzaHJvb21fY2FwIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2FuZHkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwdW1wa2luIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicHVtcGtpbl9zZWVkIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJudXRfYnV0dGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJqZWxseSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImFzaCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImRlYWRfYnVnIiwNCglicmVha0ludG86ICJkZWFkX2J1ZyIsDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCWJ1cm46OTUsDQoJYnVyblRpbWU6MjUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNTAwLA0KCWNvbmR1Y3Q6IDAuMDUNCn0sDQoic3BpZGVyIjogew0KCWNvbG9yOiAiIzRmMmQyZCIsDQoJYmVoYXZpb3I6IGZ1bmN0aW9uKHBpeGVsKXsNCgkJdmFyIHdlYnMgPSBbXTsNCgkJc2h1ZmZsZUFycmF5KHNxdWFyZUNvb3Jkc1NodWZmbGUpDQoJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzU2h1ZmZsZS5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkID0gc3F1YXJlQ29vcmRzU2h1ZmZsZVtpXTsNCgkJCXZhciB4ID0gcGl4ZWwueCtjb29yZFswXTsNCgkJCXZhciB5ID0gcGl4ZWwueStjb29yZFsxXTsNCgkJCWlmICghaXNFbXB0eSh4LHksdHJ1ZSkgJiYgZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0uaWQgPT09IGVsZW1lbnRzLndlYi5pZCkgew0KCQkJCXdlYnMucHVzaChwaXhlbE1hcFt4XVt5XSk7DQoJCQkJaWYgKHBpeGVsLndlYiA9PT0gdW5kZWZpbmVkKSB7IHBpeGVsLndlYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg1IC0gMSkgKyAxKSB9DQoJCQl9DQoJCX0NCgkJaWYgKHdlYnMubGVuZ3RoKSB7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCXZhciB3ZWIgPSBjaG9vc2Uod2Vicyk7DQoJCQkJc2h1ZmZsZUFycmF5KHNxdWFyZUNvb3Jkc1NodWZmbGUpOw0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzU2h1ZmZsZS5sZW5ndGg7IGkrKykgew0KCQkJCQl2YXIgY29vcmQgPSBzcXVhcmVDb29yZHNTaHVmZmxlW2ldOw0KCQkJCQl2YXIgeCA9IHdlYi54K2Nvb3JkWzBdOw0KCQkJCQl2YXIgeSA9IHdlYi55K2Nvb3JkWzFdOw0KCQkJCQlpZiAod2Vicy5sZW5ndGggPT09IDEgJiYgY29vcmRbMF0gJiYgY29vcmRbMV0gJiYgaXNFbXB0eSh4LHkpICYmIE1hdGgucmFuZG9tKCkgPCAwLjEpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJ3ZWIiLHgseSk7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmICh0cnlNb3ZlKHBpeGVsLHgseSkpIHsgYnJlYWsgfQ0KCQkJCX0NCgkJCX0NCgkJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCQl9DQoJCWVsc2Ugew0KCQkJYmVoYXZpb3JzLkNSQVdMRVIyKHBpeGVsLHVuZGVmaW5lZCxmdW5jdGlvbihwaXhlbCl7DQoJCQkJaWYgKHBpeGVsLnIgJSAyID09PSAxICYmIHBpeGVsLmNsaW1iID4gMTAgJiYgcGl4ZWwud2ViID09PSB1bmRlZmluZWQgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCQlpZiAodHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnktMSwid2ViIikpIHsNCgkJCQkJCXBpeGVsLndlYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg1MCAtIDEwKSArIDEwKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOw0KCQl9DQoJfSwNCglmb29kTmVlZDogNCwNCglyZWFjdGlvbnM6IHsNCgkJImRlYWRfYnVnIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTE6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSB9LA0KCQkiYWxjb2hvbCI6IHsgZWxlbTE6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMDUgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjAzIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZGVhZF9idWciLA0KCWJyZWFrSW50bzogImRlYWRfYnVnIiwNCgljYXRlZ29yeToibGlmZSIsDQoJYnVybjo5NSwNCglidXJuVGltZToyNSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA1MDAsDQoJY29uZHVjdDogMC4wNSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duDQp9LA0KIndlYiI6IHsNCgljb2xvcjogWyIjZDdkOWQxIiwiI2MwYzNiNiIsIiNhOGFjOWEiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVhY3Rpb25zOiB7DQoJCSJmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJImZsZWEiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJInRlcm1pdGUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJhbnQiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjA1IH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xIH0sDQoJCSJzdGlua19idWciOiB7IGVsZW0yOlsiZGVhZF9idWciLCJzdGVuY2giXSwgY2hhbmNlOjAuMDM1IH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjAyIH0sDQoJCSJibGVhY2giOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJqdWljZSI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDMgfSwNCgkJInNvYXAiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjIgfSwNCgkJInJvY2siOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjIgfSwNCgkJImJhc2FsdCI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMiB9DQoJfSwNCgl0ZW1wSGlnaDogMjIwLA0KCXN0YXRlSGlnaDogInNtb2tlIiwNCglidXJuOiAxNSwNCglidXJuVGltZTogMzAsDQoJYnVybkludG86IFsic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWJyZWFrSW50bzogW251bGwsbnVsbCwiZHVzdCJdLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJmbHkiOiB7DQoJY29sb3I6ICIjNGM0ZTQyIiwNCgl0aWNrOiBiZWhhdmlvcnMuRkxZLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfENSOmZsYXNofFhYIiwNCgkJIkNSOmZsYXNofENIOmFzaHxDUjpmbGFzaCIsDQoJCSJYWHxDUjpmbGFzaHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImRlYWRfcGxhbnQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm1lYXQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvb2tlZF9tZWF0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6W251bGwsbnVsbCwiYW1tb25pYSJdLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjaGVlc2UiOiB7IGVsZW0yOltudWxsLG51bGwsImFtbW9uaWEiXSwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2hlZXNlX3Bvd2RlciI6IHsgZWxlbTI6W251bGwsbnVsbCwiYW1tb25pYSJdLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyb3R0ZW5fY2hlZXNlIjogeyBlbGVtMjpbbnVsbCxudWxsLCJhbW1vbmlhIl0sIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInZpbmUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvcm4iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInBvdGF0byI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY3J1bWIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndoZWF0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInllYXN0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjYXJhbWVsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJicmVhZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiaG9uZXkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNvZGEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfQ0KCX0sDQoJZm9vZE5lZWQ6IDE1LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZGVhZF9idWciLA0KCWJyZWFrSW50bzogImRlYWRfYnVnIiwNCgljYXRlZ29yeToibGlmZSIsDQoJYnVybjo5NSwNCglidXJuVGltZToyNSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJY29uZHVjdDogMQ0KfSwNCiJmaXJlZmx5Ijogew0KCWNvbG9yOiAiIzY4NDg0MSIsDQoJYnV0dG9uQ29sb3I6IFsiIzY4NDg0MSIsIiM2ODQ4NDEiLCIjZDlkOTUwIiwiIzY4NDg0MSIsIiM2ODQ4NDEiXSwNCgkvLyBvblBsYWNlOiBmdW5jdGlvbihwaXhlbCkgew0KCS8vCSBwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLCIjNjg0ODQxIikNCgkvLyB9LA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmICghcGl4ZWwuZmZmKSB7IC8vIGZpcmVmbHkgZmxpY2tlcg0KCQkJLy8gY2hvb3NlIGEgbnVtYmVyIGJldHdlZW4gMjAgYW5kIDgwDQoJCQlwaXhlbC5mZmYgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2MCkgKyAyMDsNCgkJfQ0KCQlpZiAocGl4ZWxUaWNrcyAlIHBpeGVsLmZmZiA9PT0gMCAmJiAhcGl4ZWwuZ2xvdykgew0KCQkJcGl4ZWwuZmZjID0gcGl4ZWwuY29sb3I7DQoJCQlwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLCIjZDlkOTUwIik7DQoJCQlwaXhlbC5nbG93ID0gdHJ1ZTsNCgkJCXBpeGVsLmVtaXQgPSB0cnVlOw0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsVGlja3MgJSBwaXhlbC5mZmYgPT09IDIpIHsNCgkJCXBpeGVsLmNvbG9yID0gcGl4ZWwuZmZjfHxwaXhlbENvbG9yUGljayhwaXhlbCwiIzY4NDg0MSIpOw0KCQkJcGl4ZWwuZ2xvdyA9IGZhbHNlOw0KCQkJcGl4ZWwuZW1pdCA9IGZhbHNlOw0KCQl9DQoJCWJlaGF2aW9ycy5GTFkocGl4ZWwsZnVuY3Rpb24oZmlyZWZseSxuZXdmbHkpew0KCQkJaWYgKG5ld2ZseSkgew0KCQkJCW5ld2ZseS5mZmYgPSBmaXJlZmx5LmZmZjsNCgkJCX0NCgkJfSkNCgl9LA0KCXJlYWN0aW9uczogew0KCQkicG9sbGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJob25leSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNvZGEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInN1Z2FyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZGVhZF9idWciLA0KCWJyZWFrSW50bzogImRlYWRfYnVnIiwNCgljYXRlZ29yeToibGlmZSIsDQoJYnVybjo5NSwNCglidXJuVGltZToyNSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJY29uZHVjdDogMC4xNQ0KfSwNCiJiZWUiOiB7DQoJY29sb3I6ICIjYzRiMTAwIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWxUaWNrcy1waXhlbC5sYXN0UCA+IDE1MCAmJiBwaXhlbC5wb2xsZW4gJiYgTWF0aC5yYW5kb20oKSA8IDAuMDAwNSAmJiBpc0VtcHR5KHBpeGVsLngscGl4ZWwueSsxKSkgew0KCQkJY3JlYXRlUGl4ZWwoInBvbGxlbiIscGl4ZWwueCxwaXhlbC55KzEpOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5zZWVkID0gcGl4ZWwucG9sbGVuOw0KCQkJcGl4ZWwucG9sbGVuID0gdW5kZWZpbmVkOw0KCQl9DQoJCWJlaGF2aW9ycy5GTFkocGl4ZWwsZnVuY3Rpb24oYmVlLGhpdFBpeGVsKXsNCgkJCWlmIChoaXRQaXhlbCkgew0KCQkJCWlmIChlbGVtZW50c1toaXRQaXhlbC5lbGVtZW50XS5zZWVkID09PSB0cnVlKSB7DQoJCQkJCWJlZS5wb2xsZW4gPSBoaXRQaXhlbC5lbGVtZW50Ow0KCQkJCQliZWUubGFzdFAgPSBwaXhlbFRpY2tzDQoJCQkJfQ0KCQkJCWVsc2UgaWYgKGVsZW1lbnRzW2hpdFBpeGVsLmVsZW1lbnRdLnNlZWQpIHsNCgkJCQkJYmVlLnBvbGxlbiA9IGVsZW1lbnRzW2hpdFBpeGVsLmVsZW1lbnRdLnNlZWQ7DQoJCQkJCWJlZS5sYXN0UCA9IHBpeGVsVGlja3MNCgkJCQl9DQoJCQkJaWYgKGhpdFBpeGVsLmxhc3RQICYmIChiZWUubGFzdFAgPT09IHVuZGVmaW5lZCB8fCBiZWUubGFzdFAgPCBoaXRQaXhlbC5sYXN0UCkpIHsNCgkJCQkJYmVlLmxhc3RQID0gaGl0UGl4ZWwubGFzdFANCgkJCQl9DQoJCQkJLy8gQkVFIEhJVkUNCgkJCQlpZiAoYmVlLmhpdmUgPT09IHVuZGVmaW5lZCkgew0KCQkJCQlpZiAoaGl0UGl4ZWwuaGl2ZSAhPT0gdW5kZWZpbmVkKSB7IGJlZS5oaXZlID0gaGl0UGl4ZWwuaGl2ZSB9DQoJCQkJCWVsc2UgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxICYmIGVMaXN0cy5ISVZFUExBQ0UuaW5kZXhPZihoaXRQaXhlbC5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQkJCWJlZS5xdWVlbiA9IHRydWU7DQoJCQkJCQliZWUubWF0cyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpICsgNDsgLy9mcm9tIDMgdG8gMTANCgkJCQkJCWJlZS5oaXZlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTsNCgkJCQkJCWRlbGV0ZVBpeGVsKGJlZS54LGJlZS55KTsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJoaXZlIixiZWUueCxiZWUueSk7DQoJCQkJCQlwaXhlbE1hcFtiZWUueF1bYmVlLnldLmhpdmUgPSBiZWUuaGl2ZTsNCgkJCQkJCXBpeGVsTWFwW2JlZS54XVtiZWUueV0uYmVlcy5wdXNoKGJlZSk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoaGl0UGl4ZWwuZWxlbWVudCA9PT0gImhpdmUiICYmIGhpdFBpeGVsLmJlZXMubGVuZ3RoIDwgNSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4yNSkgew0KCQkJCQlkZWxldGVQaXhlbChiZWUueCxiZWUueSk7DQoJCQkJCWhpdFBpeGVsLmJlZXMucHVzaChiZWUpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJfQ0KCQl9KQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic29kYSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhvbmV5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ5ZWFzdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2FyYW1lbCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2FuZHkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm9pbCI6IHsgZWxlbTE6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMiB9DQoJfSwNCgllZ2c6ICJob25leSIsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJhc2giLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJkZWFkX2J1ZyIsDQoJYnJlYWtJbnRvOiBbImRlYWRfYnVnIiwiaG9uZXkiXSwNCgljYXRlZ29yeToibGlmZSIsDQoJYnVybjo5NSwNCglidXJuVGltZToyNSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJY29uZHVjdDogMC4xNQ0KfSwNCiJoaXZlIjogew0KCWNvbG9yOiAiI2E2YTQ3OSIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmJlZXMgPT09IHVuZGVmaW5lZCkgew0KCQkJcGl4ZWwuYmVlcyA9IFtdOw0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsLmJlZXMubGVuZ3RoICE9PSAwKSB7DQoJCQlpZiAocGl4ZWwudGVtcCA8IDMzKSB7IHBpeGVsLnRlbXAgKz0gMSB9DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVsLmJlZXMubGVuZ3RoOyBpKyspIHsNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA+IDAuMjUpIHsgY29udGludWUgfQ0KCQkJCXZhciBiZWUgPSBwaXhlbC5iZWVzW2ldOw0KCQkJCWlmIChiZWUucG9sbGVuKSB7DQoJCQkJCWJlZS5wb2xsZW4gPSBudWxsOw0KCQkJCQlwaXhlbC5ob25leSsrOw0KCQkJCX0NCgkJCQlpZiAoYmVlLnF1ZWVuICYmIHBpeGVsLmhvbmV5ICYmIE1hdGgucmFuZG9tKCkgPCAwLjI1KSB7DQoJCQkJCWlmICghYmVlLmZvb2QpIHsgYmVlLmZvb2QgPSAxIH0NCgkJCQkJZWxzZSB7IGJlZS5mb29kKysgfQ0KCQkJCX0NCgkJCQl2YXIgZGlyWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTsNCgkJCQl2YXIgZGlyWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTsNCgkJCQlpZiAoaXNFbXB0eShwaXhlbC54K2RpclgscGl4ZWwueStkaXJZKSkgew0KCQkJCQlpZiAoYmVlLnF1ZWVuKSB7DQoJCQkJCQlpZiAoYmVlLm1hdHMpIHsNCgkJCQkJCQljcmVhdGVQaXhlbCgiaGl2ZSIscGl4ZWwueCtkaXJYLHBpeGVsLnkrZGlyWSk7DQoJCQkJCQkJcGl4ZWxNYXBbcGl4ZWwueCtkaXJYXVtwaXhlbC55K2RpclldLmhpdmUgPSBiZWUuaGl2ZTsNCgkJCQkJCQliZWUubWF0cy0tOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSBpZiAoYmVlLmZvb2QgPiA0KSB7DQoJCQkJCQkJY3JlYXRlUGl4ZWwoImJlZSIscGl4ZWwueCtkaXJYLHBpeGVsLnkrZGlyWSk7DQoJCQkJCQkJcGl4ZWxNYXBbcGl4ZWwueCtkaXJYXVtwaXhlbC55K2RpclldLmhpdmUgPSBiZWUuaGl2ZTsNCgkJCQkJCQliZWUuZm9vZCA9IDA7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJZWxzZSB7DQoJCQkJCQliZWUueCA9IHBpeGVsLngrZGlyWDsNCgkJCQkJCWJlZS55ID0gcGl4ZWwueStkaXJZOw0KCQkJCQkJZGVsZXRlIGJlZS5kZWw7DQoJCQkJCQlwaXhlbE1hcFtwaXhlbC54K2RpclhdW3BpeGVsLnkrZGlyWV0gPSBiZWU7DQoJCQkJCQljdXJyZW50UGl4ZWxzLnB1c2goYmVlKTsNCgkJCQkJCXBpeGVsLmJlZXMuc3BsaWNlKGksMSk7DQoJCQkJCQlpLS07DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoIW91dE9mQm91bmRzKHBpeGVsLngrZGlyWCxwaXhlbC55K2RpclkpKSB7DQoJCQkJCXZhciBwaXhlbDIgPSBwaXhlbE1hcFtwaXhlbC54K2RpclhdW3BpeGVsLnkrZGlyWV07DQoJCQkJCWlmIChwaXhlbDIuZWxlbWVudCA9PT0gImhpdmUiICYmIHBpeGVsMi5iZWVzLmxlbmd0aCA8IDUpIHsNCgkJCQkJCXBpeGVsMi5iZWVzLnB1c2goYmVlKTsNCgkJCQkJCXBpeGVsLmJlZXMuc3BsaWNlKGksMSk7DQoJCQkJCQlpLS07DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJaWYgKHBpeGVsLmhvbmV5ICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkgJiYgcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5lbGVtZW50ID09PSAiaGl2ZSIpIHsNCgkJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmhvbmV5ICsrOw0KCQkJCXBpeGVsLmhvbmV5IC0tOw0KCQkJfQ0KCQkJZWxzZSBpZiAoaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCQljcmVhdGVQaXhlbCgiaG9uZXkiLHBpeGVsLngscGl4ZWwueSsxKTsNCgkJCQlwaXhlbC5ob25leSAtLTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCWhvdmVyU3RhdDogZnVuY3Rpb24ocGl4ZWwpIHsgcmV0dXJuIHBpeGVsLmJlZXMubGVuZ3RoICsgImJlZSIgfSwNCglwcm9wZXJ0aWVzOiB7DQoJCWJlZXM6IFtdLA0KCQloaXZlOiAwLA0KCQlob25leTogMA0KCX0sDQoJdGVtcEhpZ2g6IDMwMCwNCglzdGF0ZUhpZ2g6IFsiZmlyZSIsImZpcmUiLCJmaXJlIiwiYXNoIl0sDQoJYnVybjogNzAsDQoJYnVyblRpbWU6IDMwMCwNCglidXJuSW50bzogWyJmaXJlIiwiZmlyZSIsImZpcmUiLCJhc2giXSwNCglicmVha0ludG86IFtudWxsLG51bGwsImhvbmV5Iiwid2F4Il0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCgloaWRkZW46IHRydWUsDQoJbW92YWJsZTogZmFsc2UNCn0sDQoic3RpbmtfYnVnIjogew0KCWNvbG9yOiBbIiM1NjQ4MmQiLCIjNTI0NzJjIiwiIzYzNTQ0MyJdLA0KCXByb3BlcnRpZXM6IHsNCgkJInBoYXNlIjogMQ0KCX0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJdmFyIG5ld1ggPSBwaXhlbC54Ow0KCQl2YXIgbmV3WSA9IHBpeGVsLnk7DQoJCWlmIChwaXhlbC5waGFzZSA9PT0gMSkgeyAvLyBMYW5kaW5nDQoJCQluZXdYICs9IHBpeGVsLmZsaXBYID8gLTEgOiAxOw0KCQkJbmV3WSArKzsNCgkJCWlmICghdHJ5TW92ZShwaXhlbCwgbmV3WCwgbmV3WSkpIHsgcGl4ZWwucGhhc2UgPSAwIH0gLy8gU3RvcCBsYW5kaW5nDQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwucGhhc2UgPT09IDIpIHsgLy8gRmx5aW5nDQoJCQluZXdYICs9IHBpeGVsLmZsaXBYID8gLTEgOiAxOw0KCQkJbmV3WSArPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxOw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7IHBpeGVsLnBoYXNlID0gMSB9IC8vIFN0YXJ0IGxhbmRpbmcNCgkJCWlmICghdHJ5TW92ZShwaXhlbCwgbmV3WCwgbmV3WSkpIHsNCgkJCQlwaXhlbC5mbGlwWCA9ICFwaXhlbC5mbGlwWDsNCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5waGFzZSA9PT0gMCkgeyAvLyBTdGFuZGluZw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSB7IG5ld1ggKz0gcGl4ZWwuZmxpcFggPyAtMSA6IDE7IH0NCgkJCW5ld1kgKys7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsgcGl4ZWwucGhhc2UgPSAyIH0gLy8gU3RhcnQgZmx5aW5nDQoJCQl0cnlNb3ZlKHBpeGVsLCBuZXdYLCBuZXdZKTsNCgkJfQ0KCQkvLyBSYW5kb20gY2hhbmNlIHRvIGZsaXANCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSB7IHBpeGVsLmZsaXBYID0gIXBpeGVsLmZsaXBYOyB9DQoJCS8vIFJhbmRvbSBjaGFuY2UgdG8gY3JlYXRlICJzdGVuY2giIGJlaGluZA0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDAxKSB7DQoJCQlpZiAoaXNFbXB0eShwaXhlbC54KyhwaXhlbC5mbGlwWCA/IDEgOiAtMSksIHBpeGVsLnkpKSB7DQoJCQkJY3JlYXRlUGl4ZWwoInN0ZW5jaCIscGl4ZWwueCsocGl4ZWwuZmxpcFggPyAxIDogLTEpLCBwaXhlbC55KTsNCgkJCX0NCgkJfQ0KCQlkb0hlYXQocGl4ZWwpOw0KCQlkb0VsZWN0cmljaXR5KHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkicGV0YWwiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicGlzdGlsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImdyYXBlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJiZWFucyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9DQoJfSwNCglmbGlwcGFibGVYOiB0cnVlLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAic3RlbmNoIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZGVhZF9idWciLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglidXJuOjk1LA0KCWJ1cm5UaW1lOjI1LA0KCWJ1cm5JbnRvOiAic3RlbmNoIiwNCglicmVha0ludG86IFsic3RlbmNoIiwiZGVhZF9idWciXSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJY29uZHVjdDogMC4xNQ0KfSwNCiJkZWFkX2J1ZyI6IHsNCgljb2xvcjogWyIjMzgzMDJhIiwiIzQwMzczMiIsIiM0NTNhMmUiLCIjMjQxZDE1IiwiIzI0MmUyMyJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXZhciBpbldlYiA9IGZhbHNlOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IHNxdWFyZUNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkID0gc3F1YXJlQ29vcmRzW2ldOw0KCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55K2Nvb3JkWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSAmJiBlbGVtZW50c1twaXhlbE1hcFt4XVt5XS5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHMud2ViLmlkKSB7DQoJCQkJaW5XZWIgPSB0cnVlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCWlmIChpbldlYikgeyBkb0RlZmF1bHRzKHBpeGVsKTsgfQ0KCQllbHNlIHsgYmVoYXZpb3JzLlBPV0RFUihwaXhlbCk7IH0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiJmb2FtIiwgYXR0cjI6eyJjbG9uZSI6IndhdGVyIn0sIGNvbG9yMjoiI2UzZDhjYSIsIGNoYW5jZTowLjAwMSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImZvYW0iLCBhdHRyMjp7ImNsb25lIjoic2FsdF93YXRlciJ9LCBjb2xvcjI6IiNlM2Q4Y2EiLCBjaGFuY2U6MC4wMDEgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJhc2giLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglidXJuOjk1LA0KCWJ1cm5UaW1lOjI1LA0KCWJ1cm5JbnRvOiBbInNtb2tlIiwic21va2UiLCJhc2giXSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImh1bWFuIjogew0KCS8vIGNvbG9yOiBbIiNmNWVhYzYiLCIjZDRjNTk0IiwiI2E4OTE2MCIsIiM3YTU3MzMiLCIjNTIzMDE4IiwiIzM2MWUwZSJdLA0KCWNvbG9yOiBbIiNmM2U3ZGIiLCIjZjdlYWQwIiwiI2VhZGFiYSIsIiNkN2JkOTYiLCIjYTA3ZTU2IiwiIzgyNWM0MyIsIiM2MDQxMzQiLCIjM2EzMTJhIl0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglwcm9wZXJ0aWVzOiB7DQoJCWRlYWQ6IGZhbHNlLA0KCQlkaXI6IDEsDQoJCXBhbmljOiAwDQoJfSwNCglvblBsYWNlOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoaXNFbXB0eShwaXhlbC54LCBwaXhlbC55KzEpKSB7DQoJCQljcmVhdGVQaXhlbCgiYm9keSIsIHBpeGVsLngsIHBpeGVsLnkrMSk7DQoJCQl2YXIgY29sb3IgPSBwaXhlbC5jb2xvcjsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJoZWFkIik7DQoJCQlwaXhlbC5jb2xvciA9IGNvbG9yOw0KCQl9DQoJCWVsc2UgaWYgKGlzRW1wdHkocGl4ZWwueCwgcGl4ZWwueS0xKSkgew0KCQkJY3JlYXRlUGl4ZWwoImhlYWQiLCBwaXhlbC54LCBwaXhlbC55LTEpOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5jb2xvciA9IHBpeGVsLmNvbG9yOw0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsImJvZHkiKTsNCgkJfQ0KCQllbHNlIHsNCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngsIHBpeGVsLnkpOw0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImZpcmUiOiB7IGF0dHIxOntwYW5pYzo1fSB9LA0KCQkicGxhc21hIjogeyBhdHRyMTp7cGFuaWM6NX0gfSwNCgkJImNvbGRfZmlyZSI6IHsgYXR0cjE6e3BhbmljOjV9IH0sDQoJCSJlbGVjdHJpYyI6IHsgYXR0cjE6e3BhbmljOjV9IH0sDQoJCSJibG9vZCI6IHsgYXR0cjE6e3BhbmljOjF9IH0sDQoJCSJpbmZlY3Rpb24iOiB7IGF0dHIxOntwYW5pYzoyfSB9LA0KCQkiY2FuY2VyIjogeyBhdHRyMTp7cGFuaWM6M30gfSwNCgkJInBsYWd1ZSI6IHsgYXR0cjE6e3BhbmljOjV9IH0sDQoJCSJyYWRpYXRpb24iOiB7IGF0dHIxOntwYW5pYzo1fSB9LA0KCQkidG50IjogeyBhdHRyMTp7cGFuaWM6NX0gfSwNCgkJImR5bmFtaXRlIjogeyBhdHRyMTp7cGFuaWM6NX0gfSwNCgkJImM0IjogeyBhdHRyMTp7cGFuaWM6NX0gfSwNCgkJImdyZW5hZGUiOiB7IGF0dHIxOntwYW5pYzo1fSB9LA0KCQkiZ3VucG93ZGVyIjogeyBhdHRyMTp7cGFuaWM6NX0gfSwNCgkJImFjaWQiOiB7IGF0dHIxOntwYW5pYzo1fSB9LA0KCQkiYWNpZF9nYXMiOiB7IGF0dHIxOntwYW5pYzo1fSB9LA0KCQkic3RlbmNoIjogeyBhdHRyMTp7cGFuaWM6Mn0gfQ0KCX0sDQoJcmVsYXRlZDogWyJib2R5IiwiaGVhZCJdLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUsDQp9LA0KImJvZHkiOiB7DQoJY29sb3I6IFsiIzA2OTQ2OSIsIiMwNDdlOTkiLCIjN2Y1ZmIwIl0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgloaWRkZW46IHRydWUsDQoJZGVuc2l0eTogMTUwMCwNCglzdGF0ZTogInNvbGlkIiwNCgljb25kdWN0OiAuMDUsDQoJdGVtcDogMzcsDQoJdGVtcEhpZ2g6IDE1MCwNCglzdGF0ZUhpZ2g6ICJjb29rZWRfbWVhdCIsDQoJdGVtcExvdzogLTMwLA0KCXN0YXRlTG93OiAiZnJvemVuX21lYXQiLA0KCWJ1cm46IDEwLA0KCWJ1cm5UaW1lOiAyNTAsDQoJYnVybkludG86ICJjb29rZWRfbWVhdCIsDQoJYnJlYWtJbnRvOiBbImJsb29kIiwibWVhdCIsImJvbmUiXSwNCglmb3JjZVNhdmVDb2xvcjogdHJ1ZSwNCglwaWNrRWxlbWVudDogImh1bWFuIiwNCglyZWFjdGlvbnM6IHsNCgkJImNhbmNlciI6IHsgZWxlbTE6ImNhbmNlciIsIGNoYW5jZTowLjAwNSB9LA0KCQkicmFkaWF0aW9uIjogeyBlbGVtMTpbImFzaCIsIm1lYXQiLCJyb3R0ZW5fbWVhdCIsImNvb2tlZF9tZWF0Il0sIGNoYW5jZTowLjQgfSwNCgkJIm5ldXRyb24iOiB7IGVsZW0xOlsiYXNoIiwibWVhdCIsInJvdHRlbl9tZWF0IiwiY29va2VkX21lYXQiXSwgY2hhbmNlOjAuMDEgfSwNCgkJImZhbGxvdXQiOiB7IGVsZW0xOlsiYXNoIiwibWVhdCIsInJvdHRlbl9tZWF0IiwiY29va2VkX21lYXQiXSwgY2hhbmNlOjAuMDEgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTE6InBsYWd1ZSIsIGNoYW5jZTowLjA1IH0sDQoJCSJlZ2ciOiB7IGVsZW0yOiJ5b2xrIiwgY2hhbmNlOjAuNSwgb25ld2F5OnRydWUgfSwNCgkJImdyYXBlIjogeyBlbGVtMjoianVpY2UiLCBjaGFuY2U6MC41LCBjb2xvcjI6IiMyOTE4MjQiLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiYW50IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4wNSwgb25ld2F5OnRydWUgfSwNCgkJInNwaWRlciI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgb25ld2F5OnRydWUgfSwNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgb25ld2F5OnRydWUgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIG9uZXdheTp0cnVlIH0sDQoJCSJmbGVhIjogeyBlbGVtMjoiZGVhZF9idWciLCBvbmV3YXk6dHJ1ZSB9LA0KCQkidGVybWl0ZSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgb25ld2F5OnRydWUgfSwNCgkJIndvcm0iOiB7IGVsZW0yOiJzbGltZSIsIGNoYW5jZTowLjA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoic3RlbmNoIiwgb25ld2F5OnRydWUgfSwNCgkJImdyYXNzX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJnb2xkX2NvaW4iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJkaWFtb25kIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic3VuIjogeyBlbGVtMToiY29va2VkX21lYXQiIH0sDQoJCSJhbGNvaG9sIjogeyBjaGFuY2U6MC4yLCBhdHRyMTp7InBhbmljIjowfSB9LA0KCQkiYW5lc3RoZXNpYSI6IHsgYXR0cjE6eyJwYW5pYyI6MH0gfSwNCgkJImFsY29ob2xfZ2FzIjogeyBjaGFuY2U6MC4yLCBhdHRyMTp7InBhbmljIjowfSB9DQoJfSwNCglwcm9wZXJ0aWVzOiB7DQoJCWRlYWQ6IGZhbHNlLA0KCQlkaXI6IDEsDQoJCXBhbmljOiAwDQoJfSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAodHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueSsxKSkgeyAvLyBGYWxsDQoJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCwgcGl4ZWwueS0yLCB0cnVlKSkgeyAvLyBEcmFnIGhlYWQgZG93bg0KCQkJCXZhciBoZWFkcGl4ZWwgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTJdOw0KCQkJCWlmIChoZWFkcGl4ZWwuZWxlbWVudCA9PT0gImhlYWQiKSB7DQoJCQkJCWlmIChpc0VtcHR5KHBpeGVsLngsIHBpeGVsLnktMSkpIHsNCgkJCQkJCW1vdmVQaXhlbChwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTJdLCBwaXhlbC54LCBwaXhlbC55LTEpOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJc3dhcFBpeGVscyhwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTJdLCBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlkb0hlYXQocGl4ZWwpOw0KCQlkb0J1cm5pbmcocGl4ZWwpOw0KCQlkb0VsZWN0cmljaXR5KHBpeGVsKTsNCgkJaWYgKHBpeGVsLmRlYWQpIHsNCgkJCS8vIFR1cm4gaW50byByb3R0ZW5fbWVhdCBpZiBwaXhlbFRpY2tzLWRlYWQgPiA1MDANCgkJCWlmIChwaXhlbFRpY2tzLXBpeGVsLmRlYWQgPiAyMDAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLCJyb3R0ZW5fbWVhdCIpOw0KCQkJfQ0KCQkJcmV0dXJuDQoJCX0NCg0KCQkvLyBGaW5kIHRoZSBoZWFkDQoJCWlmICghaXNFbXB0eShwaXhlbC54LCBwaXhlbC55LTEsIHRydWUpICYmIHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uZWxlbWVudCA9PSAiaGVhZCIpIHsNCgkJCXZhciBoZWFkID0gcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXTsNCgkJCWlmIChoZWFkLmRlYWQpIHsgLy8gSWYgaGVhZCBpcyBkZWFkLCBraWxsIGJvZHkNCgkJCQlwaXhlbC5kZWFkID0gaGVhZC5kZWFkOw0KCQkJfQ0KCQkJZWxzZSBpZiAoaGVhZC5wYW5pYyA+IDApIHsNCgkJCQlwaXhlbC5wYW5pYyA9IGhlYWQucGFuaWM7DQoJCQkJZGVsZXRlIGhlYWQucGFuaWM7DQoJCQl9DQoJCX0NCgkJZWxzZSB7IHZhciBoZWFkID0gbnVsbCB9DQoJCWlmIChoZWFkICYmIE1hdGgucmFuZG9tKCkgPCAwLjI1KSB7DQoJCQlsZXQgeSA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAwIDogLTE7DQoJCQlmb3IgKGxldCB4ID0gMTsgeCA8IDEwOyB4KyspIHsNCgkJCQlsZXQgeDIgPSBwaXhlbC54Kyh4KnBpeGVsLmRpcik7DQoJCQkJbGV0IHkyID0gcGl4ZWwueSt5Ow0KCQkJCWlmICghaXNFbXB0eSh4Mix5Mix0cnVlKSkgew0KCQkJCQlsZXQgc2VlblBpeGVsID0gcGl4ZWxNYXBbeDJdW3kyXTsNCgkJCQkJaWYgKGVsZW1lbnRzLmh1bWFuLnJlYWN0aW9uc1tzZWVuUGl4ZWwuZWxlbWVudF0gJiYgZWxlbWVudHMuaHVtYW4ucmVhY3Rpb25zW3NlZW5QaXhlbC5lbGVtZW50XS5hdHRyMSAmJiBlbGVtZW50cy5odW1hbi5yZWFjdGlvbnNbc2VlblBpeGVsLmVsZW1lbnRdLmF0dHIxLnBhbmljKSB7DQoJCQkJCQlwaXhlbC5wYW5pYyArPSBlbGVtZW50cy5odW1hbi5yZWFjdGlvbnNbc2VlblBpeGVsLmVsZW1lbnRdLmF0dHIxLnBhbmljOw0KCQkJCQkJcGl4ZWwuZGlyICo9IC0xOw0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoc2VlblBpeGVsLmRlYWQgfHwgc2VlblBpeGVsLnRlbXAgPiAyMDApIHsNCgkJCQkJCXBpeGVsLnBhbmljICs9IDU7DQoJCQkJCQlwaXhlbC5kaXIgKj0gLTE7DQoJCQkJCQlpZiAoc2VlblBpeGVsLnBhbmljKSBkZWxldGUgc2VlblBpeGVsLnBhbmljOw0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJaWYgKHBpeGVsLmJ1cm5pbmcpIHsNCgkJCXBpeGVsLnBhbmljICs9IDAuMTsNCgkJCWlmIChoZWFkICYmIHBpeGVsVGlja3MtcGl4ZWwuYnVyblN0YXJ0ID4gMjQwKSB7DQoJCQkJcGl4ZWwuY29sb3IgPSBoZWFkLmNvbG9yOw0KCQkJfQ0KCQl9DQoJCWlmIChwaXhlbC5jaGFyZ2UpIHsNCgkJCXBpeGVsLnBhbmljICs9IDE7DQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwucGFuaWMgPiAwKSB7DQoJCQlwaXhlbC5wYW5pYyAtPSAwLjE7DQoJCQlpZiAocGl4ZWwucGFuaWMgPCAwKSB7IHBpeGVsLnBhbmljID0gMDsgfQ0KCQkJZWxzZSBpZiAocGl4ZWwucGFuaWMgPiA1MCkgeyBwaXhlbC5wYW5pYyA9IDUwOyB9DQoJCX0NCg0KCQlpZiAoaXNFbXB0eShwaXhlbC54LCBwaXhlbC55LTEpKSB7DQoJCQkvLyBjcmVhdGUgYmxvb2QgaWYgZGVjYXBpdGF0ZWQgMTAlIGNoYW5jZQ0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEgJiYgIXBpeGVsLmNoYXJnZSkgew0KCQkJCWNyZWF0ZVBpeGVsKCJibG9vZCIsIHBpeGVsLngsIHBpeGVsLnktMSk7DQoJCQkJLy8gc2V0IGRlYWQgdG8gdHJ1ZSAxNSUgY2hhbmNlDQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjE1KSB7DQoJCQkJCXBpeGVsLmRlYWQgPSBwaXhlbFRpY2tzOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChoZWFkID09PSBudWxsKSB7IHJldHVybiB9DQoJCWVsc2UgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEqKGlzRW1wdHkocGl4ZWwueCwgcGl4ZWwueSsxKSA/IDEgOiBwaXhlbC5wYW5pYysxKSkgeyAvLyBNb3ZlIDEwJSBjaGFuY2UNCgkJCXZhciBtb3Zlc1RvVHJ5ID0gWw0KCQkJCVsxKnBpeGVsLmRpciwwXSwNCgkJCQlbMSpwaXhlbC5kaXIsLTFdLA0KCQkJXTsNCgkJCWxldCBtb3ZlZCA9IGZhbHNlOw0KCQkJLy8gV2hpbGUgbW92ZXNUb1RyeSBpcyBub3QgZW1wdHksIHRyeU1vdmUocGl4ZWwsIHgsIHkpIHdpdGggYSByYW5kb20gbW92ZSwgdGhlbiByZW1vdmUgaXQuIGlmIHRyeU1vdmUgcmV0dXJucyB0cnVlLCBicmVhay4NCgkJCXdoaWxlIChtb3Zlc1RvVHJ5Lmxlbmd0aCA+IDApIHsNCgkJCQl2YXIgbW92ZSA9IG1vdmVzVG9Ucnkuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1vdmVzVG9UcnkubGVuZ3RoKSwgMSlbMF07DQoJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCttb3ZlWzBdLCBwaXhlbC55K21vdmVbMV0tMSkpIHsNCgkJCQkJdmFyIG9yaWd4ID0gcGl4ZWwueCttb3ZlWzBdOw0KCQkJCQl2YXIgb3JpZ3kgPSBwaXhlbC55K21vdmVbMV07DQoJCQkJCWlmICh0cnlNb3ZlKHBpeGVsLCBwaXhlbC54K21vdmVbMF0sIHBpeGVsLnkrbW92ZVsxXSkgJiYgcGl4ZWwueD09PW9yaWd4ICYmIHBpeGVsLnk9PT1vcmlneSkgew0KCQkJCQkJbW92ZVBpeGVsKGhlYWQsIGhlYWQueCttb3ZlWzBdLCBoZWFkLnkrbW92ZVsxXSk7DQoJCQkJCQltb3ZlZCA9IHRydWU7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCQllbHNlIGlmICghaXNFbXB0eShwaXhlbC54K21vdmVbMF0sIHBpeGVsLnkrbW92ZVsxXSwgdHJ1ZSkpIHsNCgkJCQkJdmFyIGhpdFBpeGVsID0gcGl4ZWxNYXBbcGl4ZWwueCttb3ZlWzBdXVtwaXhlbC55K21vdmVbMV1dOw0KCQkJCQlpZiAoaGl0UGl4ZWwuZWxlbWVudCA9PT0gImJvZHkiIHx8IGhpdFBpeGVsLmVsZW1lbnQgPT09ICJoZWFkIiAmJiBoaXRQaXhlbC5wYW5pYyA8IHBpeGVsLnBhbmljKSB7DQoJCQkJCQkvLyBpbnRlcmFjdCB3aXRoIG90aGVyIGh1bWFuDQoJCQkJCQloaXRQaXhlbC5wYW5pYyA9IHBpeGVsLnBhbmljOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJLy8gMTUlIGNoYW5jZSB0byBjaGFuZ2UgZGlyZWN0aW9uDQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMTUgfHwgIW1vdmVkKSB7DQoJCQkJcGl4ZWwuZGlyICo9IC0xOw0KCQkJfQ0KCQkJLy8gaG9tZW9zdGFzaXMNCgkJCWlmIChwaXhlbC50ZW1wID4gMzcpIHsgcGl4ZWwudGVtcCAtPSAxOyB9DQoJCQllbHNlIGlmIChwaXhlbC50ZW1wIDwgMzcpIHsgcGl4ZWwudGVtcCArPSAxOyB9DQoJCX0NCg0KCX0NCn0sDQoiaGVhZCI6IHsNCgljb2xvcjogWyIjZjNlN2RiIiwiI2Y3ZWFkMCIsIiNlYWRhYmEiLCIjZDdiZDk2IiwiI2EwN2U1NiIsIiM4MjVjNDMiLCIjNjA0MTM0IiwiIzNhMzEyYSJdLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJaGlkZGVuOiB0cnVlLA0KCWRlbnNpdHk6IDEwODAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJY29uZHVjdDogLjA1LA0KCXRlbXA6IDM3LA0KCXRlbXBIaWdoOiAxNTAsDQoJc3RhdGVIaWdoOiAiY29va2VkX21lYXQiLA0KCXRlbXBMb3c6IC0zMCwNCglzdGF0ZUxvdzogImZyb3plbl9tZWF0IiwNCglidXJuOiAxMCwNCglidXJuVGltZTogMjUwLA0KCWJ1cm5JbnRvOiAiY29va2VkX21lYXQiLA0KCWJyZWFrSW50bzogWyJibG9vZCIsIm1lYXQiLCJib25lIl0sDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUsDQoJcGlja0VsZW1lbnQ6ICJodW1hbiIsDQoJcmVhY3Rpb25zOiB7DQoJCSJjYW5jZXIiOiB7IGVsZW0xOiJjYW5jZXIiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInJhZGlhdGlvbiI6IHsgZWxlbTE6WyJhc2giLCJtZWF0Iiwicm90dGVuX21lYXQiLCJjb29rZWRfbWVhdCJdLCBjaGFuY2U6MC40IH0sDQoJCSJuZXV0cm9uIjogeyBlbGVtMTpbImFzaCIsIm1lYXQiLCJyb3R0ZW5fbWVhdCIsImNvb2tlZF9tZWF0Il0sIGNoYW5jZTowLjAzIH0sDQoJCSJmYWxsb3V0IjogeyBlbGVtMTpbImFzaCIsIm1lYXQiLCJyb3R0ZW5fbWVhdCIsImNvb2tlZF9tZWF0Il0sIGNoYW5jZTowLjAzIH0sDQoJCSJwbGFndWUiOiB7IGVsZW0xOiJwbGFndWUiLCBjaGFuY2U6MC4wNSB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMjoiY2FyYm9uX2Rpb3hpZGUiLCBjaGFuY2U6MC41IH0sDQoJCSJiZWFucyI6IHsgZWxlbTI6W251bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwic3RlbmNoIl0sIGNoYW5jZTowLjIgfSwNCgkJInN1biI6IHsgZWxlbTE6ImNvb2tlZF9tZWF0IiB9LA0KCQkibGlnaHQiOiB7IHN0YWluMToiIzgyNTA0MyIgfSwNCgkJImJlZSI6IHsgc3RhaW4xOiIjY2M1NjRiIiwgY2hhbmNlOjAuMiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0yOiJidWJibGUiLCBhdHRyMjp7ImNsb25lIjoid2F0ZXIifSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjoiYnViYmxlIiwgYXR0cjI6eyJjbG9uZSI6InNhbHRfd2F0ZXIifSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMjoiYnViYmxlIiwgYXR0cjI6eyJjbG9uZSI6InBvb2xfd2F0ZXIifSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJhbGNvaG9sIjogeyBjaGFuY2U6MC4yLCBhdHRyMTp7InBhbmljIjowfSB9LA0KCQkiYW5lc3RoZXNpYSI6IHsgYXR0cjE6eyJwYW5pYyI6MH0gfSwNCgkJImFsY29ob2xfZ2FzIjogeyBjaGFuY2U6MC4yLCBhdHRyMTp7InBhbmljIjowfSB9DQoJfSwNCglwcm9wZXJ0aWVzOiB7DQoJCWRlYWQ6IGZhbHNlDQoJfSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlkb0hlYXQocGl4ZWwpOw0KCQlkb0J1cm5pbmcocGl4ZWwpOw0KCQlkb0VsZWN0cmljaXR5KHBpeGVsKTsNCgkJaWYgKHBpeGVsLmRlYWQpIHsNCgkJCS8vIFR1cm4gaW50byByb3R0ZW5fbWVhdCBpZiBwaXhlbFRpY2tzLWRlYWQgPiA1MDANCgkJCWlmIChwaXhlbFRpY2tzLXBpeGVsLmRlYWQgPiAyMDAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLCJyb3R0ZW5fbWVhdCIpOw0KCQkJCXJldHVybg0KCQkJfQ0KCQl9DQoNCgkJLy8gRmluZCB0aGUgYm9keQ0KCQlpZiAoIWlzRW1wdHkocGl4ZWwueCwgcGl4ZWwueSsxLCB0cnVlKSAmJiBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmVsZW1lbnQgPT0gImJvZHkiKSB7DQoJCQl2YXIgYm9keSA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV07DQoJCQlpZiAoYm9keS5kZWFkKSB7IC8vIElmIGJvZHkgaXMgZGVhZCwga2lsbCBoZWFkDQoJCQkJcGl4ZWwuZGVhZCA9IGJvZHkuZGVhZDsNCgkJCX0NCgkJfQ0KCQllbHNlIHsgdmFyIGJvZHkgPSBudWxsIH0NCg0KCQkvLyBjaGVjayBmb3IgZWF0aW5nIGZvb2QNCgkJaWYgKGJvZHkgJiYgIXBpeGVsLmRlYWQgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJc2h1ZmZsZUFycmF5KGludGVyYWN0Q29vcmRzU2h1ZmZsZSk7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGludGVyYWN0Q29vcmRzU2h1ZmZsZS5sZW5ndGg7IGkrKykgew0KCQkJCXZhciB4ID0gcGl4ZWwueCtpbnRlcmFjdENvb3Jkc1NodWZmbGVbaV1bMF07DQoJCQkJdmFyIHkgPSBwaXhlbC55K2ludGVyYWN0Q29vcmRzU2h1ZmZsZVtpXVsxXTsNCgkJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmlzRm9vZCAmJiBwaXhlbE1hcFt4XVt5XS5wYW5pYyA9PT0gdW5kZWZpbmVkKSB7DQoJCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWlmICh0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LCBwaXhlbC55KzEpKSB7DQoJCQkvLyBjcmVhdGUgYmxvb2QgaWYgc2V2ZXJlZCAxMCUgY2hhbmNlDQoJCQlpZiAoaXNFbXB0eShwaXhlbC54LCBwaXhlbC55KzEpICYmICFwaXhlbC5kZWFkICYmIE1hdGgucmFuZG9tKCkgPCAwLjEgJiYgIXBpeGVsLmNoYXJnZSkgew0KCQkJCWNyZWF0ZVBpeGVsKCJibG9vZCIsIHBpeGVsLngsIHBpeGVsLnkrMSk7DQoJCQkJLy8gc2V0IGRlYWQgdG8gdHJ1ZSAxNSUgY2hhbmNlDQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjE1KSB7DQoJCQkJCXBpeGVsLmRlYWQgPSBwaXhlbFRpY2tzOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQkvLyBob21lb3N0YXNpcw0KCQlpZiAocGl4ZWwudGVtcCA+IDM3KSB7IHBpeGVsLnRlbXAgLT0gMTsgfQ0KCQllbHNlIGlmIChwaXhlbC50ZW1wIDwgMzcpIHsgcGl4ZWwudGVtcCArPSAxOyB9DQoJfSwNCglvbkNoYW5nZTogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCQl2YXIgeCA9IHBpeGVsLngrY29vcmRbMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkrY29vcmRbMV07DQoJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIHBpeGVsTWFwW3hdW3ldLnBhbmljICE9PSB1bmRlZmluZWQpIHsNCgkJCQlwaXhlbE1hcFt4XVt5XS5wYW5pYyArPSAyMDsNCgkJCX0NCgkJfQ0KCX0sDQoJb25EZWxldGU6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgYWRqYWNlbnRDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCXZhciBjb29yZCA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55K2Nvb3JkWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSAmJiBwaXhlbE1hcFt4XVt5XS5wYW5pYyAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJcGl4ZWxNYXBbeF1beV0ucGFuaWMgKz0gMjA7DQoJCQl9DQoJCX0NCgl9DQp9LA0KImJpcmQiOiB7DQoJY29sb3I6ICIjOTk3NDU3IiwNCglwcm9wZXJ0aWVzOiB7ICJwaGFzZSI6IDIsICJyaXNpbmciOjAgfSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDAwMDcgJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCWNyZWF0ZVBpeGVsKCJmZWF0aGVyIixwaXhlbC54LHBpeGVsLnkrMSk7DQoJCX0NCgkJdmFyIG5ld1ggPSBwaXhlbC54Ow0KCQl2YXIgbmV3WSA9IHBpeGVsLnk7DQoJCWlmIChwaXhlbC5waGFzZSA9PT0gMSkgeyAvLyBMYW5kaW5nDQoJCQluZXdYICs9IHBpeGVsLmZsaXBYID8gLTEgOiAxOw0KCQkJbmV3WSArPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMCA6IDE7DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld1gsIG5ld1kpKSB7DQoJCQkJaWYgKG91dE9mQm91bmRzKG5ld1gsIG5ld1kpKSB7IHBpeGVsLnBoYXNlID0gMCB9DQoJCQkJZWxzZSB7DQoJCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW25ld1hdW25ld1ldOw0KCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uc3RhdGUgIT09ICJzb2xpZCIpIHsgcGl4ZWwucGhhc2UgPSAzOyB9DQoJCQkJCWVsc2UgaWYgKG5ld1BpeGVsLmVsZW1lbnQgPT09ICJiaXJkIikgew0KCQkJCQkJcGl4ZWwucGhhc2UgPSAzOw0KCQkJCQkJbmV3UGl4ZWwucGhhc2UgPSAzOw0KCQkJCQl9DQoJCQkJCWVsc2UgeyBwaXhlbC5waGFzZSA9IDA7IH0NCgkJCQl9DQoJCQl9IC8vIFN0b3AgbGFuZGluZw0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsLnBoYXNlID09PSAyKSB7IC8vIEdsaWRpbmcNCgkJCW5ld1ggKz0gcGl4ZWwuZmxpcFggPyAtMSA6IDE7DQoJCQluZXdZICs9IE1hdGgucmFuZG9tKCkgPCAwLjkgPyAwIDogMTsNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSkgeyBwaXhlbC5waGFzZSA9IDEgfSAvLyBTdGFydCBsYW5kaW5nDQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld1gsIG5ld1kpKSB7DQoJCQkJcGl4ZWwuZmxpcFggPSAhcGl4ZWwuZmxpcFg7DQoJCQkJaWYgKCFvdXRPZkJvdW5kcyhuZXdYLCBuZXdZKSAmJiBwaXhlbE1hcFtuZXdYXVtuZXdZXS5lbGVtZW50ICE9PSAiYmlyZCIpIHsNCgkJCQkJcGl4ZWwucGhhc2UgPSAzOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5waGFzZSA9PT0gMCkgeyAvLyBTdGFuZGluZw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSB7IG5ld1ggKz0gcGl4ZWwuZmxpcFggPyAtMSA6IDE7IH0NCgkJCW5ld1kgKys7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsgcGl4ZWwucGhhc2UgPSAzIH0gLy8gU3RhcnQgcmlzaW5nDQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld1gsIG5ld1kpKSB7DQoJCQkJaWYgKCFvdXRPZkJvdW5kcyhuZXdYLCBuZXdZKSAmJiBwaXhlbE1hcFtuZXdYXVtuZXdZXS5lbGVtZW50ID09PSAiYmlyZCIpIHsNCgkJCQkJcGl4ZWwucGhhc2UgPSAzOw0KCQkJCQlwaXhlbE1hcFtuZXdYXVtuZXdZXS5waGFzZSA9IDM7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsLnBoYXNlID09PSAzKSB7IC8vIFJpc2luZw0KCQkJbmV3WCArPSBwaXhlbC5mbGlwWCA/IC0xIDogMTsNCgkJCW5ld1kgLS07DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld1gsIG5ld1kpIHx8IChwaXhlbC5yaXNpbmcgPiA1ICYmIE1hdGgucmFuZG9tKCkgPCAwLjA1KSkgeyBwaXhlbC5waGFzZSA9IDI7IHBpeGVsLnJpc2luZyA9IDA7IH0gLy8gU3RhcnQgZ2xpZGluZw0KCQkJZWxzZSB7IHBpeGVsLnJpc2luZyArKzsgfQ0KCQl9DQoJCWRvSGVhdChwaXhlbCk7DQoJCWRvRWxlY3RyaWNpdHkocGl4ZWwpOw0KCQlkb0J1cm5pbmcocGl4ZWwpOw0KCX0sDQoJZmxpcHBhYmxlWDogdHJ1ZSwNCglyZWFjdGlvbnM6IHsNCgkJImZseSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMywgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJiZWUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndvcm0iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImFudCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInN0aW5rX2J1ZyI6IHsgZWxlbTI6InN0ZW5jaCIsIGNoYW5jZTowLjAyNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJkZWFkX2J1ZyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDQsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNCwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmxlYSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm11c2hyb29tX2NhcCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzZWVkcyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmxvd2VyX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndoZWF0X3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvcm5fc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY29ybiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicG90YXRvX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImdyYXNzX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNydW1iIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwdW1wa2luIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicHVtcGtpbl9zZWVkIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyaWNlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjb2ZmZWVfYmVhbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY29mZmVlX2dyb3VuZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibnV0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJudXRfbWVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibnV0X2J1dHRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiamVsbHkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNwaWRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ3ZWIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMToicGxhZ3VlIiwgY2hhbmNlOjAuMDUgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuNSB9DQoJfSwNCglmb29kTmVlZDogMjAsDQoJdGVtcDogNDEsDQoJdGVtcEhpZ2g6IDEyMCwNCglzdGF0ZUhpZ2g6ICJjb29rZWRfbWVhdCIsDQoJc3RhdGVIaWdoQ29sb3I6ICIjRTRDRkI5IiwNCgl0ZW1wTG93OiAtMTgsDQoJc3RhdGVMb3c6ICJmcm96ZW5fbWVhdCIsDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCWJ1cm46MiwNCglidXJuVGltZToxMDAsDQoJYnJlYWtJbnRvOiBbImZlYXRoZXIiLCJibG9vZCJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDQwMCwNCgljb25kdWN0OiAwLjUNCn0sDQoicmF0Ijogew0KCWNvbG9yOiBbIiNhNjk4YTkiLCIjOGM3ZDgyIiwiI2NjYzNjZiJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxNMiUxLjV8TTIlNSIsDQoJCSJYWHxGWCUyIEFORCBSTDpwbGFndWUlMC4wNXxNMiBBTkQgQk8iLA0KCQkiWFh8TTF8TTIiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJveHlnZW4iOiB7IGVsZW0yOiJjYXJib25fZGlveGlkZSIsIGNoYW5jZTowLjUgfSwNCgkJIm1lYXQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY29va2VkX21lYXQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY3VyZWRfbWVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjaGVlc2UiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2hlZXNlX3Bvd2RlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJyb3R0ZW5fY2hlZXNlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm1lbHRlZF9jaGVlc2UiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjMsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidG9tYXRvIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNhdWNlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4zLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInBsYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInZpbmUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZXZlcmdyZWVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImFsZ2FlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImdyYXNzX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjMgLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUx9LA0KCQkid2hlYXRfc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMywgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ3aGVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwb3RhdG9fc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMywgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwb3RhdG8iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY29ybl9zZWVkIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4zLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvcm4iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEgLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUx9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNCwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJmbG93ZXJfc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNCAsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTH0sDQoJCSJmbG91ciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSAsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTH0sDQoJCSJkb3VnaCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJicmVhZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ0b2FzdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJnaW5nZXJicmVhZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicmljZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSAsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTH0sDQoJCSJ5b2d1cnQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJlYW5zIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzYWx0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInN1Z2FyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNydW1iIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhlcmIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImRpcnR5X3dhdGVyIiwgY2hhbmNlOjAuMiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjIgfSwNCgkJIndhdGVyIjogeyBlbGVtMjoiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4yIH0sDQoJCSJwb3Bjb3JuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4zLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNhbmR5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4zLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNhcmFtZWwiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjQsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImVnZyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ5b2xrIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhhcmRfeW9sayI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZWdnbm9nIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm1pbGsiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZ3JhcGUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJhdHRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiYmFrZWRfYmF0dGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJ1dHRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJtZWx0ZWRfYnV0dGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4zLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImxldHR1Y2UiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiYmFrZWRfcG90YXRvIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImljZV9jcmVhbSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjcmVhbSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMywgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwdW1wa2luIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInB1bXBraW5fc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjb2ZmZWVfYmVhbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjb2ZmZWVfZ3JvdW5kIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm51dCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJudXRfbWVhdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJudXRfYnV0dGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImplbGx5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndvcm0iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImZyb2ciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzbmFpbCI6IHsgZWxlbTI6ImxpbWVzdG9uZSIsIGNoYW5jZTowLjEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic2x1ZyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0NCgl9LA0KCWVnZzogInJhdCIsDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgl0ZW1wOiAzNy42LA0KCXRlbXBIaWdoOiAxMjAsDQoJc3RhdGVIaWdoOiAicm90dGVuX21lYXQiLA0KCXRlbXBMb3c6IC0xOCwNCglzdGF0ZUxvdzogImZyb3plbl9tZWF0IiwNCglicmVha0ludG86IFsiaW5mZWN0aW9uIiwicm90dGVuX21lYXQiXSwNCglidXJuOjgwLA0KCWJ1cm5UaW1lOjE1MCwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDUwLA0KCWNvbmR1Y3Q6IDAuMjUNCn0sDQoiZnJvZyI6IHsNCgljb2xvcjogIiM2MDczMDAiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxNMiUzIEFORCBTVzp3YXRlcixzYWx0X3dhdGVyLHN1Z2FyX3dhdGVyLGRpcnR5X3dhdGVyLHNlbHR6ZXIlNyIsDQoJCSJYWHxGWCUwLjV8Q1I6c2xpbWUlMC4wMSBBTkQgQk8iLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJmbHkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTE6Im1lYXQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC41IH0sDQoJCSJzdGlua19idWciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjU1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNuYWlsIjogeyBlbGVtMjoibGltZXN0b25lIiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic2x1ZyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ3b3JtIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNwaWRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJhbGdhZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJrZWxwIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC41LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuNSB9LA0KCQkiZGVhZF9idWciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibWVyY3VyeSI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiYmxlYWNoIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4xIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjAyNSB9LA0KCQkidXJhbml1bSI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiY3lhbmlkZSI6IHsgZWxlbTE6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiY2hsb3JpbmUiOiB7IGVsZW0xOiJtZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkiYWxjb2hvbCI6IHsgZWxlbTE6Im1lYXQiLCBjaGFuY2U6MC4wMjUgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4wMDAxIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMToicm90dGVuX21lYXQiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjAwMSB9DQoJfSwNCglmb29kTmVlZDogMTAsDQoJYmFieTogInRhZHBvbGUiLA0KCWVnZ0NvbG9yOiIjNzE3YzgwIiwNCgl0ZW1wOiAxOS4xLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiY29va2VkX21lYXQiLA0KCXN0YXRlSGlnaENvbG9yOiAiI0NEQUY5NiIsDQoJb25TdGF0ZUhpZ2g6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXJlbGVhc2VFbGVtZW50KHBpeGVsLCJzdGVhbSIpOw0KCX0sDQoJdGVtcExvdzogLTE4LA0KCXN0YXRlTG93OiAiZnJvemVuX2Zyb2ciLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglicmVha0ludG86ICJzbGltZSIsDQoJYnVybjoxNSwNCglidXJuVGltZTozMDAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQ1MCwNCgljb25kdWN0OiAwLjINCn0sDQoiZnJvemVuX2Zyb2ciOiB7DQoJY29sb3I6ICIjMDA3MzQ5IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCgl0ZW1wOiAtMjAsDQoJdGVtcEhpZ2g6IDUsDQoJc3RhdGVIaWdoOiAiZnJvZyIsDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCWJyZWFrSW50bzogInNsaW1lIiwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUwMA0KfSwNCiJ0YWRwb2xlIjogew0KCWNvbG9yOiAiIzg3YjU3NCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfE0yJTI1IEFORCBTVzp3YXRlcixzYWx0X3dhdGVyLHN1Z2FyX3dhdGVyLGRpcnR5X3dhdGVyLHNlbHR6ZXIscG9vbF93YXRlciUxNCIsDQoJCSJYWHxGWCUwLjV8U1c6d2F0ZXIsc2FsdF93YXRlcixzdWdhcl93YXRlcixkaXJ0eV93YXRlcixzZWx0emVyLHBvb2xfd2F0ZXIlMTQiLA0KCQkiWFh8TTF8U1c6d2F0ZXIsc2FsdF93YXRlcixzdWdhcl93YXRlcixkaXJ0eV93YXRlcixzZWx0emVyLHBvb2xfd2F0ZXIlMTQiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsVGlja3MtcGl4ZWwuc3RhcnQgPiA1MDApIHsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJmcm9nIik7DQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkiYWxnYWUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1IH0sDQoJCSJrZWxwIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4yNSB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogInN0ZWFtIiwNCgl0ZW1wTG93OiAtMTAsDQoJc3RhdGVMb3c6ICJpY2UiLA0KCWJyZWFrSW50bzogWyJzbGltZSIsbnVsbF0sDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDUwLA0KCWNvbmR1Y3Q6IDAuMg0KfSwNCiJmaXNoIjogew0KCWNvbG9yOiAiI2FjODY1MCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0yJTV8U1c6d2F0ZXIsc2FsdF93YXRlcixzdWdhcl93YXRlcixkaXJ0eV93YXRlcixzZWx0emVyLHBvb2xfd2F0ZXIscHJpbW9yZGlhbF9zb3VwJTE0IiwNCgkJIlhYfEZYJTAuNXxCTyIsDQoJCSJNMnxNMXxNMiBBTkQgU1c6d2F0ZXIsc2FsdF93YXRlcixzdWdhcl93YXRlcixkaXJ0eV93YXRlcixzZWx0emVyLHBvb2xfd2F0ZXIscHJpbW9yZGlhbF9zb3VwJTUiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhbGdhZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkia2VscCI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMjUgfSwNCgkJInBsYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZmx5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC40LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjYsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkid29ybSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidGFkcG9sZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMjUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkic3BpZGVyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJveHlnZW4iOiB7IGVsZW0yOiJjYXJib25fZGlveGlkZSIsIGNoYW5jZTowLjUgfSwNCgkJImRlYWRfYnVnIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImJyb3RoIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4yLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInNsdWciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjIsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiaGVyYiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGV0dHVjZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZGVhZF9wbGFudCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMTUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInllYXN0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ5b2d1cnQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjE1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInRlYSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ5b2xrIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjZWxsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjcnVtYiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToibWVhdCIsIGNoYW5jZTowLjAwMSB9LA0KCQkid2F0ZXIiOiB7IGVsZW0yOiJidWJibGUiLCBhdHRyMjp7ImNsb25lIjoid2F0ZXIifSwgY2hhbmNlOjAuMDAxLCBvbmV3YXk6dHJ1ZSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJ1YmJsZSIsIGF0dHIyOnsiY2xvbmUiOiJzYWx0X3dhdGVyIn0sIGNoYW5jZTowLjAwMSwgb25ld2F5OnRydWUgfSwNCgkJInBvb2xfd2F0ZXIiOiB7IGVsZW0xOiJtZWF0IiwgY2hhbmNlOjAuMDAxIH0sDQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6Im1lYXQiLCBjaGFuY2U6MC4xIH0sDQoJCSJ2aW5lZ2FyIjogeyBlbGVtMToibWVhdCIsIGNoYW5jZTowLjAwMSB9DQoJfSwNCglmb29kTmVlZDogMjAsDQoJdGVtcDogMjAsDQoJdGVtcEhpZ2g6IDEyMCwNCglzdGF0ZUhpZ2g6ICJjb29rZWRfbWVhdCIsDQoJc3RhdGVIaWdoQ29sb3I6ICIjRTRDRkI5IiwNCgl0ZW1wTG93OiAtMjAsDQoJc3RhdGVMb3c6IFsiZnJvemVuX21lYXQiLCJmcm96ZW5fbWVhdCIsImZyb3plbl9tZWF0IiwiZnJvemVuX2Zpc2giXSwNCgljYXRlZ29yeToibGlmZSIsDQoJYnJlYWtJbnRvOiAiYmxvb2QiLA0KCWJ1cm46MjAsDQoJYnVyblRpbWU6MjAwLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwODAsDQoJY29uZHVjdDogMC4yLA0KCWVnZ0NvbG9yOiBbIiMyMTEzMTYiLCIjMkMxQTFEIiwiIzUwMzczNCJdDQp9LA0KImZyb3plbl9maXNoIjogew0KCWNvbG9yOiAiIzUwYWM4NiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcDogLTIwLA0KCXRlbXBIaWdoOiA1LA0KCXN0YXRlSGlnaDogImZpc2giLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglicmVha0ludG86ICJibG9vZCIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwNTAsDQoJY29uZHVjdDogMC4xNw0KfSwNCiJzbHVnIjogew0KCWNvbG9yOiBbIiM5OTdlMTIiLCIjOTk3ZTEyIiwiIzk5N2UxMiIsIiM5OTdlMTIiLCIjOTk3ZTEyIiwiIzk5N2UxMiIsIiM0MDMzMTQiLCIjNDAzMzE0IiwiIzQwMzMxNCIsIiM0MDMzMTQiLCIjNDAzMzE0IiwiIzQwMzMxNCIsIiMxMjRhNDQiXSwNCglidXR0b25Db2xvcjogWyIjOTk3ZTEyIiwiIzQwMzMxNCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxGWCUwLjI1fE0yJTAuNSBBTkQgQk8iLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJzYWx0IjogeyBlbGVtMTogInNsaW1lIiwgZWxlbTI6IG51bGwgfSwNCgkJInBvdGFzc2l1bV9zYWx0IjogeyBlbGVtMTogInNsaW1lIiwgZWxlbTI6IG51bGwgfSwNCgkJImVwc29tX3NhbHQiOiB7IGVsZW0xOiAic2xpbWUiLCBlbGVtMjogbnVsbCB9LA0KCQkiY29mZmVlX2JlYW4iOiB7IGVsZW0xOiBudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiY29mZmVlX2dyb3VuZCI6IHsgZWxlbTE6IG51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJjb2ZmZWUiOiB7IGVsZW0xOiBudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic29hcCI6IHsgZWxlbTE6IG51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZXZlcmdyZWVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjYWN0dXMiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImRlYWRfcGxhbnQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIndvcm0iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm11c2hyb29tX3Nwb3JlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJncmFzcyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiaGVyYiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGV0dHVjZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZ3Jhc3Nfc2VlZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiYWxnYWUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImtlbHAiOiB7IGVsZW0yOiJ3YXRlciIsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImNvcmFsIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJtdXNocm9vbV9jYXAiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJIm11c2hyb29tX3N0YWxrIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJtdXNocm9vbV9naWxsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJsaWNoZW4iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImh5cGhhZSI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJteWNlbGl1bSI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwdW1wa2luIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJncmFwZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9DQoJfSwNCgl0ZW1wTG93OiA1LA0KCXN0YXRlTG93OiAic2xpbWUiLA0KCXRlbXBIaWdoOiA5MCwNCglzdGF0ZUhpZ2g6ICJzbGltZSIsDQoJYnJlYWtJbnRvOiAic2xpbWUiLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQ1MCwNCgljb25kdWN0OiAwLjE3DQp9LA0KInNuYWlsIjogew0KCWNvbG9yOiAiIzVjMzEwNCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfEZYJTAuMjV8TTIlMC41IEFORCBCTyIsDQoJCSJYWHxNMXxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInNhbHQiOiB7IGVsZW0xOiAibGltZXN0b25lIiwgZWxlbTI6IG51bGwgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJicm90aCI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkidGVhIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJwb3Rhc3NpdW1fc2FsdCI6IHsgZWxlbTE6ICJsaW1lc3RvbmUiLCBlbGVtMjogbnVsbCB9LA0KCQkiZXBzb21fc2FsdCI6IHsgZWxlbTE6ICJsaW1lc3RvbmUiLCBlbGVtMjogbnVsbCB9LA0KCQkiY29mZmVlX2JlYW4iOiB7IGVsZW0xOiAibGltZXN0b25lIiwgY2hhbmNlOjAuMDUgfSwNCgkJImNvZmZlZV9ncm91bmQiOiB7IGVsZW0xOiAibGltZXN0b25lIiwgY2hhbmNlOjAuMDUgfSwNCgkJImNvZmZlZSI6IHsgZWxlbTE6ICJsaW1lc3RvbmUiLCBjaGFuY2U6MC4wNSB9LA0KCQkic29hcCI6IHsgZWxlbTE6ICJsaW1lc3RvbmUiLCBjaGFuY2U6MC4wNSB9LA0KCQkicGxhbnQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImV2ZXJncmVlbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2FjdHVzIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJ3b3JtIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJtdXNocm9vbV9zcG9yZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZ3Jhc3MiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImhlcmIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImxldHR1Y2UiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImdyYXNzX3NlZWQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1LCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJImFsZ2FlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJrZWxwIjogeyBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJjb3JhbCI6IHsgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibXVzaHJvb21fY2FwIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJtdXNocm9vbV9zdGFsayI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibXVzaHJvb21fZ2lsbCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGljaGVuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJoeXBoYWUiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibXljZWxpdW0iOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicHVtcGtpbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiY2FsY2l1bSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkibGltZXN0b25lIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicXVpY2tsaW1lIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSwgZnVuYzpiZWhhdmlvcnMuRkVFRFBJWEVMIH0sDQoJCSJzbGFrZWRfbGltZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkicGFwZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfSwNCgkJInBpY2tsZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUsIGZ1bmM6YmVoYXZpb3JzLkZFRURQSVhFTCB9LA0KCQkiZ3JhcGUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxLCBmdW5jOmJlaGF2aW9ycy5GRUVEUElYRUwgfQ0KCX0sDQoJdGVtcExvdzogLTYuNCwNCglzdGF0ZUxvdzogImxpbWVzdG9uZSIsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJsaW1lc3RvbmUiLA0KCWJyZWFrSW50bzogWyJzbGltZSIsImxpbWVzdG9uZSJdLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUwMCwNCgljb25kdWN0OiAwLjE2DQp9LA0KImJ1cm5lciI6IHsNCgljb2xvcjogIiNkNmJhYTkiLA0KCWJlaGF2aW9yOiBbDQoJCSJDUjpwcm9wYW5lfENSOnByb3BhbmV8Q1I6cHJvcGFuZSIsDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCgljYXRlZ29yeTogIm1hY2hpbmVzIiwNCgljb25kdWN0OiAwLjczDQp9LA0KInN1cGVyaGVhdGVyIjogew0KCWNvbG9yOiAiI2RkMTExMSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfEhUOjEwfFhYIiwNCgkJIkhUOjEwfFhYfEhUOjEwIiwNCgkJIlhYfEhUOjEwfFhYIiwNCgldLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6dHJ1ZQ0KfSwNCiJmcmVlemVyIjogew0KCWNvbG9yOiAiIzExMTFkZCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENPOjEwfFhYIiwNCgkJIkNPOjEwfFhYfENPOjEwIiwNCgkJIlhYfENPOjEwfFhYIiwNCgldLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6dHJ1ZQ0KfSwNCiJwaXBlIjogew0KCWNvbG9yOiAiIzQxNGM0ZiIsDQoJb25TZWxlY3Q6IGZ1bmN0aW9uKCkgew0KCQlsb2dNZXNzYWdlKCJEcmF3IGEgcGlwZSwgd2FpdCBmb3Igd2FsbHMgdG8gYXBwZWFyLCB0aGVuIGVyYXNlIHRoZSBleGl0IGhvbGUuIik7DQoJfSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXBpeGVsLnN0YWdlICYmIHBpeGVsVGlja3MtcGl4ZWwuc3RhcnQgPiA2MCkgew0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzcXVhcmVDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQl2YXIgY29vcmQgPSBzcXVhcmVDb29yZHNbaV07DQoJCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJCXZhciB5ID0gcGl4ZWwueStjb29yZFsxXTsNCgkJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLm1vdmFibGUpIHsNCgkJCQkJZGVsZXRlUGl4ZWwoeCx5KQ0KCQkJCX0NCgkJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJCWNyZWF0ZVBpeGVsKCJwaXBlX3dhbGwiLHgseSk7DQoJCQkJfQ0KCQkJfQ0KCQkJcGl4ZWwuc3RhZ2UgPSAxOw0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsLnN0YWdlID09PSAxICYmIHBpeGVsVGlja3MtcGl4ZWwuc3RhcnQgPiA3MCkgeyAvL3VuaW5pdGlhbGl6ZWQNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgYWRqYWNlbnRDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQl2YXIgY29vcmQgPSBhZGphY2VudENvb3Jkc1tpXTsNCgkJCQl2YXIgeCA9IHBpeGVsLngrY29vcmRbMF07DQoJCQkJdmFyIHkgPSBwaXhlbC55K2Nvb3JkWzFdOw0KCQkJCWlmIChpc0VtcHR5KHgseSkpIHsNCgkJCQkJcGl4ZWwuc3RhZ2UgPSAyOyAvL2JsdWUNCgkJCQkJcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCwiIzAwMDAzNiIpOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwuc3RhZ2UgPiAxICYmIHBpeGVsVGlja3MgJSAzID09PSBwaXhlbC5zdGFnZS0yKSB7IC8vaW5pdGlhbGl6ZWQNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIGNvb3JkID0gc3F1YXJlQ29vcmRzW2ldOw0KCQkJCXZhciB4ID0gcGl4ZWwueCtjb29yZFswXTsNCgkJCQl2YXIgeSA9IHBpeGVsLnkrY29vcmRbMV07DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSAmJiBwaXhlbE1hcFt4XVt5XS5lbGVtZW50ID09PSAicGlwZSIpIHsNCgkJCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQkJCWlmIChuZXdQaXhlbC5zdGFnZSA9PT0gMSkgew0KCQkJCQkJdmFyIG5ld0NvbG9yOw0KCQkJCQkJc3dpdGNoIChwaXhlbC5zdGFnZSkgew0KCQkJCQkJCWNhc2UgMjogbmV3UGl4ZWwuc3RhZ2UgPSAzOyBuZXdDb2xvciA9ICIjMDAzNjAwIjsgYnJlYWs7IC8vZ3JlZW4NCgkJCQkJCQljYXNlIDM6IG5ld1BpeGVsLnN0YWdlID0gNDsgbmV3Q29sb3IgPSAiIzM2MDAwMCI7IGJyZWFrOyAvL3JlZA0KCQkJCQkJCWNhc2UgNDogbmV3UGl4ZWwuc3RhZ2UgPSAyOyBuZXdDb2xvciA9ICIjMDAwMDM2IjsgYnJlYWs7IC8vYmx1ZQ0KCQkJCQkJfQ0KCQkJCQkJbmV3UGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhuZXdQaXhlbCxuZXdDb2xvcik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQl2YXIgbW92ZWQgPSBmYWxzZTsNCgkJCXNodWZmbGVBcnJheShzcXVhcmVDb29yZHNTaHVmZmxlKTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzU2h1ZmZsZS5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBjb29yZCA9IHNxdWFyZUNvb3Jkc1NodWZmbGVbaV07DQoJCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJCXZhciB5ID0gcGl4ZWwueStjb29yZFsxXTsNCgkJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpKSB7DQoJCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCA9PT0gInBpcGUiKSB7DQoJCQkJCQl2YXIgbmV4dFN0YWdlOw0KCQkJCQkJc3dpdGNoIChwaXhlbC5zdGFnZSkgew0KCQkJCQkJCWNhc2UgMjogbmV4dFN0YWdlID0gNDsgYnJlYWs7IC8vZ3JlZW4NCgkJCQkJCQljYXNlIDM6IG5leHRTdGFnZSA9IDI7IGJyZWFrOyAvL3JlZA0KCQkJCQkJCWNhc2UgNDogbmV4dFN0YWdlID0gMzsgYnJlYWs7IC8vYmx1ZQ0KCQkJCQkJfQ0KCQkJCQkJaWYgKHBpeGVsLmNvbiAmJiAhbmV3UGl4ZWwuY29uICYmIG5ld1BpeGVsLnN0YWdlID09PSBuZXh0U3RhZ2UpIHsgLy90cmFuc2ZlciB0byBhZGphY2VudCBwaXBlDQoJCQkJCQkJbmV3UGl4ZWwuY29uID0gcGl4ZWwuY29uOw0KCQkJCQkJCW5ld1BpeGVsLmNvbi54ID0gbmV3UGl4ZWwueDsNCgkJCQkJCQluZXdQaXhlbC5jb24ueSA9IG5ld1BpeGVsLnk7DQoJCQkJCQkJcGl4ZWwuY29uID0gbnVsbDsNCgkJCQkJCQltb3ZlZCA9IHRydWU7DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoIXBpeGVsLmNvbiAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5tb3ZhYmxlKSB7IC8vc3VjayB1cCBwaXhlbA0KCQkJCQkJcGl4ZWwuY29uID0gbmV3UGl4ZWw7DQoJCQkJCQlkZWxldGVQaXhlbChuZXdQaXhlbC54LG5ld1BpeGVsLnkpOw0KCQkJCQkJcGl4ZWwuY29uLnggPSBwaXhlbC54Ow0KCQkJCQkJcGl4ZWwuY29uLnkgPSBwaXhlbC55Ow0KCQkJCQkJcGl4ZWwuY29uLmRlbDsNCgkJCQkJCW1vdmVkID0gdHJ1ZTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHBpeGVsLmNvbiAmJiAhbW92ZWQpIHsgLy8gbW92ZSB0byBzYW1lIHN0YWdlIGlmIG5vbmUgb3RoZXINCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHNxdWFyZUNvb3Jkc1NodWZmbGUubGVuZ3RoOyBpKyspIHsNCgkJCQkJdmFyIGNvb3JkID0gc3F1YXJlQ29vcmRzU2h1ZmZsZVtpXTsNCgkJCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJCQl2YXIgeSA9IHBpeGVsLnkrY29vcmRbMV07DQoJCQkJCWlmIChpc0VtcHR5KHgseSkpIHsNCgkJCQkJCWRlbGV0ZSBwaXhlbC5jb24uZGVsOw0KCQkJCQkJcGl4ZWwuY29uLnggPSB4Ow0KCQkJCQkJcGl4ZWwuY29uLnkgPSB5Ow0KCQkJCQkJcGl4ZWxNYXBbeF1beV0gPSBwaXhlbC5jb247DQoJCQkJCQljdXJyZW50UGl4ZWxzLnB1c2gocGl4ZWwuY29uKTsNCgkJCQkJCXBpeGVsLmNvbiA9IG51bGw7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQgPT09ICJwaXBlIikgew0KCQkJCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQkJCQlpZiAocGl4ZWwuY29uICYmICFuZXdQaXhlbC5jb24gJiYgbmV3UGl4ZWwuc3RhZ2UgPT09IHBpeGVsLnN0YWdlKSB7DQoJCQkJCQkJbmV3UGl4ZWwuY29uID0gcGl4ZWwuY29uOw0KCQkJCQkJCW5ld1BpeGVsLmNvbi54ID0gbmV3UGl4ZWwueDsNCgkJCQkJCQluZXdQaXhlbC5jb24ueSA9IG5ld1BpeGVsLnk7DQoJCQkJCQkJcGl4ZWwuY29uID0gbnVsbDsNCgkJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCW1vdmFibGU6IGZhbHNlLA0KCWNhbkNvbnRhaW46IHRydWUsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUsDQoJaGFyZG5lc3M6IDAuNzUNCn0sDQoicGlwZV93YWxsIjogew0KCWNvbG9yOiAiIzU4Njg3OSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCW5vTWl4OiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJtaXhlciI6IHsNCgljb2xvcjogWyIjOWY5MzZmIiwiI2I0YTk4ZSIsIiNjOGJlYWMiXSwNCgliZWhhdmlvcjogWw0KCQkiTVh8TVh8TVgiLA0KCQkiTVh8Q0M6IzlmOTM2ZiwjYjRhOThlLCNjOGJlYWN8TVgiLA0KCQkiTVh8TVh8TVgiLA0KCV0sDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJbm9NaXg6IHRydWUsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoiZ3JpbmRlciI6IHsNCgljb2xvcjogWyIjOGE4OTg2IiwiI2EzYTI5ZiIsIiNiY2JiYjkiXSwNCgliZWhhdmlvcjogWw0KCQkiTVh8U00lOCBBTkQgTVh8TVgiLA0KCQkiU00lOCBBTkQgTVh8Q0M6IzhhODk4NiwjYTNhMjlmLCNiY2JiYjl8U00lOCBBTkQgTVgiLA0KCQkiTVh8U00lOCBBTkQgTVh8TVgiLA0KCV0sDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJbm9NaXg6IHRydWUsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoiZnVzZSI6IHsNCgljb2xvcjogIiM4MjVkMzgiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCQlpZiAocGl4ZWwuY2hhcmdlIDwgMSkgew0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsImZsYXNoIik7DQoJCQlwaXhlbC5jaGFyZ2UgPSAwOw0KCQl9DQoJfSwNCgltb3ZhYmxlOiB0cnVlLA0KCXRlbXBIaWdoOiA1MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAxLA0KCWZpcmVFbGVtZW50OiAiZmxhc2giLA0KCWJ1cm5JbnRvOiAiZmxhc2giLA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMDAsDQoJY29uZHVjdDogMSwNCglpZ25vcmVDb25kdWN0OlsiZWNsb25lciIsInNlbnNvciJdDQp9LA0KImV3YWxsIjogew0KCW5hbWU6ICJlLXdhbGwiLA0KCWNvbG9yOiAiIzdhNzc2OSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCWhhcmRuZXNzOiAxLA0KCW5vTWl4OiB0cnVlLA0KCWNvbmR1Y3Q6IDENCn0sDQoidG9yY2giOiB7DQoJY29sb3I6ICIjZDY4NTQyIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q1I6ZmlyZXxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMToid29vZCIgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMToid29vZCIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOiJ3b29kIiB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6Indvb2QiIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6Indvb2QiIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMToid29vZCIgfSwNCgkJInN0ZWFtIjogeyBlbGVtMToid29vZCIgfSwNCgkJInNtb2ciOiB7IGVsZW0xOiJ3b29kIiB9LA0KCQkicmFpbl9jbG91ZCI6IHsgZWxlbTE6Indvb2QiIH0sDQoJCSJjbG91ZCI6IHsgZWxlbTE6Indvb2QiIH0sDQoJCSJzbm93X2Nsb3VkIjogeyBlbGVtMToid29vZCIgfSwNCgkJImhhaWxfY2xvdWQiOiB7IGVsZW0xOiJ3b29kIiB9LA0KCQkidGh1bmRlcl9jbG91ZCI6IHsgZWxlbTE6Indvb2QiIH0sDQoJCSJpY2VfbmluZSI6IHsgZWxlbTE6Indvb2QiIH0NCgl9LA0KCXRlbXA6NjAwLA0KCWNhdGVnb3J5OiJzcGVjaWFsIiwNCglicmVha0ludG86ICJzYXdkdXN0IiwNCgl0ZW1wTG93OiAtMjczLA0KCXN0YXRlTG93OiAid29vZCINCn0sDQoic3BvdXQiOiB7DQoJY29sb3I6ICIjNjA2Mzc4IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q1I6d2F0ZXJ8WFgiLA0KCQkiQ1I6d2F0ZXJ8WFh8Q1I6d2F0ZXIiLA0KCQkiWFh8Q1I6d2F0ZXJ8WFgiLA0KCV0sDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCXRlbXBIaWdoOiAxNDU1LjUsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3N0ZWVsIiwNCgljb25kdWN0OiAwLjQyDQp9LA0KInVkZGVyIjogew0KCWNvbG9yOiAiI2VjYjNmNSIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKCFpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55LHRydWUpKSB7DQoJCQlsZXQgcGl4ZWwyID0gcGl4ZWxNYXBbcGl4ZWwueCsxXVtwaXhlbC55XTsNCgkJCWlmIChwaXhlbDIuZWxlbWVudCA9PT0gInVkZGVyIikgew0KCQkJCWlmIChwaXhlbDIuY2xvbmUgJiYgIXBpeGVsLmNsb25lKSBwaXhlbC5jbG9uZSA9IHBpeGVsMi5jbG9uZTsNCgkJCQllbHNlIGlmIChwaXhlbC5jbG9uZSAmJiAhcGl4ZWwyLmNsb25lKSBwaXhlbDIuY2xvbmUgPSBwaXhlbC5jbG9uZTsNCgkJCX0NCgkJfQ0KCQlpZiAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkpIHsNCgkJCWxldCBwaXhlbDIgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdOw0KCQkJaWYgKHBpeGVsMi5lbGVtZW50ID09PSAidWRkZXIiKSB7DQoJCQkJaWYgKHBpeGVsMi5jbG9uZSAmJiAhcGl4ZWwuY2xvbmUpIHBpeGVsLmNsb25lID0gcGl4ZWwyLmNsb25lOw0KCQkJCWVsc2UgaWYgKHBpeGVsLmNsb25lICYmICFwaXhlbDIuY2xvbmUpIHBpeGVsMi5jbG9uZSA9IHBpeGVsLmNsb25lOw0KCQkJfQ0KCQl9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDw9IDAuMDA1ICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQljcmVhdGVQaXhlbChwaXhlbC5jbG9uZXx8Im1pbGsiLHBpeGVsLngscGl4ZWwueSsxKTsNCgkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0udGVtcCA9IDM4Ow0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJb25CcmVhazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPD0gKHNoaWZ0RG93biA/IDAuMzMgOiAwLjEpICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQljcmVhdGVQaXhlbCgibWlsayIscGl4ZWwueCxwaXhlbC55KzEpOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS50ZW1wID0gMzg7DQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkic29kYSI6IHsgZWxlbTI6bnVsbCwgYXR0cjE6eyJjbG9uZSI6InBpbGsifSwgY2hhbmNlOjAuMSB9LA0KCQkianVpY2UiOiB7IGVsZW0yOm51bGwsIGF0dHIxOnsiY2xvbmUiOiJmcnVpdF9taWxrIn0sIGNoYW5jZTowLjEgfSwNCgkJIm1lbHRlZF9jaG9jb2xhdGUiOiB7IGVsZW0yOm51bGwsIGF0dHIxOnsiY2xvbmUiOiJjaG9jb2xhdGVfbWlsayJ9LCBjaGFuY2U6MC4xIH0sDQoJCSJ5b2xrIjogeyBlbGVtMjpudWxsLCBhdHRyMTp7ImNsb25lIjoiZWdnbm9nIn0sIGNoYW5jZTowLjEgfSwNCgkJImNob2NvbGF0ZSI6IHsgYXR0cjE6eyJjbG9uZSI6ImNob2NvbGF0ZV9taWxrIn0sIGNoYW5jZTowLjEgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJjb29rZWRfbWVhdCIsDQoJdGVtcExvdzogLTE4LA0KCXN0YXRlTG93OiAiZnJvemVuX21lYXQiLA0KCWJ1cm46MTUsDQoJYnVyblRpbWU6MjAwLA0KCWJ1cm5JbnRvOiJjb29rZWRfbWVhdCIsDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCW1vdmFibGU6IGZhbHNlLA0KfSwNCiJib25lX21hcnJvdyI6IHsNCgljb2xvcjogIiNjOTcyNjUiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpibG9vZCxib25lLGJvbmUlMXxYWCIsDQoJCSJDUjpibG9vZCxib25lLGJvbmUlMXxYWHxDUjpibG9vZCxib25lLGJvbmUlMSIsDQoJCSJYWHxDUjpibG9vZCxib25lLGJvbmUlMXxYWCIsDQoJXSwNCgljYXRlZ29yeToibGlmZSIsDQoJdGVtcEhpZ2g6IDc1MCwNCglzdGF0ZUhpZ2g6IFsicXVpY2tsaW1lIiwic2FsdCIsInN0ZWFtIiwiYXNoIl0sDQoJdGVtcExvdzogLTEwLA0KCXN0YXRlTG93OiAiZnJvemVuX21lYXQiLA0KCWJyZWFrSW50bzogWyJxdWlja2xpbWUiLCJibG9vZCJdLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJib25lIjogew0KCWNvbG9yOiAiI2Q5ZDlkOSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBQT1JULA0KCXJlYWN0aW9uczogew0KCQkiYmxvb2QiOiB7ZWxlbTE6ImJvbmVfbWFycm93IixjaGFuY2U6MC4wMDA1fSwNCgkJImFudGlib2R5Ijoge2VsZW0xOiJib25lX21hcnJvdyIsY2hhbmNlOjAuMDAwNX0sDQoJCSJ3YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJicm90aCIsIHRlbXBNaW46NzAgfQ0KCX0sDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCXRlbXBIaWdoOiA3NjAsDQoJc3RhdGVIaWdoOiAicXVpY2tsaW1lIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxOTAwLA0KCWhhcmRuZXNzOiAwLjUsDQoJYnJlYWtJbnRvOiBbInF1aWNrbGltZSIsInF1aWNrbGltZSIsInF1aWNrbGltZSIsImJvbmVfbWFycm93Il0NCn0sDQoiYmFsbCI6IHsNCgljb2xvcjogIiNlMzU2OTMiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxGWTowJTV8WFgiLA0KCQkiWFh8TTEgQU5EIEJPfFhYIiwNCgldLA0KCXRlbXBIaWdoOiAyNTAsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3BsYXN0aWMiLA0KCWNhdGVnb3J5OiAic3BlY2lhbCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTA1MiwNCglmbGlwWTogZmFsc2UsDQoJZmxpcHBhYmxlWTogdHJ1ZSwNCgloaWRkZW46IHRydWUNCn0sDQoiYmFsbG9vbiI6IHsNCgljb2xvcjogWyIjZmU0YTc1IiwiIzI2N2NiMCIsIiMxYTc0M2MiLCIjZmY2ZmZhIiwiI2VhZWRlNSIsIiMxZGM5ZjMiLCIjZmYwMTAxIiwiI2Y0Y2QzMiIsIiNiZWUzNDciLCIjZmFiOTM3IiwiIzkxYzdjYyJdLA0KCWJlaGF2aW9yOiBbDQoJCSJNMSU1MHxNMSU1MHxNMSU1MCIsDQoJCSJNMiU1fFhYfE0yJTUiLA0KCQkiTTIlNXxNMiU1fE0yJTUiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJjbG91ZCI6IHtlbGVtMToicG9wIn0sDQoJCSJyYWluX2Nsb3VkIjoge2VsZW0xOiJwb3AifSwNCgkJInNub3dfY2xvdWQiOiB7ZWxlbTE6InBvcCJ9LA0KCQkidGh1bmRlcl9jbG91ZCI6IHtlbGVtMToicG9wIn0sDQoJCSJoYWlsX2Nsb3VkIjoge2VsZW0xOiJwb3AifSwNCgkJImFjaWRfY2xvdWQiOiB7ZWxlbTE6InBvcCJ9LA0KCQkib3pvbmUiOiB7ZWxlbTE6InBvcCJ9DQoJfSwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJdGVtcEhpZ2g6IDEyMCwNCglzdGF0ZUhpZ2g6ICJwb3AiLA0KCXRlbXBMb3c6IC0yNzIuMjAsDQoJc3RhdGVMb3c6ICJwb3AiLA0KCWJ1cm46IDIwLA0KCWJ1cm5UaW1lOiAyLA0KCWJ1cm5JbnRvOiAicG9wIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAwLjE2NCwNCglicmVha0ludG86IFsiY29uZmV0dGkiLCJoZWxpdW0iLCJoZWxpdW0iLCJoZWxpdW0iLCJwb3AiXQ0KfSwNCiJhbnRpcG93ZGVyIjogew0KCWNvbG9yOiAiI2ViZDFkOCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5BR1BPV0RFUiwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJdGVtcEhpZ2g6IDE4NTAsDQoJc3RhdGVIaWdoOiAiYW50aW1vbHRlbiIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTg1MA0KfSwNCiJhbnRpbW9sdGVuIjogew0KCWNvbG9yOiBbIiNmZmI1YjUiLCIjZmZkMGI1IiwiI2ZmZDBiNSJdLA0KCWJlaGF2aW9yOiBbDQoJCSJNMXxNMXxNMSIsDQoJCSJNMnxYWHxNMiIsDQoJCSJYWHxDUjphbnRpZmlyZSUyLjV8WFgiLA0KCV0sDQoJdGVtcDogMTg1MCwNCgl0ZW1wTG93OiAxNzUwLA0KCXN0YXRlTG93OiAiYW50aXBvd2RlciIsDQoJdmlzY29zaXR5OiAxMDAwMCwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwMDAsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIg0KfSwNCiJhbnRpZmlyZSI6IHsNCgljb2xvcjogWyIjZmZjM2E2IiwiI2ZmZGZhMyIsIiNmZmI2OWUiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8TTJ8WFgiLA0KCQkiTTJ8WFh8TTIiLA0KCQkiTTF8TTF8TTEiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhbnRpZmx1aWQiOiB7IGVsZW0xOiAiYW50aWdhcyIgfSwNCgkJIndhdGVyIjogeyBlbGVtMTogImFudGlnYXMiIH0sDQoJCSJzdGVhbSI6IHsgZWxlbTE6ICJhbnRpZ2FzIiB9DQoJfSwNCgl0ZW1wOjYwMCwNCgl0ZW1wTG93OjEwMCwNCglzdGF0ZUxvdzogImFudGlnYXMiLA0KCXRlbXBIaWdoOiA3MDAwLA0KCXN0YXRlSGlnaDogInBsYXNtYSIsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCglidXJuaW5nOiB0cnVlLA0KCWJ1cm5UaW1lOiAyNSwNCglidXJuSW50bzogImFudGlnYXMiLA0KCWZpcmVFbGVtZW50OiAiZmxhc2giLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4yLA0KCWlnbm9yZUFpcjogdHJ1ZSwNCn0sDQoiYW50aWZsdWlkIjogew0KCWNvbG9yOiAiI2QxZGJlYiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5BR0xJUVVJRCwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJhbnRpZ2FzIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93TmFtZTogImFudGlpY2UiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDAwDQp9LA0KImFudGlnYXMiOiB7DQoJY29sb3I6ICIjZTZmZmZjIiwNCgliZWhhdmlvcjogWw0KCQkiTTJ8TTJ8TTIiLA0KCQkiTTJ8WFh8TTIiLA0KCQkiTTF8TTF8TTEiDQoJXSwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJdGVtcExvdzogMTAwLA0KCXN0YXRlTG93OiAiYW50aWZsdWlkIiwNCgl0ZW1wSGlnaDogMTAwMCwNCgl0ZW1wOiAxNTAsDQoJc3RhdGVIaWdoOiAiYW50aWZpcmUiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMTANCn0sDQoidmVydGljYWwiOiB7DQoJY29sb3I6ICIjZDlkOWQ5IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8TTEgQU5EIEJPfFhYIiwNCgkJIkNSOndhbGx8WFh8Q1I6d2FsbCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImVsZWN0cmljIjogeyBlbGVtMToiaG9yaXpvbnRhbCIgfQ0KCX0sDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCWhpZGRlbjp0cnVlLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUNCn0sDQoiaG9yaXpvbnRhbCI6IHsNCgljb2xvcjogIiNkOWQ5ZDkiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjp3YWxsfFhYIiwNCgkJIlhYfFhYfE0xIEFORCBCTyIsDQoJCSJYWHxDUjp3YWxsfFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkicHJvdG9uIjogeyBlbGVtMToidmVydGljYWwiIH0sDQoJCSJwb3NpdHJvbiI6IHsgZWxlbTE6InZlcnRpY2FsIiB9DQoJfSwNCgljYXRlZ29yeToic3BlY2lhbCIsDQoJaGlkZGVuOnRydWUsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJhc2giOiB7DQoJY29sb3I6IFsiIzhjOGM4YyIsIiM5YzljOWMiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJInN0ZWFtIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDgsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkicmFpbl9jbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA4LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImNsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDgsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkic25vd19jbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA4LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImhhaWxfY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBjaGFuY2U6MC4wOCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJ0aHVuZGVyX2Nsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDgsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkiYWNpZF9jbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGNoYW5jZTowLjA1LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInB5cm9jdW11bHVzIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgY2hhbmNlOjAuMDgsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkidG9ybmFkbyI6e2VsZW0xOiJweXJvY3VtdWx1cyIsIG9uZXdheTp0cnVlfSwNCgkJInN0ZW5jaCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9DQoJfSwNCgljYXRlZ29yeToicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNzAwLA0KCXRlbXBIaWdoOiAyMDAwLA0KCWZvcmNlQXV0b0dlbjogdHJ1ZSwNCglzdGF0ZUhpZ2g6IFsibW9sdGVuX2FzaCIsInNtb2tlIiwic21va2UiLCJzbW9rZSJdDQp9LA0KIm1vbHRlbl9hc2giOiB7DQoJdGVtcEhpZ2g6IDM1NTAsDQoJc3RhdGVIaWdoOiAic21va2UiDQp9LA0KImxpZ2h0Ijogew0KCWNvbG9yOiAiI2ZmZmRjZiIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCglpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDIpIHsNCgkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsNCgkJcmV0dXJuOw0KCX0NCglpZiAocGl4ZWwuYng9PT11bmRlZmluZWQpIHsNCgkJLy8gY2hvb3NlIDEsIDAsIG9yIC0xDQoJCXBpeGVsLmJ4ID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMCA6IC0xOw0KCQlwaXhlbC5ieSA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogTWF0aC5yYW5kb20oKSA8IDAuNSA/IDAgOiAtMTsNCgkJLy8gaWYgYm90aCBhcmUgMCwgbWFrZSBvbmUgb2YgdGhlbSAxIG9yIC0xDQoJCWlmIChwaXhlbC5ieD09PTAgJiYgcGl4ZWwuYnk9PT0wKSB7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkgeyBwaXhlbC5ieCA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7IH0NCgkJCWVsc2UgeyBwaXhlbC5ieSA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7IH0NCgkJfQ0KCX0NCgkvLyBtb3ZlIGFuZCBpbnZlcnQgZGlyZWN0aW9uIGlmIGhpdA0KCWlmIChwaXhlbC5ieCAmJiAhdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCtwaXhlbC5ieCwgcGl4ZWwueSkpIHsNCgkJdmFyIG5ld1ggPSBwaXhlbC54ICsgcGl4ZWwuYng7DQoJCWlmICghaXNFbXB0eShuZXdYLCBwaXhlbC55LCB0cnVlKSkgew0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbcGl4ZWwueCtwaXhlbC5ieF1bcGl4ZWwueV07DQoJCQlpZiAoIWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmluc3VsYXRlKSB7DQoJCQkJbmV3UGl4ZWwudGVtcCArPSAxOw0KCQkJCXBpeGVsVGVtcENoZWNrKG5ld1BpeGVsKTsNCgkJCX0NCgkJCWlmICghZWxlbWVudHMubGlnaHQucmVhY3Rpb25zW25ld1BpeGVsLmVsZW1lbnRdKSB7DQoJCQkJcGl4ZWwuY29sb3IgPSBuZXdQaXhlbC5jb2xvcjsNCgkJCX0NCgkJfQ0KCQlwaXhlbC5ieCA9IC1waXhlbC5ieDsNCgl9DQoJaWYgKCFwaXhlbC5kZWwgJiYgcGl4ZWwuYnkgJiYgIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngsIHBpeGVsLnkrcGl4ZWwuYnkpKSB7DQoJCXZhciBuZXdZID0gcGl4ZWwueSArIHBpeGVsLmJ5Ow0KCQlpZiAoIWlzRW1wdHkocGl4ZWwueCwgbmV3WSwgdHJ1ZSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrcGl4ZWwuYnldOw0KCQkJaWYgKCFlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5pbnN1bGF0ZSkgew0KCQkJCW5ld1BpeGVsLnRlbXAgKz0gMTsNCgkJCQlwaXhlbFRlbXBDaGVjayhuZXdQaXhlbCk7DQoJCQl9DQoJCQlpZiAoIWVsZW1lbnRzLmxpZ2h0LnJlYWN0aW9uc1tuZXdQaXhlbC5lbGVtZW50XSkgew0KCQkJCXBpeGVsLmNvbG9yID0gbmV3UGl4ZWwuY29sb3I7DQoJCQl9DQoJCX0NCgkJcGl4ZWwuYnkgPSAtcGl4ZWwuYnk7DQoJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJnbGFzcyI6IHsgImNvbG9yMSI6WyIjZmYwMDAwIiwiI2ZmODgwMCIsIiNmZmZmMDAiLCIjMDBmZjAwIiwiIzAwZmZmZiIsIiMwMDAwZmYiLCIjZmYwMGZmIl0gfSwNCgkJImdsYXNzX3NoYXJkIjogeyAiY29sb3IxIjpbIiNmZjAwMDAiLCIjZmY4ODAwIiwiI2ZmZmYwMCIsIiMwMGZmMDAiLCIjMDBmZmZmIiwiIzAwMDBmZiIsIiNmZjAwZmYiXSB9LA0KCQkicmFkX2dsYXNzIjogeyAiY29sb3IxIjpbIiM5ZjYwNjAiLCIjOWY4MjYwIiwiIzlmOWY2MCIsIiM2MDlmNjAiLCIjNjA5ZjlmIiwiIzYwNjA5ZiIsIiM5ZjYwOWYiXSB9LA0KCQkicmFkX3NoYXJkIjogeyAiY29sb3IxIjpbIiM5ZjYwNjAiLCIjOWY4MjYwIiwiIzlmOWY2MCIsIiM2MDlmNjAiLCIjNjA5ZjlmIiwiIzYwNjA5ZiIsIiM5ZjYwOWYiXSB9LA0KCQkic3RlYW0iOiB7ICJjb2xvcjEiOlsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdIH0sDQoJCSJyYWluX2Nsb3VkIjogeyAiY29sb3IxIjpbIiNmZjAwMDAiLCIjZmY4ODAwIiwiI2ZmZmYwMCIsIiMwMGZmMDAiLCIjMDBmZmZmIiwiIzAwMDBmZiIsIiNmZjAwZmYiXSB9LA0KCQkiY2xvdWQiOiB7ICJjb2xvcjEiOlsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdIH0sDQoJCSJzbW9nIjogeyAiY29sb3IxIjpbIiM5ZjYwNjAiLCIjOWY4MjYwIiwiIzlmOWY2MCIsIiM2MDlmNjAiLCIjNjA5ZjlmIiwiIzYwNjA5ZiIsIiM5ZjYwOWYiXSB9LA0KCQkiaWNlIjogeyAiY29sb3IxIjoiI2MyZmZmOSIgfSwNCgkJInJpbWUiOiB7ICJjb2xvcjEiOiIjYzJmZmY5IiB9LA0KCQkid2F0ZXIiOiB7ICJjb2xvcjEiOiIjYTFiYWM5IiB9LA0KCQkic2FsdF93YXRlciI6IHsgImNvbG9yMSI6IiNhMWJhYzkiIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgImNvbG9yMSI6IiNhMWJhYzkiIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgImNvbG9yMSI6IiNhMWM5YTgiIH0sDQoJCSJzZWx0emVyIjogeyAiY29sb3IxIjoiI2MyZmZmOSIgfSwNCgkJImRpYW1vbmQiOiB7ICJjb2xvcjEiOlsiI2MyYzVmZiIsIiNjMmQ5ZmYiXSB9LA0KCQkicmFpbmJvdyI6IHsgImNvbG9yMSI6WyIjZmYwMDAwIiwiI2ZmODgwMCIsIiNmZmZmMDAiLCIjMDBmZjAwIiwiIzAwZmZmZiIsIiMwMDAwZmYiLCIjZmYwMGZmIl0gfSwNCgkJInN0YXRpYyI6IHsgImNvbG9yMSI6WyIjZmZmZmZmIiwiI2JkYmRiZCIsIiM4MDgwODAiLCIjNDI0MjQyIiwiIzFjMWMxYyJdIH0sDQoJCSJwaXBlIjogeyB9LA0KCQkicGlwZV93YWxsIjogeyB9LA0KCQkid2FsbCI6IHsgfSwNCgl9LA0KCXRlbXA6IDM1LA0KCXRlbXBMb3c6IC0yNzMsDQoJc3RhdGVMb3c6IFsibGlxdWlkX2xpZ2h0IixudWxsXSwNCglzdGF0ZUxvd0NvbG9yTXVsdGlwbGllcjogMC44LA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4wMDAwMSwNCglpZ25vcmVBaXI6IHRydWUsDQoJaW5zdWxhdGU6IHRydWUsDQoJYWxpYXM6ICJwaG90b24iDQp9LA0KImxpcXVpZF9saWdodCI6IHsNCgljb2xvcjogIiNiZGJjOWQiLA0KCS8vYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBFUkZMVUlELA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDAyKSB7DQoJCQlkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCWlmIChwaXhlbC5jaGFyZ2UgJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmVoYXZpb3JPbikgew0KCQkJcGl4ZWxUaWNrKHBpeGVsKQ0KCQl9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4zMykgeyB0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LCBwaXhlbC55KzEpIH0NCgkJaWYgKCFpc0VtcHR5KHBpeGVsLngsIHBpeGVsLnkrMSkpIHsNCgkJCS8vIGdvIGVpdGhlciBsZWZ0IG9yIHJpZ2h0IGRlcGVuZGluZyBvbiBwaXhlbC5mbGlwWA0KCQkJdmFyIG5ld3ggPSBwaXhlbC5mbGlwWCA/IHBpeGVsLngtMSA6IHBpeGVsLngrMTsNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7DQoJCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBuZXd4LCBwaXhlbC55KSkgew0KCQkJCQlpZiAoIW91dE9mQm91bmRzKG5ld3gsIHBpeGVsLnkpICYmICFlbGVtZW50cy5saXF1aWRfbGlnaHQucmVhY3Rpb25zW3BpeGVsTWFwW25ld3hdW3BpeGVsLnldLmVsZW1lbnRdKSB7DQoJCQkJCQlwaXhlbC5jb2xvciA9IHBpeGVsTWFwW25ld3hdW3BpeGVsLnldLmNvbG9yOw0KCQkJCQl9DQoJCQkJCXBpeGVsLmZsaXBYID0gIXBpeGVsLmZsaXBYOw0KCQkJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIG5ld3gsIHBpeGVsLnkrMSkgJiYgIW91dE9mQm91bmRzKG5ld3gsIHBpeGVsLnkrMSkgJiYgIWVsZW1lbnRzLmxpcXVpZF9saWdodC5yZWFjdGlvbnNbcGl4ZWxNYXBbbmV3eF1bcGl4ZWwueSsxXS5lbGVtZW50XSkgew0KCQkJCQkJcGl4ZWwuY29sb3IgPSBwaXhlbE1hcFtuZXd4XVtwaXhlbC55KzFdLmNvbG9yOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBuZXd4LCBwaXhlbC55KzEpKSB7DQoJCQkJCWlmICghb3V0T2ZCb3VuZHMobmV3eCwgcGl4ZWwueSsxKSAmJiAhZWxlbWVudHMubGlxdWlkX2xpZ2h0LnJlYWN0aW9uc1twaXhlbE1hcFtuZXd4XVtwaXhlbC55KzFdLmVsZW1lbnRdKSB7DQoJCQkJCQlwaXhlbC5jb2xvciA9IHBpeGVsTWFwW25ld3hdW3BpeGVsLnkrMV0uY29sb3I7DQoJCQkJCX0NCgkJCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBuZXd4LCBwaXhlbC55KSkgew0KCQkJCQkJcGl4ZWwuZmxpcFggPSAhcGl4ZWwuZmxpcFg7DQoJCQkJCQlpZiAoIW91dE9mQm91bmRzKG5ld3gsIHBpeGVsLnkpICYmICFlbGVtZW50cy5saXF1aWRfbGlnaHQucmVhY3Rpb25zW3BpeGVsTWFwW25ld3hdW3BpeGVsLnldLmVsZW1lbnRdKSB7DQoJCQkJCQkJcGl4ZWwuY29sb3IgPSBwaXhlbE1hcFtuZXd4XVtwaXhlbC55XS5jb2xvcjsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkiZ2xhc3MiOiB7ICJjb2xvcjEiOlsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdIH0sDQoJCSJnbGFzc19zaGFyZCI6IHsgImNvbG9yMSI6WyIjZmYwMDAwIiwiI2ZmODgwMCIsIiNmZmZmMDAiLCIjMDBmZjAwIiwiIzAwZmZmZiIsIiMwMDAwZmYiLCIjZmYwMGZmIl0gfSwNCgkJInJhZF9nbGFzcyI6IHsgImNvbG9yMSI6WyIjOWY2MDYwIiwiIzlmODI2MCIsIiM5ZjlmNjAiLCIjNjA5ZjYwIiwiIzYwOWY5ZiIsIiM2MDYwOWYiLCIjOWY2MDlmIl0gfSwNCgkJInJhZF9zaGFyZCI6IHsgImNvbG9yMSI6WyIjOWY2MDYwIiwiIzlmODI2MCIsIiM5ZjlmNjAiLCIjNjA5ZjYwIiwiIzYwOWY5ZiIsIiM2MDYwOWYiLCIjOWY2MDlmIl0gfSwNCgkJInN0ZWFtIjogeyAiY29sb3IxIjpbIiNmZjAwMDAiLCIjZmY4ODAwIiwiI2ZmZmYwMCIsIiMwMGZmMDAiLCIjMDBmZmZmIiwiIzAwMDBmZiIsIiNmZjAwZmYiXSB9LA0KCQkicmFpbl9jbG91ZCI6IHsgImNvbG9yMSI6WyIjZmYwMDAwIiwiI2ZmODgwMCIsIiNmZmZmMDAiLCIjMDBmZjAwIiwiIzAwZmZmZiIsIiMwMDAwZmYiLCIjZmYwMGZmIl0gfSwNCgkJImNsb3VkIjogeyAiY29sb3IxIjpbIiNmZjAwMDAiLCIjZmY4ODAwIiwiI2ZmZmYwMCIsIiMwMGZmMDAiLCIjMDBmZmZmIiwiIzAwMDBmZiIsIiNmZjAwZmYiXSB9LA0KCQkic21vZyI6IHsgImNvbG9yMSI6WyIjOWY2MDYwIiwiIzlmODI2MCIsIiM5ZjlmNjAiLCIjNjA5ZjYwIiwiIzYwOWY5ZiIsIiM2MDYwOWYiLCIjOWY2MDlmIl0gfSwNCgkJImxhc2VyIjogeyAiY29sb3IxIjoiI2ZmMDAwMCIgfQ0KCX0sDQoJdGVtcDogLTI3MywNCgl0ZW1wSGlnaDogLTI3MiwNCglzdGF0ZUhpZ2g6ICJsaWdodCIsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjAwMDAyLA0KCWlnbm9yZUFpcjogdHJ1ZSwNCgl2aXNjb3NpdHk6IDAsDQoJaW5zdWxhdGU6IHRydWUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImxhc2VyIjogew0KCWNvbG9yOiAiI2ZmMDAwMCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfERMJTAuMjV8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLkJPVU5DWSwNCgl0ZW1wOiAzNSwNCgl0ZW1wTG93OiAtMjczLA0KCXN0YXRlTG93OiBbImxpcXVpZF9saWdodCIsbnVsbF0sDQoJc3RhdGVMb3dDb2xvck11bHRpcGxpZXI6IDAuOCwNCglicmVha0ludG86ICJsaWdodCIsDQoJYnJlYWtJbnRvQ29sb3I6ICIjZmZjZmNmIiwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDAuMDAwMDEsDQoJaWdub3JlQWlyOiB0cnVlDQp9LA0KInBvaW50ZXIiOiB7DQoJY29sb3I6ICIjZmYwMDAwIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWxUaWNrcyAtIHBpeGVsLnN0YXJ0ID4gKHRwcy8zMCkpIHsNCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngsIHBpeGVsLnkpDQoJCX0NCgl9LA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5lbGVtZW50ID09PSAicG9pbnRlciIpIHsNCgkJCXBpeGVsLnN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJfQ0KCX0sDQoJY2FuUGxhY2U6IHRydWUsDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KCWN1c3RvbUNvbG9yOiB0cnVlLA0KCWhpZGRlbjp0cnVlLA0KCW1vdmFibGU6IGZhbHNlLA0KCXN0YXRlOiAiZ2FzIiwNCglnbG93OiBmYWxzZSwNCglkZW5zaXR5OiAxLA0KfSwNCiJjaGFyY29hbCI6IHsNCgljb2xvcjogIiMyYjJiMmIiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkiYnJvdGgiOiB7IGVsZW0yOiJ3YXRlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJ0ZWEiOiB7IGVsZW0yOiJ3YXRlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJwb2lzb24iOiB7IGVsZW0yOiJkaXJ0eV93YXRlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJzdWxmdXIiOiB7IGVsZW0xOiJndW5wb3dkZXIiLCBlbGVtMjoiZ3VucG93ZGVyIiwgY2hhbmNlOjAuMDIgfSwNCgkJIm1vbHRlbl9zdWxmdXIiOiB7IGVsZW0xOiJndW5wb3dkZXIiLCBlbGVtMjoiZ3VucG93ZGVyIiwgY2hhbmNlOjAuMDIgfSwNCgkJImRlYWRfcGxhbnQiOiB7IGVsZW0yOiJjaGFyY29hbCIsIHRlbXBNaW46MjAwLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0NCgl9LA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLkNIQVJDT0FMSEVBVCwNCglidXJuOiAyNSwNCglidXJuVGltZTogMTAwMCwNCglidXJuSW50bzogWyJmaXJlIiwiZmlyZSIsImZpcmUiLCJmaXJlIiwiYXNoIiwiY2FyYm9uX2Rpb3hpZGUiXSwNCgl0ZW1wSGlnaDogNjAwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIwOCwNCglicmVha0ludG86IFsiYXNoIiwiYXNoIiwiY2FyYm9uX2Rpb3hpZGUiXSwNCgloYXJkbmVzczogMC41LA0KCWNvbmR1Y3Q6IDAuMDAxLA0KCXN0YWluOiAwLjAyDQp9LA0KInRpbmRlciI6IHsNCgljb2xvcjogWyIjOTE3MjU2IiwiIzg3Njg0ZiIsIiM3MzVmNGEiLCIjNWQ0YzNlIiwiIzRiM2EyZSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiA1MCwNCglidXJuVGltZTogMTAwLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIzDQp9LA0KInNhd2R1c3QiOiB7DQoJY29sb3I6IFsiI2RlYzE1MCIsIiNjN2IxNWEiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMToiY2VsbHVsb3NlIiwgZWxlbTI6bnVsbCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMToiY2VsbHVsb3NlIiwgZWxlbTI6bnVsbCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJob25leSI6IHsgZWxlbTE6InBhcnRpY2xlYm9hcmQiLCBlbGVtMjpudWxsIH0sDQoJCSJnbHVlIjogeyBlbGVtMToicGFydGljbGVib2FyZCIsIGVsZW0yOm51bGwgfQ0KCX0sDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCWJ1cm46IDI1LA0KCWJ1cm5UaW1lOiAxNTAsDQoJYnVybkludG86IFsiYXNoIiwiZmlyZSIsImZpcmUiLCJmaXJlIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMzkzDQp9LA0KImhhaWwiOiB7DQoJY29sb3I6ICIjYzVlOWYwIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngsIHBpeGVsLnkrMSkpIHsNCgkJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCwgcGl4ZWwueSsxLHRydWUpKSB7DQoJCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV07DQoJCQkJCWlmIChuZXdQaXhlbC5lbGVtZW50ID09PSAiaGFpbCIpIHsgYnJlYWs7IH0NCgkJCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YXRlID09ICJzb2xpZCIgfHwgIWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YXRlKSB7DQoJCQkJCQlpZiAoTWF0aC5yYW5kb20oKSA+IChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcyB8fCAwKSkgew0KCQkJCQkJCWlmIChpc0JyZWFrYWJsZShuZXdQaXhlbCkpIHsNCgkJCQkJCQkJYnJlYWtQaXhlbChuZXdQaXhlbCk7DQoJCQkJCQkJfQ0KCQkJCQkJCWVsc2Ugew0KCQkJCQkJCQlkZWxldGVQaXhlbChuZXdQaXhlbC54LCBuZXdQaXhlbC55KTsNCgkJCQkJCQl9fX19DQoJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsNCgkJCQlicmVhazsNCgkJCX19DQoJCWRvSGVhdChwaXhlbCl9LA0KCXRlbXA6IC0yMCwNCgl0ZW1wSGlnaDogMTAsDQoJc3RhdGVIaWdoOiAid2F0ZXIiLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogODUwLA0KCWluc3VsYXRlOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJoeWRyb2dlbiI6IHsNCgljb2xvcjogIiM1NThiY2YiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuR0FTLA0KCXJlYWN0aW9uczogew0KCQkib3h5Z2VuIjogeyBlbGVtMTpudWxsLCBlbGVtMjoic3RlYW0iLCB0ZW1wTWluOjUwMCwgdGVtcE1heDozMDAwIH0sDQoJCSJoeWRyb2dlbiI6IHsgZWxlbTE6Im5ldXRyb24iLCBlbGVtMjoiaGVsaXVtIiwgdGVtcE1pbjoxMDAwMCwgdGVtcDE6MjAwMDAsIHRlbXAyOjIwMDAwIH0sDQoJCSJuaXRyb2dlbiI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im94eWdlbiIsIHRlbXBNaW46MTAwMDAgfSwNCgkJInN1bGZ1ciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImNobG9yaW5lIiwgdGVtcE1pbjoxMDAwMCB9LA0KCQkibmVvbiI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InNvZGl1bSIsIHRlbXBNaW46MTAwMDAgfSwNCgkJImZpcmUiOiB7IGVsZW0xOiJleHBsb3Npb24iLCBjaGFuY2U6MC4wMDUgfSwNCgkJImNhcmJvbl9kaW94aWRlIjogeyBlbGVtMTpbIm1ldGhhbmUiLG51bGxdLCBlbGVtMjoic3RlYW0iLCB0ZW1wTWluOjMwMCB9LA0KCQkiY2hhcmNvYWwiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJvaWwiLCB0ZW1wTWluOjQwMCwgY2hhbmNlOjAuMSB9DQoJfSwNCgljYXRlZ29yeTogImdhc2VzIiwNCglidXJuOiAxMDAsDQoJYnVyblRpbWU6IDIsDQoJYnVybkludG86IFsiZmlyZSIsImZpcmUiLCJmaXJlIiwiZmlyZSIsImZpcmUiLCJmaXJlIiwiZmlyZSIsImZpcmUiLCJmaXJlIiwiZmlyZSIsImZpcmUiLCJmaXJlIiwic3RlYW0iXSwNCglmaXJlQ29sb3I6ICIjNjM3OTgwIiwNCgl0ZW1wTG93OiAtMjUzLA0KCXN0YXRlTG93OiAibGlxdWlkX2h5ZHJvZ2VuIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4wODM3NSwNCgljb25kdWN0OiAwLjAyLA0KCWNvbG9yT246ICIjN2QxNWU1Ig0KfSwNCiJveHlnZW4iOiB7DQoJY29sb3I6ICIjOTljN2ZmIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkdBUywNCglyZWFjdGlvbnM6IHsNCgkJImNvcHBlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJicm9uemUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJveGlkaXplZF9jb3BwZXIiLCBjaGFuY2U6MC4wMjUgfSwNCgkJImlyb24iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJydXN0IiwgY2hhbmNlOjAuMDI1IH0sDQoJCSJzdGVlbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJ1c3QiLCBjaGFuY2U6MC4wMiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0xOiJmb2FtIiwgYXR0cjE6eyJjbG9uZSI6Im94eWdlbiJ9IH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMToiZm9hbSIsIGF0dHIxOnsiY2xvbmUiOiJveHlnZW4ifSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJmb2FtIiwgYXR0cjE6eyJjbG9uZSI6Im94eWdlbiJ9IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToiZm9hbSIsIGF0dHIxOnsiY2xvbmUiOiJveHlnZW4ifSB9LA0KCQkic29kYSI6IHsgZWxlbTE6ImZvYW0iLCBhdHRyMTp7ImNsb25lIjoib3h5Z2VuIn0gfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToiZm9hbSIsIGF0dHIxOnsiY2xvbmUiOiJveHlnZW4ifSB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJvem9uZSIsIGNoYW5jZTowLjAxLCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJIm96b25lIjogeyBlbGVtMTogIm96b25lIiwgY2hhbmNlOjAuMDEsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkibGlnaHQiOiB7IGVsZW0xOiAib3pvbmUiLCBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMywgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJwcm90b24iOiB7IGVsZW0xOiJmbGFzaCIsIGNvbG9yMToiI2UzNmQ4OCIsIGF0dHIxOntkZWxheTo1MDB9LCBlbGVtMjoiZmxhc2giLCBjb2xvcjI6IiNlMzZkODgiLCBhdHRyMjp7ZGVsYXk6NTAwfSwgY2hhbmNlOjAuMjUsICJ5IjpbMCwxMF0gfSwNCgkJInBhcGVyIjogeyBlbGVtMToiZnJhZ3JhbmNlIiwgY2hhbmNlOjAuMDA1IH0NCgl9LA0KCWNhdGVnb3J5OiAiZ2FzZXMiLA0KCS8vIGJ1cm46IDEwMCwNCgkvLyBidXJuVGltZTogMiwNCgl0ZW1wTG93OiAtMTgzLjk0LA0KCXN0YXRlTG93OiAibGlxdWlkX294eWdlbiIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEuMjkyDQp9LA0KIm5pdHJvZ2VuIjogew0KCWNvbG9yOiAiI2I4ZDFkNCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJcmVhY3Rpb25zOiB7DQoJCSJveHlnZW4iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJhbmVzdGhlc2lhIiwgdGVtcE1pbjoyNTAgfSwNCgkJImh5ZHJvZ2VuIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiYW1tb25pYSIgfSwNCgkJIm5lb24iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJjaGxvcmluZSIsIHRlbXBNaW46MTAwMDAgfSwNCgkJInByb3RvbiI6IHsgZWxlbTE6ImZsYXNoIiwgY29sb3IxOiIjODk1YWRiIiwgYXR0cjE6e2RlbGF5OjUwMH0sIGVsZW0yOiJmbGFzaCIsIGNvbG9yMjoiIzg5NWFkYiIsIGF0dHIyOntkZWxheTo1MDB9LCBjaGFuY2U6MC4wNSwgInkiOlswLDIwXSB9DQoJfSwNCgljYXRlZ29yeTogImdhc2VzIiwNCgl0ZW1wTG93OiAtMTk1LjgsDQoJc3RhdGVMb3c6ICJsaXF1aWRfbml0cm9nZW4iLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLjE2NQ0KfSwNCiJoZWxpdW0iOiB7DQoJY29sb3I6ICIjYTY5NDk0IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkdBUywNCgljYXRlZ29yeTogImdhc2VzIiwNCgl0ZW1wTG93OiAtMjcyLjIwLA0KCXN0YXRlTG93OiAibGlxdWlkX2hlbGl1bSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDAuMTc4NiwNCgljb25kdWN0OiAwLjAyLA0KCWNvbG9yT246ICIjZjFhMWZmIg0KfSwNCiJhbmVzdGhlc2lhIjogew0KCWNvbG9yOiAiI2QzZTFlMyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJdGVtcEhpZ2g6IDYwMCwNCglzdGF0ZUhpZ2g6IFsib3h5Z2VuIiwiZmlyZSJdLA0KCXRlbXBMb3c6IC04OC40OCwNCglzdGF0ZUxvdzogWyJuaXRyb2dlbiIsIm94eWdlbiJdLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMS45NzgxLA0KCWFsaWFzOiBbIm5pdHJvdXMgb3hpZGUiLCJhbmFlc3RoZXNpYSIsImFuZXN0aGV0aWMiXQ0KfSwNCiJjYXJib25fZGlveGlkZSI6IHsNCgljb2xvcjogIiMyZjJmMmYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuR0FTLA0KCXJlYWN0aW9uczogew0KCQkicGxhbnQiOiB7IGVsZW0xOiJveHlnZW4iIH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0xOiJveHlnZW4iIH0sDQoJCSJncmFzcyI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJImNhY3R1cyI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJImJhbWJvbyI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJImJhbWJvb19wbGFudCI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJInZpbmUiOiB7IGVsZW0xOiJveHlnZW4iIH0sDQoJCSJmbG93ZXJfc2VlZCI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJImdyYXNzX3NlZWQiOiB7IGVsZW0xOiJveHlnZW4iIH0sDQoJCSJhbGdhZSI6IHsgZWxlbTE6Im94eWdlbiIgfSwNCgkJImtlbHAiOiB7IGVsZW0xOiJveHlnZW4iIH0NCgl9LA0KCWNhdGVnb3J5OiAiZ2FzZXMiLA0KCXRlbXBMb3c6IC03OC41LA0KCXN0YXRlTG93OiAiZHJ5X2ljZSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEuOTc3LA0KCWFsaWFzOiBbIkNPMiIsIkNP4oKCIl0NCn0sDQoiYnViYmxlIjogew0KCWNvbG9yOiAiI2FmYzdmYSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfEZYJTF8TTElNSIsDQoJCSJYWHxNMSUxfE0xJTIiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAwMjUgfHwgKHBpeGVsLmNsb25lICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSkgew0KCQkJaWYgKHBpeGVsLmNsb25lKSB7DQoJCQkJY2hhbmdlUGl4ZWwocGl4ZWwscGl4ZWwuY2xvbmUpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSkNCgkJfQ0KCX0sDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJc3RhdGU6ICJnYXMiLA0KCWJyZWFrSW50bzogbnVsbCwNCgl0ZW1wSGlnaDogMjAwLA0KCXN0YXRlSGlnaDogbnVsbCwNCgl0ZW1wTG93OiAtMTAsDQoJc3RhdGVMb3c6IG51bGwsDQoJZGVuc2l0eTogMS4yOTQsDQoJc3RhaW46IC0wLjENCn0sDQoiYW1tb25pYSI6IHsNCgljb2xvcjogIiNiYWI2YTkiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuR0FTLA0KCWZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC50ZW1wID4gNjUwICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCxNYXRoLnJhbmRvbSgpIDwgMC41ID8gIm5pdHJvZ2VuIiA6ICJoeWRyb2dlbiIpOw0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJIm1ldGhhbmUiOiB7IGVsZW0xOlsiaHlkcm9nZW4iLCJ3YXRlciJdLCBlbGVtMjoiY3lhbmlkZV9nYXMiLCBjaGFuY2U6MC4yNSB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6InNhbHRfd2F0ZXIiLCBlbGVtMjoic2FsdF93YXRlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJwbGFudCI6IHsgZWxlbTE6InBsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJImV2ZXJncmVlbiI6IHsgZWxlbTE6ImV2ZXJncmVlbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJjYWN0dXMiOiB7IGVsZW0xOiJjYWN0dXMiLCBjaGFuY2U6MC4wNSB9LA0KCQkid2hlYXQiOiB7IGVsZW0xOiJ3aGVhdCIsIGNoYW5jZTowLjA1IH0sDQoJCSJ3aGVhdF9zZWVkIjogeyBlbGVtMToid2hlYXQiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZ3Jhc3MiOiB7IGVsZW0xOiJncmFzcyIsIGNoYW5jZTowLjA1IH0sDQoJCSJncmFzc19zZWVkIjogeyBlbGVtMToiZ3Jhc3MiLCBjaGFuY2U6MC4wNSB9LA0KCQkiYmFtYm9vX3BsYW50IjogeyBlbGVtMToiYmFtYm9vIiwgY2hhbmNlOjAuMDUgfSwNCgkJImZsb3dlcl9zZWVkIjogeyBlbGVtMToiZmxvd2VyX3NlZWQiLCBjaGFuY2U6MC4wNSB9LA0KCQkicGV0YWwiOiB7IGVsZW0xOiJmbG93ZXJfc2VlZCIsIGNoYW5jZTowLjA1IH0sDQoJCSJ2aW5lIjogeyBlbGVtMToidmluZSIsIGNoYW5jZTowLjA1IH0sDQoJCSJzYXBsaW5nIjogeyBlbGVtMToidHJlZV9icmFuY2giLCBjaGFuY2U6MC4wNSB9LA0KCQkidHJlZV9icmFuY2giOiB7IGVsZW0xOiJ0cmVlX2JyYW5jaCIsIGNoYW5jZTowLjA1IH0sDQoJCSJjb3JuX3NlZWQiOiB7IGVsZW0xOiJjb3JuIiwgY2hhbmNlOjAuMDUgfSwNCgkJInJvb3QiOiB7IGVsZW0xOiJyb290IiwgY2hhbmNlOjAuMDUgfSwNCgkJImRpcnQiOiB7IGVsZW0xOiJncmFzcyIsIGNoYW5jZTowLjA1IH0sDQoJCSJtdWQiOiB7IGVsZW0xOiJncmFzcyIsIGNoYW5jZTowLjA1IH0sDQoJCSJ3YXRlciI6IHsgZWxlbTE6ImFsZ2FlIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJrZWxwIjogeyBlbGVtMTpbImtlbHAiLCJhbGdhZSJdLCBjaGFuY2U6MC4wMDUgfSwNCgkJImNvcmFsIjogeyBlbGVtMToiY29yYWwiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInBvdGF0b19zZWVkIjogeyBlbGVtMToicG90YXRvIiwgY2hhbmNlOjAuMDUgfSwNCgkJInB1bXBraW5fc2VlZCI6IHsgZWxlbTE6InB1bXBraW4iLCBjaGFuY2U6MC4wNSB9LA0KCQkiaGVyYiI6IHsgZWxlbTE6ImhlcmIiLCBjaGFuY2U6MC4wNSB9LA0KCQkibGV0dHVjZSI6IHsgZWxlbTE6ImxldHR1Y2UiLCBjaGFuY2U6MC4wNSB9LA0KCQkieWVhc3QiOiB7IGVsZW0xOiJ5ZWFzdCIsIGNoYW5jZTowLjA1IH0sDQoJCSJmaXNoIjogeyBlbGVtMjoibWVhdCIsIGNoYW5jZTowLjA1IH0sDQoJCSJiaXJkIjogeyBlbGVtMjoibWVhdCIsIGNoYW5jZTowLjA1IH0sDQoJCSJmcm9nIjogeyBlbGVtMjoibWVhdCIsIGNoYW5jZTowLjA1IH0sDQoJCSJyYXQiOiB7IGVsZW0yOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjA1IH0NCgl9LA0KCXRlbXBMb3c6IC0zMy4zNCwNCgljYXRlZ29yeTogImdhc2VzIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC43Mw0KfSwNCiJsaXF1aWRfYW1tb25pYSI6IHsNCgl0ZW1wTG93OiAtNzcuNzgsDQoJZGVuc2l0eTogNjgxLjksDQp9LA0KIm9pbCI6IHsNCgljb2xvcjogIiM0NzBlMDAiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmICghcGl4ZWwuYnVybmluZyAmJiBwaXhlbC50ZW1wID4gOTAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDAxKSB7DQoJCQlpZiAocGl4ZWwudGVtcCA8IDE1MCkgeyBjaGFuZ2VQaXhlbChwaXhlbCwicHJvcGFuZSIpIH0NCgkJCWVsc2UgaWYgKHBpeGVsLnRlbXAgPCAzMDApIHsgY2hhbmdlUGl4ZWwocGl4ZWwsIm1vbHRlbl9wbGFzdGljIikgfQ0KCQkJZWxzZSB7IGNoYW5nZVBpeGVsKHBpeGVsLCJsYW1wX29pbCIpIH0NCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJkaXJ0IjogeyBlbGVtMTpudWxsLCBlbGVtMjoibXVkIiB9LA0KCQkic2FuZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6IndldF9zYW5kIiB9LA0KCQkic2FwIjogeyBlbGVtMToiZ3JlZWtfZmlyZSIsIGVsZW0yOiJncmVla19maXJlIiB9LA0KCQkid2F0ZXIiOiB7IGJ1cm5pbmcxOnRydWUsIGVsZW0yOiJleHBsb3Npb24iIH0sDQoJCSJzdGVhbSI6IHsgYnVybmluZzE6dHJ1ZSwgZWxlbTI6ImV4cGxvc2lvbiIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGJ1cm5pbmcxOnRydWUsIGVsZW0yOiJleHBsb3Npb24iIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgYnVybmluZzE6dHJ1ZSwgZWxlbTI6ImV4cGxvc2lvbiIgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBidXJuaW5nMTp0cnVlLCBlbGVtMjoiZXhwbG9zaW9uIiB9LA0KCQkicG9vbF93YXRlciI6IHsgYnVybmluZzE6dHJ1ZSwgZWxlbTI6ImV4cGxvc2lvbiIgfSwNCgkJInNlbHR6ZXIiOiB7IGJ1cm5pbmcxOnRydWUsIGVsZW0yOiJleHBsb3Npb24iIH0sDQoJCSJjb3JhbCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImh5ZHJvZ2VuIjogeyBlbGVtMToic3VsZnVyIiwgZWxlbTI6InN0ZWFtIiwgYnVybmluZzE6ZmFsc2UsIGJ1cm5pbmcyOmZhbHNlLCB0ZW1wTWluOjkwLCBjaGFuY2U6MC4xIH0sDQoJfSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXRlbXBIaWdoOiA1MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjogNSwNCglidXJuVGltZTogMzAwLA0KCWJ1cm5JbnRvOiBbImNhcmJvbl9kaW94aWRlIiwiZmlyZSJdLA0KCXZpc2Nvc2l0eTogMjUwLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA4MjUsDQoJc3RhaW46IDAuMDUsDQoJYWxpYXM6ICJwZXRyb2xldW0iDQp9LA0KImxhbXBfb2lsIjogew0KCWNvbG9yOiAiI2IzYjM4YiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPiA1MDAgJiYgIXBpeGVsLmJ1cm5pbmcpIHsNCgkJCXBpeGVsLmJ1cm5pbmcgPSB0cnVlOw0KCQkJcGl4ZWwuYnVyblN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJnbHVlIjoge2VsZW0yOm51bGwsIGNoYW5jZTowLjA1fSwNCgkJIndheCI6IHtlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDV9LA0KCQkibWVsdGVkX3dheCI6IHtlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjV9LA0KCQkiZGlydCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im11ZCIgfSwNCgkJInN0ZWFtIjogeyBidXJuaW5nMTp0cnVlLCBlbGVtMjoiZXhwbG9zaW9uIiB9DQoJfSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXRlbXBIaWdoOiAyMTAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXRlbXBMb3c6IC0zMCwNCglzdGF0ZUxvdzogIndheCIsDQoJYnVybjogNSwNCglidXJuVGltZTogMjAwMCwNCglidXJuSW50bzogWyJjYXJib25fZGlveGlkZSIsImZpcmUiXSwNCgl2aXNjb3NpdHk6IDMsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDg1MCwNCglhbGlhczogImtlcm9zZW5lIg0KfSwNCiJwcm9wYW5lIjogew0KCWNvbG9yOiAiI2NmY2ZjZiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJYmVoYXZpb3JPbjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8Q0g6ZmlyZXxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCgljb25kdWN0OiAwLjAxLA0KCWNhdGVnb3J5OiAiZ2FzZXMiLA0KCXRlbXBIaWdoOiA2MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJdGVtcExvdzogLTQzLA0KCWJ1cm46IDEwMCwNCglidXJuVGltZTogNSwNCglmaXJlQ29sb3I6IFsiIzAwZmZmZiIsIiMwMGZmZGQiXSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMi4wMDk4LA0KCWFsaWFzOiAiZ2FzIg0KfSwNCiJsaXF1aWRfcHJvcGFuZSI6IHsNCgl0ZW1wSGlnaDogLTQwLA0KCXN0YXRlSGlnaDogInByb3BhbmUiLA0KCXRlbXBMb3c6IC0xODgNCn0sDQoibWV0aGFuZSI6IHsNCgljb2xvcjogIiM5ZjlmOWYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuR0FTLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfENIOmZpcmV8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJY29uZHVjdDogMC4wMSwNCgljYXRlZ29yeTogImdhc2VzIiwNCgl0ZW1wSGlnaDogNTM3LA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXRlbXBMb3c6IC0xNjEuNSwNCglidXJuOiA4NSwNCglidXJuVGltZTogNSwNCglmaXJlQ29sb3I6IFsiIzAwZmZmZiIsIiMwMGZmZGQiXSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC41NTQNCn0sDQoibGlxdWlkX21ldGhhbmUiOiB7DQoJInRlbXBMb3ciOiAtMTgyDQp9LA0KInN0YWluZWRfZ2xhc3MiOiB7DQoJY29sb3I6IFsiIzZiMmUyZSIsIiM2YjRmMmUiLCIjNmI2YjJlIiwiIzJlNmIyZSIsIiMyZTZiNmIiLCIjMmUyZTZiIiwiIzZiMmU2YiJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglvblBsYWNlOiBiZWhhdmlvcnMuRE9fVElDSywNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5CT1JERVIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnN0YXJ0LTEgPD0gcGl4ZWxUaWNrcykgew0KCQkJaWYgKHBpeGVsLmNvbG9yc3RhcnQgPT09IHVuZGVmaW5lZCkgew0KCQkJCXBpeGVsLmNvbG9yc3RhcnQgPSBwaXhlbC5zdGFydDsNCgkJCX0NCgkJCXBpeGVsLmNvbG9yID0gImhzbCgiICsgcGl4ZWwuY29sb3JzdGFydCArICIsNDAlLDMwJSkiOw0KCQl9DQoJfSwNCgl0ZW1wSGlnaDogMTUwMCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjUwMCwNCglicmVha0ludG86ICJjb2xvcl9zYW5kIiwNCglub01peDogdHJ1ZSwNCgltb3ZhYmxlOiBmYWxzZSwNCglncmFpbjogMA0KfSwNCiJtb2x0ZW5fc3RhaW5lZF9nbGFzcyI6IHsNCgljb2xvcjogWyIjYzI3MDcwIiwiI2MyOWM3MCIsIiNjMmMyNzAiLCIjNzBjMjcwIiwiIzcwYzJjMiIsIiM3MDcwYzIiLCIjYzI3MGMyIl0sDQoJb25QbGFjZTogYmVoYXZpb3JzLkRPX1RJQ0ssDQoJYmVoYXZpb3I6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5zdGFydC0xIDw9IHBpeGVsVGlja3MpIHsNCgkJCWlmIChwaXhlbC5jb2xvcnN0YXJ0ID09PSB1bmRlZmluZWQpIHsNCgkJCQlwaXhlbC5jb2xvcnN0YXJ0ID0gcGl4ZWwuc3RhcnQ7DQoJCQl9DQoJCQlwaXhlbC5jb2xvciA9ICJoc2woIiArIHBpeGVsLmNvbG9yc3RhcnQgKyAiLDQwJSw2MCUpIjsNCgkJfQ0KDQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMjUgJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIHsNCgkJCWNyZWF0ZVBpeGVsKCJmaXJlIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLnRlbXAgPSBwaXhlbC50ZW1wOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5jb2xvciA9ICJoc2woIiArIHBpeGVsLmNvbG9yc3RhcnQgKyAiLDcwJSw3MCUpIjsNCgkJfQ0KCQliZWhhdmlvcnMuTElRVUlEKHBpeGVsKTsNCgl9DQp9LA0KImFydCI6IHsNCgljb2xvcjogIiNmZmZmZmYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuZWxlbWVudCA9PT0gInBhcGVyIikgew0KCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KQ0KCQl9DQoJfSwNCgljYW5QbGFjZTogdHJ1ZSwNCgljdXN0b21Db2xvcjogdHJ1ZSwNCgljYXRlZ29yeTogInNwZWNpYWwiDQp9LA0KInJhaW5ib3ciOiB7DQoJY29sb3I6IFsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXZhciB0ID0gcGl4ZWxUaWNrcytwaXhlbC54K3BpeGVsLnk7DQoJCXZhciByID0gTWF0aC5mbG9vcigxMjcqKDEtTWF0aC5jb3ModCpNYXRoLlBJLzkwKSkpOw0KCQl2YXIgZyA9IE1hdGguZmxvb3IoMTI3KigxLU1hdGguY29zKHQqTWF0aC5QSS85MCsyKk1hdGguUEkvMykpKTsNCgkJdmFyIGIgPSBNYXRoLmZsb29yKDEyNyooMS1NYXRoLmNvcyh0Kk1hdGguUEkvOTArNCpNYXRoLlBJLzMpKSk7DQoJCXBpeGVsLmNvbG9yID0gInJnYigiK3IrIiwiK2crIiwiK2IrIikiOw0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCW9uUGxhY2U6IGJlaGF2aW9ycy5ET19USUNLLA0KCWNhdGVnb3J5OiAic3BlY2lhbCIsDQoJbW92YWJsZTogZmFsc2UsDQoJYnJlYWtJbnRvOiAic3RhdGljIiwNCglmaXJlQ29sb3I6IFsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdDQp9LA0KInN0YXRpYyI6IHsNCgljb2xvcjogWyIjZmZmZmZmIiwiIzg4ODg4OCIsIiMwMDAwMDAiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgY29vcmRzID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCQl2YXIgeCA9IHBpeGVsLnggKyBjb29yZHNbMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkgKyBjb29yZHNbMV07DQoJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQgPT09ICJyYWluYm93IiAmJiBwaXhlbC5zdGFydCAhPT0gcGl4ZWxUaWNrcykgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLCJyYWluYm93Iik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQl9DQoJCXZhciB0b3AgPSBtb3VzZVBvcy55IC0gTWF0aC5mbG9vcihtb3VzZVNpemUvMik7DQoJCXZhciBib3R0b20gPSBtb3VzZVBvcy55ICsgTWF0aC5mbG9vcihtb3VzZVNpemUvMik7DQoJCXZhciBsZWZ0ID0gbW91c2VQb3MueCAtIE1hdGguZmxvb3IobW91c2VTaXplLzIpOw0KCQl2YXIgcmlnaHQgPSBtb3VzZVBvcy54ICsgTWF0aC5mbG9vcihtb3VzZVNpemUvMik7DQoJCWlmIChwaXhlbC54ID4gbGVmdCAmJiBwaXhlbC54IDwgcmlnaHQgJiYgcGl4ZWwueSA+IHRvcCAmJiBwaXhlbC55IDwgYm90dG9tKSB7DQoJCQlwaXhlbC5jb2xvciA9IGNob29zZShbIiNmZmZmZmYiLCIjODg4ODg4Il0pOw0KCQl9DQoJCWVsc2Ugew0KCQkJcGl4ZWwuY29sb3IgPSBjaG9vc2UoWyIjZmZmZmZmIiwiIzg4ODg4OCIsIiMwMDAwMDAiXSk7DQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCglvblBsYWNlOiBiZWhhdmlvcnMuRE9fVElDSywNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCWNvbmR1Y3Q6IDEsDQoJbW92YWJsZTogZmFsc2UsDQoJYnJlYWtJbnRvOiAibWFsd2FyZSIsDQoJZmlyZUNvbG9yOiBbIiNmZmZmZmYiLCIjYmZiZmJmIiwiIzg4ODg4OCIsIiM0MDQwNDAiLCIjMDAwMDAwIl0NCn0sDQoiYm9yZGVyIjogew0KCWNvbG9yOiBbIiMwMGZmZmYiLCIjMDAwMDAwIiwiIzAwZmZmZiIsIiMwMDAwMDAiLCIjMDBmZmZmIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnN0YXJ0ID09PSBwaXhlbFRpY2tzKSB7DQoJCQlwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLCIjMDBmZmZmIik7DQoJCX0NCgkJdmFyIHQgPSBwaXhlbFRpY2tzLzIrcGl4ZWwueCtwaXhlbC55Ow0KCQl2YXIgciA9IE1hdGguZmxvb3IoMTI3Kk1hdGguc2luKHQvMS41KSk7DQoJCXBpeGVsLmFscGhhID0gTWF0aC5tYXgoMCxyLzEyNyk7DQoJfSwNCglvblBsYWNlOiBiZWhhdmlvcnMuRE9fVElDSywNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCWhhcmRuZXNzOiAxLA0KCWluc3VsYXRlOiB0cnVlLA0KCW1vdmFibGU6IGZhbHNlLA0KfSwNCiJjbGF5Ijogew0KCWNvbG9yOiAiI2Q0YzU5YyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBQT1JULA0KCXJlYWN0aW9uczogew0KCQkiZGlydCI6IHsgZWxlbTE6ImNsYXlfc29pbCIsIGVsZW0yOiJjbGF5X3NvaWwiIH0sDQoJCSJncmF2ZWwiOiB7IGVsZW0xOiJjbGF5X3NvaWwiLCBlbGVtMjoiY2xheV9zb2lsIiB9LA0KCQkiYnJpY2tfcnViYmxlIjogeyBlbGVtMToiY2xheV9zb2lsIiwgZWxlbTI6ImNsYXlfc29pbCIgfSwNCgkJInF1aWNrbGltZSI6IHsgZWxlbTE6ImNlbWVudCIsIGVsZW0yOiJjZW1lbnQiIH0NCgl9LA0KCXRlbXBIaWdoOiAxMzUsDQoJc3RhdGVIaWdoOiAiYmFrZWRfY2xheSIsDQoJdGVtcExvdzogLTUwLA0KCXN0YXRlTG93OiAiY2xheV9zb2lsIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE3NjANCn0sDQoiY2xheV9zb2lsIjogew0KCWNvbG9yOiBbIiNmNDlhNmYiLCIjYWI3MTYwIiwiI2I1NmM1MiJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJNMiUyNXxNMXxNMiUyNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkic2FsdF93YXRlciI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJInN1Z2FyX3dhdGVyIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkic2VsdHplciI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImRpcnR5X3dhdGVyIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkicG9vbF93YXRlciI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJInNsdXNoIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkic29kYSI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImp1aWNlIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkibWlsayI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImNob2NvbGF0ZV9taWxrIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkiZnJ1aXRfbWlsayI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJInBpbGsiOntlbGVtMToiY2xheSIsZWxlbTI6bnVsbH0sDQoJCSJlZ2dub2ciOntlbGVtMToiY2xheSIsZWxlbTI6bnVsbH0sDQoJCSJudXRfbWlsayI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImNyZWFtIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkidmluZWdhciI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImJsb29kIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkidmFjY2luZSI6e2VsZW0xOiJjbGF5IixlbGVtMjpudWxsfSwNCgkJImFudGlib2R5Ijp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkiaW5mZWN0aW9uIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkicG9pc29uIjp7ZWxlbTE6ImNsYXkiLGVsZW0yOm51bGx9LA0KCQkiYW50aWRvdGUiOntlbGVtMToiY2xheSIsZWxlbTI6bnVsbH0NCgl9LA0KCXRlbXBIaWdoOiAxNDAsDQoJc3RhdGVIaWdoOiAiYnJpY2siLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTYwMA0KfSwNCiJicmljayI6IHsNCgljb2xvcjogIiNjYjQxNDEiLA0KCWJ1dHRvbkNvbG9yOiBbIiNlMDU1NTUiLCIjY2I0MTQxIiwiI2E2MmUyZSJdLA0KCWNvbG9yUGF0dGVybjogdGV4dHVyZXMuQlJJQ0ssDQoJY29sb3JLZXk6IHsNCgkJImwiOiAiI2UwNTU1NSIsDQoJCSJyIjogIiNjYjQxNDEiLA0KCQkiZCI6ICIjYTYyZTJlIiwNCgkJInciOiAiI2JhYmFiYSJ9LA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJdGVtcEhpZ2g6IDE1NDAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTY1MCwNCgloYXJkbmVzczogMC4zMywNCglicmVha0ludG86ICJicmlja19ydWJibGUiDQp9LA0KInJ1aW5zIjogew0KCWNvbG9yOiAiIzVjNWM1YyIsDQoJYnV0dG9uQ29sb3I6IFsiIzVjNWM1YyIsIiM0NzQ3NDciLCIjMzgzODM4Il0sDQoJY29sb3JQYXR0ZXJuOiB0ZXh0dXJlcy5CUklDSywNCgljb2xvcktleTogew0KCQkibCI6ICIjNWM1YzVjIiwNCgkJInIiOiAiIzQ3NDc0NyIsDQoJCSJkIjogIiMzODM4MzgiLA0KCQkidyI6ICIjMjEyMTIxIn0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFNQfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yJTF8TTF8TTIlMSINCgldLA0KCXJlYWN0aW9uczogew0KCQkiZmlyZSI6IHsgZWxlbTE6ImdyYXZlbCIsIGNoYW5jZTowLjAwNSB9LA0KCQkic21va2UiOiB7IGVsZW0xOiJncmF2ZWwiLCBjaGFuY2U6MC4wMDIgfSwNCgkJInNtb2ciOiB7IGVsZW0xOiJncmF2ZWwiLCBjaGFuY2U6MC4wMDggfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToiZHVzdCIsIGNvbG9yMTpbIiM0MjQyNDIiLCIjNGE0YTRhIiwiIzc4Nzg3OCJdLCBjaGFuY2U6MC4wMDEgfSwNCgkJImJvZHkiOiB7IGVsZW0xOiJkdXN0IiwgY29sb3IxOlsiIzQyNDI0MiIsIiM0YTRhNGEiLCIjNzg3ODc4Il0sIGNoYW5jZTowLjAwMSB9DQoJfSwNCgl0ZW1wSGlnaDogMTUwMCwNCglzdGF0ZUhpZ2g6ICJtYWdtYSIsDQoJY2F0ZWdvcnk6InNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjQwMCwNCgloYXJkbmVzczogMC4zMywNCglicmVha0ludG86ICJkdXN0IiwNCglicmVha0ludG9Db2xvcjogWyIjNDI0MjQyIiwiIzRhNGE0YSIsIiM3ODc4NzgiXSwNCgltb3ZhYmxlOiBmYWxzZQ0KfSwNCiJhZG9iZSI6IHsNCgljb2xvcjogIiM4YTYyNDkiLA0KCWJ1dHRvbkNvbG9yOiBbIiM5ODZjNTEiLCIjOGE2MjQ5IiwiIzdmNTk0MyJdLA0KCWNvbG9yUGF0dGVybjogdGV4dHVyZXMuQlJJQ0ssDQoJY29sb3JLZXk6IHsNCgkJImwiOiAiIzk4NmM1MSIsDQoJCSJyIjogIiM4YTYyNDkiLA0KCQkiZCI6ICIjN2Y1OTQzIiwNCgkJInciOiAiIzYzNDkzMyJ9LA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJdGVtcEhpZ2g6IDEyMDAsDQoJc3RhdGVIaWdoOiAibW9sdGVuX2RpcnQiLA0KCWhhcmRuZXNzOiAwLjMzLA0KCWJyZWFrSW50bzogWyJkaXJ0IiwiZGlydCIsImRpcnQiLCJkaXJ0IiwiZGlydCIsImZsb3VyIl0sDQoJYWxpYXM6ICJtdWQgYnJpY2siDQp9LA0KInNhcGxpbmciOiB7DQoJY29sb3I6ICIjM2U5YzNlIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDIgJiYgcGl4ZWwuYWdlID4gNTAgJiYgcGl4ZWwudGVtcCA8IDEwMCkgew0KCQkJCWlmICghb3V0T2ZCb3VuZHMocGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQkJCXZhciBkaXJ0UGl4ZWwgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdOw0KCQkJCQlpZiAoZGlydFBpeGVsICYmIChlTGlzdHMuU09JTC5pbmRleE9mKGRpcnRQaXhlbC5lbGVtZW50KSAhPT0gLTEgfHwgZGlydFBpeGVsLmVsZW1lbnQgPT09ICJncmFzcyIpKSB7DQoJCQkJCQljaGFuZ2VQaXhlbChkaXJ0UGl4ZWwsInJvb3QiKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAoaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIHsNCgkJCQkJaWYgKCFwaXhlbC53Yykgew0KCQkJCQkJdmFyIGMgPSBNYXRoLnJhbmRvbSgpOw0KCQkJCQkJaWYgKGMgPCAwLjAxKSB7IHBpeGVsLndjPSIjNjMyZTFmIjsgcGl4ZWwubGM9IiNmZjdhZDMiIH0gLy9jaGVycnkNCgkJCQkJCWVsc2UgaWYgKGMgPCAwLjA1KSB7IHBpeGVsLndjPSIjNjMyYTBkIjsgcGl4ZWwubGM9IiNkNWViY2UiIH0gLy93aGl0ZQ0KCQkJCQkJZWxzZSBpZiAoYyA8IDAuMSkgeyBwaXhlbC53Yz0iIzRhMjgxOCI7IHBpeGVsLmxjPSIjOTkwMDAwIiB9IC8vcmVkDQoJCQkJCQllbHNlIGlmIChjIDwgMC4yKSB7IHBpeGVsLndjPSIjNWMzMTFmIjsgcGl4ZWwubGM9IiNjMjQwMDgiIH0gLy9mYWxsDQoJCQkJCQllbHNlIGlmIChjIDwgMC4zKSB7IHBpeGVsLndjPSIjODI0NDI3IjsgcGl4ZWwubGM9IiNiNThiMGQiIH0gLy9nb2xkDQoJCQkJCQllbHNlIGlmIChjIDwgMC40KSB7IHBpeGVsLndjPSIjNDcxYjA1IjsgcGl4ZWwubGM9IiMxNTc1MTUiIH0gLy9kYXJrDQoJCQkJCQllbHNlIGlmIChjIDwgMC40NSkgeyBwaXhlbC53Yz0iI2EwNTIyZCI7IHBpeGVsLmxjPSIjNTFhOTUzIiB9IC8vcGFsZQ0KCQkJCQkJZWxzZSBpZiAoYyA8IDAuNSkgeyBwaXhlbC53Yz0iI2MyYzFiYSI7IHBpeGVsLmxjPSIjN2FiMzFlIiB9IC8vYmlyY2gNCgkJCQkJCWVsc2UgeyBwaXhlbC53Yz0iI2EwNTIyZCI7IHBpeGVsLmxjPSIjMDBiZjAwIiB9IC8vYmFzaWMNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIHBpeGVsLmxjKTsNCgkJCQkJfQ0KCQkJCQltb3ZlUGl4ZWwocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEpOw0KCQkJCQljcmVhdGVQaXhlbChNYXRoLnJhbmRvbSgpID4gMC41ID8gIndvb2QiIDogInRyZWVfYnJhbmNoIixwaXhlbC54LHBpeGVsLnkrMSk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0ud2MgPSBwaXhlbC53YzsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5sYyA9IHBpeGVsLmxjOw0KCQkJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXSwgcGl4ZWwud2MpOw0KCQkJCX0NCgkJCX0NCgkJCWVsc2UgaWYgKHBpeGVsLmFnZSA+IDEwMDAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDUpIHsNCgkJCQljaGFuZ2VQaXhlbChwaXhlbCwid29vZCIpOw0KCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIHBpeGVsLndjKTsNCgkJCX0NCgkJCXBpeGVsLmFnZSsrOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcHJvcGVydGllczogew0KCQkiYWdlIjowDQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImRlYWRfcGxhbnQiLA0KCXRlbXBMb3c6IC0yLA0KCXN0YXRlTG93OiAiZnJvemVuX3BsYW50IiwNCglidXJuOiA2NSwNCglidXJuVGltZTogMTUsDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNTAwLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJc2VlZDogdHJ1ZQ0KfSwNCiJwaW5lY29uZSI6IHsNCgljb2xvcjogWyIjNWMzZTMzIiwiIzQ3MmYyNyIsIiMzMTIxMWIiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpICYmIHBpeGVsVGlja3MtcGl4ZWwuc3RhcnQgPiA1MCkgew0KCQkJaWYgKHBpeGVsLmggPT09IHVuZGVmaW5lZCkgeyAvLyBzZXQgdG8gZXZlbiBudW1iZXIgYmV0d2VlbiA2IGFuZCAyMA0KCQkJCXBpeGVsLmggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNykqMis2Ow0KCQkJfQ0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAyICYmIHBpeGVsLmggPiAwICYmIHBpeGVsLnRlbXAgPCAxMDApIHsNCgkJCQlpZiAoIW91dE9mQm91bmRzKHBpeGVsLngscGl4ZWwueSsxKSkgeyAvLyBncm93IHJvb3RzDQoJCQkJCXZhciBkaXJ0UGl4ZWwgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdOw0KCQkJCQlpZiAoZGlydFBpeGVsICYmIChlTGlzdHMuU09JTC5pbmRleE9mKGRpcnRQaXhlbC5lbGVtZW50KSAhPT0gLTEgIHx8IGRpcnRQaXhlbC5lbGVtZW50ID09PSAiZ3Jhc3MiKSkgew0KCQkJCQkJY2hhbmdlUGl4ZWwoZGlydFBpeGVsLCJyb290Iik7DQoJCQkJCX0NCgkJCQl9DQoJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpICYmIHRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEpKSB7DQoJCQkJCWlmIChwaXhlbC5oICUgMiAmJiBwaXhlbC5oIDwgMTIpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJldmVyZ3JlZW4iLHBpeGVsLngscGl4ZWwueSsxKTsNCgkJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uaCA9IHBpeGVsLmg7DQoJCQkJCX0NCgkJCQkJZWxzZSB7DQoJCQkJCQljcmVhdGVQaXhlbCgid29vZCIscGl4ZWwueCxwaXhlbC55KzEpOw0KCQkJCQl9DQoJCQkJCXBpeGVsLmggLS07DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSBpZiAocGl4ZWwuaCA9PT0gMCkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLCJldmVyZ3JlZW4iKTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXRlbXBIaWdoOiA1MDAsDQoJc3RhdGVIaWdoOiAid29vZCIsDQoJYnVybjogNSwNCglidXJuVGltZTogMTAwLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUwMCwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCXNlZWQ6IHRydWUNCn0sDQoiZXZlcmdyZWVuIjogew0KCWNvbG9yOiAiIzAwNjMwMCIsDQoJdGljazogZnVuY3Rpb24gKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5oID4gMCAmJiBwaXhlbFRpY2tzICUgKDUwK3BpeGVsLmgpID09PSAwKSB7DQoJCQkvLyBleHRlbmQgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0LCBnaXZpbmcgdGhlIG5leHQgZXZlcmdyZWVuIGgtMQ0KCQkJaWYgKGlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnkpKSB7DQoJCQkJY3JlYXRlUGl4ZWwoImV2ZXJncmVlbiIscGl4ZWwueC0xLHBpeGVsLnkpOw0KCQkJCXBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueV0uaCA9IHBpeGVsLmgtMjsNCgkJCX0NCgkJCWlmIChpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55KSkgew0KCQkJCWNyZWF0ZVBpeGVsKCJldmVyZ3JlZW4iLHBpeGVsLngrMSxwaXhlbC55KTsNCgkJCQlwaXhlbE1hcFtwaXhlbC54KzFdW3BpeGVsLnldLmggPSBwaXhlbC5oLTI7DQoJCQl9DQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX3BsYW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDM1IH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYmxlYWNoIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9DQoJfSwNCgljYXRlZ29yeToibGlmZSIsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJkZWFkX3BsYW50IiwNCglidXJuOjQ1LA0KCWJ1cm5UaW1lOjc1LA0KCWJ1cm5JbnRvOiBbImRlYWRfcGxhbnQiLCJkZWFkX3BsYW50IiwiZGVhZF9wbGFudCIsImRlYWRfcGxhbnQiLCJwaW5lY29uZSJdLA0KCWJyZWFrSW50bzogWyJkZWFkX3BsYW50IiwiZGVhZF9wbGFudCIsImRlYWRfcGxhbnQiLCJkaXJ0Iiwic2FwIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTA1MCwNCglzZWVkOiAicGluZWNvbmUiLA0KCWhpZGRlbjogdHJ1ZSwNCgltb3ZhYmxlOiBmYWxzZQ0KfSwNCiJjYWN0dXMiOiB7DQoJY29sb3I6IFsiIzc4YTMzZSIsIiM4NGI1NDMiLCIjY2NlMzdiIiwiIzg0YjU0MyIsIiM3OGEzM2UiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQliZWhhdmlvcnMuU0VFRFJJU0UocGl4ZWwpOw0KCQlpZiAoIXBpeGVsLnN0YWdlKSB7DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAyICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSB7DQoJCQkJCWNyZWF0ZVBpeGVsKCJjYWN0dXMiLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5zdGFnZSA9IDA7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uaCA9IChwaXhlbC5ofHwwKSsxOw0KCQkJCQlwaXhlbC5zdGFnZSA9IDE7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAwMjUpIHsNCgkJCQkJcGl4ZWwuc3RhZ2UgPSAyOw0KCQkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMjUpIHsNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsICIjRTAwMDdCIikNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5zdGFnZSA9PT0gMSkgeyAvLyBjcmVhdGUgc2lkZXMgb3Igc3RvcA0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAyKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjE1ICYmIHBpeGVsLmgpIHsgLy8gY3JlYXRlIHNpZGUNCgkJCQkJdmFyIG54ID0gcGl4ZWwueCArIChNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxKTsNCgkJCQkJaWYgKGlzRW1wdHkobngscGl4ZWwueSkpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJjYWN0dXMiLG54LHBpeGVsLnkpOw0KCQkJCQkJcGl4ZWxNYXBbbnhdW3BpeGVsLnldLnN0YWdlID0gMzsNCgkJCQkJCXBpeGVsLnN0YWdlID0gMjsNCgkJCQkJfQ0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJcGl4ZWwuc3RhZ2UgPSAyOyAvLyBkbyBub3RoaW5nDQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsLnN0YWdlID09PSAzKSB7IC8vIGp1c3QgZ3JvdyBvbmUgdG8gdGhlIHNpZGUNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQkJCXZhciBueCA9IG51bGw7DQoJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCsxLHBpeGVsLnkpKSB7IG54PXBpeGVsLngrMTsgfQ0KCQkJCWVsc2UgaWYgKGlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnkpKSB7IG54PXBpeGVsLngtMTsgfQ0KCQkJCWlmIChueCkgew0KCQkJCQljcmVhdGVQaXhlbCgiY2FjdHVzIixueCxwaXhlbC55KTsNCgkJCQkJcGl4ZWxNYXBbbnhdW3BpeGVsLnldLnN0YWdlID0gNDsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwuc3RhZ2UgPT09IDQpIHsgLy8gZ3JvdyBhIGJpdA0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAyKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjY2KSB7IC8vIGdyb3cgdXANCgkJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTIpKSB7DQoJCQkJCQljcmVhdGVQaXhlbCgiY2FjdHVzIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQkJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLnN0YWdlID0gNDsNCgkJCQkJCXBpeGVsLnN0YWdlID0gMjsNCgkJCQkJfQ0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJcGl4ZWwuc3RhZ2UgPSAyOyAvLyBkbyBub3RoaW5nDQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJkZWFkX3BsYW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDM1IH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTE6ImRlYWRfcGxhbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYmxlYWNoIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToiZGVhZF9wbGFudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzNSB9DQoJfSwNCgl0ZW1wSGlnaDogMjUwLA0KCXN0YXRlSGlnaDogWyJkZWFkX3BsYW50IiwiZGVhZF9wbGFudCIsImRlYWRfcGxhbnQiLCJkZWFkX3BsYW50IiwiZGVhZF9wbGFudCIsInN0ZWFtIl0sDQoJdGVtcExvdzogLTUsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJyZWFrSW50bzogW251bGwsbnVsbCxudWxsLCJzYXAiXSwNCglicmVha0ludG9Db2xvcjogIiNEN0UxRDkiLA0KCWJ1cm46IDEwLA0KCWJ1cm5UaW1lOiAzMDAsDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2MDAsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglzZWVkOiB0cnVlDQp9LA0KImtlbHAiOiB7DQoJY29sb3I6IFsiI2IyYjUxYiIsIiM4NDljMDAiLCIjNjQ4MjAwIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQl0cnlNb3ZlKHBpeGVsLHBpeGVsLngscGl4ZWwueSsxKTsNCgkJfQ0KCQllbHNlIGlmICghcGl4ZWwuc3RhZ2UpIHsNCgkJCWlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCQlpZiAoIXBpeGVsLnN0YWdlICYmICFpc0VtcHR5KHBpeGVsLngscGl4ZWwueSsxLHRydWUpKSB7DQoJCQkJCXZhciBiZWxvdyA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV07DQoJCQkJCWlmIChiZWxvdy5lbGVtZW50ID09PSAia2VscCIpIHsNCgkJCQkJCWlmIChiZWxvdy5zdGFnZSkgcGl4ZWwuc3RhZ2UgPSAxOw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKGVsZW1lbnRzW2JlbG93LmVsZW1lbnRdLnN0YXRlICE9PSAibGlxdWlkIiAmJiAhZWxlbWVudHNbYmVsb3cuZWxlbWVudF0uZm9vZE5lZWQpIHsNCgkJCQkJCXBpeGVsLnN0YWdlID0gMTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAob3V0T2ZCb3VuZHMocGl4ZWwueCxwaXhlbC55KzEpKSBwaXhlbC5zdGFnZSA9IDE7DQoJCQl9DQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwuc3RhZ2UgPT09IDEpIHsNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSkgeyAvL2dyb3cNCgkJCQl2YXIgbmV3UGl4ZWwgPSBudWxsOw0KCQkJCWlmICghaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSx0cnVlKSkgew0KCQkJCQl2YXIgYWJvdmUgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdOw0KCQkJCQlpZiAoZWxlbWVudHNbYWJvdmUuZWxlbWVudF0uc3RhdGUgPT09ICJsaXF1aWQiKSBuZXdQaXhlbCA9IGFib3ZlDQoJCQkJfQ0KCQkJCWlmICghaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSx0cnVlKSkgew0KCQkJCQl2YXIgYmVsb3cgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdOw0KCQkJCQlpZiAoZWxlbWVudHNbYmVsb3cuZWxlbWVudF0uc3RhdGUgPT09ICJsaXF1aWQiKSBuZXdQaXhlbCA9IGJlbG93DQoJCQkJfQ0KCQkJCWlmIChuZXdQaXhlbCkgew0KCQkJCQljaGFuZ2VQaXhlbChuZXdQaXhlbCwia2VscCIpOw0KCQkJCQluZXdQaXhlbC5zdGFnZSA9IDE7DQoJCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4xKSB7DQoJCQkJCQl2YXIgbnggPSBwaXhlbC54ICsgKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDEpOw0KCQkJCQkJaWYgKCFpc0VtcHR5KG54LHBpeGVsLnksdHJ1ZSkgJiYgZWxlbWVudHNbcGl4ZWxNYXBbbnhdW3BpeGVsLnldLmVsZW1lbnRdLnN0YXRlID09PSAibGlxdWlkIikgew0KCQkJCQkJCWNoYW5nZVBpeGVsKHBpeGVsTWFwW254XVtwaXhlbC55XSwia2VscCIpOw0KCQkJCQkJCXBpeGVsTWFwW254XVtwaXhlbC55XS5zdGFnZSA9IDI7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQllbHNlIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSkgdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkNCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCWNhdGVnb3J5OiJsaWZlIiwNCgl0ZW1wSGlnaDogODAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJc3RhdGVIaWdoQ29sb3I6ICIjMjMyRjE3IiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiZnJvemVuX3BsYW50IiwNCglidXJuOjEsDQoJYnVyblRpbWU6MTAwLA0KCWJyZWFrSW50bzogImRlYWRfcGxhbnQiLA0KCWJyZWFrSW50b0NvbG9yOiAiIzIzMkYxNyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglkZW5zaXR5OiAxNTAwLA0KCXNlZWQ6ICJrZWxwIg0KfSwNCiJjb3JhbCI6IHsNCgljb2xvcjogWyIjZmY3ZDdkIiwiI2ZmOWU4MCIsIiNmZmU4ODAiLCIjODBmZjhkIiwiI2JmODBmZiIsIiNmZjgwZWMiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoKHBpeGVsLnN0YWdlICE9PSB1bmRlZmluZWQgfHwgIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQkJbGV0IGJlbG93ID0gbnVsbDsNCgkJCWlmICghaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSx0cnVlKSkgew0KCQkJCWJlbG93ID0gcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXTsNCgkJCX0NCgkJCWlmIChwaXhlbC5zdGFnZSA9PT0gLTEpIHt9DQoJCQllbHNlIGlmIChwaXhlbC5zdGFnZSAhPT0gdW5kZWZpbmVkIHx8IGJlbG93ID09PSBudWxsIHx8IChlbGVtZW50c1tiZWxvdy5lbGVtZW50XS5zdGF0ZSAhPT0gImxpcXVpZCIgJiYgZWxlbWVudHNbYmVsb3cuZWxlbWVudF0uZm9vZE5lZWQgPT09IHVuZGVmaW5lZCkpIHsNCgkJCQlpZiAocGl4ZWwubiA9PT0gdW5kZWZpbmVkKSBwaXhlbC5uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyktMTsNCgkJCQlpZiAocGl4ZWwubjIgPT09IHVuZGVmaW5lZCkgcGl4ZWwubjIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKS0xOw0KCQkJCWlmIChwaXhlbC5sYyA9PT0gdW5kZWZpbmVkICYmIHBpeGVsLmNvbG9yLmluZGV4T2YoInJnYiIpICE9PSAtMSkgew0KCQkJCQlsZXQgcmdiID0gcGl4ZWwuY29sb3IubWF0Y2goL1xkKy9nKTsNCgkJCQkJcGl4ZWwubGMgPSBSR0JUb0hleChyZ2IpOw0KCQkJCX0NCgkJCQlpZiAoKCFwaXhlbC5zdGFnZSB8fCBwaXhlbC5zdGFnZSA8IDIwKSkgew0KCQkJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCtwaXhlbC5uLCBwaXhlbC55LTEsIHRydWUpKSB7DQoJCQkJCQlsZXQgbmV3UGl4ZWwgPSBwaXhlbE1hcFtwaXhlbC54K3BpeGVsLm5dW3BpeGVsLnktMV07DQoJCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0ubW92YWJsZSAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5zdGF0ZSA9PT0gImxpcXVpZCIpIHsNCgkJCQkJCQljaGFuZ2VQaXhlbChuZXdQaXhlbCwiY29yYWwiKTsNCgkJCQkJCQluZXdQaXhlbC5zdGFnZSA9IChwaXhlbC5zdGFnZXx8MCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1ICsgMSk7DQoJCQkJCQkJbmV3UGl4ZWwubGMgPSBwaXhlbC5sYzsNCgkJCQkJCQluZXdQaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKG5ld1BpeGVsLHBpeGVsLmxjKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlpZiAocGl4ZWwubjIgIT09IDAgJiYgIWlzRW1wdHkocGl4ZWwueCtwaXhlbC5uMiwgcGl4ZWwueS0xLCB0cnVlKSkgew0KCQkJCQkJbGV0IG5ld1BpeGVsID0gcGl4ZWxNYXBbcGl4ZWwueCtwaXhlbC5uMl1bcGl4ZWwueS0xXTsNCgkJCQkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5tb3ZhYmxlICYmIGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YXRlID09PSAibGlxdWlkIikgew0KCQkJCQkJCWNoYW5nZVBpeGVsKG5ld1BpeGVsLCJjb3JhbCIpOw0KCQkJCQkJCW5ld1BpeGVsLnN0YWdlID0gKHBpeGVsLnN0YWdlfHwwKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUgKyAxKTsNCgkJCQkJCQluZXdQaXhlbC5sYyA9IHBpeGVsLmxjOw0KCQkJCQkJCW5ld1BpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2sobmV3UGl4ZWwscGl4ZWwubGMpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWlmIChwaXhlbC5vcmlnQ29sb3IpIGRlbGV0ZSBwaXhlbC5vcmlnQ29sb3I7DQoJCWlmIChwaXhlbC50ZW1wID4gODApIHsNCgkJCXN0YWluUGl4ZWwocGl4ZWwsIiNjY2NjY2MiLDAuMDUpOw0KCQkJbGV0IHJnYiA9IHBpeGVsLmNvbG9yLm1hdGNoKC9cZCsvZyk7DQoJCQlwaXhlbC5sYyA9IFJHQlRvSGV4KHJnYik7DQoJCX0NCgkJaWYgKHBpeGVsLnRlbXAgPiAxNTAgJiYgcGl4ZWwuc3RhZ2UgIT09IC0xKSB7DQoJCQlwaXhlbC5zdGFnZSA9IC0xOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJveHlnZW4iOiB7IGVsZW0yOiJjYXJib25fZGlveGlkZSIsIGNoYW5jZTowLjUgfQ0KCX0sDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJZGFya1RleHQ6IHRydWUsDQoJZGVuc2l0eTogMTUwMCwNCglncmFpbjogNSwNCglzZWVkOiAiY29yYWwiLA0KCXRlbXBIaWdoOiA4MjUsDQoJc3RhdGVIaWdoOiAicXVpY2tsaW1lIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAibGltZXN0b25lIiwNCglicmVha0ludG86ICJzYW5kIiwNCgloYXJkbmVzczogMC4yNSwNCglmb3JjZVNhdmVDb2xvcjogdHJ1ZQ0KfSwNCiJzZWVkcyI6IHsNCgljb2xvcjogWyIjMzU5MTAwIiwiIzc0YjMzMiIsIiNiOWQ0NjEiLCIjZGVkZTdhIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsgDQoJCS8vIENob29zZSByYW5kb21seSBmcm9tIGVMaXN0cy5TRUVEUw0KCQljaGFuZ2VQaXhlbChwaXhlbCxlTGlzdHMuU0VFRFNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmVMaXN0cy5TRUVEUy5sZW5ndGgpXSk7DQoJfSwNCglvblBsYWNlOiBiZWhhdmlvcnMuRE9fVElDSywNCgljYXRlZ29yeTogImxpZmUiLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJc2VlZDogdHJ1ZQ0KfSwNCiJncmFzc19zZWVkIjogew0KCWNvbG9yOiBbIiM0Mzk4MDkiLCIjMjU4YjA4IiwiIzExODUxMSIsIiMxMjdiMTIiLCIjMTM2ZDE0Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0yJTAuMDV8WFgiLA0KCQkiWFh8TDI6Z3Jhc3N8WFgiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLlNFRURSSVNFLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46IDUwLA0KCWJ1cm5UaW1lOiAyMCwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE0MDAsDQoJYnJlYWtJbnRvOiBudWxsLA0KCWhpZGRlbjogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCXNlZWQ6IHRydWUNCn0sDQoid2hlYXRfc2VlZCI6IHsNCgljb2xvcjogIiNiNmM5ODEiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxNMiUwLjI1fFhYIiwNCgkJIlhYfEwyOndoZWF0IEFORCBDMjp3aGVhdCUzMHxYWCIsDQoJCSJYWHxNMXxYWCIsDQoJXSwNCgl0aWNrOiBiZWhhdmlvcnMuU0VFRFJJU0UsDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCgl0ZW1wTG93OiAtMiwNCglzdGF0ZUxvdzogImZyb3plbl9wbGFudCIsDQoJYnVybjogNTAsDQoJYnVyblRpbWU6IDIwLA0KCWJyZWFrSW50bzogbnVsbCwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDc2OSwNCgloaWRkZW46IHRydWUsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglzZWVkOiB0cnVlDQp9LA0KInN0cmF3Ijogew0KCWNvbG9yOiBbIiNlOWQzOTEiLCIjYTM4MzVlIiwiI2I3OWE3MyJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCWJ1cm46IDMwLA0KCWJ1cm5UaW1lOiAyMDAsDQoJYnVybkludG86IFsic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCglicmVha0ludG86ICJmbG91ciIsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDY3LjUNCn0sDQoicG9yY2VsYWluIjogew0KCWNvbG9yOiAiI2UxZTRkZCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAyNDAzLA0KCWhhcmRuZXNzOiAwLjQsDQoJYnJlYWtJbnRvOiAicG9yY2VsYWluX3NoYXJkIiwNCglub01peDogdHJ1ZSwNCn0sDQoicGFwZXIiOiB7DQoJY29sb3I6ICIjZjBmMGYwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6ImNlbGx1bG9zZSIsIGVsZW0yOm51bGwgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToiY2VsbHVsb3NlIiwgZWxlbTI6bnVsbCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6ImNlbGx1bG9zZSIsIGVsZW0yOm51bGwgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMToiY2VsbHVsb3NlIiwgZWxlbTI6bnVsbCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6ImNlbGx1bG9zZSIsIGVsZW0yOm51bGwgfSwNCgkJInNvZGEiOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJibG9vZCI6IHsgZWxlbTE6ImNlbGx1bG9zZSIsIGVsZW0yOm51bGwgfSwNCgkJImZvYW0iOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJidWJibGUiOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJvaWwiOiB7IGVsZW0xOiJjZWxsdWxvc2UiLCBlbGVtMjpudWxsIH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToiY2VsbHVsb3NlIiwgZWxlbTI6bnVsbCB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6ImNlbGx1bG9zZSIsIGVsZW0yOm51bGwgfSwNCgkJImxpZ2h0IjogeyBzdGFpbjE6IiNlYmRmYTciIH0sDQoJCSJveHlnZW4iOiB7IHN0YWluMToiI2ViZGZhNyIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDI0OCwNCglzdGF0ZUhpZ2g6IFsiZmlyZSIsImZpcmUiLCJmaXJlIiwiZmlyZSIsImZpcmUiLCJhc2giXSwNCglidXJuOiA3MCwNCglidXJuVGltZTogMzAwLA0KCWJ1cm5JbnRvOiBbImZpcmUiLCJmaXJlIiwiZmlyZSIsImZpcmUiLCJmaXJlIiwiYXNoIl0sDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEyMDEsDQoJYnJlYWtJbnRvOiAiY29uZmV0dGkiLA0KCWJyZWFrSW50b0NvbG9yOiBbIiNmZmZmZmYiLCIjZTZlNmU2IiwiI2RiZGJkYiJdDQp9LA0KInBvbGxlbiI6IHsNCgljb2xvcjogIiNmZmZmYzAiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiAhaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSx0cnVlKSkgew0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUgJiYgZUxpc3RzLlNPSUwuaW5kZXhPZihwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLHBpeGVsLnNlZWR8fCJmbG93ZXJfc2VlZCIpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KQ0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCQliZWhhdmlvcnMuUE9XREVSKHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImhvbmV5IiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0xOiBudWxsIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTogbnVsbCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOiBudWxsIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMTogbnVsbCB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6IG51bGwgfQ0KCX0sDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCglidXJuOjUwLA0KCWJ1cm5UaW1lOjIwLA0KCWJyZWFrSW50bzogW251bGwsbnVsbCwiZHVzdCJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE0MzUNCn0sDQoiZmxvd2VyX3NlZWQiOiB7DQoJY29sb3I6ICIjMGU5OTBlIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8TTIlMS41fFhYIiwNCgkJIlhYfEwyOnBsYW50IEFORCBDMjpwaXN0aWwlMzB8WFgiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLlNFRURSSVNFLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46NTAsDQoJYnVyblRpbWU6MjAsDQoJYnJlYWtJbnRvOiBudWxsLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDAwLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJc2VlZDogdHJ1ZQ0KfSwNCiJwaXN0aWwiOiB7DQoJY29sb3I6IFsiIzczNGUzOSIsIiMyZjA2MDMiLCIjZDJhYzNhIiwiIzhhOTc4ZiIsIiM1OTMxMTciXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXBpeGVsLmZDb2xvcikgew0KCQkJLy8gbWFrZSBpdCBhIGhzbCByYW5kb20gaHVlLCAxMDAlIHNhdHVyYXRpb24sIDUwJSBsaWdodG5lc3MNCgkJCXBpeGVsLmZDb2xvciA9ICJoc2woIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjApICsgIiwxMDAlLCIrIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOTUgLSAyNCkpICsgMjUpICsiJSkiOw0KCQl9DQoJCXZhciBjb29yZHNUb0NoZWNrID0gWw0KCQkJW3BpeGVsLngtMSxwaXhlbC55XSwNCgkJCVtwaXhlbC54KzEscGl4ZWwueV0sDQoJCQlbcGl4ZWwueCxwaXhlbC55LTFdLA0KCQkJW3BpeGVsLngscGl4ZWwueSsxXSwNCgkJXQ0KCQkvLyBjaGVjayBpZiBlYWNoIHBpeGVsIGlzIGVtcHR5LCBpZiBpdCBpcyBjcmVhdGUgYSBwZXRhbCB3aXRoIHRoZSBjb2xvciBmQ29sb3INCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHNUb0NoZWNrLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgY29vcmQgPSBjb29yZHNUb0NoZWNrW2ldOw0KCQkJaWYgKGlzRW1wdHkoY29vcmRbMF0sY29vcmRbMV0pKSB7DQoJCQkJY3JlYXRlUGl4ZWwoInBldGFsIixjb29yZFswXSxjb29yZFsxXSk7DQoJCQkJcGl4ZWxNYXBbY29vcmRbMF1dW2Nvb3JkWzFdXS5jb2xvciA9IHBpeGVsLmZDb2xvcjsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhbGNvaG9sIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4xIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46NTAsDQoJYnVyblRpbWU6MjAsDQoJY2F0ZWdvcnk6ImxpZmUiLA0KCWhpZGRlbjogdHJ1ZSwNCgltb3ZhYmxlOiBmYWxzZSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDAwLA0KCWJyZWFrSW50bzogImRlYWRfcGxhbnQiLA0KCXNlZWQ6ICJmbG93ZXJfc2VlZCIsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUNCn0sDQoicGV0YWwiOiB7DQoJY29sb3I6IFsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzg4ZmYwMCIsIiMwMGZmMDAiLCIjMDBmZjg4IiwiIzAwZmZmZiIsIiMwMDg4ZmYiLCIjMDAwMGZmIiwiIzg4MDBmZiIsIiNmZjAwZmYiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8U1Q6cGlzdGlsfFhYIiwNCgkJIlNUOnBpc3RpbHxGWCUwLjI1fFNUOnBpc3RpbCIsDQoJCSJNMiUxMHxTVDpwaXN0aWwgQU5EIE0xJTEwfE0xJTEwIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwLCBjb2xvcjI6IiM5ZTRjMDAiIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjoidGVhIiwgdGVtcE1pbjo4MCwgY29sb3IyOiIjOWU0YzAwIiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwLCBjb2xvcjI6IiM5ZTRjMDAiIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMjoidGVhIiwgdGVtcE1pbjo4MCwgY29sb3IyOiIjOWU0YzAwIiB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImRlYWRfcGxhbnQiLA0KCXRlbXBMb3c6IC0yLA0KCXN0YXRlTG93OiAiZnJvemVuX3BsYW50IiwNCglidXJuOjUwLA0KCWJ1cm5UaW1lOjIwLA0KCWNhdGVnb3J5OiJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDAwLA0KCXNlZWQ6ICJmbG93ZXJfc2VlZCIsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoidHJlZV9icmFuY2giOiB7DQoJY29sb3I6ICIjYTA1MjJkIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXBpeGVsLmJ1cm5pbmcpIHsNCgkJCWlmICghcGl4ZWwubGMpIHsgcGl4ZWwubGMgPSAiIzAwYmYwMCIgfQ0KCQkJaWYgKCFwaXhlbC53YykgeyBwaXhlbC53YyA9ICIjYTA1MjJkIiB9DQoJCQlpZiAoaXNFbXB0eShwaXhlbC54LTEscGl4ZWwueS0xKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7DQoJCQkJCWNyZWF0ZVBpeGVsKCJwbGFudCIscGl4ZWwueC0xLHBpeGVsLnktMSk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueS0xXS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueS0xXSwgcGl4ZWwubGMpOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJY3JlYXRlUGl4ZWwoInRyZWVfYnJhbmNoIixwaXhlbC54LTEscGl4ZWwueS0xKTsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueC0xXVtwaXhlbC55LTFdLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbcGl4ZWwueC0xXVtwaXhlbC55LTFdLCBwaXhlbC53Yyk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueS0xXS53YyA9IHBpeGVsLndjOw0KCQkJCQlwaXhlbE1hcFtwaXhlbC54LTFdW3BpeGVsLnktMV0ubGMgPSBwaXhlbC5sYzsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoaXNFbXB0eShwaXhlbC54KzEscGl4ZWwueS0xKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7DQoJCQkJCWNyZWF0ZVBpeGVsKCJwbGFudCIscGl4ZWwueCsxLHBpeGVsLnktMSk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueS0xXS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueS0xXSwgcGl4ZWwubGMpOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJY3JlYXRlUGl4ZWwoInRyZWVfYnJhbmNoIixwaXhlbC54KzEscGl4ZWwueS0xKTsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueCsxXVtwaXhlbC55LTFdLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbcGl4ZWwueCsxXVtwaXhlbC55LTFdLCBwaXhlbC53Yyk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueS0xXS53YyA9IHBpeGVsLndjOw0KCQkJCQlwaXhlbE1hcFtwaXhlbC54KzFdW3BpeGVsLnktMV0ubGMgPSBwaXhlbC5sYzsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDIpIHsNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuNzUpIHsNCgkJCQkJY3JlYXRlUGl4ZWwoInBsYW50IixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLCBwaXhlbC5sYyk7DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQljcmVhdGVQaXhlbCgidHJlZV9icmFuY2giLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0sIHBpeGVsLndjKTsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS53YyA9IHBpeGVsLndjOw0KCQkJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLmxjID0gcGl4ZWwubGM7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVuZGVyZXI6IHJlbmRlclByZXNldHMuV09PRENIQVIsDQoJbW92YWJsZTogZmFsc2UsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJ3b29kIiwNCgl0ZW1wTG93OiAtMzAsDQoJc3RhdGVMb3c6ICJ3b29kIiwNCgljYXRlZ29yeTogImxpZmUiLA0KCWJ1cm46IDIsDQoJYnVyblRpbWU6IDMwMCwNCglidXJuSW50bzogWyJzYXAiLCJlbWJlciIsImNoYXJjb2FsIiwic21va2UiXSwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUwMCwNCgloYXJkbmVzczogMC4xNSwNCglicmVha0ludG86IFsic2FwIiwic2F3ZHVzdCJdLA0KCXNlZWQ6ICJzYXBsaW5nIiwNCglmb3JjZVNhdmVDb2xvcjogdHJ1ZQ0KfSwNCiJ2aW5lIjogew0KCWNvbG9yOiAiIzAwNTkwMCIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJCWlmIChwaXhlbC5zdGFydCA9PT0gcGl4ZWxUaWNrcyAmJiBwaXhlbC5mcnVpdCA9PT0gdW5kZWZpbmVkICYmICFwaXhlbC5zdG9wKSB7DQoJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCXBpeGVsLmZydWl0ID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/ICJncmFwZSIgOiAidG9tYXRvIjsNCgkJCX0NCgkJCWVsc2UgeyBwaXhlbC5mcnVpdCA9IG51bGwgfQ0KCQl9DQoJCWlmIChpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSkgew0KCQkJcGl4ZWwuc3AgPSAwOyAvL25vdCBzdXBwb3J0ZWQNCgkJfQ0KCQllbHNlIGlmICghb3V0T2ZCb3VuZHMocGl4ZWwueCxwaXhlbC55LTEpICYmIHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uZWxlbWVudCA9PT0gInZpbmUiICYmIHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uc3AgPT09IDApIHsNCgkJCXBpeGVsLnNwID0gMDsNCgkJfQ0KCQllbHNlIHsgcGl4ZWwuc3AgPSAxIH0gLy9zdXBwb3J0ZWQNCgkJaWYgKHBpeGVsLnN0b3ApIHsNCgkJCWlmIChwaXhlbC5zcCA9PT0gMCkgeyB0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LCBwaXhlbC55KzEpOyB9DQoJCQlyZXR1cm47DQoJCX0NCgkJaWYgKHBpeGVsLnNwID09PSAwKSB7IHRyeU1vdmUocGl4ZWwsIHBpeGVsLngsIHBpeGVsLnkrMSk7IH0NCgkJZWxzZSB7DQoJCQlpZiAocGl4ZWwuZmVydCAmJiBwaXhlbC5zdGFnZSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMSAmJiBpc0VtcHR5KHBpeGVsLngscGl4ZWwueSsxKSkgew0KCQkJCWNsb25lUGl4ZWwocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpOw0KCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uZmVydCA9IHRydWU7DQoJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5zdGFnZSA9IHBpeGVsLnN0YWdlLTE7DQoJCQl9DQoJCX0NCgkJaWYgKHBpeGVsLmZlcnQ9PT11bmRlZmluZWQpIHsgLy8gYWJsZSB0byBncm93IGRvd24NCgkJCXBpeGVsLmZlcnQgPSBNYXRoLnJhbmRvbSgpIDwgMC41MDsNCgkJfQ0KCQlpZiAocGl4ZWwuc3RhZ2U9PT11bmRlZmluZWQpIHsNCgkJCXBpeGVsLnN0YWdlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIwKSsxMDsNCgkJfQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDMgJiYgaXNFbXB0eShwaXhlbC54LTEscGl4ZWwueSkgJiYgIWlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnktMSkgJiYgKG91dE9mQm91bmRzKHBpeGVsLngtMSxwaXhlbC55LTEpIHx8IHBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueS0xXS5lbGVtZW50ICE9PSAidmluZSIpKSB7DQoJCQljcmVhdGVQaXhlbCgidmluZSIscGl4ZWwueC0xLHBpeGVsLnkpOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueC0xXVtwaXhlbC55XS5mcnVpdCA9IHBpeGVsLmZydWl0Ow0KCQl9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMyAmJiBpc0VtcHR5KHBpeGVsLngrMSxwaXhlbC55KSAmJiAhaXNFbXB0eShwaXhlbC54KzEscGl4ZWwueS0xKSAmJiAob3V0T2ZCb3VuZHMocGl4ZWwueCsxLHBpeGVsLnktMSkgfHwgcGl4ZWxNYXBbcGl4ZWwueCsxXVtwaXhlbC55LTFdLmVsZW1lbnQgIT09ICJ2aW5lIikpIHsNCgkJCWNyZWF0ZVBpeGVsKCJ2aW5lIixwaXhlbC54KzEscGl4ZWwueSk7DQoJCQlwaXhlbE1hcFtwaXhlbC54KzFdW3BpeGVsLnldLmZydWl0ID0gcGl4ZWwuZnJ1aXQ7DQoJCX0NCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAzICYmIGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpICYmICgNCgkJCSghaXNFbXB0eShwaXhlbC54LTEscGl4ZWwueS0xKSAmJiAob3V0T2ZCb3VuZHMocGl4ZWwueC0xLHBpeGVsLnktMSkgfHwgcGl4ZWxNYXBbcGl4ZWwueC0xXVtwaXhlbC55LTFdLmVsZW1lbnQgIT09ICJ2aW5lIikpIHx8DQoJCQkoIWlzRW1wdHkocGl4ZWwueCsxLHBpeGVsLnktMSkgJiYgKG91dE9mQm91bmRzKHBpeGVsLngrMSxwaXhlbC55LTEpIHx8IHBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueS0xXS5lbGVtZW50ICE9PSAidmluZSIpKSkNCgkJKSB7DQoJCQljcmVhdGVQaXhlbCgidmluZSIscGl4ZWwueCxwaXhlbC55LTEpOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5mcnVpdCA9IHBpeGVsLmZydWl0Ow0KCQl9DQoJCWlmIChwaXhlbC5zcCA9PT0gMSkgew0KCQkJaWYgKHBpeGVsLmZydWl0ICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCQl2YXIgY29vcmRzID0gYWRqYWNlbnRDb29yZHNbaV07DQoJCQkJCXZhciB4ID0gcGl4ZWwueCArIGNvb3Jkc1swXTsNCgkJCQkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQkJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJCQljcmVhdGVQaXhlbChwaXhlbC5mcnVpdCx4LHkpDQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJkZWFkX3BsYW50IiwNCgl0ZW1wTG93OiAtMiwNCglzdGF0ZUxvdzogImZyb3plbl9wbGFudCIsDQoJYnVybjogMzUsDQoJYnVyblRpbWU6IDEwMCwNCglicmVha0ludG86ICJkZWFkX3BsYW50IiwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwNTAsDQoJc2VlZDogInZpbmUiLA0KCWlnbm9yZTogWyJ2aW5lIl0NCn0sDQoiYmFtYm9vX3BsYW50Ijogew0KCWNvbG9yOiBbIiNmYmM4ODIiLCIjZGZhZDY0Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0yJTJ8WFgiLA0KCQkiWFh8TDI6YmFtYm9vIEFORCBDMjpiYW1ib28lMTB8WFgiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLlNFRURSSVNFLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAiZGVhZF9wbGFudCIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJiYW1ib28iLA0KCWJ1cm46IDMwLA0KCWJ1cm5UaW1lOiAxMDAsDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2ODYsDQoJYnJlYWtJbnRvOiAic2F3ZHVzdCIsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglzZWVkOiB0cnVlDQp9LA0KImZvYW0iOiB7DQoJY29sb3I6ICIjY2FkMmUzIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTIlMjV8TTElMjV8TTIlMjUiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmZvYW0gJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIHsNCgkJCWNyZWF0ZVBpeGVsKCJmb2FtIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQlwaXhlbC5mb2FtLS07DQoJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLmZvYW0gPSBwaXhlbC5mb2FtOw0KCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS50ZW1wID0gcGl4ZWwudGVtcDsNCgkJfQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDUpIHsNCgkJCWlmIChwaXhlbC5jbG9uZSkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLHBpeGVsLmNsb25lKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpDQoJCX0NCgl9LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJnYXMiLA0KCXRlbXBMb3c6IC03OC41LA0KCXN0YXRlTG93OiBudWxsLA0KCWRlbnNpdHk6IDQwLA0KCXN0YWluOiAtMC4xLA0KCWV4dGluZ3Vpc2g6IHRydWUNCn0sDQoiYWNpZCI6IHsNCgljb2xvcjogWyIjYjVjZjkxIiwiI2ExZmY1ZSIsIiMyODhmMmEiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8REIlNXxYWCIsDQoJCSJEQiU1IEFORCBNMnxYWHxEQiU1IEFORCBNMiIsDQoJCSJEQiU1IEFORCBNMnxEQiUxMCBBTkQgTTF8REIlNSBBTkQgTTIiLA0KCV0sDQoJaWdub3JlOiBbImZpcmUiLCJzbW9rZSIsImdsYXNzIiwicmFkX2dsYXNzIiwiZ2xhc3Nfc2hhcmQiLCJyYWRfc2hhcmQiLCJzdGFpbmVkX2dsYXNzIiwiYmFrZWRfY2xheSIsImFjaWRfZ2FzIiwibmV1dHJhbF9hY2lkIiwiYWNpZF9jbG91ZCIsIndhdGVyIiwic2FsdF93YXRlciIsInN1Z2FyX3dhdGVyIiwiZGlydHlfd2F0ZXIiLCJjb3BwZXIiLCJnb2xkIiwicG9yY2VsYWluIiwicGxhc3RpYyIsImJlYWQiLCJtaWNyb3BsYXN0aWMiLCJtb2x0ZW5fcGxhc3RpYyIsInBvb2xfd2F0ZXIiLCJjaGxvcmluZSIsImh5ZHJvZ2VuIiwiZ29sZF9jb2luIiwic2lsdmVyIiwibmlja2VsIiwiY2FsY2l1bSIsImJvbmUiLCJlYXJ0aHF1YWtlIiwidG9ybmFkbyIsInRzdW5hbWkiLCJsaXF1aWRfbGlnaHQiLCJzZW5zb3IiLCJjbGF5IiwicGlwZSIsInBpcGVfd2FsbCIsImx5ZSIsInJvc2VfZ29sZCIsInB1cnBsZV9nb2xkIiwiYmx1ZV9nb2xkIiwiZWxlY3RydW0iXSwNCglyZWFjdGlvbnM6IHsNCgkJImFzaCI6IHsgZWxlbTE6Im5ldXRyYWxfYWNpZCIsIGVsZW0yOm51bGwgfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTE6Im5ldXRyYWxfYWNpZCIsIGVsZW0yOlsiY2FsY2l1bSIsImNhcmJvbl9kaW94aWRlIl0gfSwNCgkJInF1aWNrbGltZSI6IHsgZWxlbTE6Im5ldXRyYWxfYWNpZCIsIGVsZW0yOm51bGwgfSwNCgkJInNsYWtlZF9saW1lIjogeyBlbGVtMToibmV1dHJhbF9hY2lkIiwgZWxlbTI6bnVsbCB9LA0KCQkiYm9yYXgiOiB7IGVsZW0xOiJuZXV0cmFsX2FjaWQiLCBlbGVtMjpudWxsIH0sDQoJCSJhbW1vbmlhIjogeyBlbGVtMToibmV1dHJhbF9hY2lkIiwgZWxlbTI6bnVsbCB9LA0KCQkiY2VtZW50IjogeyBlbGVtMToibmV1dHJhbF9hY2lkIiwgZWxlbTI6bnVsbCB9LA0KCQkicG90YXNzaXVtIjogeyBlbGVtMTpbImZpcmUiLCJoeWRyb2dlbiIsInBvcCIsImV4cGxvc2lvbiJdLCBlbGVtMjoicG90YXNzaXVtX3NhbHQiIH0sDQoJCSJtb2x0ZW5fcG90YXNzaXVtIjogeyBlbGVtMTpbImZpcmUiLCJoeWRyb2dlbiIsInBvcCIsImV4cGxvc2lvbiJdLCBlbGVtMjoicG90YXNzaXVtX3NhbHQiIH0sDQoJCSJjYXVzdGljX3BvdGFzaCI6IHsgZWxlbTE6IndhdGVyIiwgZWxlbTI6InBvdGFzc2l1bV9zYWx0IiB9LA0KCQkiYm9uZSI6IHsgZWxlbTE6Im5ldXRyYWxfYWNpZCIsIGNoYW5jZTowLjAxIH0sDQoJCSJoZWFkIjogeyBlbGVtMToiYm9uZSIsIGNoYW5jZTowLjAzIH0sDQoJCSJib2R5IjogeyBlbGVtMToiYm9uZSIsIGNoYW5jZTowLjAzIH0sDQoJCSJ3YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6IndhdGVyIiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJ3YXRlciIgfSwNCgkJInBsYW50IjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJInRyZWVfYnJhbmNoIjogeyBlbGVtMTpudWxsLCBlbGVtMjoid29vZCIgfSwNCgkJImNoYXJjb2FsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiY2FyYm9uX2Rpb3hpZGUiIH0sDQoJCSJyb2NrIjogeyBlbGVtMTpudWxsLCBlbGVtMjoic2FuZCIsIGNoYW5jZTowLjA1IH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTE6InNhbHRfd2F0ZXIiLCBlbGVtMjpbImNhcmJvbl9kaW94aWRlIiwiZm9hbSJdIH0sDQoJCSJjYWxjaXVtIjogeyBlbGVtMToiY2hsb3JpbmUiLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMSB9LA0KCQkiemluYyI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDMgfSwNCgkJIm1hZ25lc2l1bSI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgdGVtcDE6NTAsIGNoYW5jZTowLjAzIH0sDQoJCSJzdWdhciI6IHsgZWxlbTE6InN0ZWFtIiwgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiB9LA0KCQkiZ3JhdmVsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoic2FuZCIsIGNoYW5jZTowLjEgfSwNCgkJIndldF9zYW5kIjogeyBlbGVtMToibmV1dHJhbF9hY2lkIiwgZWxlbTI6ImNsYXkiIH0sDQoJCSJzbmFpbCI6IHsgZWxlbTE6Im5ldXRyYWxfYWNpZCIsIGVsZW0yOiJzbHVnIiB9LA0KCQkic2lsdmVyIjogeyBzdGFpbjI6IiMyYTJlMmEiIH0NCgl9LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJdGVtcEhpZ2g6IDExMCwNCglzdGF0ZUhpZ2g6ICJhY2lkX2dhcyIsDQoJdGVtcExvdzogLTU4Ljg4LA0KCWJ1cm46IDMwLA0KCWJ1cm5UaW1lOiAxLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDQ5LA0KCXN0YWluOiAtMC4xLA0KCWFsaWFzOiAiaHlkcm9jaGxvcmljIGFjaWQiDQp9LA0KIm5ldXRyYWxfYWNpZCI6IHsNCgljb2xvcjogWyIjYzhkOWIwIiwiI2MxZDliMCIsIiNiOGRiYjkiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImJvbmUiOiB7IGVsZW0yOiJnbHVlIiwgdGVtcE1pbjo2MCwgY2hhbmNlOjAuMDA1IH0NCgl9LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCXRlbXBIaWdoOiAxMTAsDQoJc3RhdGVIaWdoOiAiaHlkcm9nZW4iLA0KCWRlbnNpdHk6IDEwMjAsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImFjaWRfZ2FzIjogew0KCWNvbG9yOiBbIiM4NWE3NTgiLCIjM2I3ODEwIiwiIzI1NjYyNiJdLA0KCWJlaGF2aW9yOiBbDQoJCSJNMXxEQiU1IEFORCBNMXxNMSIsDQoJCSJEQiU1IEFORCBNMXxYWHxEQiU1IEFORCBNMSIsDQoJCSJEQiU1IEFORCBNMXxEQiUxMCBBTkQgTTF8REIlNSBBTkQgTTEiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPiAxMDAwICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCxNYXRoLnJhbmRvbSgpIDwgMC42NiA/ICJoeWRyb2dlbiIgOiAiY2hsb3JpbmUiKTsNCgkJfQ0KCX0sDQoJaWdub3JlOiBbImZpcmUiLCJzbW9rZSIsImdsYXNzIiwicmFkX2dsYXNzIiwiZ2xhc3Nfc2hhcmQiLCJyYWRfc2hhcmQiLCJzdGFpbmVkX2dsYXNzIiwiYmFrZWRfY2xheSIsImFjaWRfZ2FzIiwibmV1dHJhbF9hY2lkIiwiYWNpZF9jbG91ZCIsIndhdGVyIiwic2FsdF93YXRlciIsInN1Z2FyX3dhdGVyIiwiZGlydHlfd2F0ZXIiLCJjb3BwZXIiLCJnb2xkIiwicG9yY2VsYWluIiwicGxhc3RpYyIsImJlYWQiLCJtaWNyb3BsYXN0aWMiLCJtb2x0ZW5fcGxhc3RpYyIsInBvb2xfd2F0ZXIiLCJjaGxvcmluZSIsImh5ZHJvZ2VuIiwiZ29sZF9jb2luIiwic2lsdmVyIiwibmlja2VsIiwiY2FsY2l1bSIsImJvbmUiLCJlYXJ0aHF1YWtlIiwidG9ybmFkbyIsInRzdW5hbWkiLCJsaXF1aWRfbGlnaHQiLCJzZW5zb3IiLCJwaXBlIiwicGlwZV93YWxsIiwibHllIl0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhY2lkX2dhcyI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiYWNpZF9jbG91ZCIsIGNoYW5jZTowLjMsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkicmFpbl9jbG91ZCI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiYWNpZF9jbG91ZCIsIGNoYW5jZTowLjQsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkiY2xvdWQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImFjaWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInNub3dfY2xvdWQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImFjaWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJImhhaWxfY2xvdWQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImFjaWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInRodW5kZXJfY2xvdWQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImFjaWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInB5cm9jdW11bHVzIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJhY2lkX2Nsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJmaXJlX2Nsb3VkIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJhY2lkX2Nsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJhc2giOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJsaW1lc3RvbmUiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJxdWlja2xpbWUiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzbGFrZWRfbGltZSI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImJvcmF4IjogeyBlbGVtMToiaHlkcm9nZW4iLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiYW1tb25pYSI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJdGVtcDogMTIwLA0KCXRlbXBMb3c6IDMwLA0KCXN0YXRlTG93OiAiYWNpZCIsDQoJYnVybjogMzAsDQoJYnVyblRpbWU6IDEsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEuMjksDQoJYWxpYXM6ICJoeWRyb2NobG9yaWMgYWNpZCBnYXMiDQp9LA0KImdsdWUiOiB7DQoJY29sb3I6ICIjZjBmMGYwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUSUNLWSwNCglyZWFjdGlvbnM6IHsNCgkJImNsYXlfc2hhcmQiOiB7ZWxlbTE6bnVsbCwgZWxlbTI6ImJha2VkX2NsYXkifSwNCgkJInBvcmNlbGFpbl9zaGFyZCI6IHtlbGVtMTpudWxsLCBlbGVtMjoicG9yY2VsYWluIn0sDQoJCSJnbGFzc19zaGFyZCI6IHtlbGVtMTpudWxsLCBlbGVtMjoiZ2xhc3MifSwNCgkJInJ1aW5zIjoge2VsZW0xOm51bGwsIGVsZW0yOiJyb2NrX3dhbGwifSwNCgkJInJhZF9zaGFyZCI6IHtlbGVtMTpudWxsLCBlbGVtMjoicmFkX2dsYXNzIn0sDQoJCSJjb2xvcl9zYW5kIjoge2VsZW0xOm51bGwsIGVsZW0yOiJzdGFpbmVkX2dsYXNzIn0sDQoJCSJjb25mZXR0aSI6IHtlbGVtMTpudWxsLCBlbGVtMjoicGFwZXIifSwNCgkJImdvbGRfY29pbiI6IHtlbGVtMTpudWxsLCBlbGVtMjoiZ29sZCJ9LA0KCQkiY2VsbHVsb3NlIjoge2VsZW0xOm51bGwsIGVsZW0yOiJwYXBlciJ9LA0KCQkiZmVhdGhlciI6IHtlbGVtMTpudWxsLCBlbGVtMjoiY2xvdGgifSwNCgkJInJvY2siOiB7ZWxlbTE6bnVsbCwgZWxlbTI6InJvY2tfd2FsbCJ9LA0KCQkiYnJpY2tfcnViYmxlIjoge2VsZW0xOm51bGwsIGVsZW0yOiJicmljayJ9LA0KCQkiYmVhZCI6IHtlbGVtMTpudWxsLCBlbGVtMjoicGxhc3RpYyJ9LA0KCQkiZGlydCI6IHtlbGVtMTpudWxsLCBlbGVtMjoibXVkc3RvbmUifSwNCgkJInNhbmQiOiB7ZWxlbTE6bnVsbCwgZWxlbTI6InBhY2tlZF9zYW5kIn0sDQoJCSJjcnVtYiI6IHtlbGVtMTpudWxsLCBlbGVtMjoiYnJlYWQifSwNCgkJImZseSI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJImZpcmVmbHkiOiB7ZWxlbTI6ImRlYWRfYnVnIn0sDQoJCSJhbnQiOiB7ZWxlbTI6ImRlYWRfYnVnIn0sDQoJCSJyYXQiOiB7ZWxlbTI6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMDV9DQoJfSwNCgl0ZW1wSGlnaDogNDc1LA0KCXN0YXRlSGlnaDogWyJjeWFuaWRlX2dhcyIsImRpb3hpbiJdLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEzMDAsDQoJaWdub3JlOiBbInNhd2R1c3QiLCJwYXJ0aWNsZWJvYXJkIiwiaWNlIiwicmltZSIsImRyeV9pY2UiLCJveHlnZW5faWNlIiwiaHlkcm9nZW5faWNlIiwibml0cm9nZW5faWNlIl0NCn0sDQoic29kYSI6IHsNCgljb2xvcjogIiM0MjIwMTYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJNMnxYWHxNMiIsDQoJCSJNMnxNMXxNMiIsDQoJXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDIgJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIHsNCgkJCWxldCBmb2FtID0gcmVsZWFzZUVsZW1lbnQocGl4ZWwsICJmb2FtIik7DQoJCQlpZiAoZm9hbSkgZm9hbS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKGZvYW0sIiNkYmI1ODYiKTsNCgkJfQ0KCX0sDQoJb25NaXg6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWxldCBmb2FtID0gcmVsZWFzZUVsZW1lbnQocGl4ZWwsICJmb2FtIik7DQoJCWlmIChmb2FtKSBmb2FtLmNvbG9yID0gcGl4ZWxDb2xvclBpY2soZm9hbSwiI2RiYjU4NiIpOw0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJjYXJib25fZGlveGlkZSIsInN1Z2FyIl0sDQoJdGVtcExvdzogLTEuMTEsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglyZWFjdGlvbnM6IHsNCgkJInJvY2siOiB7IGVsZW0yOiAid2V0X3NhbmQiLCBjaGFuY2U6IDAuMDAwNCB9LA0KCQkid2F0ZXIiOiB7IGVsZW0xOiAic3VnYXJfd2F0ZXIiLCBlbGVtMjogInN1Z2FyX3dhdGVyIiB9LA0KCQkic2FsdCI6IHsgZWxlbTI6ImZvYW0iLCBjaGFuY2U6MC4wNSwgY29sb3IyOiIjZGJiNTg2IiB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImZvYW0iLCBjaGFuY2U6MC4wMSwgY29sb3IyOiIjZGJiNTg2IiB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOiJmb2FtIiwgY2hhbmNlOjAuMDAxLCBjb2xvcjI6IiNkYmI1ODYiIH0sDQoJCSJlZ2ciOiB7IGVsZW0yOiJ5b2xrIiwgY2hhbmNlOjAuMDAxIH0sDQoJCSJjYW5keSI6IHsgZWxlbTI6ImZvYW0iLCBjaGFuY2U6MC4wMSwgY29sb3IyOiIjZGJiNTg2IiB9LA0KCQkiY2FyYW1lbCI6IHsgZWxlbTI6ImZvYW0iLCBjaGFuY2U6MC4wMSwgY29sb3IyOiIjZGJiNTg2IiB9LA0KCQkicnVzdCI6IHsgZWxlbTI6Imlyb24iLCBjaGFuY2U6MC4wMSB9LA0KCQkib3hpZGl6ZWRfY29wcGVyIjogeyBlbGVtMjoiY29wcGVyIiwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwMzAsDQoJaXNGb29kOiB0cnVlLA0KCWFsaWFzOiAiY29sYSINCn0sDQoiZ3JheV9nb28iOiB7DQoJY29sb3I6ICIjYzBjMGMwIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q0g6Z3JheV9nb28lMjV8WFgiLA0KCQkiTTIlNSBBTkQgQ0g6Z3JheV9nb28lMjV8REwlNXxNMiU1IEFORCBDSDpncmF5X2dvbyUyNSIsDQoJCSJYWHxDSDpncmF5X2dvbyUyNSBBTkQgTTF8WFgiLA0KCV0sDQoJYmVoYXZpb3JPbjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8REwlMTB8WFgiLA0KCQkiTTF8TTJ8TTEiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhbnRpYm9keSI6IHsgZWxlbTE6Im1hbHdhcmUiLCBlbGVtMjpudWxsIH0NCgl9LA0KCWlnbm9yZTogWyJmaXJlIiwic21va2UiLCJtYWx3YXJlIiwiZmxhc2giLCJsaWdodCIsImxhc2VyIl0sDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAyMTQ1MCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvbmR1Y3Q6IDAuMjUsDQoJZGFya1RleHQ6IHRydWUsDQoJdGVtcEhpZ2g6IDE0NTYsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3N0ZWVsIg0KfSwNCiJtYWx3YXJlIjogew0KCWNvbG9yOiBbIiM4YzRhYzciLCIjYTEzZDZhIl0sDQoJYmVoYXZpb3I6IFsNCgkJIkNMJTF8Q0wlMSBBTkQgU0h8Q0wlMSIsDQoJCSJDTCUxIEFORCBTSHxTSCU1IEFORCBETCUxMHxDTCUxIEFORCBTSCIsDQoJCSJNMSUxNSBBTkQgQ0wlMXxNMSU1MCBBTkQgQ0wlMiBBTkQgU0h8TTElMTUgQU5EIENMJTEiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJncmF5X2dvbyI6IHsgZWxlbTI6Im1hbHdhcmUiIH0sDQoJCSJmaXJlYmFsbCI6IHsgZWxlbTI6InJvY2tldCIgfSwNCgkJIndpcmUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJjbG9uZXIiOiB7IGVsZW0yOlsiZWNsb25lciIsInNsb3dfY2xvbmVyIl0sIGNoYW5jZTowLjAxLCBmdW5jOihwaXhlbCxjbG9uZXIpID0+IHsgY2xvbmVyLmNsb25lID0gIm1hbHdhcmUiIH0gfSwNCgkJImVjbG9uZXIiOiB7IGVsZW0yOlsiY2xvbmVyIiwic2xvd19jbG9uZXIiXSwgY2hhbmNlOjAuMDEsIGZ1bmM6KHBpeGVsLGNsb25lcikgPT4geyBjbG9uZXIuY2xvbmUgPSAibWFsd2FyZSIgfSB9LA0KCQkic2xvd19jbG9uZXIiOiB7IGVsZW0yOlsiY2xvbmVyIiwiZWNsb25lciJdLCBjaGFuY2U6MC4wMSwgZnVuYzoocGl4ZWwsY2xvbmVyKSA9PiB7IGNsb25lci5jbG9uZSA9ICJtYWx3YXJlIiB9IH0sDQoJCSJsb29weSI6IHsgZnVuYzoocGl4ZWwsY2xvbmVyKSA9PiB7IGNsb25lci5jbG9uZSA9ICJtYWx3YXJlIiB9IH0sDQoJCSJzbmFrZSI6IHsgZWxlbTI6Imxvb3B5IiwgY2hhbmNlOjAuMjUgfSwNCgkJInBpcGUiOiB7IGZ1bmM6KHBpeGVsLHBpcGUpID0+IHsNCgkJCS8vIGNoYW5nZSBwaXBlLnN0YWdlIGludG8gMiwgMywgb3IgNA0KCQkJcGlwZS5zdGFnZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozKSsyOw0KCQkJLy8gY2hhbmdlIGNvbG9yIHRvICIjMDAzNjAwIiwgIiMzNjAwMDAiLCBvciAiIzAwMDAzNiINCgkJCXBpcGUuY29sb3IgPSBbIiMwMDM2MDAiLCIjMzYwMDAwIiwiIzAwMDAzNiJdW3BpcGUuc3RhZ2UtMl07DQoJCX0gfSwNCgkJInBpcGVfd2FsbCI6IHsgZWxlbTI6InJvY2siLCBjaGFuY2U6MC4wMSB9LA0KCQkibGF0dGljZSI6IHsgZWxlbTE6ImxhdHRpY2UiLCBlbGVtMjpudWxsIH0sDQoJCSJsaWdodF9idWxiIjogeyBlbGVtMjoiZXhwbG9zaW9uIiwgY2hhbmNlOjAuMDEgfSwNCgkJImJhdHRlcnkiOiB7IGVsZW0yOiJleHBsb3Npb24iLCBjaGFuY2U6MC4wMSB9LA0KCQkiaGVhdGVyIjogeyBlbGVtMjpbImNvb2xlciIsInN1cGVyaGVhdGVyIl0sIGNoYW5jZTowLjAxIH0sDQoJCSJjb29sZXIiOiB7IGVsZW0yOlsiaGVhdGVyIiwiZnJlZXplciJdLCBjaGFuY2U6MC4wMSB9LA0KCQkic3VwZXJoZWF0ZXIiOiB7IGVsZW0yOlsiaGVhdGVyIiwiZnJlZXplciJdLCBjaGFuY2U6MC4wMSB9LA0KCQkiZnJlZXplciI6IHsgZWxlbTI6WyJjb29sZXIiLCJzdXBlcmhlYXRlciJdLCBjaGFuY2U6MC4wMSB9LA0KCQkibGVkX3IiOiB7IGVsZW0yOlsibGVkX2ciLCJsZWRfYiJdLCBjaGFuY2U6MC4wMSB9LA0KCQkibGVkX2ciOiB7IGVsZW0yOlsibGVkX3IiLCJsZWRfYiJdLCBjaGFuY2U6MC4wMSB9LA0KCQkibGVkX2IiOiB7IGVsZW0yOlsibGVkX3IiLCJsZWRfZyJdLCBjaGFuY2U6MC4wMSB9LA0KCQkiZXdhbGwiOiB7IGVsZW0yOiJ3YWxsIiwgY2hhbmNlOjAuMDEgfSwNCgkJImJvcmRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJInZpcnVzIjogeyBmdW5jOiBmdW5jdGlvbihwaXhlbDEscGl4ZWwyKXtwaXhlbDIuaGVhbD1mYWxzZTtwaXhlbDIub3JpZ0VsZW09Im1hbHdhcmUifSB9DQoJfSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIuMQ0KfSwNCiJlY2xvbmVyIjogew0KCW5hbWU6ICJlLWNsb25lciIsDQoJY29sb3I6ICIjZGRkZDAwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJYmVoYXZpb3JPbjogYmVoYXZpb3JzLkNMT05FUiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuY2xvbmUpIHsgcmV0dXJuIH0NCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkcyA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQkJdmFyIHggPSBwaXhlbC54ICsgY29vcmRzWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCXBpeGVsLnRlbXAgPSBwaXhlbE1hcFt4XVt5XS50ZW1wOw0KCQkJCWlmIChwaXhlbE1hcFt4XVt5XS5jbG9uZSkgeyBwaXhlbC5jbG9uZSA9IHBpeGVsTWFwW3hdW3ldLmNsb25lOyBicmVhayB9DQoJCQkJdmFyIGVsZW1lbnQgPSBwaXhlbE1hcFt4XVt5XS5lbGVtZW50Ow0KCQkJCWlmIChlbGVtZW50ID09PSBwaXhlbC5lbGVtZW50IHx8IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmlnbm9yZS5pbmRleE9mKGVsZW1lbnQpICE9PSAtMSAmJiBlbGVtZW50ICE9PSAiZnVzZSIpIHsgY29udGludWUgfQ0KCQkJCXBpeGVsLmNsb25lID0gZWxlbWVudDsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCX0sDQoJb25DbGlja2VkOiBiZWhhdmlvcnMuQ0xPTkVfT05fQ0xJQ0ssDQoJaWdub3JlOiBbImNsb25lciIsInNsb3dfY2xvbmVyIiwiY2xvbmVfcG93ZGVyIiwiZmxvYXRpbmdfY2xvbmVyIiwid2lyZSIsImV3YWxsIiwic2Vuc29yIiwiYmF0dGVyeSIsImZ1c2UiXSwNCglpZ25vcmVDb25kdWN0OlsiZnVzZSJdLA0KCWNhdGVnb3J5OiJtYWNoaW5lcyIsDQoJaW5zdWxhdGU6dHJ1ZSwNCglkYXJrVGV4dDogdHJ1ZSwNCgljb25kdWN0OiAxLA0KCWhhcmRuZXNzOiAxLA0KCW1vdmFibGU6IGZhbHNlDQp9LA0KInNsb3dfY2xvbmVyIjogew0KCWNvbG9yOiAiIzg4ODgwMCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENGJTEwfFhYIiwNCgkJIkNGJTEwfFhYfENGJTEwIiwNCgkJIlhYfENGJTEwfFhYIiwNCgldLA0KCW9uQ2xpY2tlZDogYmVoYXZpb3JzLkNMT05FX09OX0NMSUNLLA0KCWlnbm9yZTogWyJjbG9uZXIiLCJlY2xvbmVyIiwiY2xvbmVfcG93ZGVyIiwiZmxvYXRpbmdfY2xvbmVyIiwid2FsbCIsImV3YWxsIl0sDQoJY2F0ZWdvcnk6Im1hY2hpbmVzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCWhhcmRuZXNzOiAxDQp9LA0KImNsb25lX3Bvd2RlciI6IHsNCgljb2xvcjogIiNmMGYwMDAiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDRnxYWCIsDQoJCSJDRnxYWHxDRiIsDQoJCSJNMnxDRiBBTkQgTTF8TTIiLA0KCV0sDQoJb25DbGlja2VkOiBiZWhhdmlvcnMuQ0xPTkVfT05fQ0xJQ0ssDQoJcmVhY3Rpb25zOiB7DQoJCSJtYWx3YXJlIjogeyBlbGVtMToiZmxvYXRpbmdfY2xvbmVyIiB9DQoJfSwNCglpZ25vcmU6IFsiY2xvbmVyIiwiZWNsb25lciIsInNsb3dfY2xvbmVyIiwiZmxvYXRpbmdfY2xvbmVyIiwid2FsbCIsImV3YWxsIl0sDQoJY2F0ZWdvcnk6Im1hY2hpbmVzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCXN0YXRlOiJzb2xpZCIsDQoJZGVuc2l0eToyNzEwLA0KCWhhcmRuZXNzOiAxLA0KCWRhcmtUZXh0OiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJmbG9hdGluZ19jbG9uZXIiOiB7DQoJY29sb3I6ICIjYzdjNzg3IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q0YlMyBBTkQgTTElMTB8WFgiLA0KCQkiQ0YlMyBBTkQgTTElMTB8WFh8Q0YlMyBBTkQgTTElMTAiLA0KCQkiWFh8Q0YlMyBBTkQgTTElMTB8WFgiLA0KCV0sDQoJb25DbGlja2VkOiBiZWhhdmlvcnMuQ0xPTkVfT05fQ0xJQ0ssDQoJcmVhY3Rpb25zOiB7DQoJCSJtYWx3YXJlIjogeyBlbGVtMToiY2xvbmVfcG93ZGVyIiB9DQoJfSwNCglpZ25vcmU6IFsiY2xvbmVyIiwiZWNsb25lciIsInNsb3dfY2xvbmVyIiwiY2xvbmVfcG93ZGVyIiwid2FsbCIsImV3YWxsIl0sDQoJY2F0ZWdvcnk6Im1hY2hpbmVzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCXN0YXRlOiJzb2xpZCIsDQoJZGVuc2l0eToxMzU1LA0KCWhhcmRuZXNzOiAxLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KInZpcnVzIjogew0KCWNvbG9yOiAiI2NjMDBmZiIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIGNvb3JkcyA9IGFkamFjZW50Q29vcmRzW2ldOw0KCQkJdmFyIHggPSBwaXhlbC54ICsgY29vcmRzWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3hdW3ldDQoJCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy52aXJ1cy5pZCAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcyAhPT0gMSAmJiAhcGl4ZWwuaGVhbCAmJiBlbGVtZW50cy52aXJ1cy5pZ25vcmUuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSA9PT0gLTEpIHsNCgkJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjI1KSB7IG5ld1BpeGVsLm9yaWdFbGVtID0gbmV3UGl4ZWwuZWxlbWVudDsgY2hhbmdlUGl4ZWwobmV3UGl4ZWwsInZpcnVzIik7IH0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaWQgPT09IGVsZW1lbnRzLnZpcnVzLmlkICYmIHBpeGVsLmhlYWwpIHsgbmV3UGl4ZWwuaGVhbCA9IHRydWUgfQ0KCQkJfQ0KCQl9DQoJCWlmIChwaXhlbC5oZWFsICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQlpZiAocGl4ZWwub3JpZ0VsZW0pIHsgY2hhbmdlUGl4ZWwocGl4ZWwscGl4ZWwub3JpZ0VsZW0pOyBkZWxldGUgcGl4ZWwuaGVhbDsgZGVsZXRlIHBpeGVsLm9yaWdFbGVtIH0NCgkJCWVsc2UgeyBkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpOyByZXR1cm4gfQ0KCQl9DQoJCXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpOw0KCQlkb0RlZmF1bHRzKHBpeGVsKQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6bnVsbCB9LA0KCQkibGlxdWlkX2NobG9yaW5lIjogeyBlbGVtMTpudWxsIH0sDQoJCSJsaWdodCI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkibGlxdWlkX2xpZ2h0IjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJlbGVjdHJpYyI6IHsgZWxlbTI6Im1hbHdhcmUiIH0NCgl9LA0KCWlnbm9yZTogWyJmaXJlIiwic21va2UiLCJzb2FwIiwicGxhZ3VlIiwiY2FuY2VyIiwicGxhc21hIiwibGlnaHQiLCJsb29weSIsImxpcXVpZF9saWdodCIsIm1hbHdhcmUiLCJlbGVjdHJpYyIsInBvaW50ZXIiXSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDYwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlDQp9LA0KImljZV9uaW5lIjogew0KCWNvbG9yOiBbIiNiMGRjZjciLCIjYmJlOWZjIiwiI2NlZmNmYyJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDppY2UlMC41fFhYIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjogImljZV9uaW5lIiB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6ICJpY2VfbmluZSIgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMjogImljZV9uaW5lIiB9LA0KCQkic3RlYW0iOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJyYWluX2Nsb3VkIjogeyBlbGVtMjogImljZV9uaW5lIiB9LA0KCQkiY2xvdWQiOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJzbm93X2Nsb3VkIjogeyBlbGVtMjogImljZV9uaW5lIiB9LA0KCQkiaGFpbF9jbG91ZCI6IHsgZWxlbTI6ICJpY2VfbmluZSIgfSwNCgkJInRodW5kZXJfY2xvdWQiOiB7IGVsZW0yOiAiaWNlX25pbmUiIH0sDQoJCSJzbm93IjogeyBlbGVtMjogImljZV9uaW5lIiB9LA0KCQkic21vZyI6IHsgZWxlbTI6ICJpY2VfbmluZSIgfSwNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTI6ICJpY2VfbmluZSIgfQ0KCX0sDQoJdGVtcDotMTAwLA0KCWNhdGVnb3J5OiAic3BlY2lhbCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTE3LA0KCWV4Y2x1ZGVSYW5kb206IHRydWUNCn0sDQoic3RyYW5nZV9tYXR0ZXIiOiB7DQoJY29sb3I6IFsiI2E0YzczMCIsIiNiNmZmNTciLCIjNzRlODQ2IiwiIzJiYTMxZCJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgYWRqYWNlbnRDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCXZhciBjb29yZHMgPSBhZGphY2VudENvb3Jkc1tpXTsNCgkJCXZhciB4ID0gcGl4ZWwueCArIGNvb3Jkc1swXTsNCgkJCXZhciB5ID0gcGl4ZWwueSArIGNvb3Jkc1sxXTsNCgkJCWlmICgoTWF0aC5yYW5kb20oKSA8IDAuMDUgfHwgY29vcmRzWzBdKSAmJiAhaXNFbXB0eSh4LHksdHJ1ZSkpIHsNCgkJCQl2YXIgZWxlbSA9IHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQ7DQoJCQkJaWYgKGVsZW1lbnRzLnN0cmFuZ2VfbWF0dGVyLmlnbm9yZS5pbmRleE9mKGVsZW0pID09PSAtMSAmJiBlbGVtZW50c1tlbGVtXS5oYXJkbmVzcyAhPT0gMSkgew0KCQkJCQlpZiAoY29vcmRzWzFdKSB7DQoJCQkJCQlzd2FwUGl4ZWxzKHBpeGVsLHBpeGVsTWFwW3hdW3ldKTsNCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCWNoYW5nZVBpeGVsKHBpeGVsTWFwW3hdW3ldLCJzdHJhbmdlX21hdHRlciIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCXZhciBtb3ZlMVNwb3RzID0gWw0KCQkJW3BpeGVsLngsIHBpeGVsLnkrMV0sDQoJCQlbcGl4ZWwueCsxLCBwaXhlbC55KzFdLA0KCQkJW3BpeGVsLngtMSwgcGl4ZWwueSsxXSwNCgkJXQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgeyBtb3ZlMVNwb3RzLnB1c2goW3BpeGVsLngtMSxwaXhlbC55XSkgfQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgeyBtb3ZlMVNwb3RzLnB1c2goW3BpeGVsLngrMSxwaXhlbC55XSkgfQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgeyBtb3ZlMVNwb3RzLnB1c2goW3BpeGVsLngscGl4ZWwueS0xXSkgfQ0KCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgeyBtb3ZlMVNwb3RzLnB1c2goW3BpeGVsLngtMSxwaXhlbC55LTFdKSB9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4xKSB7IG1vdmUxU3BvdHMucHVzaChbcGl4ZWwueCsxLHBpeGVsLnktMV0pIH0NCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZlMVNwb3RzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSptb3ZlMVNwb3RzLmxlbmd0aCk7DQoJCQl2YXIgY29vcmRzID0gbW92ZTFTcG90c1tqXTsNCgkJCWlmICh0cnlNb3ZlKHBpeGVsLCBjb29yZHNbMF0sIGNvb3Jkc1sxXSkpIHsgYnJlYWs7IH0NCgkJCWVsc2UgeyBtb3ZlMVNwb3RzLnNwbGljZShqLCAxKTsgfQ0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ2b2lkIjogeyBlbGVtMToiZXhwbG9zaW9uIiB9DQoJfSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAyMDAwLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJaWdub3JlOiBbImZpcmUiLCJzbW9rZSIsImFudGltYXR0ZXIiLCJzdHJhbmdlX21hdHRlciIsIndhbGwiLCJld2FsbCIsInBsYXNtYSIsInZvaWQiLCJib3JkZXIiLCJwb2ludGVyIl0sDQp9LA0KInBlcm1hZnJvc3QiOiB7DQoJY29sb3I6IFsiIzU0NDQzYSIsIiM0ZjQyMzUiLCIjNDUzYzMwIiwiIzUyNDYzOSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1VQUE9SVCwNCgl0ZW1wOiAtNTAsDQoJdGVtcEhpZ2g6IDEwLA0KCXN0YXRlSGlnaDogIm11ZHN0b25lIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDcwMA0KfSwNCiJtZWx0ZWRfYnV0dGVyIjogew0KCWNvbG9yOiAiI2ZmZTI0MCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJkaXJ0IjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtdWQiIH0sDQoJCSJzYW5kIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJ3ZXRfc2FuZCIgfSwNCgkJInRvYXN0IjogeyBjb2xvcjI6WyIjQTg0QjFFIiwiI0M5NjYxOSIsIiNGOUIwNDIiXSwgdGVtcE1pbjoxNjAsIGNoYW5jZTowLjA1IH0sDQoJCSJjcnVtYiI6IHsgY29sb3IyOlsiI0E4NEIxRSIsIiNDOTY2MTkiLCIjRjlCMDQyIl0sIHRlbXBNaW46MTYwLCBjaGFuY2U6MC4wNSB9LA0KCQkiYmFrZWRfYmF0dGVyIjogeyBjb2xvcjI6WyIjQTg0QjFFIiwiI0M5NjYxOSIsIiNGOUIwNDIiXSwgdGVtcE1pbjoxNjAsIGNoYW5jZTowLjA1IH0sDQoJCSJiYWtlZF9wb3RhdG8iOiB7IGNvbG9yMjpbIiNBODRCMUUiLCIjQzk2NjE5IiwiI0Y5QjA0MiJdLCB0ZW1wTWluOjE2MCwgY2hhbmNlOjAuMDUgfSwNCgkJImNhdXN0aWNfcG90YXNoIjogeyBlbGVtMToic29hcCIsIGVsZW0yOiJzb2FwIiB9DQoJfSwNCgl0ZW1wOiAzMywNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiYnV0dGVyIiwNCgl0ZW1wSGlnaDogMTAwMCwNCglzdGF0ZUhpZ2g6IFsic21va2UiLCJzdGVhbSIsInNtb2tlIiwic3RlYW0iLCJzbW9rZSIsInN0ZWFtIiwic21va2UiLCJzdGVhbSIsInF1aWNrbGltZSIsInNhbHQiXSwNCgljYXRlZ29yeTogInN0YXRlcyIsDQoJdmlzY29zaXR5OiA0MiwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDkxMSwNCglpc0Zvb2Q6IHRydWUsDQoJc3RhaW46IDAuMDUsDQp9LA0KIm1lbHRlZF9jaGVlc2UiOiB7DQoJY29sb3I6ICIjZmNkYjUzIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJInNhbHQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXRlbXA6IDU0LA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJjaGVlc2UiLA0KCXRlbXBIaWdoOiAxMDAwLA0KCXN0YXRlSGlnaDogWyJzbW9rZSIsInN0ZWFtIiwiYWxjb2hvbF9nYXMiLCJzbW9rZSIsInN0ZWFtIiwiYWxjb2hvbF9nYXMiLCJzbW9rZSIsInN0ZWFtIiwiYWxjb2hvbF9nYXMiLCJxdWlja2xpbWUiLCJzYWx0Il0sDQoJY2F0ZWdvcnk6ICJzdGF0ZXMiLA0KCXZpc2Nvc2l0eTogMzAwMDAsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA0MDAsDQoJaXNGb29kOiB0cnVlDQp9LA0KIm11c2hyb29tX3Nwb3JlIjogew0KCWNvbG9yOiBbIiNkMWQxZDEiLCIjZDRjZmE5IiwiI2I0ZDRhZSIsIiNiOThhYmEiLCIjODA1MjM2Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0yJTEuNXxYWCIsDQoJCSJYWHxMMjptdXNocm9vbV9zdGFsayBBTkQgQzI6bXVzaHJvb21fZ2lsbCUyMHxYWCIsDQoJCSJYWHxNMXxYWCIsDQoJXSwNCgl0aWNrOiBiZWhhdmlvcnMuU0VFRFJJU0UsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3b29kIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA0IH0sDQoJCSJ0cmVlX2JyYWtlIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA0IH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wNyB9LA0KCQkiZXZlcmdyZWVuIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA3IH0sDQoJCSJyb290IjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA3IH0sDQoJCSJncmFzcyI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wOCB9LA0KCQkiZ3Jhc3Nfc2VlZCI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wOCB9LA0KCQkiZXBzb21fc2FsdCI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMSB9DQoJfSwNCgljYXRlZ29yeTogImxpZmUiLA0KCXRlbXBIaWdoOiAyMjUsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjogMTAsDQoJYnVyblRpbWU6IDIwLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEyMy42LA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJc2VlZDogdHJ1ZSwNCglkYXJrVGV4dDogdHJ1ZQ0KfSwNCiJtdXNocm9vbV9zdGFsayI6IHsNCgljb2xvcjogIiNkMWQxZDEiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpkaXJ0Pmh5cGhhZSUxIEFORCBNMXxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndvb2QiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJInRyZWVfYnJha2UiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJInBsYW50IjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA3IH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDcgfSwNCgkJInJvb3QiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDcgfSwNCgkJImdyYXNzIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA4IH0sDQoJCSJncmFzc19zZWVkIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA4IH0sDQoJCSJhc2giOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfQ0KCX0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgloaWRkZW46IHRydWUsDQoJdGVtcEhpZ2g6IDIyNSwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogNjUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTAuNDQ1LA0KCXNlZWQ6ICJtdXNocm9vbV9zcG9yZSIsDQoJYnJlYWtJbnRvOiBbbnVsbCxudWxsLCJteWNlbGl1bSJdDQp9LA0KIm11c2hyb29tX2dpbGwiOiB7DQoJY29sb3I6ICIjZDRjZmE5IiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXBpeGVsLm1Db2xvcikgew0KCQkJLy8gbWFrZSBpdCBhIGhzbCByYW5kb20gaHVlLCA1NCUgc2F0dXJhdGlvbiwgNTIlIGxpZ2h0bmVzcw0KCQkJcGl4ZWwubUNvbG9yID0gImhzbCgiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIwMCsxODApJTM2MCArICIsNTQlLDUyJSkiOw0KCQl9DQoJCWlmIChpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4xKSB7DQoJCQljcmVhdGVQaXhlbCgibXVzaHJvb21fY2FwIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLmNvbG9yID0gcGl4ZWwubUNvbG9yOw0KCQl9DQoJCWlmIChpc0VtcHR5KHBpeGVsLngtMSxwaXhlbC55KSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMikgew0KCQkJLy8gY3JlYXRlIGVpdGhlciBtdXNocm9vbV9naWxsIG9yIG11c2hyb29tX2NhcA0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHsNCgkJCQljcmVhdGVQaXhlbCgibXVzaHJvb21fZ2lsbCIscGl4ZWwueC0xLHBpeGVsLnkpOw0KCQkJCXBpeGVsTWFwW3BpeGVsLngtMV1bcGl4ZWwueV0ubUNvbG9yID0gcGl4ZWwubUNvbG9yOw0KCQkJfSBlbHNlIHsNCgkJCQljcmVhdGVQaXhlbCgibXVzaHJvb21fY2FwIixwaXhlbC54LTEscGl4ZWwueSk7DQoJCQkJcGl4ZWxNYXBbcGl4ZWwueC0xXVtwaXhlbC55XS5jb2xvciA9IHBpeGVsLm1Db2xvcjsNCgkJCX0NCgkJfQ0KCQlpZiAoaXNFbXB0eShwaXhlbC54KzEscGl4ZWwueSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDIpIHsNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7DQoJCQkJY3JlYXRlUGl4ZWwoIm11c2hyb29tX2dpbGwiLHBpeGVsLngrMSxwaXhlbC55KTsNCgkJCQlwaXhlbE1hcFtwaXhlbC54KzFdW3BpeGVsLnldLm1Db2xvciA9IHBpeGVsLm1Db2xvcjsNCgkJCX0gZWxzZSB7DQoJCQkJY3JlYXRlUGl4ZWwoIm11c2hyb29tX2NhcCIscGl4ZWwueCsxLHBpeGVsLnkpOw0KCQkJCXBpeGVsTWFwW3BpeGVsLngrMV1bcGl4ZWwueV0uY29sb3IgPSBwaXhlbC5tQ29sb3I7DQoJCQl9DQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfQ0KCX0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgloaWRkZW46IHRydWUsDQoJbW92YWJsZTogZmFsc2UsDQoJdGVtcEhpZ2g6IDIyNSwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogNjUsDQoJYnVybkludG86ICJtdXNocm9vbV9zcG9yZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTAuNDQ1LA0KCXNlZWQ6ICJtdXNocm9vbV9zcG9yZSIsDQoJYnJlYWtJbnRvOiBbbnVsbCwibXljZWxpdW0iLCJtdXNocm9vbV9zcG9yZSIsInBvaXNvbiJdDQp9LA0KIm11c2hyb29tX2NhcCI6IHsNCgljb2xvcjogWyIjYzc2MjQzIiwiI2M3NDQ0MiIsIiNjNzQzN2UiLCIjYzA0M2M3IiwiIzdjNDNjNyIsIiM0NTQzYzciLCIjNDM2OGM3IiwiIzQzYzdjNyJdLA0KCXNpbmdsZUNvbG9yOiB0cnVlLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfQ0KCX0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgloaWRkZW46IHRydWUsDQoJdGVtcEhpZ2g6IDIyNSwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogNjUsDQoJYnVybkludG86ICJtdXNocm9vbV9zcG9yZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTAuNDQ1LA0KCXNlZWQ6ICJtdXNocm9vbV9zcG9yZSIsDQoJYnJlYWtJbnRvOiBbbnVsbCxudWxsLCJteWNlbGl1bSJdDQp9LA0KImh5cGhhZSI6IHsNCgljb2xvcjogIiNjNzk3ODkiLA0KCWJlaGF2aW9yOiBbDQoJCSJDSDpkaXJ0Pmh5cGhhZSxoeXBoYWUsbXljZWxpdW0lMC41fENSOm11c2hyb29tX3Nwb3JlJTAuNXxDSDpkaXJ0Pmh5cGhhZSxoeXBoYWUsbXljZWxpdW0lMC41IiwNCgkJIkNIOmRpcnQ+bXljZWxpdW0lMC41fFhYfENIOmRpcnQ+bXljZWxpdW0lMC41IiwNCgkJIkNIOmRpcnQ+aHlwaGFlLGh5cGhhZSxteWNlbGl1bSUwLjV8WFh8Q0g6ZGlydD5oeXBoYWUsaHlwaGFlLG15Y2VsaXVtJTAuNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndvb2QiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJInRyZWVfYnJha2UiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJInBsYW50IjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA3IH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDcgfSwNCgkJInJvb3QiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDcgfSwNCgkJImdyYXNzIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA4IH0sDQoJCSJncmFzc19zZWVkIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjA4IH0sDQoJCSJhc2giOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDQgfSwNCgkJIndhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCB0ZW1wTWluOjcwLCBjb2xvcjI6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6ImJyb3RoIiwgdGVtcE1pbjo3MCwgY29sb3IyOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0gfQ0KCX0sDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCgloaWRkZW46IHRydWUsDQoJdGVtcEhpZ2g6IDIyNSwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAzMCwNCglidXJuVGltZTogMjAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDYyLA0KCXNlZWQ6ICJtdXNocm9vbV9zcG9yZSIsDQoJY29uZHVjdDogMC4xLA0KCWJyZWFrSW50bzogWyJkaXJ0IiwiZGlydCIsIm15Y2VsaXVtIl0NCn0sDQoibXljZWxpdW0iOiB7DQoJY29sb3I6IFsiIzczNGQ1ZSIsIiM3MzRkNWUiLCIjNzM0ZDVlIiwiIzYxNDA0ZiIsIiM2YjRiNWEiLCIjNzU1MDYxIiwiIzg2NjM3MiIsIiM5ODc4ODYiLCIjYWI4ZTlhIiwiI2JlYTRhZCIsIiNkMGI5YzEiLCIjZTNjZmQ1Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjpbbnVsbCxudWxsLG51bGwsIm15Y2VsaXVtIiwiaHlwaGFlIl0sIGNoYW5jZTowLjAwMjUgfSwNCgkJInJvdHRlbl9tZWF0IjogeyBlbGVtMjpbbnVsbCxudWxsLG51bGwsIm15Y2VsaXVtIiwiaHlwaGFlIl0sIGNoYW5jZTowLjAwMjUgfSwNCgkJImRlYWRfYnVnIjogeyBlbGVtMjpbbnVsbCxudWxsLG51bGwsIm15Y2VsaXVtIiwiaHlwaGFlIl0sIGNoYW5jZTowLjAwMjUgfSwNCgkJIndvb2QiOiB7IGVsZW0yOltudWxsLCJteWNlbGl1bSIsImh5cGhhZSJdLCBjaGFuY2U6MC4wMDI1IH0NCgl9LA0KCXRlbXBIaWdoOjIyNSwNCglzdGF0ZUhpZ2g6ICJkaXJ0IiwNCgl0ZW1wTG93OiAtNTAsDQoJc3RhdGVMb3c6ICJwZXJtYWZyb3N0IiwNCglidXJuOiAyMCwNCglidXJuVGltZTogNDAsDQoJYnVybkludG86ICJkaXJ0IiwNCgljYXRlZ29yeToibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDYyLA0KCXNlZWQ6ICJtdXNocm9vbV9zcG9yZSINCn0sDQoibXVsY2giOiB7DQoJY29sb3I6IFsiIzk0NDMyYyIsIiM3YTI5MTIiLCIjNTcxYTA5Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6IFsiZGlydCIsImRpcnQiLCJhc2giLCJmaXJlIl0sDQoJYnVybjogMSwNCglidXJuVGltZTogMjAwLA0KCWJ1cm5JbnRvOiBbImRpcnQiLCJkaXJ0IiwiYXNoIiwiZmlyZSJdLA0KCWNhdGVnb3J5OiJsYW5kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAzODANCn0sDQoiYW50X3dhbGwiOiB7DQoJY29sb3I6IFsiIzkxNjQzZiIsIiM4YTU5M2IiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6WyJtdWQiLCJtdWQiLCJ3ZXRfc2FuZCJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDUgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMTpbIm11ZCIsIm11ZCIsIndldF9zYW5kIl0sIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNiB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6WyJtdWQiLCJtdWQiLCJ3ZXRfc2FuZCJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDcgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMTpbIm11ZCIsIm11ZCIsIndldF9zYW5kIl0sIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMyB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6WyJtdWQiLCJtdWQiLCJ3ZXRfc2FuZCJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6WyJtdWQiLCJtdWQiLCJ3ZXRfc2FuZCJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiZmlyZSI6IHsgZWxlbTE6WyJkaXJ0Iiwic2FuZCJdLCBjaGFuY2U6MC4wMDUgfQ0KCX0sDQoJdGVtcEhpZ2g6MTQwMCwNCglzdGF0ZUhpZ2g6IFsibW9sdGVuX2RpcnQiLCJtb2x0ZW5fZ2xhc3MiXSwNCgl0ZW1wTG93OiAtNTAsDQoJc3RhdGVMb3c6ICJwZXJtYWZyb3N0IiwNCgljYXRlZ29yeToibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJYnJlYWtJbnRvOiBbImRpcnQiLCJzYW5kIl0sDQoJZGVuc2l0eTogMTIyMCwNCgloaWRkZW46IHRydWUNCn0sDQoibGljaGVuIjogew0KCWNvbG9yOiBbIiNiNmQ2YzMiLCIjNzY5NDgyIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKCF0cnlNb3ZlKHBpeGVsLHBpeGVsLngscGl4ZWwueSsxKSkgew0KCQkJdmFyIGNvb3JkcyA9IFsNCgkJCQlbcGl4ZWwueCsxLHBpeGVsLnldLA0KCQkJCVtwaXhlbC54LTEscGl4ZWwueV0sDQoJCQkJW3BpeGVsLngrMSxwaXhlbC55KzFdLA0KCQkJCVtwaXhlbC54LTEscGl4ZWwueSsxXSwNCgkJCV07DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDUgJiYgaXNFbXB0eShjb29yZHNbaV1bMF0sY29vcmRzW2ldWzFdKSkgew0KCQkJCQlpZiAoIWlzRW1wdHkoY29vcmRzW2ldWzBdLGNvb3Jkc1tpXVsxXSsxKSAmJiAob3V0T2ZCb3VuZHMoY29vcmRzW2ldWzBdLGNvb3Jkc1tpXVsxXSsxKSB8fCBwaXhlbE1hcFtjb29yZHNbaV1bMF1dW2Nvb3Jkc1tpXVsxXSsxXS5lbGVtZW50IT09ImxpY2hlbiIpICkgew0KCQkJCQkJY3JlYXRlUGl4ZWwocGl4ZWwuZWxlbWVudCxjb29yZHNbaV1bMF0sY29vcmRzW2ldWzFdKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0yOiJveHlnZW4iLCBjaGFuY2U6MC4wNSB9LA0KCQkicm9jayI6IHsgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC4wMDI1IH0sDQoJCSJyb2NrX3dhbGwiOiB7IGVsZW0yOiJkaXJ0IiwgY2hhbmNlOjAuMDAyNSB9LA0KCQkiZ3JhdmVsIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAwMjUgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJzdGVuY2giOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJzbW9nIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCWJ1cm46IDUwLA0KCWJ1cm5UaW1lOiAyMCwNCglicmVha0ludG86ICJkdXN0IiwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEuNQ0KfSwNCiJhbnRpbWF0dGVyIjogew0KCWNvbG9yOiAiI2E4OWJhOCIsDQoJY29sb3JPbjogIiM2MTU2YjgiLA0KCWJlaGF2aW9yOiBbDQoJCSJNMnxEQiU1MCBBTkQgTTJ8TTIiLA0KCQkiTTF8WFh8TTEiLA0KCQkiTTF8REIlNTAgQU5EIE0xfE0xIiwNCgldLA0KCW9uQ29sbGlkZTogZnVuY3Rpb24ocGl4ZWwxLHBpeGVsMikgew0KCQlpZiAoZWxlbWVudHMuYW50aW1hdHRlci5pZ25vcmUuaW5kZXhPZihwaXhlbDIuZWxlbWVudCkgIT09IC0xIHx8IGVsZW1lbnRzW3BpeGVsMi5lbGVtZW50XS5pc0dhcykgcmV0dXJuOw0KCQlleHBsb2RlQXQocGl4ZWwyLngscGl4ZWwyLnksOCxbImZpcmUiLCJwb3NpdHJvbiJdKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkicHJvdG9uIjogeyBlbGVtMToiZXhwbG9zaW9uIiwgZWxlbTI6ImV4cGxvc2lvbiIgfSwNCgkJIm5ldXRyb24iOiB7IGVsZW0xOiJleHBsb3Npb24iLCBlbGVtMjoiZXhwbG9zaW9uIiB9LA0KCQkiZWxlY3RyaWMiOiB7IGVsZW0xOiJleHBsb3Npb24iLCBlbGVtMjoiZXhwbG9zaW9uIiB9DQoJfSwNCglpZ25vcmU6IFsiYW50aW1hdHRlcl9ib21iIiwicG9zaXRyb24iLCJjbG9uZXIiLCJzbG93X2Nsb25lciIsImNsb25lX3Bvd2RlciIsImZsb2F0aW5nX2Nsb25lciIsImVjbG9uZXIiXSwNCgljYXRlZ29yeTogInNwZWNpYWwiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAyLjEsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJwbGFzdGljIjogew0KCWNvbG9yOiAiI2M1ZGVkZSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAyNTAsDQoJYnVybjogMTAsDQoJYnVyblRpbWU6IDIwMCwNCglidXJuSW50bzogWyJkaW94aW4iLCJzbW9rZSIsImRpb3hpbiIsInNtb2tlIiwic3RlbmNoIl0sDQoJYnJlYWtJbnRvOiAiYmVhZCIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiI2QzZThlOCIsIiNhZmM5YzkiXSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTA1Mg0KfSwNCiJtb2x0ZW5fcGxhc3RpYyI6IHsNCgljb2xvcjogIiNhNGIzYjMiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXZpc2Nvc2l0eTogMjAsDQoJdGVtcEhpZ2g6IDYwMCwNCglzdGF0ZUhpZ2g6IFsiZGlveGluIiwic21va2UiLCJkaW94aW4iLCJzbW9rZSIsInN0ZW5jaCJdLA0KfSwNCiJjbG90aCI6IHsNCgljb2xvcjogWyIjRjdGN0Y3IiwiI0YxRjFGMSIsIiNFOEU4RTgiLCIjQ0RDRENEIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWJlaGF2aW9ycy5BQlNPUkIocGl4ZWwsMSwwLjAxKTsNCgl9LA0KCW9uQnJlYWs6IGJlaGF2aW9ycy5SRUxFQVNFX01PSVNUVVJFLA0KCW9uRGVsZXRlOiBiZWhhdmlvcnMuUkVMRUFTRV9NT0lTVFVSRSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjp7fSwgInNhbHRfd2F0ZXIiOnt9LCAic3VnYXJfd2F0ZXIiOnt9LCAiZGlydHlfd2F0ZXIiOnt9LCAicG9vbF93YXRlciI6e30sICJzZWx0emVyIjp7fQ0KCX0sDQoJdGVtcEhpZ2g6IDQxMiwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiA1LA0KCWJ1cm5UaW1lOiAzNTAsDQoJYnVybkludG86IFsic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJYnJlYWtJbnRvOiAiZHVzdCIsDQoJbW92YWJsZTpmYWxzZQ0KfSwNCiJjZWxsdWxvc2UiOiB7DQoJY29sb3I6ICIjYzdkNGM5IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImhlcmIiOiB7ZWxlbTE6ImluY2Vuc2UiLCBlbGVtMjpudWxsfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJwYXBlciIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogInBhcGVyIiwNCglidXJuOiAxLA0KCWJ1cm5UaW1lOiAzMDAsDQoJYnVybkludG86IFsic21va2UiLCJzbW9rZSIsInNtb2tlIiwic3RlYW0iXSwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxNTAwLA0KCXZpc2Nvc2l0eTogMjUwMCwNCgloaWRkZW46IHRydWUsDQoJYWxpYXM6ICJwYXBlciBwYXN0ZSINCn0sDQoid2F4Ijogew0KCWNvbG9yOiAiI2ZmZjNkNiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDU3LA0KCXN0YXRlSGlnaDogIm1lbHRlZF93YXgiLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTAwDQp9LA0KIm1lbHRlZF93YXgiOiB7DQoJY29sb3I6ICIjZDRjMTk2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgl0ZW1wOiA2NywNCgl0ZW1wTG93OiA1NywNCglzdGF0ZUxvdzogIndheCIsDQoJdGVtcEhpZ2g6IDEwMDAsDQoJc3RhdGVIaWdoOiBbInNtb2tlIiwiZmlyZSIsImNhcmJvbl9kaW94aWRlIiwiaHlkcm9nZW4iXSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogOTAwLA0KCXZpc2Nvc2l0eTogMS4zNTUNCn0sDQoiaW5jZW5zZSI6IHsNCgljb2xvcjogIiMzNjFmMTkiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCXRlbXBIaWdoOiAyMzIwLA0KCXN0YXRlSGlnaDogWyJmcmFncmFuY2UiLCJzbW9rZSJdLA0KCWJ1cm46IDEwLA0KCWJ1cm5UaW1lOiA1MDAsDQoJYnVybkludG86IFsiZnJhZ3JhbmNlIiwic21va2UiXSwNCglmaXJlRWxlbWVudDogWyJmcmFncmFuY2UiLCJzbW9rZSIsInNtb2tlIl0sDQoJYnJlYWtJbnRvOiAic2F3ZHVzdCIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2ODYNCn0sDQoiZGlveGluIjogew0KCWNvbG9yOiAiI2I4YjhiOCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJcmVhY3Rpb25zOiB7DQoJCSJjZWxsIjogeyBlbGVtMjoiY2FuY2VyIiwgY2hhbmNlOjAuMDAxNSB9LA0KCQkiYmxvb2QiOiB7IGVsZW0yOiJpbmZlY3Rpb24iLCBjaGFuY2U6MC4wMSB9LA0KCQkiYW50aWJvZHkiOiB7IGVsZW0yOiJibG9vZCIsIGNoYW5jZTowLjAyNSB9LA0KCQkiZnJvZyI6IHsgZWxlbTI6Im1lYXQiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZmlzaCI6IHsgZWxlbTI6Im1lYXQiLCBjaGFuY2U6MC4wNSB9LA0KCQkicmF0IjogeyBlbGVtMjoicm90dGVuX21lYXQiLCBjaGFuY2U6MC4wNSB9LA0KCQkiYmlyZCI6IHsgZWxlbTI6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMDUgfSwNCgkJInBsYW50IjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJ2aW5lIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJjYWN0dXMiOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJInNhcGxpbmciOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMDUgfSwNCgkJImdyYXNzIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjA1IH0sDQoJCSJoZWFkIjogeyBmdW5jOmJlaGF2aW9ycy5LSUxMUElYRUwyLCBjaGFuY2U6MC4wMDUgfSwNCgkJImFzaCI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImRpcnQiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJtdWQiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzYW5kIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkid2V0X3NhbmQiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJjbGF5X3NvaWwiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0NCgl9LA0KCWNhdGVnb3J5OiAiZ2FzZXMiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLjk3Nw0KfSwNCiJpbnN1bGF0aW9uIjogew0KCWNvbG9yOiAiI2I4YWVhNSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglpbnN1bGF0ZTogdHJ1ZSwNCglzdGF0ZTogInNvbGlkIiwNCglub01peDogdHJ1ZSwNCglkYXJrVGV4dDogdHJ1ZQ0KfSwNCiJzcG9uZ2UiOiB7DQoJY29sb3I6IFsiI2JmOWMwMCIsIiNhZDhlMDUiLCIjODc2ZjA1Il0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKCFwaXhlbC5jbG9nKSB7DQoJCQliZWhhdmlvcnMuQUJTT1JCKHBpeGVsLDEwMCk7DQoJCQl2YXIgY29vcmRzVG9DaGVjayA9IFsNCgkJCQlbcGl4ZWwueC0xLHBpeGVsLnldLA0KCQkJCVtwaXhlbC54KzEscGl4ZWwueV0sDQoJCQkJW3BpeGVsLngscGl4ZWwueS0xXSwNCgkJCQlbcGl4ZWwueCxwaXhlbC55KzFdLA0KCQkJXTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzVG9DaGVjay5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBjb29yZCA9IGNvb3Jkc1RvQ2hlY2tbaV07DQoJCQkJaWYgKCFpc0VtcHR5KGNvb3JkWzBdLGNvb3JkWzFdLHRydWUpKSB7DQoJCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2Nvb3JkWzBdXVtjb29yZFsxXV07DQoJCQkJCWlmIChlbGVtZW50cy5zcG9uZ2UucmVhY3Rpb25zW25ld1BpeGVsLmVsZW1lbnRdKSB7DQoJCQkJCQlpZiAoZWxlbWVudHMuc3BvbmdlLnJlYWN0aW9uc1tuZXdQaXhlbC5lbGVtZW50XS5lbGVtMiAmJiBNYXRoLnJhbmRvbSgpIDwgMC4xKSB7DQoJCQkJCQkJY2hhbmdlUGl4ZWwobmV3UGl4ZWwsIGVsZW1lbnRzLnNwb25nZS5yZWFjdGlvbnNbbmV3UGl4ZWwuZWxlbWVudF0uZWxlbTIpOw0KCQkJCQkJCXBpeGVsLm1vaXN0Kys7DQoJCQkJCQl9DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCA9PT0gImR1c3QiKSB7DQoJCQkJCQlwaXhlbC5jbG9nID0gdHJ1ZTsNCgkJCQkJCWRlbGV0ZVBpeGVsKGNvb3JkWzBdLGNvb3JkWzFdKTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5zdGF0ZSA9PT0gImxpcXVpZCIgJiYgKChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5kZW5zaXR5IHx8IDApIDwgMjUwMCkpIHsNCgkJCQkJCWRlbGV0ZVBpeGVsKGNvb3JkWzBdLGNvb3JkWzFdKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQkvLyBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5yZWFjdGlvbnNbbmV3UGl4ZWwuZWxlbWVudF0gJiYgIWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnJlYWN0aW9uc1tuZXdQaXhlbC5lbGVtZW50XS5lbGVtMg0KCQlkb0J1cm5pbmcocGl4ZWwpOw0KCQlkb0hlYXQocGl4ZWwpOw0KCX0sDQoJb25CcmVhazogYmVoYXZpb3JzLlJFTEVBU0VfTU9JU1RVUkUsDQoJb25EZWxldGU6IGJlaGF2aW9ycy5SRUxFQVNFX01PSVNUVVJFLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOnt9LCAic2FsdF93YXRlciI6eyBlbGVtMjoic2FsdCIgfSwgInN1Z2FyX3dhdGVyIjp7IGVsZW0yOiJzdWdhciIgfSwgImRpcnR5X3dhdGVyIjp7fSwgInBvb2xfd2F0ZXIiOnsgZWxlbTI6ImNobG9yaW5lIiB9LCAic2VsdHplciI6eyBlbGVtMjoiY2FyYm9uX2Rpb3hpZGUiIH0sDQoJCSJzb2FwIjogeyBlbGVtMjoiYnViYmxlIiB9LA0KCQkibXVkIjogeyBlbGVtMjoiZGlydCIgfSwNCgkJIndldF9zYW5kIjogeyBlbGVtMjoic2FuZCIgfSwNCgkJImNsYXkiOiB7IGVsZW0yOiJjbGF5X3NvaWwiIH0NCgl9LA0KCXJlbmRlcmVyOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJZHJhd0RlZmF1bHQoY3R4LHBpeGVsKTsNCgkJaWYgKHBpeGVsLm1vaXN0ID4gMSkgew0KCQkJZHJhd1NxdWFyZShjdHgsIiM1NzNmMDAiLHBpeGVsLngscGl4ZWwueSx1bmRlZmluZWQsTWF0aC5taW4oMC44LHBpeGVsLm1vaXN0LzEwKSk7DQoJCX0NCgl9LA0KCWhvdmVyU3RhdDogZnVuY3Rpb24ocGl4ZWwpIHsgcmV0dXJuIE1hdGguZmxvb3IocGl4ZWwubW9pc3R8fDApICsgIiUiIH0sDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWJ1cm46IDUsDQoJYnVyblRpbWU6IDMwMCwNCgl0ZW1wSGlnaDogNTAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDY1LA0KCW1vdmFibGU6IGZhbHNlLA0KfSwNCiJiYW1ib28iOiB7DQoJY29sb3I6IFsiIzdjYzAwYyIsIiM3N2EwMTIiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJdGVtcEhpZ2g6IDM4MCwNCglzdGF0ZUhpZ2g6IFsiZW1iZXIiLCJmaXJlIiwiZmlyZSIsImZpcmUiXSwNCglidXJuOiAxMCwNCglidXJuVGltZTogMjAwLA0KCWJ1cm5JbnRvOiBbImVtYmVyIiwiZmlyZSIsImZpcmUiLCJmaXJlIl0sDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDY4NiwNCglicmVha0ludG86ICJzYXdkdXN0IiwNCglzZWVkOiAiYmFtYm9vX3BsYW50Ig0KfSwNCiJpcm9uIjogew0KCWNvbG9yOiBbIiNjYmNkY2QiLCIjYmRiZGJkIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAyNSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjA0IH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjA0IH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDM1IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwNiB9LA0KCQkic2FsdCI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDQgfSwNCgkJImJsb29kIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMyB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMyB9LA0KCQkiYW50aWJvZHkiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAzIH0sDQoJCSJmaXJlIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMjUgfSwNCgkJImNvZmZlZSI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDAzIH0sDQoJCSJ0ZWEiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAwMyB9LA0KCQkiYnJvdGgiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAwMyB9LA0KCQkianVpY2UiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAwMyB9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAwMyB9DQoJfSwNCgl0ZW1wSGlnaDogMTUzOCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogNzg2MCwNCgljb25kdWN0OiAwLjQ3LA0KCWhhcmRuZXNzOiAwLjQsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoiY29wcGVyIjogew0KCWNvbG9yOiBbIiNhOTUyMzIiLCIjYmU0MzIyIiwiI2M3NjAzNSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZWFjdGlvbnM6IHsNCgkJImJsb29kIjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAzIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiJveGlkaXplZF9jb3BwZXIiLCBjaGFuY2U6MC4wMDMgfSwNCgkJImFudGlib2R5IjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAzIH0sDQoJCSJmaXJlIjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAyNSB9DQoJfSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJdGVtcEhpZ2g6IDEwODUsDQoJZGVuc2l0eTogODk2MCwNCgljb25kdWN0OiAwLjk1LA0KCWhhcmRuZXNzOiAwLjMsDQoJZmlyZUNvbG9yOiBbIiMwN0JBNEYiLCIjMDBCQzVCIiwiIzAwQzJBOSIsIiMxMUI3RTciLCIjQzZGMkVDIl0NCn0sDQoiZ29sZCI6IHsNCgljb2xvcjogWyIjRkZGRERFIiwiI0ZERjU1RiIsIiNGQUQ2NEEiLCIjRUFCMTE1IiwiI0RDOTcxMCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTA2NCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogMTkzMDAsDQoJY29uZHVjdDogMC44MSwNCgloYXJkbmVzczogMC4yNSwNCglicmVha0ludG86ICJnb2xkX2NvaW4iDQp9LA0KInN0ZWVsIjogew0KCWNvbG9yOiAiIzcxNzk3ZSIsDQoJY29sb3JLZXk6IHsNCgkJIkwiOiIjODg4Zjk0IiwNCgkJIkIiOiIjNzE3OTdlIg0KCX0sDQoJY29sb3JQYXR0ZXJuOiBbDQoJCSJCQkxCIiwNCgkJIkJCQkwiLA0KCQkiQkxCQiIsDQoJCSJMQkJCIg0KCV0sDQoJZ3JhaW46IDAuNSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDA0IH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMyB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMyB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAzIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwNSB9LA0KCQkic2FsdCI6IHsgZWxlbTE6InJ1c3QiLCBjaGFuY2U6MC4wMDMgfSwNCgkJImJsb29kIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMiB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMiB9LA0KCQkiYW50aWJvZHkiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAyIH0sDQoJCSJjb2ZmZWUiOiB7IGVsZW0xOiJydXN0IiwgY2hhbmNlOjAuMDAwMiB9LA0KCQkidGVhIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMDIgfSwNCgkJImJyb3RoIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMDIgfSwNCgkJImp1aWNlIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMDIgfSwNCgkJIm51dF9taWxrIjogeyBlbGVtMToicnVzdCIsIGNoYW5jZTowLjAwMDIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDE0NTUuNSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogNzg1MCwNCgljb25kdWN0OiAwLjQyLA0KCWhhcmRuZXNzOiAwLjgNCn0sDQoiZ2FsdmFuaXplZF9zdGVlbCI6IHsNCgljb2xvcjogIiM5OWE3YjAiLA0KCWNvbG9yS2V5OiB7DQoJCSJMIjoiIzk5YTdiMCIsDQoJCSJCIjoiIzg1OTE5OSINCgl9LA0KCWNvbG9yUGF0dGVybjogWw0KCQkiQkJMQiIsDQoJCSJCTEJMIiwNCgkJIkxCQkIiDQoJXSwNCglncmFpbjogMC41LA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTIwMCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogNzg1MCwNCgljb25kdWN0OiAwLjQ3NSwNCgloYXJkbmVzczogMC44LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJ6aW5jIjogew0KCWNvbG9yOiBbIiM2NjY0NjYiLCIjODE3ZTgxIiwiIzlhOTg5YSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogNDE5LjUzLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglkZW5zaXR5OiA3MDY4LA0KCWNvbmR1Y3Q6IDAuNTMsDQoJaGFyZG5lc3M6IDAuMjUsDQoJZmlyZUNvbG9yOiBbIiM5MUI3OTciLCIjQ0FFNENBIiwiI0YxRjJGMCJdLA0KCXN1cGVyY29uZHVjdEF0OiAtMjcyLjI1DQp9LA0KInNpbHZlciI6IHsNCgljb2xvcjogIiNjYWNhY2EiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogOTYxLjgsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDEwNDk3LA0KCWNvbmR1Y3Q6IDAuOTksDQoJaGFyZG5lc3M6IDAuMjUNCn0sDQoidGluIjogew0KCWNvbG9yOiBbIiM5ZTlkOTgiLCIjYWVhZGE0Il0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPCAxMy4yICYmIE1hdGgucmFuZG9tKCkgPCAwLjAwMDUpIHsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJtZXRhbF9zY3JhcCIpOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpDQoJfSwNCgl0ZW1wSGlnaDogMjMxLjksDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDcyNjAsDQoJY29uZHVjdDogMC40NSwNCgloYXJkbmVzczogMC4xNSwNCgltb3ZhYmxlOiBmYWxzZSwNCglzdXBlcmNvbmR1Y3RBdDogLTI2OS40NQ0KfSwNCiJsZWFkIjogew0KCWNvbG9yOiBbIiM2YzZjNmEiLCIjODM4MzgxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAzMjcuNSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogMTEzNDMsDQoJY29uZHVjdDogMC40MSwNCgloYXJkbmVzczogMC4xNSwNCglmaXJlQ29sb3I6IFsiI0RCRDFFOSIsIiNEN0U5RjIiLCIjOUFCMEQxIl0sDQoJc3VwZXJjb25kdWN0QXQ6IC0yNjUuOTUNCn0sDQoibmlja2VsIjogew0KCWNvbG9yOiBbIiM2OTVjNTIiLCIjODI3MzYyIiwiIzk5OGI3MSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTQ1NSwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogODkwMCwNCgljb25kdWN0OiAwLjUxLA0KCWhhcmRuZXNzOiAwLjQNCn0sDQoiYWx1bWludW0iOiB7DQoJY29sb3I6IFsiI2QxYzZiZSIsIiNiNWMwYWQiLCIjYjliOGJjIl0sDQoJcmVhY3Rpb25zOiB7DQoJCSJyYWRpYXRpb24iOiB7IGVsZW0yOiJlbGVjdHJpYyIsIHRlbXAxOjIwMCB9DQoJfSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVuZGVyZXI6IG51bGwsDQoJdGVtcEhpZ2g6IDY2MC4zLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglkZW5zaXR5OiAyNzEwLA0KCWNvbmR1Y3Q6IDAuNzMsDQoJaGFyZG5lc3M6IDAuMDUsDQoJYnJlYWtJbnRvOiAibWV0YWxfc2NyYXAiLA0KCWZpcmVDb2xvcjogIiNBN0IzQkYiLA0KCXN1cGVyY29uZHVjdEF0OiAtMjcxLjk1LA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KInR1bmdzdGVuIjogew0KCWNvbG9yOiBbIiNCQkIzQTIiLCIjRDRENENBIl0sDQoJZ3JhaW46IDUsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAzNDIyLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglkZW5zaXR5OiAxOTMwMCwNCgljb25kdWN0OiAwLjY1LA0KCXN1cGVyY29uZHVjdEF0OiAtMjcwLjY1LA0KCWhhcmRuZXNzOiAwLjc1DQp9LA0KIm1vbHRlbl90dW5nc3RlbiI6IHsNCgljb2xvcjogWycjZmZmZjY3JywgJyNmZmQzNjcnLCAnI2ZmOWUwMCcsICcjZDFmZjVjJywgJyM1Y2ZmYjAnLCAnIzAwNzNmZicsICcjY2E1N2ZmJywgJyNmZmJhNTcnLCAnI2ZmOGMwMCcsICcjYzQ2ZjI4JywgJyNjNDU5MjgnLCAnI2M0NDMwMCddDQp9LA0KImJyYXNzIjogew0KCWNvbG9yOiBbIiNlNGJlNmMiLCIjY2M5NjVjIiwiI2FiN2M0OSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZWFjdGlvbnM6IHsNCgkJImFtbW9uaWEiOiB7IGVsZW0xOiJtZXRhbF9zY3JhcCIsIGNvbG9yMTpbIiNjYjllNWQiLCIjODY1ZTM5Il0sIGNoYW5jZTowLjAxIH0NCgl9LA0KCXRlbXBIaWdoOiA5MjcsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDg1NTAsDQoJY29uZHVjdDogMC41MiwNCgloYXJkbmVzczogMC4yNzUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImJyb256ZSI6IHsNCgljb2xvcjogWyIjZTRhYTZkIiwiI2NjODc1YyIsIiNhYjZjNGEiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAwMTI1IH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAyNSB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOiJveGlkaXplZF9jb3BwZXIiLCBjaGFuY2U6MC4wMiB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAyIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAwMTc1IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAzIH0sDQoJCSJibG9vZCI6IHsgZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAwMTUgfSwNCgkJImluZmVjdGlvbiI6IHsgZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAwMTUgfSwNCgkJImFudGlib2R5IjogeyBlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDAxNSB9DQoJfSwNCgl0ZW1wSGlnaDogOTEzLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglkZW5zaXR5OiA4MTUwLA0KCWNvbmR1Y3Q6IDAuNDQsDQoJaGFyZG5lc3M6IDAuMjI1LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJpbnZhciI6IHsNCgljb2xvcjogWyIjMzYzMjJjIiwiIzMwMmUyOSIsIiMyZTJkMjkiXSwNCglncmFpbjogMC41LA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTQyNywNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogODEwMCwNCgljb25kdWN0OiAwLjQ5LA0KCWhhcmRuZXNzOiAwLjM1LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJzdGVybGluZyI6IHsNCgljb2xvcjogIiNENEQ0RDQiLA0KCWdyYWluOiAwLjMsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiA4MDIsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDEwMzc1LjI1LA0KCWNvbmR1Y3Q6IDAuOTUsDQoJaGFyZG5lc3M6IDAuMjc1LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJnYWxsaXVtIjogew0KCWNvbG9yOiBbIiNiM2IzYjMiLCIjY2NjY2NjIiwiI2RiZGJkYiJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMjkuNzYsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDUxMDAsDQoJY29uZHVjdDogMC4wNSwNCgloYXJkbmVzczogMC4xNSwNCglzdXBlcmNvbmR1Y3RBdDogLTI3Mi4xNQ0KfSwNCiJtb2x0ZW5fZ2FsbGl1bSI6IHsNCgljb2xvcjogWyIjZjdmN2Y3IiwiI2Q5ZDdkNyJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRlbXBIaWdoOiAyNDAwLA0KCXRlbXBMb3c6IDI5Ljc2LA0KCWRlbnNpdHk6IDYwOTUsDQoJc3RhdGVMb3c6ICJnYWxsaXVtIiwNCglyZWFjdGlvbnM6IHsNCgkJImFsdW1pbnVtIjogeyBlbGVtMTpbIm1vbHRlbl9nYWxsaXVtIiwibW9sdGVuX2dhbGxpdW0iLCJhbGdhIl0sIGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJtb2x0ZW5fYWx1bWludW0iOiB7IGVsZW0xOiJhbGdhIiwgZWxlbTI6Im1vbHRlbl9hbGdhIiwgY2hhbmNlOjAuMDUgfSwNCgkJInNvZGl1bSI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6InNhbHQiLCBjaGFuY2U6MC4wMDUgfSwNCgkJInN0ZWVsIjogeyBlbGVtMjoiaXJvbiIsIGNoYW5jZTowLjAwNSB9LA0KCQkiZ29sZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImJsdWVfZ29sZCIsIGNoYW5jZTowLjAxIH0sDQoJCSJnb2xkX2NvaW4iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJibHVlX2dvbGQiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCglzdGFpbjogMC4wNSwNCn0sDQoiZ2FsbGl1bV9nYXMiOiB7DQoJZGVuc2l0eTogNi4zMQ0KfSwNCiJyb3NlX2dvbGQiOiB7DQoJY29sb3I6IFsiI2Y1OGY4ZiIsIiNkMDZjNmMiLCIjZjU4ZjhmIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiA4OTcsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDEyOTAwLA0KCWNvbmR1Y3Q6IDAuODcsDQoJaGFyZG5lc3M6IDAuMjc1LA0KCWJyZWFrSW50bzogImdvbGRfY29pbiIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiI2Y1OGY4ZiIsIiNkMDZjNmMiLCIjZjU4ZjhmIl0sDQoJaGlkZGVuOiB0cnVlDQp9LA0KInB1cnBsZV9nb2xkIjogew0KCWNvbG9yOiBbIiNmNThmZGEiLCIjZDA2Y2I1IiwiI2Y1OGZkYSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTA2MCwNCgljYXRlZ29yeTogInNvbGlkcyIsDQoJZGVuc2l0eTogMTEwMDUsDQoJY29uZHVjdDogMC44NywNCgloYXJkbmVzczogMC4xNSwNCglicmVha0ludG86ICJnb2xkX2NvaW4iLA0KCWJyZWFrSW50b0NvbG9yOiBbIiNmNThmZGEiLCIjZDA2Y2I1IiwiI2Y1OGZkYSJdLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJibHVlX2dvbGQiOiB7DQoJY29sb3I6IFsiIzk0YzJjNyIsIiM3YmEzYjIiLCIjOTRjMmM3Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiA0OTEsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDEyOTAwLA0KCWNvbmR1Y3Q6IDAuODcsDQoJaGFyZG5lc3M6IDAuMjc1LA0KCWJyZWFrSW50bzogImdvbGRfY29pbiIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiIzk0YzJjNyIsIiM3YmEzYjIiLCIjOTRjMmM3Il0sDQoJaGlkZGVuOiB0cnVlDQp9LA0KImVsZWN0cnVtIjogew0KCWNvbG9yOiBbIiNjNWM3OTQiLCIjYjBiMjdiIiwiI2M1Yzc5NCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0ZW1wSGlnaDogMTA2My45LA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglkZW5zaXR5OiAxMzc1MCwNCgljb25kdWN0OiAwLjksDQoJaGFyZG5lc3M6IDAuMjUsDQoJYnJlYWtJbnRvOiAiZ29sZF9jb2luIiwNCglicmVha0ludG9Db2xvcjogWyIjYzVjNzk0IiwiI2IwYjI3YiIsIiNjNWM3OTQiXSwNCgloaWRkZW46IHRydWUsDQoJYWxpYXM6ICJncmVlbiBnb2xkIg0KfSwNCiJweXJpdGUiOiB7DQoJY29sb3I6IFsiI2U4ZTBjYiIsIiNjZGNhYWYiLCIjNzI2YTUzIiwiIzhmODM1ZSIsIiNiZmI5YTAiLF0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAxMTgyLjUsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDQ5MDAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJY29uZHVjdDogMC41LA0KCWhhcmRuZXNzOiAwLjYsDQoJaGlkZGVuOiB0cnVlLA0KCWFsaWFzOiBbImZvb2wncyBnb2xkIiwiaXJvbiBzdWxmaWRlIl0NCn0sDQoic29sZGVyIjogew0KCWNvbG9yOiBbIiNhMWExOWQiLCIjYjRiNGIxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAyMDAsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCWRlbnNpdHk6IDg4ODUsDQoJY29uZHVjdDogMC40MywNCgloYXJkbmVzczogMC4xNSwNCgloaWRkZW46IHRydWUNCn0sDQoiYW1iZXIiOiB7DQoJdGVtcDogMjAsDQoJdGVtcEhpZ2g6IDM0NSwNCglzdGF0ZUhpZ2g6ICJzbW9rZSIsDQoJYnJlYWtJbnRvOiBbbnVsbCxudWxsLCJzYXAiXSwNCgljYXRlZ29yeTogInNvbGlkcyINCn0sDQoibW9sdGVuX2NvcHBlciI6IHsNCglyZWFjdGlvbnM6IHsNCgkJIm1vbHRlbl96aW5jIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fYnJhc3MiIH0sDQoJCSJtb2x0ZW5fdGluIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fYnJvbnplIiB9LA0KCQkibW9sdGVuX3NpbHZlciI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAibW9sdGVuX3N0ZXJsaW5nIiB9LA0KCQkibW9sdGVuX2dvbGQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogIm1vbHRlbl9yb3NlX2dvbGQiIH0sDQoJCSJtb2x0ZW5fc3VsZnVyIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fY29wcGVyX3N1bGZhdGUiIH0sDQoJCSJzdWxmdXJfZ2FzIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fY29wcGVyX3N1bGZhdGUiIH0NCgl9LA0KCWRlbnNpdHk6IDgwMjANCn0sDQoibW9sdGVuX2NvcHBlcl9zdWxmYXRlIjogew0KCXRlbXBMb3c6IDEwMCwNCglzdGF0ZUxvdzogImNvcHBlcl9zdWxmYXRlIiwNCglyZWFjdGlvbnM6IHsNCgkJImZpcmUiOiB7ZWxlbTE6bnVsbCxlbGVtMjoicG9pc29uX2dhcyIsY2hhbmNlOjAuMX0NCgl9DQp9LA0KIm1vbHRlbl9nb2xkIjogew0KCXJlYWN0aW9uczogew0KCQkibW9sdGVuX3NpbHZlciI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAibW9sdGVuX2VsZWN0cnVtIiB9LA0KCQkibW9sdGVuX2FsdW1pbnVtIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fcHVycGxlX2dvbGQiIH0sDQoJCSJtb2x0ZW5fZ2FsbGl1bSI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAibW9sdGVuX2JsdWVfZ29sZCIgfSwNCgkJIm1vbHRlbl9hbGdhIjogeyBlbGVtMTogIm1vbHRlbl9wdXJwbGVfZ29sZCIsIGVsZW0yOiAibW9sdGVuX2JsdWVfZ29sZCIgfSwNCgkJImdhbGxpdW1fZ2FzIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fYmx1ZV9nb2xkIiB9DQoJfSwNCglkZW5zaXR5OiAxNzMxMA0KfSwNCiJtb2x0ZW5fc2lsdmVyIjogew0KCWRlbnNpdHk6IDkzMjANCn0sDQoibW9sdGVuX2lyb24iOiB7DQoJcmVhY3Rpb25zOiB7DQoJCSJjaGFyY29hbCI6IHsgZWxlbTE6ICJtb2x0ZW5fc3RlZWwiLCBlbGVtMjogbnVsbCB9LA0KCQkiZGlhbW9uZCI6IHsgZWxlbTE6ICJtb2x0ZW5fc3RlZWwiLCBlbGVtMjogbnVsbCB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0xOiAibW9sdGVuX3N0ZWVsIiwgZWxlbTI6IG51bGwgfSwNCgkJIm1vbHRlbl9uaWNrZWwiOiB7IGVsZW0xOiAibW9sdGVuX2ludmFyIiwgZWxlbTI6IG51bGwgfQ0KCX0sDQoJZGVuc2l0eTogNjk4MA0KfSwNCiJtb2x0ZW5fbmlja2VsIjogew0KCWRlbnNpdHk6IDc4MTANCn0sDQoibW9sdGVuX3RpbiI6IHsNCglyZWFjdGlvbnM6IHsNCgkJIm1vbHRlbl9sZWFkIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJtb2x0ZW5fc29sZGVyIiB9DQoJfSwNCglkZW5zaXR5OiA2OTkwDQp9LA0KIm1vbHRlbl9sZWFkIjogew0KCWRlbnNpdHk6IDEwNjYwDQp9LA0KIm1vbHRlbl9zb2xkZXIiOiB7DQoJY29sb3I6IFsiIzk0QTRCMCIsIiNBRkJCQzkiLCIjQ0NENkU1IiwiI0ZGRkZGRiJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlEDQp9LA0KImp1aWNlIjogew0KCWNvbG9yOiAiI2YwYmYzZCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJzZWx0emVyIjogeyBlbGVtMTogInNvZGEiLCBlbGVtMjogImZvYW0iLCBjb2xvcjE6IiNmZjkwMjEiIH0sDQoJCSJjYXJib25fZGlveGlkZSI6IHsgZWxlbTE6ICJzb2RhIiwgZWxlbTI6ICJmb2FtIiwgY29sb3IxOiIjZmY5MDIxIiB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXRlbXBIaWdoOiAxNjAsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwic3VnYXIiXSwNCgl0ZW1wTG93OiAtMTAsDQoJc3RhdGVMb3dDb2xvck11bHRpcGxpZXI6IDEuMSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDU0LA0KCXN0YWluOiAwLjA1LA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJqdWljZV9pY2UiOiB7DQoJc3RhdGVIaWdoQ29sb3JNdWx0aXBsaWVyOiAwLjkxLA0KCWJyZWFrSW50bzogInNsdXNoIg0KfSwNCiJicm90aCI6IHsNCgljb2xvcjogIiNkYmIxNjkiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkicGV0YWwiOiB7IGNvbG9yMTpbIiNDQzk5NzgiLCIjQ0Q4QzZGIiwiI0JFNzg1RSIsIiNDQzk5NzgiLCIjQ0Q4QzZGIiwiI0JFNzg1RSIsIiNBOUQ0NzUiLCIjNUFGMzUzIiwiIzhFNUZBNSJdLCB0ZW1wTWluOjcwLCBjaGFuY2U6MC4wMSB9LA0KCQkicGlzdGlsIjogeyBjb2xvcjE6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiLCIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiLCIjQTlENDc1IiwiIzVBRjM1MyIsIiM4RTVGQTUiXSwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDEgfSwNCgkJInBvdGF0byI6IHsgY29sb3IxOiIjREZEMENCIiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJIm1lbHRlZF9jaGVlc2UiOiB7IGNvbG9yMToiI2RiYzQ2OSIsIHRlbXBNaW46NzAsIGNoYW5jZTowLjA1IH0sDQoJCSJiZWFucyI6IHsgY29sb3IxOiIjZGI5NzY5IiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJIndoZWF0IjogeyBjb2xvcjE6IiNkYmJkOGEiLCB0ZW1wTWluOjcwLCBjaGFuY2U6MC4wNSB9LA0KCQkia2VscCI6IHsgY29sb3IxOiIjN2RiYTU3IiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJInRvbWF0byI6IHsgY29sb3IxOiIjRjlBMjRFIiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJInNhdWNlIjogeyBjb2xvcjE6IiNGOUEyNEUiLCB0ZW1wTWluOjcwLCBjaGFuY2U6MC4wNSB9LA0KCQkia2V0Y2h1cCI6IHsgY29sb3IxOiIjRjlBMjRFIiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJIm11c2hyb29tX3N0YWxrIjogeyBjb2xvcjE6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJIm11c2hyb29tX2NhcCI6IHsgY29sb3IxOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0sIHRlbXBNaW46NzAsIGNoYW5jZTowLjA1IH0sDQoJCSJtdXNocm9vbV9naWxsIjogeyBjb2xvcjE6WyIjQ0M5OTc4IiwiI0NEOEM2RiIsIiNCRTc4NUUiXSwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMDUgfSwNCgkJImh5cGhhZSI6IHsgY29sb3IxOlsiI0NDOTk3OCIsIiNDRDhDNkYiLCIjQkU3ODVFIl0sIHRlbXBNaW46NzAsIGNoYW5jZTowLjA1IH0NCgl9LA0KCXRlbXBIaWdoOiAxMzAsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwic3RlYW0iLCJzdGVhbSIsImZyYWdyYW5jZSJdLA0KCXRlbXBMb3c6IDAsDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTA1MiwNCgljb25kdWN0OiAwLjAzLA0KCXN0YWluOiAtMC4wMSwNCgloaWRkZW46IHRydWUsDQoJaXNGb29kOiB0cnVlLA0KCWV4dGluZ3Vpc2g6IHRydWUsDQoJYWxpYXM6ICJzb3VwIg0KfSwNCiJtaWxrIjogew0KCWNvbG9yOiAiI2ZhZmFmYSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJb25NaXg6IGZ1bmN0aW9uKG1pbGsxLCBtaWxrMikgew0KCQlpZiAoc2hpZnREb3duICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQljaGFuZ2VQaXhlbChtaWxrMSwiYnV0dGVyIikNCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJtZWx0ZWRfY2hvY29sYXRlIjogeyBlbGVtMToiY2hvY29sYXRlX21pbGsiLCBlbGVtMjpudWxsIH0sDQoJCSJjaG9jb2xhdGUiOiB7IGVsZW0xOiJjaG9jb2xhdGVfbWlsayIsIGVsZW0yOiJtZWx0ZWRfY2hvY29sYXRlIiwgY2hhbmNlOjAuMDUgfSwNCgkJImNob2NvbGF0ZV9wb3dkZXIiOiB7IGVsZW0xOiJjaG9jb2xhdGVfbWlsayIsIGVsZW0yOiJtZWx0ZWRfY2hvY29sYXRlIiwgY2hhbmNlOjAuMiB9LA0KCQkianVpY2UiOiB7IGVsZW0xOiJmcnVpdF9taWxrIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJInNvZGEiOiB7IGVsZW0xOiJwaWxrIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkieW9sayI6IHsgZWxlbTE6ImVnZ25vZyIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJImFzaCI6IHsgZWxlbTE6InNvYXAiLCBjaGFuY2U6MC4xIH0sDQoJCSJjYXJhbWVsIjogeyBjb2xvcjE6IiNDOEIzOUEiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJpY2VfY3JlYW0iLA0KCXN0YXRlTG93Q29sb3JNdWx0aXBsaWVyOiBbMC45NywwLjkzLDAuODddLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwiYnViYmxlIiwiY3JlYW0iLCJjcmVhbSIsInN1Z2FyIl0sDQoJdmlzY29zaXR5OiAxLjUsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTAzNi44NiwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiY2hvY29sYXRlX21pbGsiOiB7DQoJY29sb3I6ICIjNjY0OTM0IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglvbk1peDogZnVuY3Rpb24obWlsazEsIG1pbGsyKSB7DQoJCWlmIChzaGlmdERvd24gJiYgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsNCgkJCWNoYW5nZVBpeGVsKG1pbGsxLCJidXR0ZXIiKTsNCgkJCW1pbGsxLmNvbG9yID0gcGl4ZWxDb2xvclBpY2sobWlsazEsIiNiYTc1NGEiKTsNCgkJfQ0KCX0sDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImljZV9jcmVhbSIsDQoJc3RhdGVMb3dDb2xvck11bHRpcGxpZXI6IFswLjk3LDAuOTMsMC44N10sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJidWJibGUiLCJjcmVhbSIsImNyZWFtIiwic3VnYXIiXSwNCgl2aXNjb3NpdHk6IDEuNSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMTgxLA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiZnJ1aXRfbWlsayI6IHsNCgljb2xvcjogIiNjOTk4OGYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCW9uTWl4OiBmdW5jdGlvbihtaWxrMSwgbWlsazIpIHsNCgkJaWYgKHNoaWZ0RG93biAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMSkgew0KCQkJY2hhbmdlUGl4ZWwobWlsazEsImJ1dHRlciIpOw0KCQkJbWlsazEuY29sb3IgPSBwaXhlbENvbG9yUGljayhtaWxrMSwiI2RlYTQ1OSIpOw0KCQl9DQoJfSwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiaWNlX2NyZWFtIiwNCglzdGF0ZUxvd0NvbG9yTXVsdGlwbGllcjogWzAuOTcsMC45MywwLjg3XSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsImJ1YmJsZSIsImNyZWFtIiwiY3JlYW0iLCJzdWdhciJdLA0KCXZpc2Nvc2l0eTogMS41LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwNDUsDQoJaGlkZGVuOiB0cnVlLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJwaWxrIjogew0KCWNvbG9yOiAiI2U5Y2JhMyIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENSOmZvYW0lMXxYWCIsDQoJCSJNMnxYWHxNMiIsDQoJCSJNMnxNMXxNMiIsDQoJXSwNCglvbk1peDogZnVuY3Rpb24obWlsazEsbWlsazIpIHsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHJlbGVhc2VFbGVtZW50KG1pbGsxLCAiZm9hbSIpOw0KCQlpZiAoc2hpZnREb3duICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7DQoJCQljaGFuZ2VQaXhlbChtaWxrMSwiYnV0dGVyIik7DQoJCQltaWxrMS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKG1pbGsxLCIjZGViNDgxIik7DQoJCX0NCgl9LA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJpY2VfY3JlYW0iLA0KCXN0YXRlTG93Q29sb3JNdWx0aXBsaWVyOiBbMC45NywwLjkzLDAuODddLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwiYnViYmxlIiwiY3JlYW0iLCJjcmVhbSIsInN1Z2FyIl0sDQoJdmlzY29zaXR5OiAxLjI1LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwMzMsDQoJaGlkZGVuOiB0cnVlLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJlZ2dub2ciOiB7DQoJY29sb3I6ICIjZGRiZjk4IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglvbk1peDogZnVuY3Rpb24obWlsazEsIG1pbGsyKSB7DQoJCWlmIChzaGlmdERvd24gJiYgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsNCgkJCWNoYW5nZVBpeGVsKG1pbGsxLCJidXR0ZXIiKTsNCgkJCW1pbGsxLmNvbG9yID0gcGl4ZWxDb2xvclBpY2sobWlsazEsIiNlYmNjNDYiKTsNCgkJfQ0KCX0sDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImljZV9jcmVhbSIsDQoJc3RhdGVMb3dDb2xvck11bHRpcGxpZXI6IFswLjk3LDAuOTMsMC44N10sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJidWJibGUiLCJjcmVhbSIsImNyZWFtIiwic3VnYXIiXSwNCgl2aXNjb3NpdHk6IDEuNSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDMzLA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiZWdnIjogew0KCWNvbG9yOiAiI2UwZDNhYiIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnN0YXJ0ID09PSBwaXhlbFRpY2tzKSB7cmV0dXJufQ0KCQlpZiAocGl4ZWwuZHJhZykgcGl4ZWwuZmFsbCA9IDA7DQoJCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueSsxKSkgew0KCQkJaWYgKHBpeGVsLmFuaW1hbCB8fCBwaXhlbC5mYWxsIDwgMjApIHsNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkgew0KCQkJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngrMSwgcGl4ZWwueSsxKSkgew0KCQkJCQkJdHJ5TW92ZShwaXhlbCwgcGl4ZWwueC0xLCBwaXhlbC55KzEpOw0KCQkJCQl9DQoJCQkJfSBlbHNlIHsNCgkJCQkJaWYgKCF0cnlNb3ZlKHBpeGVsLCBwaXhlbC54LTEsIHBpeGVsLnkrMSkpIHsNCgkJCQkJCXRyeU1vdmUocGl4ZWwsIHBpeGVsLngrMSwgcGl4ZWwueSsxKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlwaXhlbC5mYWxsID0gMDsNCgkJCX0NCgkJCWVsc2UgaWYgKG91dE9mQm91bmRzKHBpeGVsLngscGl4ZWwueSsxKSB8fCAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkgJiYgZWxlbWVudHMuZWdnLmlnbm9yZS5pbmRleE9mKHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uZWxlbWVudCkgPT09IC0xICYmIGVsZW1lbnRzW3BpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uZWxlbWVudF0uc3RhdGUgPT09ICJzb2xpZCIpKSB7DQoJCQkJY2hhbmdlUGl4ZWwocGl4ZWwsInlvbGsiKQ0KCQkJfQ0KCQkJZWxzZSB7cGl4ZWwuZmFsbCA9IDB9DQoJCQlpZiAocGl4ZWwuYW5pbWFsICYmIHBpeGVsVGlja3MtcGl4ZWwuc3RhcnQgPj0gNTAwICYmIE1hdGgucmFuZG9tKCkgPCAwLjIpIHsNCgkJCQljaGFuZ2VQaXhlbChwaXhlbCxwaXhlbC5hbmltYWwpDQoJCQl9DQoJCX0NCgkJZWxzZSB7cGl4ZWwuZmFsbCArK30NCgkJaWYgKHBpeGVsLnRlbXAgPCAtMiB8fCBwaXhlbC50ZW1wID4gMTAwKSB7DQoJCQlwaXhlbC5hbmltYWwgPSBudWxsOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJaWdub3JlOiBbInBhcGVyIiwic3BvbmdlIiwic3RyYXciLCJ3aGVhdCIsInJhdCIsImZyb2ciLCJwb2xsZW4iLCJjbGF5Iiwic25vdyIsIm11ZCIsIndldF9zYW5kIiwidGluZGVyIiwiZmVhdGhlciIsImJyZWFkIiwiaWNlX2NyZWFtIiwiZG91Z2giXSwNCglpbm5lckNvbG9yOiAiI2ZmZmZmZiIsDQoJcHJvcGVydGllczogeyAiZmFsbCI6MCB9LA0KCXRlbXBIaWdoOiAxNTAwLA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsImNhbGNpdW0iLCJjYXJib25fZGlveGlkZSIsInN1bGZ1cl9nYXMiXSwNCglicmVha0ludG86ICJ5b2xrIiwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMzEsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93bg0KfSwNCiJ5b2xrIjogew0KCWNvbG9yOiBbIiNmZmJlMzMiLCIjZmZjZjMzIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJkbmEiOiB7IGVsZW0xOiJob211bmN1bHVzIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJoYXJkX3lvbGsiLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJoYXJkX3lvbGsiLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwMjcuNSwNCgl2aXNjb3NpdHk6IDI3MCwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiaGFyZF95b2xrIjogew0KCWNvbG9yOiAiI2RlYWQ0MyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJzbW9rZSIsDQoJY2F0ZWdvcnk6ICJmb29kIiwNCgloaWRkZW46IHRydWUsDQoJaXNGb29kOiB0cnVlLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMzEsDQoJYWxpYXM6ICJmcmllZCBlZ2ciDQp9LA0KImNyZWFtIjogew0KCWNvbG9yOiAiI2Y3ZjdmNyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJb25NaXg6IGZ1bmN0aW9uKG1pbGsxLCBtaWxrMikgew0KCQlpZiAoKHNoaWZ0RG93biAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMSkgfHwgKGVsZW1lbnRzW21pbGsyLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy5taWxrLmlkICYmIE1hdGgucmFuZG9tKCkgPCAwLjAwMDI1KSkgew0KCQkJY2hhbmdlUGl4ZWwobWlsazEsImJ1dHRlciIpDQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkibWVsdGVkX2Nob2NvbGF0ZSI6IHsgY29sb3IxOiIjNjY0OTM0IiwgZWxlbTI6bnVsbCB9LA0KCQkiY2hvY29sYXRlIjogeyBjb2xvcjE6IiM2NjQ5MzQiLCBlbGVtMjoibWVsdGVkX2Nob2NvbGF0ZSIsIGNoYW5jZTowLjA1IH0sDQoJCSJjaG9jb2xhdGVfcG93ZGVyIjogeyBjb2xvcjE6IiM2NjQ5MzQiLCBlbGVtMjoibWVsdGVkX2Nob2NvbGF0ZSIsIGNoYW5jZTowLjEgfSwNCgkJImp1aWNlIjogeyBlbGVtMToiZnJ1aXRfbWlsayIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzb2RhIjogeyBlbGVtMToicGlsayIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInlvbGsiOiB7IGVsZW0xOiJlZ2dub2ciLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJjYXJhbWVsIjogeyBjb2xvcjE6IiNDOEIzOUEiLCBjaGFuY2U6MC4wNSB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXZpc2Nvc2l0eTogMS41LA0KCXRlbXBIaWdoOiAyMDAsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwiYnViYmxlIiwic3VnYXIiXSwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiaWNlX2NyZWFtIiwNCglzdGF0ZUxvd0NvbG9yTXVsdGlwbGllcjogMC45NywNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDk1OS45NywNCn0sDQoibnV0X21pbGsiOiB7DQoJY29sb3I6ICIjRDdEMUMzIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgl2aXNjb3NpdHk6IDEuNSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogInN0ZWFtIiwNCgl0ZW1wTG93OiAwLA0KCXN0YXRlTG93OiAiaWNlIiwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMTA3LjQxLA0KCWNvbmR1Y3Q6IDAuMDA1LA0KCXN0YWluOiAtMC4xLA0KCWRlc2M6ICJEYWlyeS1mcmVlISIsDQoJaXNGb29kOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJkb3VnaCI6IHsNCgljb2xvcjogIiNiZmFjOTEiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCW9uTWl4OiBmdW5jdGlvbihkb3VnaCxpbmdyZWRpZW50KSB7DQoJCWlmIChlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlzRm9vZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5kb3VnaC5pZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5mbG91ci5pZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5iYXR0ZXIuaWQgJiYgZWxlbWVudHNbaW5ncmVkaWVudC5lbGVtZW50XS5pZCAhPT0gZWxlbWVudHMuYnJlYWQuaWQpIHsNCgkJCXZhciByZ2IxID0gZG91Z2guY29sb3IubWF0Y2goL1xkKy9nKTsNCgkJCXZhciByZ2IyID0gaW5ncmVkaWVudC5jb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJLy8gYXZlcmFnZSB0aGUgY29sb3JzDQoJCQl2YXIgcmdiID0gWw0KCQkJCU1hdGgucm91bmQoKHBhcnNlSW50KHJnYjFbMF0pKjEwK3BhcnNlSW50KHJnYjJbMF0pKS8xMSksDQoJCQkJTWF0aC5yb3VuZCgocGFyc2VJbnQocmdiMVsxXSkqMTArcGFyc2VJbnQocmdiMlsxXSkpLzExKSwNCgkJCQlNYXRoLnJvdW5kKChwYXJzZUludChyZ2IxWzJdKSoxMCtwYXJzZUludChyZ2IyWzJdKSkvMTEpDQoJCQldOw0KCQkJLy8gY29udmVydCByZ2IgdG8gaGV4DQoJCQl2YXIgaGV4ID0gUkdCVG9IZXgocmdiKTsNCgkJCWRvdWdoLmNvbG9yID0gcGl4ZWxDb2xvclBpY2soZG91Z2gsIGhleCk7DQoJCX0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkibWlsayI6IHsgZWxlbTI6ImJyb3RoIiwgY29sb3IyOiIjRUNDODkxIiwgdGVtcE1pbjo3MCB9LA0KCQkiY3JlYW0iOiB7IGVsZW0yOiJicm90aCIsIGNvbG9yMjoiI0VDQzg5MSIsIHRlbXBNaW46NzAgfSwNCgkJInllYXN0IjogeyBlbGVtMjoiZG91Z2giLCB0ZW1wTWluOjQwLCBjaGFuY2U6MC4wMSB9LA0KCQkiY3JlYW0iOiB7IGVsZW0yOiJkb3VnaCIsIHRlbXBNaW46NDAsIGNoYW5jZTowLjAxIH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTI6ImRvdWdoIiwgdGVtcE1pbjo0MCwgY2hhbmNlOjAuMDEgfSwNCgkJInF1aWNrbGltZSI6IHsgZWxlbTI6ImRvdWdoIiwgdGVtcE1pbjo0MCwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCgl0ZW1wSGlnaDogOTQsDQoJc3RhdGVIaWdoOiAiYnJlYWQiLA0KCS8vc3RhdGVIaWdoQ29sb3JNdWx0aXBsaWVyOiAwLjksDQoJYnVybjo0MCwNCglidXJuVGltZToyNSwNCglidXJuSW50bzoiYXNoIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA1MjYuOSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiYmF0dGVyIjogew0KCWNvbG9yOiAiI2Q0YmM4NSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJb25NaXg6IGZ1bmN0aW9uKGJhdHRlcixpbmdyZWRpZW50KSB7DQoJCWlmIChlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlzRm9vZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5iYXR0ZXIuaWQgJiYgZWxlbWVudHNbaW5ncmVkaWVudC5lbGVtZW50XS5pZCAhPT0gZWxlbWVudHMuZmxvdXIuaWQgJiYgZWxlbWVudHNbaW5ncmVkaWVudC5lbGVtZW50XS5pZCAhPT0gZWxlbWVudHMueW9say5pZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5kb3VnaC5pZCAmJiBlbGVtZW50c1tpbmdyZWRpZW50LmVsZW1lbnRdLmlkICE9PSBlbGVtZW50cy5iYWtlZF9iYXR0ZXIuaWQpIHsNCgkJCXZhciByZ2IxID0gYmF0dGVyLmNvbG9yLm1hdGNoKC9cZCsvZyk7DQoJCQl2YXIgcmdiMiA9IGluZ3JlZGllbnQuY29sb3IubWF0Y2goL1xkKy9nKTsNCgkJCS8vIGF2ZXJhZ2UgdGhlIGNvbG9ycw0KCQkJdmFyIHJnYiA9IFsNCgkJCQlNYXRoLnJvdW5kKChwYXJzZUludChyZ2IxWzBdKSoxMCtwYXJzZUludChyZ2IyWzBdKSkvMTEpLA0KCQkJCU1hdGgucm91bmQoKHBhcnNlSW50KHJnYjFbMV0pKjEwK3BhcnNlSW50KHJnYjJbMV0pKS8xMSksDQoJCQkJTWF0aC5yb3VuZCgocGFyc2VJbnQocmdiMVsyXSkqMTArcGFyc2VJbnQocmdiMlsyXSkpLzExKQ0KCQkJXTsNCgkJCS8vIGNvbnZlcnQgcmdiIHRvIGhleA0KCQkJdmFyIGhleCA9IFJHQlRvSGV4KHJnYik7DQoJCQliYXR0ZXIuY29sb3IgPSBwaXhlbENvbG9yUGljayhiYXR0ZXIsIGhleCk7DQoJCQlpZiAoKGVsZW1lbnRzW2luZ3JlZGllbnQuZWxlbWVudF0uZGVuc2l0eSA+IGVsZW1lbnRzLmJhdHRlci5kZW5zaXR5IHx8IHNoaWZ0RG93bikgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDUpIHsNCgkJCQkvLyA1MCUgY2hhbmdlIHRvIGRlbGV0ZSBpbmdyZWRpZW50DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHsgZGVsZXRlUGl4ZWwoaW5ncmVkaWVudC54LCBpbmdyZWRpZW50LnkpOyB9DQoJCQkJZWxzZSB7DQoJCQkJCWluZ3JlZGllbnQuY29sb3IgPSBwaXhlbENvbG9yUGljayhpbmdyZWRpZW50LCBoZXgpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ5ZWFzdCI6IHsgZWxlbTI6ImJhdHRlciIsIHRlbXBNaW46NDAsIGNoYW5jZTowLjAxIH0sDQoJCSJjcmVhbSI6IHsgZWxlbTI6ImJhdHRlciIsIHRlbXBNaW46NDAsIGNoYW5jZTowLjAxIH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTI6ImJhdHRlciIsIHRlbXBNaW46NDAsIGNoYW5jZTowLjAxIH0sDQoJCSJxdWlja2xpbWUiOiB7IGVsZW0yOiJiYXR0ZXIiLCB0ZW1wTWluOjQwLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXRlbXBIaWdoOiA5NCwNCglzdGF0ZUhpZ2g6ICJiYWtlZF9iYXR0ZXIiLA0KCXN0YXRlSGlnaENvbG9yTXVsdGlwbGllcjogMC45LA0KCWJ1cm46NDAsDQoJYnVyblRpbWU6MjUsDQoJYnVybkludG86ImFzaCIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCXZpc2Nvc2l0eTogMTAwMDAsDQoJZGVuc2l0eTogMTAwMSwNCgloaWRkZW46IHRydWUsDQoJaXNGb29kOiB0cnVlDQp9LA0KImhvbXVuY3VsdXMiOiB7DQoJY29sb3I6IFsiI2M0YjI3MCIsIiM5YzkxNmEiLCIjOWU4OTU1IiwiI2E4OWE3NiJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJNMiUwLjV8WFh8TTIlMC41IiwNCgkJIlhYfE0xfFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkibWlsayI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDI1IH0sDQoJCSJibG9vZCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJInN1Z2FyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUgfSwNCgkJIm1lYXQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMSB9LA0KCQkiY29va2VkX21lYXQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMDUgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiB9LA0KCQkicmFkaWF0aW9uIjogeyBlbGVtMTpbImh1bWFuIiwic2tpbiJdLCBlbGVtMjpudWxsIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAibWVhdCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImZyb3plbl9tZWF0IiwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE0NTAsDQoJaGlkZGVuOiB0cnVlLA0KCWJyZWFrSW50bzogWyJibG9vZCIsInNsaW1lIl0NCn0sDQoiYnV0dGVyIjogew0KCWNvbG9yOiAiI2ZmZTQ2YiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJjYXVzdGljX3BvdGFzaCI6IHsgZWxlbTE6InNvYXAiLCBlbGVtMjoic29hcCIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDMzLA0KCXN0YXRlSGlnaDogIm1lbHRlZF9idXR0ZXIiLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogODYwLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJjaGVlc2UiOiB7DQoJY29sb3I6ICIjZmNiYTAzIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGNoYW5jZTowLjEgfSwNCgkJInN0ZW5jaCI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBjaGFuY2U6MC4yIH0sDQoJCSJmbHkiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMiB9LA0KCQkiZGlveGluIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInVyYW5pdW0iOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkiY2FuY2VyIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGNoYW5jZTowLjEgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4zIH0sDQoJCSJhbnQiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkid29ybSI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBjaGFuY2U6MC4xIH0sDQoJCSJyYXQiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkibXVzaHJvb21fc3BvcmUiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkibXVzaHJvb21fc3RhbGsiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkibWVyY3VyeSI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4yIH0sDQoJCSJtZXJjdXJ5X2dhcyI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJ2aXJ1cyI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBjaGFuY2U6MC4xIH0sDQoJCSJwb2lzb24iOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJImluayI6IHsgZWxlbTE6InJvdHRlbl9jaGVlc2UiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJhY2lkIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjUgfSwNCgkJImFjaWRfZ2FzIjogeyBlbGVtMToicm90dGVuX2NoZWVzZSIsIGNoYW5jZTowLjQgfSwNCgkJImN5YW5pZGUiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSB9LA0KCQkiY3lhbmlkZV9nYXMiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuNSB9LA0KCQkicm90dGVuX21lYXQiOiB7IGVsZW0xOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuMDIgfQ0KCX0sDQoJdGVtcEhpZ2g6IDU0LA0KCXN0YXRlSGlnaDogIm1lbHRlZF9jaGVlc2UiLA0KCWJyZWFrSW50bzogImNoZWVzZV9wb3dkZXIiLA0KCWJyZWFrSW50b0NvbG9yTXVsdGlwbGllcjogWzEuMSwxLDAuODZdLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDc3LjYyLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJyb3R0ZW5fY2hlZXNlIjogew0KCWNvbG9yOiBbIiNmZmNjNDAiLCIjYzFiMzM4IiwiIzgzOTkzMCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpwbGFndWUsc3RlbmNoLHN0ZW5jaCxzdGVuY2gsZmx5JTAuMjUgQU5EIENIOmNoZWVzZSxjaGVlc2VfcG93ZGVyPnJvdHRlbl9jaGVlc2UlMXxYWCIsDQoJCSJDSDpjaGVlc2UsY2hlZXNlX3Bvd2Rlcj5yb3R0ZW5fY2hlZXNlJTF8WFh8Q0g6Y2hlZXNlLGNoZWVzZV9wb3dkZXI+cm90dGVuX2NoZWVzZSUxIiwNCgkJIlhYfE0xIEFORCBDSDpjaGVlc2UsY2hlZXNlX3Bvd2Rlcj5yb3R0ZW5fY2hlZXNlJTF8WFgiLA0KCV0sDQoJdGVtcEhpZ2g6IDU0LA0KCXN0YXRlSGlnaDogWyJtZWx0ZWRfY2hlZXNlIiwibWVsdGVkX2NoZWVzZSIsIm1lbHRlZF9jaGVlc2UiLCJtZWx0ZWRfY2hlZXNlIiwibWVsdGVkX2NoZWVzZSIsIm1lbHRlZF9jaGVlc2UiLCJtZWx0ZWRfY2hlZXNlIiwibWVsdGVkX2NoZWVzZSIsIm1lbHRlZF9jaGVlc2UiLCJzdGVuY2giXSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDQ3MCwNCglpc0Zvb2Q6IHRydWUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImNoZWVzZV9wb3dkZXIiOiB7DQoJY29sb3I6IFsiI2ZmY2M0MCIsIiNmY2JhMDMiLCIjZDk5ZjAwIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGVtcEhpZ2g6IDU0LA0KCXN0YXRlSGlnaDogIm1lbHRlZF9jaGVlc2UiLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDcwLA0KCWlzRm9vZDogdHJ1ZSwNCgloaWRkZW46IHRydWUNCn0sDQoiY2hvY29sYXRlIjogew0KCWNvbG9yOiAiIzRkMjgxOCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDMxLA0KCXN0YXRlSGlnaDogIm1lbHRlZF9jaG9jb2xhdGUiLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTMyNSwNCglpc0Zvb2Q6IHRydWUsDQoJYnJlYWtJbnRvOiAiY2hvY29sYXRlX3Bvd2RlciINCn0sDQoiY2hvY29sYXRlX3Bvd2RlciI6IHsNCgljb2xvcjogWyIjNGQyODE4IiwiIzNiMWIwZCIsIiMzMzE2MGEiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgl0ZW1wSGlnaDogMzEsDQoJc3RhdGVIaWdoOiAibWVsdGVkX2Nob2NvbGF0ZSIsDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzI1LA0KCWlzRm9vZDogdHJ1ZSwNCgloaWRkZW46IHRydWUNCn0sDQoiZ3JhcGUiOiB7DQoJY29sb3I6IFsiI2I4NGI2NSIsIiNhMTBlNjkiLCIjYTEwZTk1IiwiIzhhM2VhYiJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxTVDp2aW5lfFhYIiwNCgkJIlNUOnZpbmV8WFh8U1Q6dmluZSIsDQoJCSJNMnxNMXxNMiIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInJhZGlhdGlvbiI6IHsgZWxlbTE6ImV4cGxvc2lvbiIsIGNoYW5jZTowLjEsIGNvbG9yMToiIzI5MTgyNCIgfSwNCgkJInJvY2siOiB7IGVsZW0xOiJqdWljZSIsIGNoYW5jZTowLjEsIGNvbG9yMToiIzI5MTgyNCIgfSwNCgkJImNvbmNyZXRlIjogeyBlbGVtMToianVpY2UiLCBjaGFuY2U6MC4xLCBjb2xvcjE6IiMyOTE4MjQiIH0sDQoJCSJiYXNhbHQiOiB7IGVsZW0xOiJqdWljZSIsIGNoYW5jZTowLjEsIGNvbG9yMToiIzI5MTgyNCIgfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTE6Imp1aWNlIiwgY2hhbmNlOjAuMSwgY29sb3IxOiIjMjkxODI0IiB9LA0KCQkidHVmZiI6IHsgZWxlbTE6Imp1aWNlIiwgY2hhbmNlOjAuMSwgY29sb3IxOiIjMjkxODI0IiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0yOiJqdWljZSIsIGNoYW5jZTowLjAwNSwgY29sb3IyOiIjMjkxODI0IiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJqdWljZSIsIGNoYW5jZTowLjAyNSwgY29sb3IyOiIjMjkxODI0IiB9LA0KCQkiYWNpZCI6IHsgZWxlbTE6Imp1aWNlIiwgY29sb3IxOiIjMjkxODI0IiB9LA0KCQkiYWNpZF9nYXMiOiB7IGVsZW0xOiJqdWljZSIsIGNvbG9yMToiIzI5MTgyNCIgfQ0KCX0sDQoJaW5uZXJDb2xvcjogIiNjYzc0OTIiLA0KCXRlbXBIaWdoOiAyNTYsDQoJc3RhdGVIaWdoOiBbInN0ZWFtIiwic3VnYXIiXSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDExNTQsDQoJYnJlYWtJbnRvOiAianVpY2UiLA0KCWJyZWFrSW50b0NvbG9yOiAiIzI5MTgyNCIsDQoJaWdub3JlQWlyOiB0cnVlLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJ2aW5lZ2FyIjogew0KCWNvbG9yOiAiI2ZmZWNiMyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJtaWxrIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJjaGVlc2UiIH0sDQoJCSJjcmVhbSI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiY2hlZXNlIiB9LA0KCQkicGlsayI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiY2hlZXNlIiwgY29sb3IyOiIjZDZiNTdhIiB9LA0KCQkiZnJ1aXRfbWlsayI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiY2hlZXNlIiwgY29sb3IyOiIjYzI4NjRlIiB9LA0KCQkiY2hvY29sYXRlX21pbGsiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImNoZWVzZSIsIGNvbG9yMjoiIzZiNDAwMCIgfSwNCgkJImVnZ25vZyI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiY2hlZXNlIiwgY29sb3IyOiIjZmZkYjYzIiB9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogImNoZWVzZSIsIGNvbG9yMjoiI2RlZDBhZCIgfSwNCgkJInlvZ3VydCI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAiY2hlZXNlIiB9LA0KCQkiYmFraW5nX3NvZGEiOiB7IGVsZW0xOiAic29kaXVtX2FjZXRhdGUiLCBlbGVtMjogImNhcmJvbl9kaW94aWRlIiwgYXR0cjE6eyJmb2FtIjoyMH0gfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTE6ICJzb2RpdW1fYWNldGF0ZSIsIGVsZW0yOiAiY2FyYm9uX2Rpb3hpZGUiLCBhdHRyMTp7ImZvYW0iOjV9IH0sDQoJCSJydXN0IjogeyBlbGVtMjoiaXJvbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJveGlkaXplZF9jb3BwZXIiOiB7IGVsZW0yOiJjb3BwZXIiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZWdnIjogeyBlbGVtMjoieW9sayIsIGNoYW5jZTowLjAwMDUgfSwNCgkJInlvbGsiOiB7IGVsZW0xOiJtYXlvIiwgZWxlbTI6Im1heW8iLCBjaGFuY2U6MC4xIH0sDQoJCSJtdXNocm9vbV9zcG9yZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJtdXNocm9vbV9jYXAiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJwb2xsZW4iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJjYXJhbWVsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkic2FsdCI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAic29kaXVtX2FjZXRhdGUiLCBjaGFuY2U6MC4wNSB9LA0KCQkibGV0dHVjZSI6IHsgZWxlbTI6InBpY2tsZSIsIGNoYW5jZTowLjAxIH0sDQoJCSJlZ2ciOiB7IGVsZW0yOiJwaWNrbGUiLCBjb2xvcjI6IiNlMGUwYWIiLCBjaGFuY2U6MC4wMSB9LA0KCQkidG9tYXRvIjogeyBlbGVtMjoicGlja2xlIiwgY29sb3IyOiIjZmE2ZTExIiwgY2hhbmNlOjAuMDEgfSwNCgkJImdyYXBlIjogeyBlbGVtMjoicGlja2xlIiwgY29sb3IyOiIjYjg2YTRiIiwgY2hhbmNlOjAuMDEgfSwNCgkJInB1bXBraW4iOiB7IGVsZW0yOiJwaWNrbGUiLCBjb2xvcjI6IiNmZmE0MmUiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgl2aXNjb3NpdHk6IDEyLA0KCXRlbXBIaWdoOiAxMDAuNiwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJjYXJib25fZGlveGlkZSIsIm1ldGhhbmUiXSwNCgl0ZW1wTG93OiAtMi4yMiwNCglzdGF0ZUxvd05hbWU6ICJmcm96ZW5fdmluZWdhciIsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTAwNiwNCglzdGFpbjogLTAuOCwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiaGVyYiI6IHsNCgljb2xvcjogWyIjMmU1YTA5IiwiIzNjNmExNiIsIiM1MDdiMjgiLCIjNzU5ZDNjIl0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTI6InRlYSIsIHRlbXBNaW46ODAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6InRlYSIsIHRlbXBNaW46ODAgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwIH0sDQoJCSJzdGVuY2giOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjI1IH0sDQoJCSJzdGVhbSI6IHsgZWxlbTI6ImZyYWdyYW5jZSIsIGNoYW5jZTowLjEgfSwNCgkJImZsZWEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiZmx5IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYW50IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgl0ZW1wSGlnaDogMzAwLA0KCXN0YXRlSGlnaDogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwiYXNoIl0sDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46MTAsDQoJYnVyblRpbWU6MzAwLA0KCWJ1cm5JbnRvOiBbImZpcmUiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJmcmFncmFuY2UiXSwNCgljYXRlZ29yeToiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQwMCwNCglpc0Zvb2Q6IHRydWUsDQp9LA0KImxldHR1Y2UiOiB7DQoJY29sb3I6IFsiI2EyYzk2YiIsIiM4MUM1MjAiLCIjNjM5OTE3Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGVtcEhpZ2g6IDMwMCwNCglzdGF0ZUhpZ2g6IFsiZmlyZSIsInNtb2tlIiwic21va2UiLCJzdGVhbSIsImFzaCJdLA0KCWJ1cm46NSwNCglidXJuVGltZTo1MDAsDQoJYnVybkludG86IFsiZmlyZSIsInNtb2tlIiwic21va2UiLCJzdGVhbSIsImFzaCJdLA0KCWNhdGVnb3J5OiJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDAwLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJwaWNrbGUiOiB7DQoJY29sb3I6IFsiI2FmYzUyMCIsIiM5OTk1MTciXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCgl0ZW1wSGlnaDogMzAwLA0KCXN0YXRlSGlnaDogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInN0ZWFtIiwiYXNoIiwiY2FyYm9uX2Rpb3hpZGUiLCJhbGNvaG9sX2dhcyJdLA0KCWJ1cm46MSwNCglidXJuVGltZTo1MDAsDQoJYnVybkludG86IFsiZmlyZSIsInNtb2tlIiwic21va2UiLCJzdGVhbSIsImFzaCIsImNhcmJvbl9kaW94aWRlIiwiYWxjb2hvbF9nYXMiXSwNCglicmVha0ludG86ICJqdWljZSIsDQoJYnJlYWtJbnRvQ29sb3I6ICIjQ0Y5RjA4IiwNCgljYXRlZ29yeToiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNjI1LA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJ0b21hdG8iOiB7DQoJY29sb3I6IFsiI0ZBNDYxMSIsIiNGRjU2MTUiLCIjRkY3ODMzIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFNUOnZpbmV8WFgiLA0KCQkiU1Q6dmluZXxYWHxTVDp2aW5lIiwNCgkJIlhYfE0xfFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkicm9jayI6IHsgZWxlbTE6InNhdWNlIiwgY2hhbmNlOjAuMSB9LA0KCQkiY29uY3JldGUiOiB7IGVsZW0xOiJzYXVjZSIsIGNoYW5jZTowLjEgfSwNCgkJImJhc2FsdCI6IHsgZWxlbTE6InNhdWNlIiwgY2hhbmNlOjAuMSB9LA0KCQkibGltZXN0b25lIjogeyBlbGVtMToic2F1Y2UiLCBjaGFuY2U6MC4xIH0sDQoJCSJ0dWZmIjogeyBlbGVtMToic2F1Y2UiLCBjaGFuY2U6MC4xIH0NCgl9LA0KCXRlbXBIaWdoOiAzMDAsDQoJc3RhdGVIaWdoOiBbImZpcmUiLCJzbW9rZSIsInNtb2tlIiwic3RlYW0iLCJhc2giXSwNCglidXJuOjEsDQoJYnVyblRpbWU6NTAwLA0KCWJ1cm5JbnRvOiBbImZpcmUiLCJzbW9rZSIsInNtb2tlIiwic3RlYW0iLCJhc2giXSwNCglicmVha0ludG86ICJzYXVjZSIsDQoJY2F0ZWdvcnk6ImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMTQuNDIsDQoJaXNGb29kOiB0cnVlDQp9LA0KInNhdWNlIjogew0KCWNvbG9yOiBbIiNiZjE2MDAiLCIjYmYyMzAwIiwiI2JmMzYwMCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkic3VnYXIiOiB7IGVsZW0xOiJrZXRjaHVwIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJrZXRjaHVwIiwgZWxlbTI6IndhdGVyIiwgY2hhbmNlOjAuMSB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6ImtldGNodXAiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJzdGVuY2giOiB7IGVsZW0yOm51bGwgfSwNCgkJInNhbHQiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXZpc2Nvc2l0eTogMjYwMCwNCgl0ZW1wSGlnaDogMjYwLA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsInNhbHQiXSwNCgl0ZW1wTG93OiAtMiwNCgljYXRlZ29yeToiZm9vZCIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwMzEuMzMsDQoJc3RhaW46IDAuMDEsDQoJaXNGb29kOiB0cnVlDQp9LA0KInB1bXBraW4iOiB7DQoJY29sb3I6IFsiI2ZmODIyZSIsIiNmZjhjMmUiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuZ3JvdyAmJiBNYXRoLnJhbmRvbSgpIDwgMC4wMSkgew0KCQkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSB7IGNyZWF0ZVBpeGVsKCJ3b29kIixwaXhlbC54LHBpeGVsLnktMSkgfQ0KCQkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpKSB7IGNyZWF0ZVBpeGVsKCJwdW1wa2luIixwaXhlbC54LHBpeGVsLnkrMSkgfQ0KCQkJaWYgKGlzRW1wdHkocGl4ZWwueCtwaXhlbC5ncm93LHBpeGVsLnkrMSkpIHsgY3JlYXRlUGl4ZWwoInB1bXBraW4iLHBpeGVsLngrcGl4ZWwuZ3JvdyxwaXhlbC55KzEpIH0NCgkJCWlmIChpc0VtcHR5KHBpeGVsLngrcGl4ZWwuZ3JvdyxwaXhlbC55KSkgeyBjcmVhdGVQaXhlbCgicHVtcGtpbiIscGl4ZWwueCtwaXhlbC5ncm93LHBpeGVsLnkpIH0NCgkJCXBpeGVsLmdyb3cgPSAwOw0KCQl9DQoJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCX0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCgl0ZW1wSGlnaDogODAwLA0KCXN0YXRlSGlnaDogImFzaCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDkwLjMsDQoJc2VlZDogInB1bXBraW5fc2VlZCIsDQoJYnJlYWtJbnRvOiBbbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCJwdW1wa2luX3NlZWQiXSwNCglpc0Zvb2Q6IHRydWUsDQoJbW92YWJsZTogZmFsc2UNCn0sDQoicHVtcGtpbl9zZWVkIjogew0KCWNvbG9yOiBbIiNGRkU5Q0EiLCIjZmZkY2MyIiwiI2ZmY2FhYiJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWJlaGF2aW9ycy5TRUVEUklTRShwaXhlbCk7DQoJCWlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsNCgkJCWlmICghcGl4ZWwuc3RhZ2UpIHsNCgkJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkpIHsNCgkJCQkJdmFyIHNvaWwgPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdOw0KCQkJCQlpZiAoZUxpc3RzLlNPSUwuaW5kZXhPZihzb2lsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCQkJaWYgKHRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEsInZpbmUiKSkgew0KCQkJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uc3RvcCA9IHRydWU7DQoJCQkJCQkJcGl4ZWwuc3RhZ2UgPSAxOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSBpZiAocGl4ZWwuc3RhZ2UgPT0gMSkgew0KCQkJCWlmIChpc0VtcHR5KHBpeGVsLngscGl4ZWwueS0xKSkgew0KCQkJCQljcmVhdGVQaXhlbCgicGxhbnQiLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJCQl9DQoJCQkJcGl4ZWwuc3RhZ2UgPSAyOw0KCQkJfQ0KCQkJZWxzZSBpZiAocGl4ZWwuc3RhZ2UgPT0gMikgew0KCQkJCXZhciBkaXIgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxOw0KCQkJCWlmICghaXNFbXB0eShwaXhlbC54K2RpcixwaXhlbC55KSkgeyBkaXIgPSAtZGlyOyB9DQoJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCtkaXIscGl4ZWwueSkpIHsNCgkJCQkJY3JlYXRlUGl4ZWwoInB1bXBraW4iLHBpeGVsLngrZGlyLHBpeGVsLnkpOw0KCQkJCQlwaXhlbE1hcFtwaXhlbC54K2Rpcl1bcGl4ZWwueV0uZ3JvdyA9IGRpcjsNCgkJCQl9DQoJCQkJY2hhbmdlUGl4ZWwocGl4ZWwsInZpbmUiKTsNCgkJCQlwaXhlbC5zdG9wID0gdHJ1ZTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46IDUwLA0KCWJ1cm5UaW1lOiAyMCwNCgljYXRlZ29yeTogImxpZmUiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDk1MC4zMywNCgloaWRkZW46IHRydWUsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglzZWVkOiB0cnVlLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJjb3JuIjogew0KCWNvbG9yOiBbIiNmOGQyMjMiLCIjZDZiYTJhIiwiI2Y3ZjViYSIsIiNkYmQyODEiLCIjY2RiMTJkIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogMjAwLA0KCWJyZWFrSW50bzogImZsb3VyIiwNCglicmVha0ludG9Db2xvcjogWyIjZmZlOWE4IiwiI2ZmZWNiMyIsIiNmZmUyOGEiXSwNCgl0ZW1wSGlnaDogMTgwLA0KCXN0YXRlSGlnaDogInBvcGNvcm4iLA0KCW9uU3RhdGVIaWdoOiBmdW5jdGlvbihwaXhlbCkgew0KCQl0cnlNb3ZlKHBpeGVsLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnktMSk7DQoJCXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEpOw0KCQlyZWxlYXNlRWxlbWVudChwaXhlbCwicG9wIiw0KTsNCgl9LA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDcyMSwNCglzZWVkOiAiY29ybl9zZWVkIiwNCglpc0Zvb2Q6IHRydWUsDQoJbW92YWJsZTogZmFsc2UsDQp9LA0KInBvcGNvcm4iOiB7DQoJY29sb3I6IFsiI2E2YTA3NiIsIiNlYmU0YWIiLCIjZWJlNGFiIiwiI2ViZTRhYiIsIiNlYmU0YWIiLCIjZWJlNGFiIiwiI2ViZTRhYiIsIiNjOTk5NDciXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgljYXRlZ29yeTogImZvb2QiLA0KCXRlbXBIaWdoOiA1MDAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCglidXJuOiAyMCwNCglidXJuVGltZTogMjAwLA0KCWJ1cm5JbnRvOiBbImZpcmUiLCJhc2giXSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAzNjAuNSwNCgloaWRkZW46IHRydWUsDQoJaXNGb29kOiB0cnVlDQp9LA0KImNvcm5fc2VlZCI6IHsNCgljb2xvcjogWyIjZjJiODEzIiwiI2Y5ZTNiYSJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxNMiUwLjI1fFhYIiwNCgkJIlhYfEwyOnBsYW50LGNvcm4gQU5EIEMyOmNvcm4lMzB8WFgiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLlNFRURSSVNFLA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJdGVtcExvdzogLTIsDQoJc3RhdGVMb3c6ICJmcm96ZW5fcGxhbnQiLA0KCWJ1cm46IDUwLA0KCWJ1cm5UaW1lOiAyMCwNCglicmVha0ludG86IG51bGwsDQoJY2F0ZWdvcnk6ICJsaWZlIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA3MjEsDQoJaGlkZGVuOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJc2VlZDogdHJ1ZQ0KfSwNCiJwb3RhdG8iOiB7DQoJY29sb3I6IFsiI2Q5OTg1NyIsIiNkOTg3NTciLCIjYTY2OTMzIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFNIOndpcmUlMXxYWCIsDQoJCSJTSDp3aXJlJTF8WFh8U0g6d2lyZSUxIiwNCgkJIk0yfE0xIEFORCBTSDp3aXJlJTF8TTIiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ6aW5jIjogeyBjaGFyZ2UyOjEsIGNoYW5jZTowLjAxIH0sDQoJCSJjb3BwZXIiOiB7IGNoYXJnZTI6MSwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJaW5uZXJDb2xvcjogIiNlM2M2ODgiLA0KCWJyZWFrSW50bzogIm1hc2hlZF9wb3RhdG8iLA0KCXRlbXBIaWdoOiAxNzYsDQoJc3RhdGVIaWdoOiAiYmFrZWRfcG90YXRvIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogMzAwLA0KCWJ1cm5JbnRvOiAiYXNoIiwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDY3NSwNCglzZWVkOiAicG90YXRvX3NlZWQiLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJiYWtlZF9wb3RhdG8iOiB7DQoJY29sb3I6IFsiI0Y1QjcyRiIsIiNFODlGMEMiLCIjOWY3NTAxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJhc2giLA0KCWJ1cm46IDIwLA0KCWJ1cm5UaW1lOiAzMDAsDQoJYnVybkludG86ICJhc2giLA0KCWJyZWFrSW50bzogImNydW1iIiwNCglicmVha0ludG9Db2xvcjogWyIjZjZiZTQ2IiwiI0Y1QjcyRiIsIiNmNWIzMjQiLCIjZjRhYTBiIiwiI2YzYWIxYiIsIiNFODlGMEMiLCIjZDA4ZjBiIiwiI2I4N2UwYSIsIiNiMjgyMDEiLCIjOWY3NTAxIl0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2NzUsDQoJaXNGb29kOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJtYXNoZWRfcG90YXRvIjogew0KCWNvbG9yOiBbIiNGN0Y2RTQiLCIjRjBFQ0Q0IiwiI0U0RDM4QiJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiBbImFzaCIsInN0ZWFtIixudWxsLG51bGwsbnVsbF0sDQoJYnVybjogMywNCglidXJuVGltZTogMzAwLA0KCWJ1cm5JbnRvOiBbImFzaCIsInN0ZWFtIiwic21va2UiLCJzbW9rZSIsInNtb2tlIl0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2NzUsDQoJaXNGb29kOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJwb3RhdG9fc2VlZCI6IHsNCgljb2xvcjogWyIjY2RhNTdmIiwiI2FhNzQzNyIsIiNiYzk1NjMiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q0g6ZGlydD5maWJlcnxYWCIsDQoJCSJDSDpkaXJ0PnBvdGF0byU1fENIOnBvdGF0byUxfENIOmRpcnQ+cG90YXRvJTUiLA0KCQkiWFh8U1c6ZGlydCUzIEFORCBNMXxYWCIsDQoJXSwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXRlbXBMb3c6IC0yLA0KCXN0YXRlTG93OiAiZnJvemVuX3BsYW50IiwNCglidXJuOiA1MCwNCglidXJuVGltZTogMjAsDQoJYnJlYWtJbnRvOiBudWxsLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNjc1LA0KCWhpZGRlbjogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCXNlZWQ6IHRydWUNCn0sDQoicm9vdCI6IHsNCgljb2xvcjogIiM4MDcxNWIiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJDSDpkaXJ0LG11ZCxzYW5kLHdldF9zYW5kLGNsYXlfc29pbCxjbGF5LG15Y2VsaXVtLGdyYXNzLGNvbG9yX3NhbmQ+cm9vdCxmaWJlciUwLjV8Q0g6ZGlydCxtdWQsc2FuZCx3ZXRfc2FuZCxjbGF5X3NvaWwsY2xheSxteWNlbGl1bSxncmFzcyxjb2xvcl9zYW5kPnJvb3QsZmliZXIsZmliZXIlMC41fENIOmRpcnQsbXVkLHNhbmQsd2V0X3NhbmQsY2xheV9zb2lsLGNsYXksbXljZWxpdW0sZ3Jhc3MsY29sb3Jfc2FuZD5yb290LGZpYmVyJTAuNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInJvY2siOiB7IGVsZW0yOiJzYW5kIiwgY2hhbmNlOjAuMDAwNCB9LA0KCQkibXVkIjogeyBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjAwNSB9LA0KCQkid2V0X3NhbmQiOiB7IGVsZW0yOiJzYW5kIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJ3YXRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA4IH0NCgl9LA0KCXRlbXBIaWdoOiAyNzUsDQoJc3RhdGVIaWdoOiAiZGlydCIsDQoJdGVtcExvdzogLTUwLA0KCXN0YXRlTG93OiAiZmliZXIiLA0KCWJ1cm46IDIwLA0KCWJ1cm5UaW1lOiA2MCwNCglidXJuSW50bzogImRpcnQiLA0KCWJyZWFrSW50bzogInNhd2R1c3QiLA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTI1MCwNCgljb25kdWN0OiAwLjEsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImZpYmVyIjogew0KCWNvbG9yOiBbIiM2YjU2M2UiLCIjNWM1NTNlIiwiIzQyMzQyZCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCXRlbXBIaWdoOjI3NSwNCglzdGF0ZUhpZ2g6ICJkaXJ0IiwNCgl0ZW1wTG93OiAtNTAsDQoJc3RhdGVMb3c6ICJwZXJtYWZyb3N0IiwNCglidXJuOiAyMCwNCglidXJuVGltZTogNjAsDQoJYnVybkludG86ICJkaXJ0IiwNCgljYXRlZ29yeToibGlmZSIsDQoJaGlkZGVuOiB0cnVlLA0KCWJyZWFrSW50bzogInRpbmRlciIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNDYyDQp9LA0KInllYXN0Ijogew0KCWNvbG9yOiBbIiNhZDkxNjYiLCIjOWE3ZjRlIiwiI2Q4YmI4ZCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDTDo3MCUxMHxYWCIsDQoJCSJDTDo3MCUxMCBBTkQgU1c6YnJlYWQlMzB8WFh8Q0w6NzAlMTAgQU5EIFNXOmJyZWFkJTMwIiwNCgkJIlhYfE0xfFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkiYnJlYWQiOiB7IGVsZW0xOiJicmVhZCIgfSwNCgkJInBvdGF0byI6IHsgZWxlbTI6ImFsY29ob2wiLCBjaGFuY2U6MC4wMDUsIGNvbG9yMjoiI2ZlYzQwMCIgfSwNCgkJIm1hc2hlZF9wb3RhdG8iOiB7IGVsZW0yOiJhbGNvaG9sIiwgY2hhbmNlOjAuMDA1LCBjb2xvcjI6IiNmZWM0MDAiIH0sDQoJCSJncmFwZSI6IHsgZWxlbTI6ImFsY29ob2wiLCBjaGFuY2U6MC4wMDUsIGNvbG9yMjoiIzdkMmEyNSIgfSwNCgkJImp1aWNlIjogeyBlbGVtMjoiYWxjb2hvbCIsIGNoYW5jZTowLjAxNSwgY29sb3IyOiIjN2QyYTI1IiB9LA0KCQkic3VnYXIiOiB7IGVsZW0yOiJhbGNvaG9sIiwgY2hhbmNlOjAuMDA1LCBjb2xvcjI6IiM4MDcyNGQiIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6ImFsY29ob2wiLCBjaGFuY2U6MC4wMDUsIGNvbG9yMjoiIzgwNzI0ZCIgfSwNCgkJInNvZGEiOiB7IGVsZW0yOiJhbGNvaG9sIiwgY2hhbmNlOjAuMDA1LCBjb2xvcjI6IiM4MDcyNGQiIH0sDQoJCSJjb3JuIjogeyBlbGVtMjoiYWxjb2hvbCIsIGNoYW5jZTowLjAwNSwgY29sb3IyOiIjYjhiNmEyIiB9LA0KCQkicmljZSI6IHsgZWxlbTI6ImFsY29ob2wiLCBjaGFuY2U6MC4wMDUsIGNvbG9yMjoiI2VjYzk4NiIgfSwNCgkJIndoZWF0IjogeyBlbGVtMjoiYWxjb2hvbCIsIGNoYW5jZTowLjAwNSwgY29sb3IyOiIjRkNENjMwIiB9LA0KCQkiaG9uZXkiOiB7IGVsZW0yOiJhbGNvaG9sIiwgY2hhbmNlOjAuMDA1LCBjb2xvcjI6IiNkY2NiNzIiIH0sDQoJCSJtb2xhc3NlcyI6IHsgZWxlbTI6ImFsY29ob2wiLCBjaGFuY2U6MC4wMDUsIGNvbG9yMjoiIzgwMzkyNCIgfSwNCgkJImhlcmIiOiB7IGVsZW0yOiJ0ZWEiLCBjaGFuY2U6MC4wMDUgfSwNCgkJIm1pbGsiOiB7IGVsZW0yOiJjaGVlc2UiLCBjaGFuY2U6MC4wMDUgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDUgfSwNCgkJImFsZ2FlIjogeyBlbGVtMToibGljaGVuIiwgZWxlbTI6ImxpY2hlbiIsIGNoYW5jZTowLjAyIH0sDQoJCSJibGVhY2giOiB7IGVsZW0xOm51bGwsIGVsZW0yOiAiZm9hbSIsIGF0dHIyOnsiZm9hbSI6NDB9LCBjaGFuY2U6MC4wMiwgdGVtcDI6NzUgfQ0KCX0sDQoJdGVtcEhpZ2g6IDExMCwNCglzdGF0ZUhpZ2g6ICJicmVhZCIsDQoJYnVybjogNTAsDQoJYnVyblRpbWU6IDIwLA0KCWJ1cm5JbnRvOiBbInNtb2tlIiwic21va2UiLCJzbW9rZSIsImFzaCJdLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTE4MCwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiYnJlYWQiOiB7DQoJY29sb3I6ICIjZGViZDhjIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImhvbmV5IjogeyBlbGVtMToiZ2luZ2VyYnJlYWQiLCBlbGVtMjpudWxsIH0sDQoJCSJtb2xhc3NlcyI6IHsgZWxlbTE6ImdpbmdlcmJyZWFkIiwgZWxlbTI6bnVsbCB9LA0KCQkic2FwIjogeyBlbGVtMToiZ2luZ2VyYnJlYWQiLCBlbGVtMjpudWxsIH0sDQoJCSJjYXJhbWVsIjogeyBlbGVtMToiZ2luZ2VyYnJlYWQiLCBlbGVtMjpudWxsIH0NCgl9LA0KCXRlbXBIaWdoOiAxNzYsDQoJc3RhdGVIaWdoOiAidG9hc3QiLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJYnVybjogNSwNCglidXJuVGltZTogMjAwLA0KCWJ1cm5JbnRvOiBbInNtb2tlIiwic21va2UiLCJzbW9rZSIsImFzaCJdLA0KCWJyZWFrSW50bzogImNydW1iIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAyMzMuOTYsDQoJaXNGb29kOiB0cnVlDQp9LA0KInRvYXN0Ijogew0KCWNvbG9yOiAiI2MwODY1NSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDU1MCwNCglzdGF0ZUhpZ2g6ICJhc2giLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJYnVybjogMTAsDQoJYnVyblRpbWU6IDIwMCwNCglidXJuSW50bzogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCglicmVha0ludG86ICJjcnVtYiIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiI2M4OTQ2YSIsIiNjMDg2NTUiLCIjYmE3YTQ1IiwiI2E4NmQzZSJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIzMy45NiwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiZ2luZ2VyYnJlYWQiOiB7DQoJY29sb3I6IFsiI2E2NjUzMCIsIiNiZjc3M2QiLCIjY2M3ZDQxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBQT1JULA0KCXRlbXBIaWdoOiA4NzUsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgljYXRlZ29yeTogImZvb2QiLA0KCWJ1cm46IDUsDQoJYnVyblRpbWU6IDIwMCwNCglidXJuSW50bzogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCglicmVha0ludG86ICJjcnVtYiIsDQoJYnJlYWtJbnRvQ29sb3I6IFsiI2JhNzEzNiIsIiNhNjY1MzAiLCIjOGE1NDI4IiwiIzc3NDgyMiIsIiNjNzg0NGQiLCIjYmY3NzNkIiwiI2FiNmEzNiIsIiM5NzVlMzAiLCIjZDI4YzU2IiwiI2NjN2Q0MSIsIiNjOTc2MzYiLCIjYjU2YTMwIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjMzLjk2LA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJjcnVtYiI6IHsNCgljb2xvcjogWyIjZTJjNjljIiwiI2RlYmQ4YyIsIiNkN2IwNzUiLCIjZDJhNjY1Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGVtcEhpZ2g6IDU1MCwNCglzdGF0ZUhpZ2g6ICJhc2giLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJYnVybjogNSwNCglidXJuVGltZTogMjAwLA0KCWJ1cm5JbnRvOiBbInNtb2tlIiwic21va2UiLCJzbW9rZSIsImFzaCJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIzMy45NiwNCglpc0Zvb2Q6IHRydWUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImJha2VkX2JhdHRlciI6IHsNCgljb2xvcjogIiNmY2RmN2UiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCXRlbXBIaWdoOiA1NTAsDQoJc3RhdGVIaWdoOiAiYXNoIiwNCgljYXRlZ29yeTogImZvb2QiLA0KCWJ1cm46IDUsDQoJYnVyblRpbWU6IDQwMCwNCglidXJuSW50bzogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giXSwNCglicmVha0ludG86ICJjcnVtYiIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjMzLjk2LA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoid2hlYXQiOiB7DQoJY29sb3I6IFsiI2YxYjU2OSIsIiNlZGI4NjQiLCIjZGU5YzQ1IiwiI2MyODUzZCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZWFjdGlvbnM6IHsNCgkJInJvY2siOiB7IGVsZW0xOiJmbG91ciIsIGVsZW0yOiJyb2NrIiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwLCBjb2xvcjI6IiM5ZTRjMDAiIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMjoidGVhIiwgdGVtcE1pbjo4MCwgY29sb3IyOiIjOWU0YzAwIiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJ0ZWEiLCB0ZW1wTWluOjgwLCBjb2xvcjI6IiM5ZTRjMDAiIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMjoidGVhIiwgdGVtcE1pbjo4MCwgY29sb3IyOiIjOWU0YzAwIiB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogInN0cmF3IiwNCgl0ZW1wTG93OiAtMiwNCglzdGF0ZUxvdzogInN0cmF3IiwNCglidXJuOiAyNSwNCglidXJuVGltZTogMjAwLA0KCWNhdGVnb3J5OiJmb29kIiwNCglicmVha0ludG86ICJmbG91ciIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNzY5LA0KCXNlZWQ6ICJ3aGVhdF9zZWVkIiwNCglpc0Zvb2Q6IHRydWUNCn0sDQoicmljZSI6IHsNCgljb2xvcjogWyIjZThlM2IzIiwiI2Q5ZDRhOSIsIiNkMWNiOTkiLCIjYjNhZDgxIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPCA2NSkgeyBiZWhhdmlvcnMuQUJTT1JCKHBpeGVsLDEsMC4wMSk7IH0NCgl9LA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIGNvbG9yMjoiI2ViZDM5NCIsIHRlbXBNaW46NzAsIGNoYW5jZTowLjIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJicm90aCIsIGNvbG9yMjoiI2ViZDM5NCIsIHRlbXBNaW46NzAsIGNoYW5jZTowLjIgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMjoiYnJvdGgiLCBjb2xvcjI6IiNlYmQzOTQiLCB0ZW1wTWluOjcwLCBjaGFuY2U6MC4yIH0sDQoJCSJkaXJ0eV93YXRlciI6e30sICJwb29sX3dhdGVyIjp7fSwgInNlbHR6ZXIiOnt9DQoJfSwNCgl0ZW1wSGlnaDogNTAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCWJ1cm46IDEsDQoJYnVyblRpbWU6IDMwMCwNCgljYXRlZ29yeToiZm9vZCIsDQoJYnJlYWtJbnRvOiAiZmxvdXIiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDExODIsDQoJaXNGb29kOiB0cnVlDQp9LA0KImNhbmR5Ijogew0KCWNvbG9yOiAiI2U2Y2FiMSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiAxODYsDQoJc3RhdGVIaWdoOiAiY2FyYW1lbCIsDQoJYnJlYWtJbnRvOiAic3VnYXIiLA0KCWhhcmRuZXNzOiAwLjE1LA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogOTAwLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJjb2ZmZWVfYmVhbiI6IHsNCgljb2xvcjogWyIjOTk0NTI4IiwiIzc3MkMxMiIsIiM1YzI1MTMiLCIjNGEyNDE2Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTI6ImNvZmZlZSIsIHRlbXBNaW46ODAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJjb2ZmZWUiLCB0ZW1wTWluOjgwIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6Im1lbHRlZF9jaG9jb2xhdGUiLCB0ZW1wTWluOjY1IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMjoiY29mZmVlIiwgdGVtcE1pbjo4MCB9LA0KCQkic3RlbmNoIjogeyBlbGVtMjpudWxsIH0sDQoJCSJveHlnZW4iOiB7IGVsZW0yOiJmcmFncmFuY2UiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCWJyZWFrSW50bzogWyJjb2ZmZWVfZ3JvdW5kIixudWxsXSwNCglidXJuOiAxMCwNCglidXJuSW50bzogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwiZnJhZ3JhbmNlIl0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA2NTAsDQoJaXNGb29kOiB0cnVlDQp9LA0KImNvZmZlZV9ncm91bmQiOiB7DQoJY29sb3I6IFsiIzI2MTMwQyIsIiM0MjIyMTMiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMToiY29mZmVlIiwgZWxlbTI6ImNvZmZlZSIsIHRlbXBNaW46NzAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOiJjb2ZmZWUiLCBlbGVtMjoiY29mZmVlIiwgdGVtcE1pbjo3MCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJtZWx0ZWRfY2hvY29sYXRlIiwgZWxlbTI6Im1lbHRlZF9jaG9jb2xhdGUiLCB0ZW1wTWluOjYwIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToiY29mZmVlIiwgZWxlbTI6ImNvZmZlZSIsIHRlbXBNaW46NzAgfSwNCgkJIm1pbGsiOiB7IGVsZW0xOiJjb2ZmZWUiLCB0ZW1wTWluOjcwIH0sDQoJCSJjb2ZmZWUiOiB7IGVsZW0xOiJjb2ZmZWUiLCB0ZW1wTWluOjcwIH0sDQoJCSJtZWx0ZWRfY2hvY29sYXRlIjogeyBlbGVtMToibWVsdGVkX2Nob2NvbGF0ZSIsIHRlbXBNaW46NjAgfSwNCgkJInN0ZW5jaCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMjoiZnJhZ3JhbmNlIiwgY2hhbmNlOjAuMDEgfSwNCgkJImZsZWEiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0NCgl9LA0KCXRlbXBIaWdoOiA0MDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjogMjUsDQoJYnVybkludG86IFsiZmlyZSIsInNtb2tlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJzbW9rZSIsImZyYWdyYW5jZSJdLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTAwMiwNCglpc0Zvb2Q6IHRydWUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KIm51dCI6IHsNCgljb2xvcjogWyIjZDY5OTY1IiwiI2M5OGM1NyIsIiNiNTdhNDciLCIjOGY2MDM4Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDAwMjUgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJudXRfbWlsayIsIGNoYW5jZTowLjAwMDI1IH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDAwMjUgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJudXRfbWlsayIsIGNoYW5jZTowLjAwMDI1IH0sDQoJCSJyb2NrIjogeyBlbGVtMToibnV0X29pbCIsIGNoYW5jZTowLjAyLCB0ZW1wTWluOjYwIH0sDQoJCSJjb25jcmV0ZSI6IHsgZWxlbTE6Im51dF9vaWwiLCBjaGFuY2U6MC4wMiwgdGVtcE1pbjo2MCB9LA0KCQkiYmFzYWx0IjogeyBlbGVtMToibnV0X29pbCIsIGNoYW5jZTowLjAyLCB0ZW1wTWluOjYwIH0sDQoJCSJsaW1lc3RvbmUiOiB7IGVsZW0xOiJudXRfb2lsIiwgY2hhbmNlOjAuMDEsIHRlbXBNaW46NjAgfQ0KCX0sDQoJdGVtcEhpZ2g6IDQwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAyNSwNCglidXJuSW50bzogWyJmaXJlIiwic21va2UiLCJhc2giXSwNCglicmVha0ludG86IFsibnV0X21lYXQiLG51bGxdLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMzI1LA0KCWlzRm9vZDogdHJ1ZSwNCn0sDQoibnV0X29pbCI6IHsNCgljb2xvcjogIiNFN0Q3ODQiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkidG9hc3QiOiB7IGNvbG9yMjpbIiNBODRCMUUiLCIjQzk2NjE5IiwiI0Y5QjA0MiJdLCB0ZW1wTWluOjE2MCwgY2hhbmNlOjAuMDUgfSwNCgkJImNydW1iIjogeyBjb2xvcjI6WyIjQTg0QjFFIiwiI0M5NjYxOSIsIiNGOUIwNDIiXSwgdGVtcE1pbjoxNjAsIGNoYW5jZTowLjA1IH0sDQoJCSJiYWtlZF9iYXR0ZXIiOiB7IGNvbG9yMjpbIiNBODRCMUUiLCIjQzk2NjE5IiwiI0Y5QjA0MiJdLCB0ZW1wTWluOjE2MCwgY2hhbmNlOjAuMDUgfSwNCgkJImJha2VkX3BvdGF0byI6IHsgY29sb3IyOlsiI0E4NEIxRSIsIiNDOTY2MTkiLCIjRjlCMDQyIl0sIHRlbXBNaW46MTYwLCBjaGFuY2U6MC4wNSB9LA0KCQkic3RlYW0iOiB7IGVsZW0xOiJleHBsb3Npb24iLCB0ZW1wTWluOjE1MCwgY2hhbmNlOjAuMSB9LA0KCQkieW9sayI6IHsgZWxlbTE6Im1heW8iLCBlbGVtMjoibWF5byIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdmlzY29zaXR5OiAzOCwNCgl0ZW1wSGlnaDogMjUwLA0KCXN0YXRlSGlnaDogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIl0sDQoJY2F0ZWdvcnk6ImZvb2QiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA5MTAsDQoJaXNGb29kOiB0cnVlLA0KCWFsaWFzOiAiY29va2luZyBvaWwiDQp9LA0KIm51dF9tZWF0Ijogew0KCWNvbG9yOiBbIiNkZWJhOGUiLCIjZDFhNTZmIiwiI2JhOGI1MCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDUgJiYgIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEsdHJ1ZSkgJiYgZUxpc3RzLlNPSUwuaW5kZXhPZihwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJdmFyIG51dFggPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xOw0KCQkJaWYgKCFpc0VtcHR5KHBpeGVsLngrbnV0WCxwaXhlbC55LHRydWUpICYmIGVMaXN0cy5TT0lMLmluZGV4T2YocGl4ZWxNYXBbcGl4ZWwueCtudXRYXVtwaXhlbC55XS5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQljaGFuZ2VQaXhlbChwaXhlbE1hcFtwaXhlbC54K251dFhdW3BpeGVsLnldLCJudXQiKQ0KCQkJfQ0KCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55LTEpOw0KCQkJdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnktMSwiZmliZXIiKTsNCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDAwNSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDAwNSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0yOiJudXRfbWlsayIsIGNoYW5jZTowLjAwMDUgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0yOiJudXRfbWlsayIsIGNoYW5jZTowLjAwMDUgfQ0KCX0sDQoJdGVtcEhpZ2g6IDE1MCwNCglzdGF0ZUhpZ2g6IFsibnV0X2J1dHRlciIsIm51dF9idXR0ZXIiLCJudXRfYnV0dGVyIiwibnV0X2J1dHRlciIsIm51dF9idXR0ZXIiLCJudXRfb2lsIl0sDQoJYnVybjogMjAsDQoJYnVybkludG86IFsiZmlyZSIsInNtb2tlIl0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA5MDUsDQoJaXNGb29kOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZSwNCn0sDQoibnV0X2J1dHRlciI6IHsNCgljb2xvcjogIiNjZDkxNDEiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkic2FsdCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA1fSwNCgkJIndhdGVyIjogeyBlbGVtMToibnV0X21pbGsiLCBlbGVtMjoibnV0X21pbGsiLCBjaGFuY2U6MC4wNSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6Im51dF9taWxrIiwgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDUgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMToibnV0X21pbGsiLCBlbGVtMjoibnV0X21pbGsiLCBjaGFuY2U6MC4wNSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6Im51dF9taWxrIiwgZWxlbTI6Im51dF9taWxrIiwgY2hhbmNlOjAuMDUgfQ0KCX0sDQoJdmlzY29zaXR5OiAyMDAwMDAsDQoJdGVtcEhpZ2g6IDIzMiwNCglzdGF0ZUhpZ2g6IFsic21va2UiLCJzbW9rZSIsInNtb2tlIiwic21va2UiLCJzYWx0Il0sDQoJY2F0ZWdvcnk6ICJmb29kIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTA5MC41LA0KCWlzRm9vZDogdHJ1ZSwNCgloaWRkZW46IHRydWUsDQp9LA0KImplbGx5Ijogew0KCWNvbG9yOiAiI0EzNTI5OCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJdmlzY29zaXR5OiAyMDAwMDAsDQoJdGVtcEhpZ2g6IDIwMCwNCglzdGF0ZUhpZ2g6IFsic21va2UiLCJzdWdhciJdLA0KCXRlbXBMb3c6IC01LA0KCXN0YXRlTG93OiBbInN1Z2FyX2ljZSIsInN1Z2FyX2ljZSIsImp1aWNlX2ljZSJdLA0KCWNhdGVnb3J5OiAiZm9vZCIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEyNDUsDQoJaXNGb29kOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZSwNCglhbGlhczogImphbSINCn0sDQoiYmFraW5nX3NvZGEiOiB7DQoJY29sb3I6ICIjZWRlZGVkIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImp1aWNlIjogeyBlbGVtMToid2F0ZXIiLCBlbGVtMjpbImNhcmJvbl9kaW94aWRlIiwiZm9hbSJdIH0sDQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6WyJjYXJib25fZGlveGlkZSIsInNlbHR6ZXIiLCJzYWx0Iiwic2FsdF93YXRlciIsIndhdGVyIl0gfSwNCgkJImdsdWUiOiB7ZWxlbTE6InNsaW1lIiwgZWxlbTI6InNsaW1lIiwgY2hhbmNlOjAuMX0sDQoJCSJ5b2d1cnQiOiB7ZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDF9LA0KCQkiaG9uZXkiOiB7ZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDF9LA0KCQkibW9sYXNzZXMiOiB7ZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDF9LA0KCQkibWVsdGVkX2Nob2NvbGF0ZSI6IHtlbGVtMToiY2FyYm9uX2Rpb3hpZGUiLCBjaGFuY2U6MC4wMX0sDQoJCSJzb2FwIjoge2VsZW0xOlsiY2FyYm9uX2Rpb3hpZGUiLCJ3YXRlciJdLCBlbGVtMjoiYnViYmxlIiwgY2hhbmNlOjAuMDF9DQoJfSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIyMDAsDQoJdGVtcEhpZ2g6IDIwMCwNCglzdGF0ZUhpZ2g6IFsic2FsdCIsImNhcmJvbl9kaW94aWRlIl0sDQoJaXNGb29kOiB0cnVlLA0KCWFsaWFzOiAic29kaXVtIGJpY2FyYm9uYXRlIg0KfSwNCiJ5b2d1cnQiOiB7DQoJY29sb3I6ICIjZjBlZmU2IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTIlNXxNMXxNMiU1IiwNCgldLA0KCXRlbXBIaWdoOiAxMDAwLA0KCXN0YXRlSGlnaDogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJjYWxjaXVtIl0sDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvd05hbWU6ICJmcm96ZW5feW9ndXJ0IiwNCglzdGF0ZUxvd0NvbG9yTXVsdGlwbGllcjogMS4wNSwNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA4MjAuMzMsDQoJaXNGb29kOiB0cnVlLA0KCWFsaWFzOiAieW9naHVydCINCn0sDQoiZnJvemVuX3lvZ3VydCI6IHsNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCgljYXRlZ29yeTogImZvb2QiLA0KCWlzRm9vZDogdHJ1ZSwNCglzdGF0ZUhpZ2hDb2xvck11bHRpcGxpZXI6IDAuOTU1LA0KfSwNCiJpY2VfY3JlYW0iOiB7DQoJY29sb3I6IFsiI2Y3ZjdmNyIsIiNlZGVkZWQiLCIjZGVkZWRlIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcDogMCwNCgl0ZW1wSGlnaDogMTUsDQoJc3RhdGVIaWdoOiAiY3JlYW0iLA0KCXN0YXRlSGlnaENvbG9yTXVsdGlwbGllcjogMS4wMywNCgljYXRlZ29yeTogImZvb2QiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwOTYsDQoJaXNGb29kOiB0cnVlDQp9LA0KImJlYW5zIjogew0KCS8vY29sb3I6IFsiI2YzM2QwMiIsIiNmMDQ3MDMiLCIjZmQ5ZDI0IiwiI2ZmYmY2MSJdLA0KCS8vY29sb3I6IFsiI2I4MTkwMSIsIiNiNjFhMDAiLCIjZTk3NTAxIiwiI2Y5OTIyYiJdLA0KCWNvbG9yOiBbIiNkYjFjMGIiLCIjZGIzYzBiIiwiI2ZhODAyMyIsIiNmZmExMmUiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgljYXRlZ29yeTogImZvb2QiLA0KCXRlbXBIaWdoOiAzNTAsDQoJc3RhdGVIaWdoOiBbImZpcmUiLCJmaXJlIiwiYXNoIl0sDQoJYnVybjozLA0KCWJ1cm5UaW1lOjUwMCwNCglidXJuSW50bzogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInN0ZWFtIiwiYXNoIl0sDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDcyMSwNCgl2aXNjb3NpdHk6IDEwMDAsDQoJaXNGb29kOiB0cnVlDQp9LA0KImRyeV9pY2UiOiB7DQoJY29sb3I6ICIjZTZlNmU2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXRlbXA6IC05OC41LA0KCXRlbXBIaWdoOiAtNzguNSwNCglzdGF0ZUhpZ2g6ICJjYXJib25fZGlveGlkZSIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTU2Mg0KfSwNCiJuaXRyb2dlbl9pY2UiOiB7DQoJY29sb3I6ICIjZTZlNmU2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJY2F0ZWdvcnk6ICJzb2xpZHMiLA0KCXRlbXA6IC0yNTkuODYsDQoJdGVtcEhpZ2g6IC0yMDkuODYsDQoJc3RhdGVIaWdoOiAibGlxdWlkX25pdHJvZ2VuIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNTYyLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJwYXJ0aWNsZWJvYXJkIjogew0KCWNvbG9yOiBbIiNjY2E3N2MiLCIjYWQ4YjYzIiwiI2I1OWQ4MSIsIiNjN2EwNzMiLCIjYzliMjk3Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXRlbXBIaWdoOiA1MDAsDQoJc3RhdGVIaWdoOiBbImFzaCIsImZpcmUiLCJmaXJlIiwiZmlyZSJdLA0KCWNhdGVnb3J5OiAic29saWRzIiwNCglidXJuOiAyLA0KCWJ1cm5UaW1lOiA0MDAsDQoJYnVybkludG86IFsiYXNoIiwiZmlyZSJdLA0KCXN0YXRlOiAic29saWQiLA0KCWhhcmRuZXNzOiAwLjIsDQoJYnJlYWtJbnRvOiAic2F3ZHVzdCIsDQoJaGlkZGVuOiB0cnVlDQp9LA0KInNraW4iOiB7DQoJY29sb3I6IFsiI2YzZTdkYiIsIiNmN2VhZDAiLCIjZWFkYWJhIiwiI2Q3YmQ5NiIsIiNhMDdlNTYiLCIjODI1YzQzIiwiIzYwNDEzNCIsIiMzYTMxMmEiXSwNCglzaW5nbGVDb2xvcjogdHJ1ZSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoKHBpeGVsLnRlbXAgPiA0MCB8fCBwaXhlbC50ZW1wIDwgMTApICYmIE1hdGgucmFuZG9tKCkgPCAwLjAwNSkgew0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBjb29yZHMgPSBhZGphY2VudENvb3Jkc1tpXTsNCgkJCQl2YXIgeCA9IHBpeGVsLnggKyBjb29yZHNbMF07DQoJCQkJdmFyIHkgPSBwaXhlbC55ICsgY29vcmRzWzFdOw0KCQkJCWlmIChpc0VtcHR5KHgseSkpIHsNCgkJCQkJaWYgKHBpeGVsLnRlbXAgPiA0MCkgew0KCQkJCQkJcGl4ZWwudGVtcCAtPSAyMDsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJzYWx0X3dhdGVyIix4LHkpOw0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQkJcGl4ZWwudGVtcCArPSAyMDsNCgkJCQkJY3JlYXRlUGl4ZWwoImhhaXIiLHgseSk7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlpZiAocGl4ZWwudGVtcCA8IDM2ICYmIE1hdGgucmFuZG9tKCkgPCAwLjEpIHsNCgkJCXBpeGVsLnRlbXAgKz0gMTsNCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkiY2VsbCI6IHsgY2hhbmNlOjAuMDEsIGZ1bmM6ZnVuY3Rpb24ocGl4ZWwxLHBpeGVsMil7DQoJCQljaGFuZ2VQaXhlbChwaXhlbDIsInNraW4iKTsNCgkJCXBpeGVsMi5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsMixSR0JUb0hleChwaXhlbDEuY29sb3IubWF0Y2goL1xkKy9nKSkpDQoJCQlpZiAocGl4ZWwxLm9yaWdDb2xvcikgeyBwaXhlbDIub3JpZ0NvbG9yID0gcGl4ZWwxLm9yaWdDb2xvciB9DQoJCX0gfSwNCgkJImFjaWQiOiB7IGVsZW0xOiJibG9vZCIgfSwNCgkJInNvYXAiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSB9LA0KCQkibGlnaHQiOiB7IHN0YWluMToiIzgyNTA0MyIgfSwNCgkJInBvaXNvbiI6IHsgc3RhaW4xOiIjY2M1NjRiIiB9LA0KCQkicG9pc29uX2dhcyI6IHsgc3RhaW4xOiIjY2M1NjRiIiB9LA0KCQkiaW5mZWN0aW9uIjogeyBzdGFpbjE6IiNjYzU2NGIiIH0sDQoJCSJwb2xsZW4iOiB7IHN0YWluMToiI2NjNTY0YiIgfSwNCgkJImN5YW5pZGUiOiB7IHN0YWluMToiI2NjNTY0YiIgfSwNCgkJImR1c3QiOiB7IHN0YWluMToiI2NjNTY0YiIgfSwNCgkJImZsZWEiOiB7IHN0YWluMToiI2NjNTY0YiIgfSwNCgkJImJlZSI6IHsgc3RhaW4xOiIjY2M1NjRiIiB9LA0KCQkibXVzaHJvb21fc3BvcmUiOiB7IHN0YWluMToiI2NjNTY0YiIgfSwNCgkJIm11c2hyb29tX3N0YWxrIjogeyBzdGFpbjE6IiNjYzU2NGIiIH0sDQoJCSJjaGxvcmluZSI6IHsgc3RhaW4xOiIjY2M1NjRiIiB9LA0KCQkicXVpY2tsaW1lIjogeyBzdGFpbjE6IiNjYzU2NGIiIH0sDQoJCSJwbGFndWUiOiB7IGVsZW0xOiJwbGFndWUiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgljYXRlZ29yeToic29saWRzIiwNCglicmVha0ludG86IFtudWxsLG51bGwsbnVsbCwiYmxvb2QiLCJkdXN0Il0sDQoJdGVtcDogMzcsDQoJdGVtcEhpZ2g6IDIwMCwNCglzdGF0ZUhpZ2g6IFsiY29va2VkX21lYXQiLCJjb29rZWRfbWVhdCIsImNvb2tlZF9tZWF0Iiwic3RlYW0iXSwNCgl0ZW1wTG93OiAtMTgsDQoJc3RhdGVMb3c6ICJmcm96ZW5fbWVhdCIsDQoJYnVybjo1LA0KCWJ1cm5UaW1lOjQwMCwNCglidXJuSW50bzoiY29va2VkX21lYXQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMTkuNSwNCgljb25kdWN0OiAwLjA1LA0KCW1vdmFibGU6IGZhbHNlLA0KfSwNCiJoYWlyIjogew0KCWNvbG9yOiBbIiNDNkMzQkYiLCIjRUVERkMwIiwiI0RBQjU3NSIsIiNCRjlGNkMiLCIjQzY3OTQ1IiwiIzlCNkU0NyIsIiM5Njc0NTQiLCIjOTQ1RjM2IiwiIzRDM0QyRSIsIiM1QTNFMkQiLCIjMWMxYzFjIiwiIzRBMjIyNyIsIiM2RDM0MkIiLCIjOUQ0QzNCIiwiI0MyNUUzQiJdLA0KCXNpbmdsZUNvbG9yOiB0cnVlLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQliZWhhdmlvcnMuQUJTT1JCKHBpeGVsLDEsMC4wMSk7DQoJfSwNCglvbkJyZWFrOiBiZWhhdmlvcnMuUkVMRUFTRV9NT0lTVFVSRSwNCglvbkRlbGV0ZTogYmVoYXZpb3JzLlJFTEVBU0VfTU9JU1RVUkUsDQoJcmVhY3Rpb25zOiB7DQoJCSJvaWwiOiB7IGVsZW0yOiJkdXN0IiwgY29sb3IyOiIjZTBlMGUwIiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJudXRfb2lsIjogeyBlbGVtMjoiZHVzdCIsIGNvbG9yMjoiI2UwZTBlMCIsIGNoYW5jZTowLjAwNSB9LA0KCQkiZ3JlYXNlIjogeyBlbGVtMjoiZHVzdCIsIGNvbG9yMjoiI2UwZTBlMCIsIGNoYW5jZTowLjAwNSB9LA0KCQkid2F0ZXIiOnt9LCAic2FsdF93YXRlciI6e30sICJzdWdhcl93YXRlciI6e30sICJkaXJ0eV93YXRlciI6e30sICJwb29sX3dhdGVyIjp7fSwgInNlbHR6ZXIiOnt9DQoJfSwNCgljYXRlZ29yeToic29saWRzIiwNCgl0ZW1wSGlnaDogMjIzLA0KCXN0YXRlSGlnaDogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJhc2giLCJhc2giLCJzdGVuY2giXSwNCglidXJuOjE1LA0KCWJ1cm5UaW1lOjQwMCwNCglidXJuSW50bzpbInNtb2tlIiwic21va2UiLCJzbW9rZSIsImFzaCIsImFzaCIsInN0ZW5jaCJdLA0KCWJyZWFrSW50bzogW251bGwsbnVsbCxudWxsLG51bGwsImR1c3QiXSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAyMzk1LA0KCWNvbmR1Y3Q6IDAuMDUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImFsY29ob2wiOiB7DQoJY29sb3I6ICIjYzljNWIxIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJInZpcnVzIjogeyBlbGVtMjpudWxsIH0sDQoJCSJwbGFndWUiOiB7IGVsZW0yOm51bGwgfSwNCgkJImNoYXJjb2FsIjogeyBjb2xvcjE6IiNiZGJkYmQiLCBjaGFuY2U6MC4wNSB9DQoJfSwNCgl0ZW1wSGlnaDogNzguMzcsDQoJdGVtcExvdzogLTExMy44OCwNCglidXJuOiAxMDAsDQoJYnVyblRpbWU6IDMsDQoJZmlyZUNvbG9yOiBbIiM4MGFjZjAiLCIjOTZjZGZlIiwiI2JlZTZkNCJdLA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDc4NS4xLA0KCXN0YWluOiAtMC4yNSwNCglpc0Zvb2Q6IHRydWUsDQoJZGFya1RleHQ6IHRydWUsDQoJYWxpYXM6ICJldGhhbm9sIg0KfSwNCiJhbGNvaG9sX2dhcyI6IHsNCglkZW5zaXR5OiAxLjYyNywNCgl0ZW1wSGlnaDogMzY1LA0KCXN0YXRlSGlnaDogImZpcmUiDQp9LA0KImJhc2FsdCI6IHsNCgljb2xvcjogWyIjMmUyZTJlIiwiIzMzMzMzMyIsIiMzZDNkM2QiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMjUsIG9uZXdheTp0cnVlIH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4yLCBvbmV3YXk6dHJ1ZSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4xNSwgb25ld2F5OnRydWUgfSwNCgkJImJlZSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMSwgb25ld2F5OnRydWUgfSwNCgkJImJpcmQiOiB7IGVsZW0yOiJmZWF0aGVyIiwgY2hhbmNlOjAuMDI1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZWdnIjogeyBlbGVtMjoieW9sayIsIG9uZXdheTp0cnVlIH0sDQoJCSJncmFzcyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiYm9uZSI6IHsgZWxlbTI6Im9pbCIsIHRlbXBNaW46MzAwLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0sDQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjoiY2hhcmNvYWwiLCB0ZW1wTWluOjIwMCwgY2hhbmNlOjAuMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiY2hhcmNvYWwiOiB7IGVsZW0yOiJkaWFtb25kIiwgdGVtcE1pbjo4MDAsIHRlbXBNYXg6OTAwLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0NCgl9LA0KCXRlbXBIaWdoOiAxMjYyLjUsDQoJc3RhdGVIaWdoOiAibWFnbWEiLA0KCWNhdGVnb3J5OiAibGFuZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMzAwMCwNCgloYXJkbmVzczogMC42NSwNCglicmVha0ludG86ICJncmF2ZWwiDQp9LA0KInR1ZmYiOiB7DQoJY29sb3I6IFsiIzkyNzY1OSIsIiM4MTY0NEIiLCIjNjg1ODQzIiwiIzY4NTEzNSIsIiM2NDRGM0EiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlRQT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJmbHkiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjI1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMiwgb25ld2F5OnRydWUgfSwNCgkJInN0aW5rX2J1ZyI6IHsgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMTUsIG9uZXdheTp0cnVlIH0sDQoJCSJiZWUiOiB7IGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjEsIG9uZXdheTp0cnVlIH0sDQoJCSJiaXJkIjogeyBlbGVtMjoiZmVhdGhlciIsIGNoYW5jZTowLjAyNSwgb25ld2F5OnRydWUgfSwNCgkJImVnZyI6IHsgZWxlbTI6InlvbGsiLCBvbmV3YXk6dHJ1ZSB9LA0KCQkiYm9uZSI6IHsgZWxlbTI6Im9pbCIsIHRlbXBNaW46MzAwLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0sDQoJCSJkZWFkX3BsYW50IjogeyBlbGVtMjoiY2hhcmNvYWwiLCB0ZW1wTWluOjIwMCwgY2hhbmNlOjAuMDA1LCBvbmV3YXk6dHJ1ZSB9LA0KCQkiY2hhcmNvYWwiOiB7IGVsZW0yOiJkaWFtb25kIiwgdGVtcE1pbjo4MDAsIHRlbXBNYXg6OTAwLCBjaGFuY2U6MC4wMDUsIG9uZXdheTp0cnVlIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDgwLA0KCXN0YXRlSGlnaDogIm1hZ21hIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDI2MDUsDQoJaGFyZG5lc3M6IDAuNCwNCglicmVha0ludG86ICJncmF2ZWwiDQp9LA0KIm1vbHRlbl90dWZmIjogew0KCWNvbG9yOiBbIiNmZjkzMmMiLCIjZmY3NjJjIiwiI2ZmNTgwMCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTU9MVEVOLA0KCXRlbXA6IDEwODAsDQoJdGVtcExvdzogMTAwMCwNCglzdGF0ZUxvdzogInR1ZmYiLA0KCXZpc2Nvc2l0eTogMTAwMDAsDQoJY2F0ZWdvcnk6ICJzdGF0ZXMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAyNzI1LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJzb2FwIjogew0KCWNvbG9yOiAiI2YyZjJmMiIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENSOmJ1YmJsZSUwLjI1fFhYIiwNCgkJIk0yfFhYfE0yIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkicnVzdCI6IHsgZWxlbTI6ICJpcm9uIiwgY2hhbmNlOjAuMDEgfSwNCgkJIm94aWRpemVkX2NvcHBlciI6IHsgZWxlbTI6ICJjb3BwZXIiLCBjaGFuY2U6MC4wMSB9LA0KCQkiYmxvb2QiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTI6ICJ3YXRlciIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiAid2F0ZXIiIH0sDQoJCSJveHlnZW4iOiB7IGVsZW0yOiAiYnViYmxlIiB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMjogbnVsbCB9LA0KCQkidmlydXMiOiB7IGZ1bmM6IGZ1bmN0aW9uKHBpeGVsMSxwaXhlbDIpe3BpeGVsMi5oZWFsPXRydWV9IH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0yOiBbImJsb29kIixudWxsXSwgY2hhbmNlOjAuMDIgfSwNCgkJIm11c2hyb29tX3Nwb3JlIjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJImxpY2hlbiI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTowLjAwNSB9LA0KCQkicm90dGVuX21lYXQiOiB7IGVsZW0yOiAibWVhdCIgfSwNCgkJInJvdHRlbl9jaGVlc2UiOiB7IGVsZW0yOiAiY2hlZXNlIiB9LA0KCQkiYWNpZF9jbG91ZCI6IHsgZWxlbTI6ICJyYWluX2Nsb3VkIiB9LA0KCQkib2lsIjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJInNvZGEiOiB7IGVsZW0yOiAic3VnYXJfd2F0ZXIiLCBjaGFuY2U6MC4wMiB9LA0KCQkiaW5rIjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJImR5ZSI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTowLjAyIH0sDQoJCSJnbHVlIjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJInNsaW1lIjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzdGVuY2giOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJjYW5jZXIiOiB7IGVsZW0yOiBudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkicmF0IjogeyBlbGVtMjogbnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImFudCI6IHsgZWxlbTI6ICJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJImJlZSI6IHsgZWxlbTI6ICJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJImZseSI6IHsgZWxlbTI6ICJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0yOiAiZGVhZF9idWciLCBjaGFuY2U6MC4xIH0sDQoJCSJ3b3JtIjogeyBlbGVtMjogImRlYWRfYnVnIiwgY2hhbmNlOjAuMSB9LA0KCQkiZmxlYSI6IHsgZWxlbTI6ICJkZWFkX2J1ZyIsIGNoYW5jZTowLjEgfSwNCgkJInRlcm1pdGUiOiB7IGVsZW0yOiAiZGVhZF9idWciLCBjaGFuY2U6MC4xIH0sDQoJCSJzcGlkZXIiOiB7IGVsZW0yOiAiZGVhZF9idWciLCBjaGFuY2U6MC4xIH0sDQoJCSJzdGlua19idWciOiB7IGVsZW0yOiAiZGVhZF9idWciLCBjaGFuY2U6MC4xIH0sDQoJCSJzbW9nIjogeyBlbGVtMjogImNsb3VkIiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0xOiBbImZvYW0iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTogWyJmb2FtIiwiYnViYmxlIl0sIGNoYW5jZTowLjAwNSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiBbImZvYW0iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMTogWyJmb2FtIiwiYnViYmxlIl0sIGNoYW5jZTowLjAwNSB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6IFsiZm9hbSIsImJ1YmJsZSJdLCBjaGFuY2U6MC4wMDUgfSwNCgkJImZpcmUiOiB7IGVsZW0xOiAiZnJhZ3JhbmNlIiB9DQoJfSwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImJ1YmJsZSIsDQoJdmlzY29zaXR5OiA1MDAsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWNhdGVnb3J5OiJsaXF1aWRzIiwNCglkZW5zaXR5OiAxMDU1LA0KCXN0YWluOiAtMQ0KfSwNCiJibGVhY2giOiB7DQoJY29sb3I6ICIjZmZmZmZmIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImFjaWQiOiB7IGVsZW0xOiAiY2hsb3JpbmUiLCBlbGVtMjoibmV1dHJhbF9hY2lkIiB9LA0KCQkiYWNpZF9nYXMiOiB7IGVsZW0xOiAiY2hsb3JpbmUiLCBlbGVtMjoiY2hsb3JpbmUiIH0sDQoJCSJhY2lkX2Nsb3VkIjogeyBlbGVtMTogImNobG9yaW5lIiwgZWxlbTI6ImNobG9yaW5lIiB9LA0KCQkid2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkaXJ0eV93YXRlciIgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImNlbGwiOiB7IGVsZW0yOiBudWxsLCBjaGFuY2U6IDAuMDUgfSwNCgkJInRhZHBvbGUiOiB7IGVsZW0yOiBudWxsLCBjaGFuY2U6IDAuMDUgfSwNCgkJImNhbmNlciI6IHsgZWxlbTI6IG51bGwsIGNoYW5jZTogMC4wMSB9LA0KCQkiZmlzaCI6IHsgZWxlbTI6ICJyb3R0ZW5fbWVhdCIsIGNoYW5jZTogMC4wMSB9LA0KCQkib2lsIjogeyBlbGVtMTpudWxsLCBlbGVtMjogImNobG9yaW5lIiwgY2hhbmNlOiAwLjAxIH0sDQoJCSJsYW1wX29pbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ICJjaGxvcmluZSIsIGNoYW5jZTogMC4wMSB9LA0KCQkibnV0X29pbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ICJjaGxvcmluZSIsIGNoYW5jZTogMC4wMSB9LA0KCQkiZ3JlYXNlIjogeyBlbGVtMTpudWxsLCBlbGVtMjogImNobG9yaW5lIiwgY2hhbmNlOiAwLjAxIH0sDQoJCSJiYWtpbmdfc29kYSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ICJjaGxvcmluZSIsIGNoYW5jZTogMC4wMSB9LA0KCQkiYmxvb2QiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJ2aW5lZ2FyIjogeyBlbGVtMToiY2hsb3JpbmUiLCBlbGVtMjoic29kaXVtX2FjZXRhdGUiIH0sDQoJCSJhbW1vbmlhIjogeyBlbGVtMToicG9pc29uX2dhcyIsIGVsZW0yOm51bGwgfSwgLy8gTXVzdGFyZCBHYXMNCgkJImFsY29ob2wiOiB7IGVsZW0xOiJwb2lzb25fZ2FzIiwgZWxlbTI6bnVsbCB9LCAvLyBDaGxvcm9mb3JtDQoJCSJzb2FwIjogeyBlbGVtMToicG9pc29uX2dhcyIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInBvaXNvbiI6IHsgZWxlbTE6InBvaXNvbl9nYXMiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJpcm9uIjogeyBlbGVtMTpudWxsLCBlbGVtMjoicnVzdCIsIGNoYW5jZTowLjEgfSwNCgkJImNvcHBlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjEgfSwNCgkJInBvbGxlbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkiYW50aWRvdGUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInBvcmNlbGFpbiI6IHsgc3RhaW4yOiIjYjM5NjdmIiB9LA0KCQkicG9yY2VsYWluX3NoYXJkIjogeyBzdGFpbjI6IiNiMzk2N2YiIH0sDQoJCSJzYWx0IjogeyBlbGVtMjoiZm9hbSIsIGNoYW5jZTowLjAwMSB9DQoJfSwNCgl0ZW1wSGlnaDogMTExLA0KCXN0YXRlSGlnaDogWyJzYWx0Iiwic3RlYW0iXSwNCgl0ZW1wTG93OiAtMTUuMywNCgl2aXNjb3NpdHk6IDAuOTU2LA0KCXN0YXRlOiAibGlxdWlkIiwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJZGVuc2l0eTogMTIxMCwNCglzdGFpbjogMC4xDQp9LA0KImNobG9yaW5lIjogew0KCWNvbG9yOiAiI2E1YWM1MCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHsgZWxlbTE6ICJwb29sX3dhdGVyIiwgZWxlbTI6bnVsbCB9LA0KCQkiaHlkcm9nZW4iOiB7IGVsZW0xOiAiYWNpZF9nYXMiLCBlbGVtMjpudWxsLCB0ZW1wTWF4OjEwMDAgfSwvL2h5ZHJvY2hsb3JpYyBhY2lkDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTI6IndhdGVyIiB9LA0KCQkiYW1tb25pYSI6IHsgZWxlbTE6InBvaXNvbl9nYXMiLCBlbGVtMjpudWxsIH0sDQoJCSJsaXF1aWRfYW1tb25pYSI6IHsgZWxlbTE6InBvaXNvbl9nYXMiLCBlbGVtMjpudWxsIH0sDQoJCSJvaWwiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJleHBsb3Npb24iLCBidXJuaW5nMjp0cnVlIH0sDQoJCSJsYW1wX29pbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImV4cGxvc2lvbiIsIGJ1cm5pbmcyOnRydWUgfSwNCgkJInNvZGl1bSI6IHsgZWxlbTE6ImZpcmUiLCBlbGVtMjoic2FsdCIgfSwNCgkJIm1vbHRlbl9zb2RpdW0iOiB7IGVsZW0xOiJmaXJlIiwgZWxlbTI6InNhbHQiIH0sDQoJCSJyb290IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMjUgfSwNCgkJInRyZWVfYnJhbmNoIjogeyBlbGVtMjoid29vZCIsIGNoYW5jZTowLjAxNSB9LA0KCQkicGlzdGlsIjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjAyNSB9LA0KCQkiaGVhZCI6IHsgZnVuYzpiZWhhdmlvcnMuS0lMTFBJWEVMMiwgY2hhbmNlOjAuMDA1IH0NCgl9LA0KCXRlbXBMb3c6IC0zNi4wNCwNCglzdGF0ZUxvdzogImxpcXVpZF9jaGxvcmluZSIsDQoJc3RhdGU6ICJnYXMiLA0KCWNhdGVnb3J5OiJnYXNlcyIsDQoJZGVuc2l0eTogMy4yLA0KCXN0YWluOiAwLjAwNQ0KfSwNCiJsaXF1aWRfY2hsb3JpbmUiOiB7DQoJY29sb3I6ICIjZjRkMjE3IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTogImFjaWQiLCBlbGVtMjpudWxsIH0sDQoJCSJzdGVhbSI6IHsgZWxlbTI6ICJhY2lkX2dhcyIsIGVsZW0xOm51bGwgfSwNCgkJImFtbW9uaWEiOiB7IGVsZW0xOiJwb2lzb24iLCBlbGVtMjpudWxsIH0sDQoJCSJsaXF1aWRfYW1tb25pYSI6IHsgZWxlbTE6InBvaXNvbiIsIGVsZW0yOm51bGwgfQ0KCX0sDQoJdGVtcDogLTM2LjA0LA0KCXRlbXBIaWdoOiAtMzQuMDQsDQoJc3RhdGVIaWdoOiAiY2hsb3JpbmUiLA0KCXRlbXBMb3c6IC0xMDEuNSwNCglzdGF0ZTogImxpcXVpZCIsDQoJY2F0ZWdvcnk6InN0YXRlcyIsDQoJZGVuc2l0eTogMTU2Mi41LA0KCXN0YWluOiAwLjAxLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJkeWUiOiB7DQoJY29sb3I6IFsiI2ZmMDAwMCIsIiNmZjg4MDAiLCIjZmZmZjAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIiwiI2ZmMDBmZiJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCW9uTWl4OiBiZWhhdmlvcnMuU1RBSU5fT05fTUlYLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IHN0YWluMjpudWxsIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiYmxlYWNoIjogeyBlbGVtMTpudWxsLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic2FuZCI6IHsgZnVuYzogZnVuY3Rpb24ocGl4ZWwxLHBpeGVsMikgew0KCQkJaWYgKCFwaXhlbDEuY29sb3IubWF0Y2goL15yZ2IvKSkgcmV0dXJuOw0KCQkJbGV0IGhzbCA9IFJHQlRvSFNMKHBpeGVsMS5jb2xvci5tYXRjaCgvXGQrL2cpKTsNCgkJCXBpeGVsMi5jb2xvcnN0YXJ0ID0gTWF0aC5mbG9vcihoc2xbMF0qMzYwICsgTWF0aC5yYW5kb20oKSoxMCk7DQoJCQljaGFuZ2VQaXhlbChwaXhlbDIsImNvbG9yX3NhbmQiKTsNCgkJfSB9DQoJfSwNCgljdXN0b21Db2xvcjogdHJ1ZSwNCglzdGFpbjogMC42NiwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogInNtb2tlIiwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA5OTgsDQoJc3RhaW5TZWxmOiB0cnVlLA0KCWlzRm9vZDogdHJ1ZQ0KfSwNCiJpbmsiOiB7DQoJY29sb3I6ICIjMTcxNzE3IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglvbk1peDogYmVoYXZpb3JzLlNUQUlOX09OX01JWCwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImR5ZSI6IHsgZWxlbTE6ImR5ZSIsIGNvbG9yMToiIzE3MTcxNyIgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfQ0KCX0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmVsZW1lbnQgPT09ICJwYXBlciIpIHsNCgkJCXBpeGVsLmNvbG9yID0gInJnYigwLDAsMCkiDQoJCX0NCgl9LA0KCWNhblBsYWNlOiB0cnVlLA0KCXN0YWluOiAwLjY2LA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiAic21va2UiLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3dOYW1lOiAiZnJvemVuX2luayIsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTA3NC4zDQp9LA0KIm1lcmN1cnkiOiB7DQoJY29sb3I6IFsiIzUzNTc0YiIsIiM2NTY4NmEiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImdvbGQiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJhbWFsZ2FtIiwgY2hhbmNlOjAuMDEgfSwNCgkJInppbmMiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJhbWFsZ2FtIiwgY2hhbmNlOjAuMDEgfSwNCgkJInNvZGl1bSI6IHsgZWxlbTE6WyJwb3AiLCJlbGVjdHJpYyJdLCBlbGVtMjoiYW1hbGdhbSIsIGNoYW5jZTowLjAxLCB0ZW1wMjo2MDAgfSwNCgkJIm1vbHRlbl9zb2RpdW0iOiB7IGVsZW0xOlsicG9wIiwiZWxlY3RyaWMiXSwgZWxlbTI6ImFtYWxnYW0iLCBjaGFuY2U6MC4wMSwgdGVtcDI6NjAwIH0sDQoJCSJhbHVtaW51bSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImFtYWxnYW0iLCBjaGFuY2U6MC4wMSB9LA0KCQkidGluIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiYW1hbGdhbSIsIGNoYW5jZTowLjAxIH0sDQoJCSJsZWFkIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiYW1hbGdhbSIsIGNoYW5jZTowLjAxIH0sDQoJCSJzaWx2ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJhbWFsZ2FtIiwgY2hhbmNlOjAuMDEgfSwNCgkJImNvcHBlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImFtYWxnYW0iLCBjaGFuY2U6MC4wMSB9LA0KCQkiZ29sZF9jb2luIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiYW1hbGdhbSIsIGNoYW5jZTowLjAxIH0sDQoJCSJyb3NlX2dvbGQiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJhbWFsZ2FtIiwgY2hhbmNlOjAuMDEgfSwNCgkJIndhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGlydHlfd2F0ZXIiIH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGlydHlfd2F0ZXIiIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiB9LA0KCQkibmV1dHJvbiI6IHsgZWxlbTE6ImdvbGRfY29pbiIsIGNoYW5jZTowLjAwNSB9DQoJfSwNCgl2aXNjb3NpdHk6IDEuNTMsDQoJdGVtcExvdzogLTM4LjgzLA0KCXN0YXRlTG93TmFtZTogInNvbGlkX21lcmN1cnkiLA0KCXRlbXBIaWdoOiAzNTYuNzMsDQoJY2F0ZWdvcnk6ImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMzU0NSwNCgljb25kdWN0OiAwLjg1DQp9LA0KIm1lcmN1cnlfZ2FzIjogew0KCWRlbnNpdHk6IDEyODAwLA0KCWNvbmR1Y3Q6IDAuMDIsDQoJY29sb3JPbjogIiM1YTk2ZTAiDQp9LA0KInNvbGlkX21lcmN1cnkiOiB7DQoJY29uZHVjdDogMC45OSwNCglzdXBlcmNvbmR1Y3RBdDogLTI2OS4xNQ0KfSwNCiJibG9vZCI6IHsNCgljb2xvcjogWyIjZmYwMDAwIiwiI2VlMDAwMCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkidmFjY2luZSI6IHsgZWxlbTE6ImFudGlib2R5IiwgZWxlbTI6bnVsbCB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMToiaW5mZWN0aW9uIiwgZWxlbTI6bnVsbCB9LA0KCQkicm90dGVuX21lYXQiOiB7IGVsZW0xOiJpbmZlY3Rpb24iIH0sDQoJCSJyb3R0ZW5fY2hlZXNlIjogeyBlbGVtMToiaW5mZWN0aW9uIiB9LA0KCQkidmlydXMiOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBlbGVtMjpudWxsIH0sDQoJCSJjYW5jZXIiOiB7IGVsZW0xOiJpbmZlY3Rpb24iIH0sDQoJCSJjeWFuaWRlIjogeyBlbGVtMToiaW5mZWN0aW9uIiwgZWxlbTI6bnVsbCB9LA0KCQkiY3lhbmlkZV9nYXMiOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBlbGVtMjpudWxsIH0sDQoJCSJtdXNocm9vbV9zcG9yZSI6IHsgZWxlbTE6ImluZmVjdGlvbiIsIGVsZW0yOm51bGwgfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7IGVsZW0xOiJpbmZlY3Rpb24iIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6ImluZmVjdGlvbiIsIGVsZW0yOm51bGwgfSwNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTE6ImluZmVjdGlvbiIgfSwNCgkJInJhZF9nbGFzcyI6IHsgZWxlbTE6ImluZmVjdGlvbiIgfSwNCgkJInJhZF9zaGFyZCI6IHsgZWxlbTE6ImluZmVjdGlvbiIgfSwNCgkJInJhZF9jbG91ZCI6IHsgZWxlbTE6ImluZmVjdGlvbiIgfSwNCgkJImZhbGxvdXQiOiB7IGVsZW0xOiJpbmZlY3Rpb24iIH0sDQoJCSJydXN0IjogeyBlbGVtMToiaW5mZWN0aW9uIiwgY2hhbmNlOjAuMDUgfSwNCgkJIm94aWRpemVkX2NvcHBlciI6IHsgZWxlbTE6ImluZmVjdGlvbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJyYXQiOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBjaGFuY2U6MC4wNzUgfSwNCgkJImZsZWEiOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBjaGFuY2U6MC4wMyB9LA0KCQkid29ybSI6IHsgZWxlbTE6ImluZmVjdGlvbiIsIGNoYW5jZTowLjAzIH0sDQoJCSJtZXJjdXJ5IjogeyBlbGVtMToiaW5mZWN0aW9uIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImxlYWQiOiB7IGVsZW0xOiJpbmZlY3Rpb24iLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMTpbbnVsbCwiZG5hIl0sIGNoYW5jZTowLjAyIH0sDQoJCSJibG9vZCI6IHsgZWxlbTI6ImJ1YmJsZSIsIGNvbG9yMjoiI2YwNzg3OCIsIGF0dHIyOnsiY2xvbmUiOiJibG9vZCJ9LCBjaGFuY2U6MC4wMDEsIHRlbXBNaW46ODUgfSwNCgl9LA0KCXZpc2Nvc2l0eTogMTAsDQoJdGVtcEhpZ2g6IDEyNC41NSwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJzYWx0Iiwib3h5Z2VuIl0sDQoJdGVtcExvdzogMCwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDEwNjAsDQoJc3RhaW46IDAuMDUNCn0sDQoidmFjY2luZSI6IHsNCgljb2xvcjogIiNlMGQwYWQiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiYW50aWJvZHkiLCBjaGFuY2U6MC4xIH0sDQoJCSJhbnRpYm9keSI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDAyNSB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJ2aXJ1cyI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkiY2FuY2VyIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkicm90dGVuX21lYXQiOiB7IGVsZW0yOiJtZWF0IiwgY2hhbmNlOjAuMSB9LA0KCQkicm90dGVuX2NoZWVzZSI6IHsgZWxlbTI6ImNoZWVzZSIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdmlzY29zaXR5OiAyLjYsDQoJdGVtcEhpZ2g6IDEzMCwNCglzdGF0ZUhpZ2g6ICJzdGVhbSIsDQoJdGVtcExvdzogLTIuNSwNCglzdGF0ZUxvdzogWyJpY2UiLCJkbmEiXSwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDExMjUsDQoJaXNGb29kOiB0cnVlLA0KCXN0YWluOiAtMC4wNQ0KfSwNCiJhbnRpYm9keSI6IHsNCgljb2xvcjogIiNmZjQwNDAiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiYmxvb2QiOiB7IGVsZW0yOiJhbnRpYm9keSIsIGNoYW5jZTowLjAxIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0yOiJhbnRpYm9keSIsIGNoYW5jZTowLjEgfSwNCgkJImNhbmNlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIndvcm0iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6Im1lYXQiLCBjaGFuY2U6MC4xIH0sDQoJCSJyb3R0ZW5fY2hlZXNlIjogeyBlbGVtMjoiY2hlZXNlIiwgY2hhbmNlOjAuMSB9LA0KCQkicG9pc29uIjogeyBlbGVtMToiYW50aWRvdGUiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMyB9LA0KCQkiYWxjb2hvbCI6IHsgZWxlbTE6W251bGwsImRuYSJdLCBjaGFuY2U6MC4wMiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOiJ2YWNjaW5lIiwgZWxlbTI6InZhY2NpbmUiIH0NCgl9LA0KCXZpc2Nvc2l0eTogNi4zLA0KCXRlbXBIaWdoOiAxMjAsDQoJc3RhdGVIaWdoOiBbInNhbHQiLCJveHlnZW4iLCJ2YWNjaW5lIl0sDQoJdGVtcExvdzogMCwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDYwLA0KCXN0YWluOiAwLjA1DQp9LA0KImluZmVjdGlvbiI6IHsNCgljb2xvcjogWyIjY2YwMDVkIiwiI2JlMDA0YyJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDEpIHsgcmVsZWFzZUVsZW1lbnQocGl4ZWwsInBsYWd1ZSIpOyB9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImJsb29kIjogeyBlbGVtMjoiaW5mZWN0aW9uIiwgY2hhbmNlOjAuMDEgfSwNCgkJImZyb2ciOiB7IGVsZW0yOiJyb3R0ZW5fbWVhdCIsIGNoYW5jZTowLjAwNSB9LA0KCQkiZmlzaCI6IHsgZWxlbTI6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMDA1IH0sDQoJCSJtZWF0IjogeyBlbGVtMjoicm90dGVuX21lYXQiLCBjaGFuY2U6MC4wMDUgfSwNCgkJImFsY29ob2wiOiB7IGVsZW0xOiJibG9vZCIsIGNoYW5jZTowLjIgfSwNCgkJImVwc29tX3NhbHQiOiB7IGVsZW0xOiJibG9vZCIsIGNoYW5jZTowLjMgfQ0KCX0sDQoJdmlzY29zaXR5OiAxNSwNCgl0ZW1wSGlnaDogMTI0LjU1LA0KCXN0YXRlSGlnaDogWyJwbGFndWUiLCJwbGFndWUiLCJwbGFndWUiLCJzYWx0Iiwib3h5Z2VuIl0sDQoJdGVtcExvdzogMCwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDYwLA0KCXN0YWluOiAwLjA1DQp9LA0KInBvaXNvbiI6IHsNCgljb2xvcjogIiMwMGZmMDAiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiYmxvb2QiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJpbmZlY3Rpb24iIH0sDQoJCSJ3YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRpcnR5X3dhdGVyIiB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkaXJ0eV93YXRlciIgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkaXJ0eV93YXRlciIgfSwNCgkJInNvYXAiOiB7IGVsZW0xOm51bGwsIGNoYW5jZTowLjAyIH0sDQoJCSJwbGFudCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfcGxhbnQiIH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX3BsYW50IiB9LA0KCQkiY2FjdHVzIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJImdyYXNzIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJInZpbmUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX3BsYW50IiB9LA0KCQkiYWxnYWUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwgfSwNCgkJImtlbHAiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkaXJ0eV93YXRlciIgfSwNCgkJImNvcmFsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMiB9LA0KCQkibXVzaHJvb21fc3BvcmUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwgfSwNCgkJImxpY2hlbiI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCB9LA0KCQkieWVhc3QiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwgfSwNCgkJInJhdCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiZnJvZyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkidGFkcG9sZSI6IHsgZWxlbTI6bnVsbCB9LA0KCQkiZmlzaCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiYmlyZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiaGVhZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiYm9keSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiaG9tdW5jdWx1cyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiYW50IjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciIH0sDQoJCSJ3b3JtIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciIH0sDQoJCSJmbHkiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIgfSwNCgkJImJlZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfYnVnIiB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciIH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciIH0sDQoJCSJzcGlkZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIgfSwNCgkJImZsZWEiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIgfSwNCgkJInNsdWciOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJzbGltZSIgfSwNCgkJInNuYWlsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoibGltZXN0b25lIiB9LA0KCQkic2FwbGluZyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfcGxhbnQiIH0sDQoJCSJyb290IjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJImZsb3dlcl9zZWVkIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJInBpc3RpbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfcGxhbnQiIH0sDQoJCSJwZXRhbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfcGxhbnQiIH0sDQoJCSJncmFzc19zZWVkIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIgfSwNCgkJIm1lYXQiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJyb3R0ZW5fbWVhdCIgfSwNCgkJImNoZWVzZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9jaGVlc2UiIH0sDQoJCSJjaGVlc2VfcG93ZGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoicm90dGVuX2NoZWVzZSIgfSwNCgkJInRyZWVfYnJhbmNoIjogeyBlbGVtMTpudWxsLCBlbGVtMjoid29vZCIgfSwNCgkJIm11c2hyb29tX2NhcCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAxIH0sDQoJCSJtdXNocm9vbV9zdGFsayI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImh5cGhhZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDIgfSwNCgkJIm15Y2VsaXVtIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjEgfSwNCgkJInBvbGxlbiI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIm11c2hyb29tX3Nwb3JlIjogeyBlbGVtMTpudWxsLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJib25lX21hcnJvdyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiaGVhZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiYm9keSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJvdHRlbl9tZWF0IiB9LA0KCQkiaGFpciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJImNoYXJjb2FsIjogeyBlbGVtMToiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMiB9LA0KCQkiZ3JhdmVsIjogeyBlbGVtMToiZGlydHlfd2F0ZXIiLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgl2aXNjb3NpdHk6IDIsDQoJdGVtcEhpZ2g6IDExMCwNCgl0ZW1wTG93OiAwLA0KCWNhdGVnb3J5OiJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTA2MCwNCglkYXJrVGV4dDogdHJ1ZQ0KfSwNCiJwb2lzb25fZ2FzIjogew0KCWNvbG9yOiAiIzk4ZjViMCIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogInBvaXNvbiIsDQoJZGVuc2l0eTogMS42LA0KCWNhdGVnb3J5OiAiZ2FzZXMiDQp9LA0KInBvaXNvbl9pY2UiOiB7DQoJY29sb3I6ICIjOWVmZjllIg0KfSwNCiJjeWFuaWRlX2dhcyI6IHsNCglyZWFjdGlvbnM6IHsNCgkJImZyb2ciOiB7IGVsZW0yOiJyb3R0ZW5fbWVhdCIgfSwNCgkJImFudCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkiYmVlIjogeyBlbGVtMjpudWxsIH0sDQoJCSJmaXNoIjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjpudWxsIH0sDQoJCSJoZWFkIjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0sDQoJCSJib2R5IjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0NCgl9LA0KCXRlbXBIaWdoOiA1NTAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAxLA0KCWRlbnNpdHk6IDk0MSwNCgljYXRlZ29yeTogImdhc2VzIiwNCglhbGlhczogImh5ZHJvZ2VuIGN5YW5pZGUgZ2FzIg0KfSwNCiJhbnRpZG90ZSI6IHsNCgljb2xvcjogIiNjOWI4MzYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkicG9pc29uIjogeyBlbGVtMTpudWxsLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0NCgl9LA0KCXZpc2Nvc2l0eTogMiwNCgl0ZW1wSGlnaDogMTI0LjU1LA0KCXN0YXRlSGlnaDogWyJzdGVhbSIsInNhbHQiLCJveHlnZW4iXSwNCgl0ZW1wTG93OiAtMi41LA0KCXN0YXRlTG93OiBbInNhbHRfaWNlIiwiZG5hIl0sDQoJY2F0ZWdvcnk6ImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDYwLA0KCXN0YWluOiAtMC4wNQ0KfSwNCiJ0ZWEiOiB7DQoJY29sb3I6ICIjNmM0MzE3IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJInN0ZW5jaCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkiZmxlYSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImZyYWdyYW5jZSIsIGNoYW5jZTowLjAxIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0yOiJibG9vZCIsIGNoYW5jZTowLjAwNSB9LA0KCQkicGxhZ3VlIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDQgfSwNCgkJInN1Z2FyIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM4ZjVhMjEiLCBjaGFuY2U6MC4wMDV9LA0KCQkiaG9uZXkiOiB7IGVsZW0yOm51bGwsIGNvbG9yMToiIzhmNWEyMSIsIGNoYW5jZTowLjAwNX0sDQoJCSJtaWxrIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM5YzZjMzgiLCBjaGFuY2U6MC4wMDV9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0yOm51bGwsIGNvbG9yMToiIzljNmMzOCIsIGNoYW5jZTowLjAwNX0sDQoJCSJmcnVpdF9taWxrIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM5YzU5MzgiLCBjaGFuY2U6MC4wMDV9LA0KCQkiY2hvY29sYXRlX21pbGsiOiB7IGVsZW0yOiJmb2FtIiwgY29sb3IxOiIjNzg0YjFhIiwgY2hhbmNlOjAuMDA1fSwNCgkJInBpbGsiOiB7IGVsZW0yOiJmb2FtIiwgY29sb3IxOiIjOWM3OTU0IiwgY2hhbmNlOjAuMDA1fSwNCgkJImNyZWFtIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM5YzZjMzgiLCBjaGFuY2U6MC4wMDV9LA0KCQkiaWNlX2NyZWFtIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM5YzZjMzgiLCBjaGFuY2U6MC4wMDV9LA0KCQkidGVhIjogeyBlbGVtMjoiYnViYmxlIiwgY29sb3IyOiIjODc2MzNkIiwgYXR0cjI6eyJjbG9uZSI6InRlYSJ9LCBjaGFuY2U6MC4wMDEsIHRlbXBNaW46ODAgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEyNSwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJmcmFncmFuY2UiLG51bGxdLA0KCXRlbXA6IDcwLA0KCXRlbXBMb3c6IDAsDQoJY2F0ZWdvcnk6ImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDAxLA0KCXN0YWluOiAtMC4xLA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiY29mZmVlIjogew0KCWNvbG9yOiAiIzI0MTAwYiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJzdGVuY2giOiB7IGVsZW0yOm51bGwgfSwNCgkJIm94eWdlbiI6IHsgZWxlbTI6ImZyYWdyYW5jZSIsIGNoYW5jZTowLjAxIH0sDQoJCSJzdWdhciI6IHsgZWxlbTI6bnVsbCwgY29sb3IxOiIjOTk1NTJBIiwgY2hhbmNlOjAuMDA1fSwNCgkJImhvbmV5IjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM5OTU1MkEiLCBjaGFuY2U6MC4wMDV9LA0KCQkicHVtcGtpbl9zZWVkIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM2QTJGMDMiLCBjaGFuY2U6MC4wMDV9LA0KCQkibWlsayI6IHsgZWxlbTI6ImZvYW0iLCBjb2xvcjE6IiNDQTlENjgiLCBjaGFuY2U6MC4wMDV9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0yOiJmb2FtIiwgY29sb3IxOiIjQ0E5RDY4IiwgY2hhbmNlOjAuMDA1fSwNCgkJImZydWl0X21pbGsiOiB7IGVsZW0yOiJmb2FtIiwgY29sb3IxOiIjY2E4ZTY4IiwgY2hhbmNlOjAuMDA1fSwNCgkJImNob2NvbGF0ZV9taWxrIjogeyBlbGVtMjoiZm9hbSIsIGNvbG9yMToiIzRmM2QyOSIsIGNoYW5jZTowLjAwNX0sDQoJCSJwaWxrIjogeyBlbGVtMjoiZm9hbSIsIGNvbG9yMToiI2JhOWM3OSIsIGNoYW5jZTowLjAwNX0sDQoJCSJjcmVhbSI6IHsgZWxlbTI6ImZvYW0iLCBjb2xvcjE6IiNDQTlENjgiLCBjaGFuY2U6MC4wMDV9LA0KCQkiaWNlX2NyZWFtIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiNDQTlENjgiLCBjaGFuY2U6MC4wMDV9LA0KCQkiY2hvY29sYXRlIjogeyBlbGVtMjpudWxsLCBjb2xvcjE6IiM2QTM1MTciLCBjaGFuY2U6MC4wMDV9LA0KCQkiY2hvY29sYXRlX3Bvd2RlciI6IHsgZWxlbTI6bnVsbCwgY29sb3IxOiIjNkEzNTE3IiwgY2hhbmNlOjAuMDA1fSwNCgkJIm1lbHRlZF9jaG9jb2xhdGUiOiB7IGVsZW0yOm51bGwsIGNvbG9yMToiIzZBMzUxNyIsIGNoYW5jZTowLjAwNX0sDQoJCSJ3YXRlciI6IHsgZWxlbTI6ImNvZmZlZSIsIHRlbXBNaW46NzAsIGNoYW5jZTowLjIgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJjb2ZmZWUiLCB0ZW1wTWluOjcwLCBjaGFuY2U6MC4yIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6Im1lbHRlZF9jaG9jb2xhdGUiLCB0ZW1wTWluOjYwLCBjaGFuY2U6MC4zIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMjoiY29mZmVlIiwgdGVtcE1pbjo3MCwgY2hhbmNlOjAuMiB9LA0KCQkiY29mZmVlIjogeyBlbGVtMjoiYnViYmxlIiwgY29sb3IyOiIjOGE0ZDNlIiwgYXR0cjI6eyJjbG9uZSI6ImNvZmZlZSJ9LCBjaGFuY2U6MC4wMDEsIHRlbXBNaW46ODAgfQ0KCX0sDQoJdGVtcEhpZ2g6IDEzMCwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJmcmFncmFuY2UiLG51bGxdLA0KCXRlbXA6IDcwLA0KCXRlbXBMb3c6IDAsDQoJY2F0ZWdvcnk6ImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMDAxLjc0LA0KCXN0YWluOiAwLjAxLA0KCWhpZGRlbjogdHJ1ZSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoiaG9uZXkiOiB7DQoJY29sb3I6IFsiI2Y2Y2UxYSIsIiNlNzkwMDEiLCIjYmI1NTAzIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJb25NaXg6IGZ1bmN0aW9uKHBpeGVsMSxwaXhlbDIpIHsNCgkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1ICYmIHBpeGVsMi5lbGVtZW50ID09PSAic3VnYXJfd2F0ZXIiKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbDEsIndheCIpDQoJCX0NCgl9LA0KCXZpc2Nvc2l0eTogMTAwMDAsDQoJdGVtcEhpZ2g6IDcxLjExLA0KCXN0YXRlSGlnaDogImNhcmFtZWwiLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJjYW5keSIsDQoJc3RhdGVMb3dDb2xvcjogWyIjZmNlZGFjIiwiI2ZlY2U4MCIsIiNmZGJmOGIiXSwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDE0MjAsDQoJaXNGb29kOiB0cnVlDQp9LA0KInNhcCI6IHsNCgljb2xvcjogWyIjYjY3ZjE4IiwiI2M4NjMwNSIsIiNjZjdhMTkiLCIjZTRhZTNhIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJkZWFkX2J1ZyI6IHsgZWxlbTE6ImFtYmVyIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkiYW50IjogeyBlbGVtMToiYW1iZXIiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJmbHkiOiB7IGVsZW0xOiJhbWJlciIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJImZsZWEiOiB7IGVsZW0xOiJhbWJlciIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJInRlcm1pdGUiOiB7IGVsZW0xOiJhbWJlciIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJIndvcm0iOiB7IGVsZW0xOiJhbWJlciIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjEgfSwNCgkJImJlZSI6IHsgZWxlbTE6ImFtYmVyIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTE6ImFtYmVyIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMToiYW1iZXIiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJzbHVnIjogeyBlbGVtMToiYW1iZXIiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJzbmFpbCI6IHsgZWxlbTE6ImFtYmVyIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMSB9LA0KCQkic3BpZGVyIjogeyBlbGVtMToiYW1iZXIiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDMuMDUsDQoJc3RhdGVIaWdoOiBbInN1Z2FyIiwic3RlYW0iLCJzbW9rZSIsInNtb2tlIl0sDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvd05hbWU6ICJhbWJlciIsDQoJYnVybjogNDAsDQoJYnVyblRpbWU6IDE1LA0KCWJ1cm5JbnRvOiAiZmlyZSIsDQoJY2F0ZWdvcnk6ImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCgl2aXNjb3NpdHk6IDE1LA0KCWRlbnNpdHk6IDE0MDANCn0sDQoiY2FyYW1lbCI6IHsNCgljb2xvcjogIiNlODlhNTEiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiZ3JhcGUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJqZWxseSIsIGNoYW5jZTowLjAwNSwgdGVtcE1pbjoxMDAgfSwNCgkJInNhbHQiOiB7IGVsZW0yOm51bGwsIGNvbG9yMToiI2ZmYmQ4MCIsIGNoYW5jZTowLjAwNX0NCgl9LA0KCXZpc2Nvc2l0eTogNTAwLA0KCXRlbXBMb3c6IC0yMCwNCglzdGF0ZUxvdzogImNhbmR5IiwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogInNtb2tlIiwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCglzdGFpbjogMC4wMSwNCglkZW5zaXR5OiA4NTAsDQoJaXNGb29kOiB0cnVlDQp9LA0KIm1vbGFzc2VzIjogew0KCWNvbG9yOiBbIiMyMTBjMDYiLCIjMTcwODA0Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJdmlzY29zaXR5OiA3NTAwLA0KCXRlbXBIaWdoOiAxMDAwLA0KCXN0YXRlSGlnaDogWyJmaXJlIiwic21va2UiLCJzdGVhbSJdLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJjYW5keSIsDQoJc3RhdGVMb3dDb2xvcjogWyIjYTQzYjFlIiwiIzk4MzYxYiJdLA0KCWNhdGVnb3J5OiJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTYwMCwNCglzdGFpbjogMC4wNSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoia2V0Y2h1cCI6IHsNCgljb2xvcjogIiNmZjMxMTkiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkicnVzdCI6IHsgZWxlbTI6Imlyb24iLCBjaGFuY2U6MC4wMSB9LA0KCQkib3hpZGl6ZWRfY29wcGVyIjogeyBlbGVtMjoiY29wcGVyIiwgY2hhbmNlOjAuMDEgfSwNCgkJImJha2luZ19zb2RhIjogeyAiZWxlbTEiOiJjYXJib25fZGlveGlkZSIsIGVsZW0yOiJmb2FtIiwgY2hhbmNlOjAuMDEsIGF0dHIyOnsiZm9hbSI6NX0gfQ0KCX0sDQoJdmlzY29zaXR5OiA1MDAwMCwNCgl0ZW1wSGlnaDogMjYwLA0KCXN0YXRlSGlnaDogWyJjYXJib25fZGlveGlkZSIsIm1ldGhhbmUiLCJzdGVhbSIsInNhbHQiLCJzdWdhciJdLA0KCWNhdGVnb3J5OiJsaXF1aWRzIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTIzNSwNCglzdGFpbjogMC4wNSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoibWF5byI6IHsNCgljb2xvcjogIiNmY2ZmYmQiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiZ2x1ZSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJIm9pbCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfSwNCgkJInNhcCI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDEgfQ0KCX0sDQoJdmlzY29zaXR5OiAzNDkxLA0KCXRlbXBIaWdoOiAxMDAuNiwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJjYXJib25fZGlveGlkZSIsIm1ldGhhbmUiXSwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDkxMCwNCglzdGFpbjogMC4wMSwNCglpc0Zvb2Q6IHRydWUsDQoJYWxpYXM6ICJtYXlvbm5haXNlIg0KfSwNCiJncmVhc2UiOiB7DQoJY29sb3I6ICIjY2Y5MjUxIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImNhdXN0aWNfcG90YXNoIjogeyBlbGVtMToic29hcCIsIGVsZW0yOiJzb2FwIiB9LA0KCQkidG9hc3QiOiB7IGNvbG9yMjpbIiNBODRCMUUiLCIjQzk2NjE5IiwiI0Y5QjA0MiJdLCB0ZW1wTWluOjE2MCwgY2hhbmNlOjAuMDUgfSwNCgkJImNydW1iIjogeyBjb2xvcjI6WyIjQTg0QjFFIiwiI0M5NjYxOSIsIiNGOUIwNDIiXSwgdGVtcE1pbjoxNjAsIGNoYW5jZTowLjA1IH0sDQoJCSJiYWtlZF9iYXR0ZXIiOiB7IGNvbG9yMjpbIiNBODRCMUUiLCIjQzk2NjE5IiwiI0Y5QjA0MiJdLCB0ZW1wTWluOjE2MCwgY2hhbmNlOjAuMDUgfSwNCgkJImJha2VkX3BvdGF0byI6IHsgY29sb3IyOlsiI0E4NEIxRSIsIiNDOTY2MTkiLCIjRjlCMDQyIl0sIHRlbXBNaW46MTYwLCBjaGFuY2U6MC4wNSB9LA0KCQkieW9sayI6IHsgZWxlbTE6Im1heW8iLCBlbGVtMjoibWF5byIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdmlzY29zaXR5OiA3MCwNCgl0ZW1wSGlnaDogMjUwLA0KCXN0YXRlSGlnaDogWyJmaXJlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIl0sDQoJdGVtcExvdzogMjAsDQoJc3RhdGVMb3dOYW1lOiAiZmF0IiwNCgl0ZW1wOiA0NSwNCgljYXRlZ29yeToibGlxdWlkcyIsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDkxOSwNCglpc0Zvb2Q6IHRydWUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImZhdCI6IHsNCgljb2xvcjogIiNkYmM5YjYiLA0KCXRlbXBIaWdoOiA0NSwNCglzdGF0ZUhpZ2g6ICJncmVhc2UiLA0KCXJlYWN0aW9uczogew0KCQkiY2F1c3RpY19wb3Rhc2giOiB7IGVsZW0xOiJzb2FwIiwgZWxlbTI6bnVsbCB9DQoJfSwNCn0sDQoibWVsdGVkX2Nob2NvbGF0ZSI6IHsNCgljb2xvcjogIiMzYjE2MGIiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJjaG9jb2xhdGUiLA0KCXRlbXBIaWdoOiA5OSwNCglzdGF0ZUhpZ2g6IFsic3RlYW0iLCJzdWdhciJdLA0KCWNhdGVnb3J5OiAic3RhdGVzIiwNCgl2aXNjb3NpdHk6IDQwLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMzI1LA0KCWhpZGRlbjogdHJ1ZSwNCglzdGFpbjogMC4wNSwNCglpc0Zvb2Q6IHRydWUNCn0sDQoibGlxdWlkX2h5ZHJvZ2VuIjogew0KCWNvbG9yOiAiIzk3YWZjZiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJsaXF1aWRfb3h5Z2VuIjogeyBlbGVtMToiaWNlIiwgZWxlbTI6bnVsbCB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMToiaWNlIiwgZWxlbTI6bnVsbCB9DQoJfSwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCWJ1cm46IDEwMCwNCglidXJuVGltZTogMiwNCgl0ZW1wOiAtMjU1Ljg3OSwNCgl0ZW1wSGlnaDogLTI1Mi44NzksDQoJc3RhdGVIaWdoOiAiaHlkcm9nZW4iLA0KCXRlbXBMb3c6IC0yNTkuMiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogNzEsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoibGlxdWlkX294eWdlbiI6IHsNCgljb2xvcjogIiMwMGFkOTkiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkiaHlkcm9nZW4iOiB7IGVsZW0xOiJpY2UiLCBlbGVtMjpudWxsIH0NCgl9LA0KCWNhdGVnb3J5OiAibGlxdWlkcyIsDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAyLA0KCXRlbXA6IC0xOTAsDQoJdGVtcEhpZ2g6IC0xODIuOTYyLA0KCXRlbXBMb3c6IC0yMTguOCwNCglzdGF0ZUhpZ2g6ICJveHlnZW4iLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxMTQxLA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJsaXF1aWRfbml0cm9nZW4iOiB7DQoJY29sb3I6ICIjZDNlMWUzIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgljYXRlZ29yeTogImxpcXVpZHMiLA0KCXRlbXA6IC0yMDkuODYsDQoJdGVtcEhpZ2g6IC0xOTUuNzk1LA0KCXN0YXRlSGlnaDogIm5pdHJvZ2VuIiwNCgl0ZW1wTG93OiAtMjU5Ljg2LA0KCXN0YXRlTG93OiAibml0cm9nZW5faWNlIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogODA0LA0KCWFsaWFzOiAibG4yIg0KfSwNCiJsaXF1aWRfaGVsaXVtIjogew0KCWNvbG9yOiAiI2UzZDNkMyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBFUkZMVUlELA0KCWNhdGVnb3J5OiAic3RhdGVzIiwNCgl0ZW1wOi0yNjksDQoJdGVtcEhpZ2g6IC0yNjguOTUsDQoJc3RhdGVIaWdoOiAiaGVsaXVtIiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogMTQ1LA0KCXZpc2Nvc2l0eTogMCwNCgloaWRkZW46IHRydWUNCn0sDQoic29kaXVtIjogew0KCWNvbG9yOiBbIiM0ODQ4NDkiLCIjNWQ1ZTVmIiwiIzZiNjk2OCIsIiM3NDc3NzUiXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQliZWhhdmlvcnMuUE9XREVSKHBpeGVsKTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJdmFyIHggPSBwaXhlbC54K2FkamFjZW50Q29vcmRzW2ldWzBdOw0KCQkJdmFyIHkgPSBwaXhlbC55K2FkamFjZW50Q29vcmRzW2ldWzFdOw0KCQkJaWYgKGlzRW1wdHkoeCx5KSkgew0KCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMDUpIHsgZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KSB9DQoJCQkJYnJlYWsNCgkJCX0gfSB9LA0KCXJlYWN0aW9uczogew0KCQkiY2hsb3JpbmUiOiB7IGVsZW0xOiJzYWx0IiwgZWxlbTI6InBvcCIgfSwNCgkJInZpbmVnYXIiOiB7IGVsZW0xOiJzb2RpdW1fYWNldGF0ZSIsIGVsZW0yOltudWxsLG51bGwsbnVsbCwiaHlkcm9nZW4iXSwgYXR0cjE6eyJmb2FtIjoxNX0gfSwNCgkJIndhdGVyIjogeyBlbGVtMTpbInBvcCIsInBvcCIsInBvcCIsImh5ZHJvZ2VuIiwibHllIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjoyMDAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjIwMCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjIwMCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjIwMCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjAwIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpbInBvcCIsInBvcCIsInBvcCIsImh5ZHJvZ2VuIiwibHllIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjoyMDAgfSwNCgkJInByaW1vcmRpYWxfc291cCI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjAwIH0sDQoJCSJudXRfbWlsayI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjAwIH0sDQoJCSJhY2lkIjogeyBlbGVtMTpbImh5ZHJvZ2VuIiwic2FsdCIsInNhbHQiLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInNhbHQiLCJzYWx0IiwicG9wIl0sIHRlbXAxOjEwMCwgdGVtcDI6MTAwIH0NCgl9LA0KCXRlbXBIaWdoOiA5Ny43OTQsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA5NjgsDQoJY29uZHVjdDogMC44NSwNCgloYXJkbmVzczogMC4wNQ0KfSwNCiJtb2x0ZW5fc29kaXVtIjogew0KCXRlbXBMb3c6IDk3Ljc5NCwNCgl0ZW1wSGlnaDogODgyLjgsDQoJZmlyZUNvbG9yOiAiI2ZmZmYwMCIsDQoJcmVhY3Rpb25zOiB7DQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6InNhbHQiLCBlbGVtMjoicG9wIiB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6InNvZGl1bV9hY2V0YXRlIiwgZWxlbTI6bnVsbCwgYXR0cjE6eyJmb2FtIjoxNX0gfSwNCgkJIndhdGVyIjogeyBlbGVtMTpbInBvcCIsInBvcCIsInBvcCIsImh5ZHJvZ2VuIiwibHllIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjoyNTAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOlsicG9wIiwicG9wIiwicG9wIiwiaHlkcm9nZW4iLCJseWUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjUwIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpbInBvcCIsInBvcCIsInBvcCIsImh5ZHJvZ2VuIiwibHllIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjoyNTAgfSwNCgkJInByaW1vcmRpYWxfc291cCI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjUwIH0sDQoJCSJudXRfbWlsayI6IHsgZWxlbTE6WyJwb3AiLCJwb3AiLCJwb3AiLCJoeWRyb2dlbiIsImx5ZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjUwIH0sDQoJCSJhY2lkIjogeyBlbGVtMToiZXhwbG9zaW9uIiB9LA0KCQkibW9sdGVuX3BvdGFzc2l1bV9zYWx0IjogeyBlbGVtMToic2FsdCIsIGVsZW0yOiJwb3Rhc3NpdW0iIH0NCgl9LA0KCWRlbnNpdHk6IDkyNywNCglmaXJlRWxlbWVudDogbnVsbA0KfSwNCiJzb2RpdW1fZ2FzIjogew0KCWNvbG9yOiAiIzVkNWU1ZiIsDQoJZmlyZUVsZW1lbnQ6IG51bGwNCn0sDQoiY2FsY2l1bSI6IHsNCgljb2xvcjogWyIjNTQ0RTQ1IiwiIzZBNjM1RSIsIiM2RTZBNjEiLCIjNzU2RjYyIiwiIzkxOEE3QiJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWJlaGF2aW9ycy5QT1dERVIocGl4ZWwpOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgeCA9IHBpeGVsLngrYWRqYWNlbnRDb29yZHNbaV1bMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkrYWRqYWNlbnRDb29yZHNbaV1bMV07DQoJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAwNSkgeyBjaGFuZ2VQaXhlbChwaXhlbCwicXVpY2tsaW1lIikgfQ0KCQkJCWJyZWFrDQoJCQl9IH0gfSwNCglyZWFjdGlvbnM6IHsNCgkJIm94eWdlbiI6IHsgZWxlbTE6InF1aWNrbGltZSIsIGVsZW0yOm51bGwgfSwNCgkJIndhdGVyIjogeyBlbGVtMTpbInNsYWtlZF9saW1lIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1LCB0ZW1wMjozNTAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOlsic2xha2VkX2xpbWUiLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsImJ1YmJsZSJdLCBjaGFuY2U6MC4wMDUsIHRlbXAyOjM1MCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOlsic2xha2VkX2xpbWUiLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsImJ1YmJsZSJdLCBjaGFuY2U6MC4wMDUsIHRlbXAyOjM1MCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOlsic2xha2VkX2xpbWUiLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsImJ1YmJsZSJdLCBjaGFuY2U6MC4wMDUsIHRlbXAyOjM1MCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6WyJzbGFrZWRfbGltZSIsInBvcCJdLCBlbGVtMjpbImh5ZHJvZ2VuIiwiYnViYmxlIl0sIGNoYW5jZTowLjAwNSwgdGVtcDI6MzUwIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpbInNsYWtlZF9saW1lIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1LCB0ZW1wMjozNTAgfSwNCgkJIm51dF9taWxrIjogeyBlbGVtMTpbInNsYWtlZF9saW1lIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1LCB0ZW1wMjozNTAgfSwNCgkJInN0ZWFtIjogeyBlbGVtMTpbInNsYWtlZF9saW1lIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJidWJibGUiXSwgY2hhbmNlOjAuMDA1LCB0ZW1wMjozNTAgfQ0KCX0sDQoJdGVtcEhpZ2g6IDg0MiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE1NTAsDQoJY29uZHVjdDogMC40MCwNCgloYXJkbmVzczogMC4yLA0KCWZpcmVDb2xvcjogIiNmZjZiMjEiDQp9LA0KIm1vbHRlbl9jYWxjaXVtIjogew0KCWJ1cm46IDEwLA0KCWJ1cm5JbnRvOiBbImZsYXNoIiwic21va2UiLCJwb3AiXSwNCglkZW5zaXR5OiAxMzc4LA0KCWZpcmVFbGVtZW50OiBudWxsDQp9LA0KImxpbWVzdG9uZSI6IHsNCgljb2xvcjogWyIjYzViNzljIiwiI2Q5Y2NiMiIsIiNmOGYxZGIiLCIjZmNmYWViIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVFVSRFlQT1dERVIsDQoJdGVtcEhpZ2g6IDgyNSwNCglzdGF0ZUhpZ2g6IFsicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwiY2FyYm9uX2Rpb3hpZGUiXSwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIxMDAsDQoJaGFyZG5lc3M6IDAuMywNCglicmVha0ludG86IFsicXVpY2tsaW1lIiwiZHVzdCIsImdyYXZlbCJdLA0KCWFsaWFzOiAiY2FsY2l1bSBjYXJib25hdGUiDQp9LA0KInF1aWNrbGltZSI6IHsNCgljb2xvcjogIiNlOWViZTciLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCXZhciBhaXJlZCA9IGZhbHNlOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFkamFjZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgeCA9IHBpeGVsLngrYWRqYWNlbnRDb29yZHNbaV1bMF07DQoJCQl2YXIgeSA9IHBpeGVsLnkrYWRqYWNlbnRDb29yZHNbaV1bMV07DQoJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJaWYgKHBpeGVsLnRlbXAgPiAyNDAwKSB7DQoJCQkJCWNyZWF0ZVBpeGVsKCJmbGFzaCIseCx5KTsNCgkJCQkJcGl4ZWxNYXBbeF1beV0udGVtcCA9IHBpeGVsLnRlbXA7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTogInNsYWtlZF9saW1lIiwgZWxlbTI6ICJzbGFrZWRfbGltZSIsIHRlbXAyOjMwMCwgdGVtcDE6MzAwLCBjaGFuY2U6MC4wNSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6ICJzbGFrZWRfbGltZSIsIGVsZW0yOiAic2xha2VkX2xpbWUiLCB0ZW1wMjozMDAsIHRlbXAxOjMwMCwgY2hhbmNlOjAuMSB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0xOiJsaW1lc3RvbmUiLCBjaGFuY2U6MC4xLCB0ZW1wTWF4OjIwMCB9LA0KCQkiYW50IjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4yIH0sDQoJCSJmbHkiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjIgfSwNCgkJImZpcmVmbHkiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX2J1ZyIsIGNoYW5jZTowLjIgfSwNCgkJImJlZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfYnVnIiwgY2hhbmNlOjAuMiB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4yIH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4yIH0sDQoJCSJmbGVhIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9idWciLCBjaGFuY2U6MC4yIH0NCgl9LA0KCXRlbXBIaWdoOiAyNjEzLA0KCXN0YXRlSGlnaDogIm1vbHRlbl9jYWxjaXVtIiwNCgljYXRlZ29yeTogImxhbmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMjUsDQoJaGFyZG5lc3M6IDAuMjMsDQoJaGlkZGVuOiB0cnVlLA0KCWFsaWFzOiAiY2FsY2l1bSBveGlkZSINCn0sDQoic2xha2VkX2xpbWUiOiB7DQoJY29sb3I6ICIjQThBMTlEIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNUVVJEWVBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJIndldF9zYW5kIjogeyBlbGVtMToiY2VtZW50IiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMiB9LA0KCQkic2FuZCI6IHsgZWxlbTE6ImNlbWVudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjIgfSwNCgkJImFzaCI6IHsgZWxlbTE6ImNlbWVudCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjIgfSwNCgkJImNsYXlfc2hhcmQiOiB7IGVsZW0xOiJjZW1lbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4yIH0sDQoJCSJwb3JjZWxhaW5fc2hhcmQiOiB7IGVsZW0xOiJjZW1lbnQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4yIH0sDQoJCSJtaWxrIjogeyBlbGVtMToiZ2x1ZSIsIGVsZW0yOiJnbHVlIiwgY2hhbmNlOjAuMDIgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0xOiJsaW1lc3RvbmUiLCBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4wMiB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0xOiJsaW1lc3RvbmUiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMiB9DQoJfSwNCgl0ZW1wSGlnaDogNTgwLA0KCXN0YXRlSGlnaDogInF1aWNrbGltZSIsDQoJY2F0ZWdvcnk6ICJsYW5kIiwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjIxMSwNCgloYXJkbmVzczogMC4xMywNCglhbGlhczogImNhbGNpdW0gaHlkcm94aWRlIg0KfSwNCiJwb3Rhc3NpdW0iOiB7DQoJY29sb3I6IFsiI0M5Q0ZDRCIsIiNCNEJEQkEiLCIjOThBMUEwIiwiIzdDODQ4NiIsIiM2MzZCNkUiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImNobG9yaW5lIjogeyBlbGVtMToicG90YXNzaXVtX3NhbHQiLCBlbGVtMjpbImZpcmUiLCJwb3AiXSwgY2hhbmNlOjAuMDUgfSwNCgkJIndhdGVyIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJInN0ZWFtIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJInNtb2ciOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6WyJjYXVzdGljX3BvdGFzaCIsInBvcCJdLCBlbGVtMjpbImh5ZHJvZ2VuIiwicG9wIiwiZmlyZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6NDAwIH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTE6WyJjYXVzdGljX3BvdGFzaCIsInBvcCJdLCBlbGVtMjpbImh5ZHJvZ2VuIiwicG9wIiwiZmlyZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6NDAwIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6WyJjYXVzdGljX3BvdGFzaCIsInBvcCJdLCBlbGVtMjpbImh5ZHJvZ2VuIiwicG9wIiwiZmlyZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6NDAwIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJInBvb2xfd2F0ZXIiOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkiZWxlY3RyaWMiOiB7IGVsZW0xOltudWxsLCJwb3AiXSwgZWxlbTI6WyJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjA1LCB0ZW1wMjo0MDAgfQ0KCX0sDQoJdGVtcEhpZ2g6IDYzLjUsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA4OTAsDQoJY29uZHVjdDogMC43NSwNCgloYXJkbmVzczogMC41LA0KCWJ1cm46IDIwLA0KCWZpcmVDb2xvcjogIiNDMjkxRkUiDQp9LA0KIm1vbHRlbl9wb3Rhc3NpdW0iOiB7DQoJY29sb3I6ICIjNEIzQzNCIiwNCglyZWFjdGlvbnM6IHsNCgkJImNobG9yaW5lIjogeyBlbGVtMToicG90YXNzaXVtX3NhbHQiLCBlbGVtMjpbImZpcmUiLCJwb3AiXSwgY2hhbmNlOjAuMDUgfSwNCgkJIndhdGVyIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJInN0ZWFtIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOlsiY2F1c3RpY19wb3Rhc2giLCJwb3AiXSwgZWxlbTI6WyJoeWRyb2dlbiIsInBvcCIsImZpcmUiXSwgY2hhbmNlOjAuMDEsIHRlbXAyOjQwMCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTE6WyJjYXVzdGljX3BvdGFzaCIsInBvcCJdLCBlbGVtMjpbImh5ZHJvZ2VuIiwicG9wIiwiZmlyZSJdLCBjaGFuY2U6MC4wMSwgdGVtcDI6NDAwIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfSwNCgkJIm51dF9taWxrIjogeyBlbGVtMTpbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sIGVsZW0yOlsiaHlkcm9nZW4iLCJwb3AiLCJmaXJlIl0sIGNoYW5jZTowLjAxLCB0ZW1wMjo0MDAgfQ0KCX0sDQoJc3RhdGVMb3c6ICJwb3Rhc3NpdW0iLA0KCXRlbXBMb3c6IDYzLjUsDQoJdGVtcEhpZ2g6IDc1Ny42LA0KCWJ1cm46IDIwLA0KCWJ1cm5JbnRvOiBbImNhdXN0aWNfcG90YXNoIiwicG9wIl0sDQoJZmlyZUVsZW1lbnQ6IG51bGwNCn0sDQoicG90YXNzaXVtX2dhcyI6IHsNCgljb2xvcjogIiM4MjcyNzEiLA0KCWZpcmVFbGVtZW50OiBudWxsDQp9LA0KIm1hZ25lc2l1bSI6IHsNCgljb2xvcjogWyIjRDBEMEQwIiwiI0E4QThBOCIsIiNBREFEQUQiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMSB9LA0KCQkic3RlYW0iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMSB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAxIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Imh5ZHJvZ2VuIiwgY2hhbmNlOjAuMDEgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAxIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMSB9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAxIH0NCgl9LA0KCXRlbXBIaWdoOiA2My41LA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogODkwLA0KCWNvbmR1Y3Q6IDAuMDUgLA0KCWhhcmRuZXNzOiAwLjUsDQoJYnVybjogMjAsDQoJZmlyZUNvbG9yOiAiI2Y5ZWJmZiIsDQoJZmlyZUVsZW1lbnQ6ICJmbGFzaCINCn0sDQoibW9sdGVuX21hZ25lc2l1bSI6IHsNCgljb2xvcjogIiM3Njg0ODciLA0KCWZpcmVFbGVtZW50OiAiZmxhc2giLA0KCWJ1cm5JbnRvOiAiZmxhc2giLA0KCXRlbXBMb3c6IDYzLA0KCXN0YXRlTG93OiAibWFnbmVzaXVtIiwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMyB9LA0KCQkic3RlYW0iOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjA1IH0sDQoJCSJzYWx0X3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMyB9LA0KCQkic3VnYXJfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAzIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Imh5ZHJvZ2VuIiwgY2hhbmNlOjAuMDMgfSwNCgkJInNlbHR6ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAzIH0sDQoJCSJwb29sX3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMyB9LA0KCQkibnV0X21pbGsiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJoeWRyb2dlbiIsIGNoYW5jZTowLjAzIH0NCgl9DQp9LA0KImx5ZSI6IHsNCgljb2xvcjogIiNjNWQzZWIiLA0KCWdyYWluOiA0LA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkibnV0X29pbCI6IHsgZWxlbTE6InNvYXAiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMyB9LA0KCQkiZ3JlYXNlIjogeyBlbGVtMToic29hcCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzIH0sDQoJCSJmYXQiOiB7IGVsZW0xOiJzb2FwIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA1IH0sDQoJCSJjaGxvcmluZSI6IHsgZWxlbTE6ImJsZWFjaCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAzIH0sDQoJCSJzb2RpdW1fYWNldGF0ZSI6IHsgZWxlbTE6Im1ldGhhbmUiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDUgfSwNCgkJImFjaWQiOiB7IGVsZW0xOiJzYWx0X3dhdGVyIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDA1LCB0ZW1wMTo1MDAgfSwNCgkJImFsdW1pbnVtIjogeyBlbGVtMToiaHlkcm9nZW4iLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDIgfSwNCgkJImxlYWQiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSB9LA0KCQkibW9sdGVuX2xlYWQiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMiB9LA0KCQkibW9sdGVuX3RpbiI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDAyIH0sDQoJCSJ0aW4iOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMiB9LA0KCQkiemluYyI6IHsgZWxlbTE6Imh5ZHJvZ2VuIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDAyIH0sDQoJCSJnYWx2YW5pemVkX3N0ZWVsIjogeyBlbGVtMToiaHlkcm9nZW4iLCBlbGVtMjoic3RlZWwiLCBjaGFuY2U6MC4wMDUgfSwNCgkJIndhdGVyIjogeyBlbGVtMToiYnViYmxlIiwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6ImJ1YmJsZSIsIGNoYW5jZTowLjAxLCB0ZW1wMjoyNTAgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMToiYnViYmxlIiwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOiJidWJibGUiLCBjaGFuY2U6MC4wMSwgdGVtcDI6MjUwIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMToiYnViYmxlIiwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6ImJ1YmJsZSIsIGNoYW5jZTowLjAxLCB0ZW1wMjoyNTAgfSwNCgkJInByaW1vcmRpYWxfc291cCI6IHsgZWxlbTE6ImJ1YmJsZSIsIGNoYW5jZTowLjAxLCB0ZW1wMjoyNTAgfSwNCgkJIm51dF9taWxrIjogeyBlbGVtMToiYnViYmxlIiwgY2hhbmNlOjAuMDEsIHRlbXAyOjI1MCB9LA0KCX0sDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogMzIzLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIxMzAsDQoJYWxpYXM6IFsic29kaXVtIGh5ZHJveGlkZSIsImNhdXN0aWMgc29kYSJdDQp9LA0KIm1vbHRlbl9seWUiOiB7DQoJY29sb3I6ICIjOTc2YzMwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImFjaWRfZ2FzIjogeyBlbGVtMTpbInN0ZWFtIiwic2FsdCJdLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMSB9LA0KCQkiYWx1bWludW0iOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwMiB9LA0KCQkibW9sdGVuX2FsdW1pbnVtIjogeyBlbGVtMToiaHlkcm9nZW4iLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDUgfSwNCgkJIm1vbHRlbl9sZWFkIjogeyBlbGVtMToiaHlkcm9nZW4iLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDUgfSwNCgkJIm1vbHRlbl90aW4iOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSB9LA0KCQkibW9sdGVuX3ppbmMiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjAwNSB9LA0KCQkibW9sdGVuX2dhbHZhbml6ZWRfc3RlZWwiOiB7IGVsZW0xOiJoeWRyb2dlbiIsIGVsZW0yOiJtb2x0ZW5fc3RlZWwiLCBjaGFuY2U6MC4wMSB9LA0KCX0sDQoJdGVtcEhpZ2g6IDEzODgsDQoJc3RhdGVIaWdoOiAic21va2UiDQp9LA0KInRoZXJtaXRlIjogew0KCWNvbG9yOiBbIiM1ZDQ5NDciLCIjNWIzYzQyIiwiIzM3MmEyZCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5idXJuaW5nKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCwibW9sdGVuX3RoZXJtaXRlIik7DQoJCQlwaXhlbC50ZW1wID0gMjIwMDsNCgkJfQ0KCX0sDQoJdGVtcEhpZ2g6IDY2MCwNCglidXJuOiAxMDAsDQoJYnVyblRpbWU6IDEwMDAsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglkZW5zaXR5OiA3MDAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJaGFyZG5lc3M6IDAuMzI1DQp9LA0KIm1vbHRlbl90aGVybWl0ZSI6IHsNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuYnVybmluZykgeyBwaXhlbC50ZW1wICsrOyB9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImljZSI6IHsgImVsZW0xIjoiZXhwbG9zaW9uIiB9DQoJfSwNCglidXJuSW50bzogW251bGwsbnVsbCwibW9sdGVuX2lyb24iXQ0KfSwNCiJzbGFnIjogew0KCWNvbG9yOiBbIiM0YjNhMmQiLCIjNmE1NDQ3IiwiIzZiNWI1MyIsIiM2NzU4NTEiLCIjNzg3NTZlIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJdGVtcEhpZ2g6IDEzODAsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglkZW5zaXR5OiAyNDAwLA0KCXN0YXRlOiAic29saWQiLA0KCWNvbmR1Y3Q6IDAuMDMsDQoJaGFyZG5lc3M6IDAuNSwNCglicmVha0ludG86ICJncmF2ZWwiDQp9LA0KImFtYWxnYW0iOiB7DQoJY29sb3I6IFsiIzZiNTUzNSIsIiM5Njc4NGYiLCIjNjA0OTI4IiwiI2E2OTA3MCJdLA0KCXJlYWN0aW9uczogew0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6Im1lcmN1cnkiLCBlbGVtMjpbInNvZGl1bSIsImh5ZHJvZ2VuIiwiaHlkcm9nZW4iXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMSB9DQoJfSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlQsDQoJdGVtcEhpZ2g6IDIyMywNCgljYXRlZ29yeToicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTM5MjAsDQoJaGFyZG5lc3M6IDAuMSwNCgloaWRkZW46IHRydWUsDQoJY29uZHVjdDogMC4zNywNCn0sDQoibW9sdGVuX2FsdW1pbnVtIjogew0KCWNvbG9yOiBbIiNlNmUwZGIiLCIjZDBkN2NiIiwiI2QzZDJkNSJdLA0KCXJlYWN0aW9uczogew0KCQkicnVzdCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InRoZXJtaXRlIiB9LA0KCQkib3hpZGl6ZWRfY29wcGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoidGhlcm1pdGUiIH0NCgl9LA0KCWRlbnNpdHk6IDIzNzUNCn0sDQoibW9sdGVuX3ppbmMiOiB7DQoJcmVhY3Rpb25zOiB7DQoJCSJydXN0IjogeyBlbGVtMTpudWxsLCBlbGVtMjoidGhlcm1pdGUiIH0sDQoJCSJveGlkaXplZF9jb3BwZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJ0aGVybWl0ZSIgfSwNCgkJInN0ZWVsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZ2FsdmFuaXplZF9zdGVlbCIgfSwNCgkJIm1vbHRlbl9zdGVlbCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im1vbHRlbl9nYWx2YW5pemVkX3N0ZWVsIiB9DQoJfSwNCglkZW5zaXR5OiA2NTcwDQp9LA0KIm5lb24iOiB7DQoJY29sb3I6ICIjYmFiYWJhIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkdBUywNCgljb2xvck9uOiBbIiNmZjAwMDAiLCIjZDAxODIyIiwiI2ZlNWMwYyJdLA0KCXRlbXBMb3c6IC0yNDYsDQoJc3RhdGVMb3c6ICJsaXF1aWRfbmVvbiIsDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJZGVuc2l0eTogMC45MDAyLA0KCXN0YXRlOiAiZ2FzIiwNCgljb25kdWN0OiAwLjg2DQp9LA0KImxpcXVpZF9uZW9uIjogew0KCWNvbG9yOiAiI2QxZDFkMSIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJY29sb3JPbjogWyIjZmYwMDAwIiwiI2QwMTgyMiIsIiNmZTVjMGMiXSwNCgl0ZW1wOiAtMjQ3LA0KCXRlbXBIaWdoOiAtMjQ2LA0KCXN0YXRlSGlnaDogIm5lb24iLA0KCXRlbXBMb3c6IC0yNDguNiwNCgljYXRlZ29yeTogInN0YXRlcyIsDQoJaGlkZGVuOiB0cnVlLA0KCWRlbnNpdHk6IDEyMDcsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWNvbmR1Y3Q6IDAuODMNCn0sDQoic21vZyI6IHsNCgljb2xvcjogIiM5ODkzOTgiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxNMiU1fFhYIiwNCgkJIk0xJTh8WFh8TTElOCIsDQoJCSJYWHxNMiU1fFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkicGxhbnQiOiB7IGVsZW0xOiJjbG91ZCIgfSwNCgkJImV2ZXJncmVlbiI6IHsgZWxlbTE6ImNsb3VkIiB9LA0KCQkiY2FjdHVzIjogeyBlbGVtMToiY2xvdWQiIH0sDQoJCSJhbGdhZSI6IHsgZWxlbTE6ImNsb3VkIiB9LA0KCQkia2VscCI6IHsgZWxlbTE6ImNsb3VkIiB9DQoJfSwNCgl0ZW1wOiAxMDAsDQoJdGVtcExvdzogNDcuNSwNCglzdGF0ZUxvdzogImRpcnR5X3dhdGVyIiwNCgljYXRlZ29yeTogImdhc2VzIiwNCglkZW5zaXR5OiA1OTAuMywNCglzdGF0ZTogImdhcyIsDQoJY29uZHVjdDogMC4wMywNCglzdGFpbjogMC4wMDM1LA0KCWJyZWFrSW50bzogImRpcnR5X3dhdGVyIg0KfSwNCiJzdGVuY2giOiB7DQoJY29sb3I6ICIjNmFiMDY2IiwNCgliZWhhdmlvcjogWw0KCQkiTTJ8TTF8TTIiLA0KCQkiTTF8REwlMC41fE0xIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkib3h5Z2VuIjogeyBlbGVtMjoic3RlbmNoIiwgY2hhbmNlOjAuMDEgfSwNCgkJIndhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGlydHlfd2F0ZXIiIH0sDQoJCSJuaXRyb2dlbiI6IHsgZWxlbTI6InN0ZW5jaCIgfSwNCgkJImJha2luZ19zb2RhIjogeyBlbGVtMTpudWxsIH0sDQoJCSJmaXJlIjogeyBlbGVtMTpudWxsIH0sDQoJCSJidWJibGUiOiB7IGVsZW0xOm51bGwgfSwNCgkJImZvYW0iOiB7IGVsZW0xOm51bGwgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJdGVtcEhpZ2g6IDEwMDAsDQoJc3RhdGVIaWdoOiAiZmlyZSIsDQoJdGVtcExvdzogLTE1LA0KCXN0YXRlTG93TmFtZTogImxpcXVpZF9zdGVuY2giLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLjI5Mw0KfSwNCiJsaXF1aWRfc3RlbmNoIjogew0KCWNvbG9yOiAiIzNlYTM0NiINCn0sDQoiZnJhZ3JhbmNlIjogew0KCWNvbG9yOiAiIzk2N2JiNiIsDQoJYmVoYXZpb3I6IFsNCgkJIk0yfE0xfE0yIiwNCgkJIk0xfERMJTAuNXxNMSIsDQoJCSJNMnxNMXxNMiIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInN0ZW5jaCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkib3h5Z2VuIjogeyBlbGVtMjoiZnJhZ3JhbmNlIiwgY2hhbmNlOjAuMDEgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoid2F0ZXIiIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTE6bnVsbCB9LA0KCQkicm90dGVuX2NoZWVzZSI6IHsgZWxlbTE6bnVsbCB9LA0KCQkiZmx5IjogeyBlbGVtMTpudWxsIH0NCgl9LA0KCXRlbXBIaWdoOiAxMDAwLA0KCXN0YXRlSGlnaDogImZpcmUiLA0KCXRlbXBMb3c6IC0xNSwNCglzdGF0ZUxvd05hbWU6ICJwZXJmdW1lIiwNCgljYXRlZ29yeTogImdhc2VzIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMS4yOTINCn0sDQoicGVyZnVtZSI6IHsNCgljb2xvcjogIiM5NjU2ZTMiLA0KCXJlYWN0aW9uczogew0KCQkibGlxdWlkX3N0ZW5jaCI6IHsgZWxlbTI6bnVsbCB9DQoJfSwNCgljYXRlZ29yeTogImxpcXVpZHMiDQp9LA0KImN5YW5pZGUiOiB7DQoJY29sb3I6ICIjYjZjY2I2IiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImZyb2ciOiB7IGVsZW0yOiJyb3R0ZW5fbWVhdCIgfSwNCgkJImFudCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkiYmVlIjogeyBlbGVtMjpudWxsIH0sDQoJCSJmaXNoIjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0sDQoJCSJmaXJlZmx5IjogeyBlbGVtMjpudWxsIH0sDQoJCSJoZWFkIjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0sDQoJCSJib2R5IjogeyBlbGVtMjoicm90dGVuX21lYXQiIH0NCgl9LA0KCXRlbXBIaWdoOiAyNiwNCgl0ZW1wTG93OiAtMTMuMjksDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAxLA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiA2ODcsDQoJY2F0ZWdvcnk6ICJsaXF1aWRzIiwNCgloaWRkZW46IHRydWUsDQoJYWxpYXM6ICJoeWRyb2dlbiBjeWFuaWRlIg0KfSwNCiJvem9uZSI6IHsNCgljb2xvcjogIiM4MGE0ZmYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJNMSU3fFhYfE0xJTciLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJjYXJib25fZGlveGlkZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImFuZXN0aGVzaWEiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJjb3BwZXIiOiB7IGVsZW0xOiJveHlnZW4iLCBlbGVtMjoib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMSB9LA0KCQkiYnJvbnplIjogeyBlbGVtMToib3h5Z2VuIiwgZWxlbTI6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjA1IH0sDQoJCSJpcm9uIjogeyBlbGVtMToib3h5Z2VuIiwgZWxlbTI6InJ1c3QiLCBjaGFuY2U6MC4wNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOiJveHlnZW4iLCBlbGVtMjoicnVzdCIsIGNoYW5jZTowLjA0IH0sDQoJCSJjaGFyY29hbCI6IHsgZWxlbTE6Im94eWdlbiIsIGVsZW0yOiJjYXJib25fZGlveGlkZSIsIGNoYW5jZTowLjAyNSB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJ3YXRlciIgfSwNCgkJInN0ZW5jaCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6bnVsbCB9LA0KCQkicHlyb2N1bXVsdXMiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwgfSwNCgkJInNtb2tlIjogeyBlbGVtMTpudWxsLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wMDUgfSwNCgkJInllYXN0IjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJjZWxsIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4xIH0sDQoJCSJjYW5jZXIiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjAyNSB9LA0KCQkicmF0IjogeyBlbGVtMjoicm90dGVuX21lYXQiLCBjaGFuY2U6MC4wNSB9LA0KCQkiZmlzaCI6IHsgZWxlbTI6InJvdHRlbl9tZWF0IiwgY2hhbmNlOjAuMDUgfSwNCgkJIndvcm0iOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJmcm96ZW5fd29ybSI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImZyb2ciOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJwbGFndWUiOiB7IGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0yOiJibG9vZCIsIGNoYW5jZTowLjUgfSwNCgkJImNobG9yaW5lIjogeyBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkicGxhbnQiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuMjUgfSwNCgkJImV2ZXJncmVlbiI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImRlYWRfcGxhbnQiLCBjaGFuY2U6MC4yNSB9LA0KCQkiY2FjdHVzIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjIgfSwNCgkJImdyYXNzIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjI1IH0sDQoJCSJ2aW5lIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjI1IH0sDQoJCSJ0cmVlX2JyYW5jaCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Indvb2QiLCBjaGFuY2U6MC4yNSB9LA0KCQkiYWxnYWUiOiB7IGVsZW0xOm51bGwsIGVsZW0yOm51bGwsIGNoYW5jZTowLjI1IH0sDQoJCSJrZWxwIjogeyBlbGVtMTpudWxsLCBlbGVtMjoid2F0ZXIiLCBjaGFuY2U6MC4yNSB9LA0KCQkicHJvdG9uIjogeyBlbGVtMToiZmxhc2giLCBjb2xvcjE6IiNlMzZkODgiLCBhdHRyMTp7ZGVsYXk6NTAwfSwgZWxlbTI6ImZsYXNoIiwgY29sb3IyOiIjZTM2ZDg4IiwgYXR0cjI6e2RlbGF5OjUwMH0sIGNoYW5jZTowLjI1LCAieSI6WzAsMTBdIH0NCgl9LA0KCWNhdGVnb3J5OiJnYXNlcyIsDQoJdGVtcDogLTE1LA0KCXRlbXBMb3c6IC0xMTIsDQoJc3RhdGU6ICJnYXMiLA0KCXN0YWluOiAtMC4xLA0KCWRlbnNpdHk6IDIuMTQNCn0sDQoibGlxdWlkX296b25lIjogew0KCWJ1cm46IDEwMCwNCglidXJuVGltZTogMSwNCglidXJuSW50bzogImV4cGxvc2lvbiIsDQoJZXh0cmFUZW1wSGlnaDogew0KCQkiMCI6ICJleHBsb3Npb24iDQoJfSwNCgl0ZW1wSGlnaDogLTEwMCwNCglzdGF0ZUhpZ2g6ICJvem9uZSIsDQoJYnJlYWtJbnRvOiJleHBsb3Npb24iLA0KCWNvbmR1Y3Q6MSwNCgliZWhhdmlvck9uOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpleHBsb3Npb258WFgiLA0KCQkiWFh8WFh8WFgiDQoJXQ0KfSwNCiJjbG91ZCI6IHsNCgljb2xvcjogIiNkNWRjZTYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDTzoxJTV8TTElMi41IEFORCBCTyIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInJhaW5fY2xvdWQiOiB7IGVsZW0xOiJyYWluX2Nsb3VkIiwgdGVtcDE6LTIwIH0sDQoJCSJlbGVjdHJpYyI6IHsgZWxlbTE6InJhaW5fY2xvdWQiLCB0ZW1wMTotMjAgfSwNCgkJImNsb3VkIjogeyBlbGVtMToicmFpbl9jbG91ZCIsIGVsZW0yOiJyYWluX2Nsb3VkIiwgdGVtcDE6LTIwLCB0ZW1wMjotMjAsIGNoYXJnZWQ6dHJ1ZSB9LA0KCQkiYW5lc3RoZXNpYSI6IHsgZWxlbTE6ImFjaWRfY2xvdWQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkic2FuZCI6IHsgZWxlbTI6ICJzYW5kc3Rvcm0iLCBjaGFuY2U6MC4yLCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfQ0KCX0sDQoJY2F0ZWdvcnk6Imdhc2VzIiwNCgl0ZW1wOiAxMTAsDQoJdGVtcExvdzogMTAwLA0KCXN0YXRlTG93OiAicmFpbl9jbG91ZCIsDQoJc3RhdGU6ICJnYXMiLA0KCWJyZWFrSW50bzogInJhaW5fY2xvdWQiLA0KCWRlbnNpdHk6IDAuNCwNCglpZ25vcmVBaXI6IHRydWUsDQoJY29uZHVjdDogMC4wMw0KfSwNCiJyYWluX2Nsb3VkIjogew0KCWNvbG9yOiAiIzYzNmI3OCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfENIOndhdGVyJTAuMDV8TTElMi41IEFORCBCTyIsDQoJCSJDUjplbGVjdHJpYyUwLjA1fENSOmVsZWN0cmljJTAuMDV8Q1I6ZWxlY3RyaWMlMC4wNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImFuZXN0aGVzaWEiOiB7IGVsZW0xOiJhY2lkX2Nsb3VkIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJInNhbmQiOiB7IGVsZW0yOiAic2FuZHN0b3JtIiwgY2hhbmNlOjAuMiwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJ3ZXRfc2FuZCI6IHsgZWxlbTI6ICJzYW5kc3Rvcm0iLCBjaGFuY2U6MC4yLCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfQ0KCX0sDQoJY2F0ZWdvcnk6Imdhc2VzIiwNCgl0ZW1wOiA3MCwNCgl0ZW1wSGlnaDogMTAwLA0KCXN0YXRlSGlnaDogImNsb3VkIiwNCglicmVha0ludG86ICJ3YXRlciIsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogInNub3dfY2xvdWQiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjUsDQoJaWdub3JlQWlyOiB0cnVlLA0KCWNvbmR1Y3Q6IDAuMDMNCn0sDQoic25vd19jbG91ZCI6IHsNCgljb2xvcjogIiM3ZTg2OTEiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpzbm93JTAuMDV8TTElMi41IEFORCBCTyIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCgljYXRlZ29yeToiZ2FzZXMiLA0KCXRlbXA6IC0xMCwNCgl0ZW1wSGlnaDogMzAsDQoJc3RhdGVIaWdoOiAicmFpbl9jbG91ZCIsDQoJdGVtcExvdzogLTIwMCwNCglzdGF0ZUxvdzogImhhaWxfY2xvdWQiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjU1LA0KCWlnbm9yZUFpcjogdHJ1ZSwNCgljb25kdWN0OiAwLjAxDQp9LA0KImhhaWxfY2xvdWQiOiB7DQoJY29sb3I6ICIjN2U4NjkxIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8Q0g6aGFpbCUwLjA1fE0xJTIuNSBBTkQgQk8iLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJY2F0ZWdvcnk6Imdhc2VzIiwNCgl0ZW1wOiAtMjAwLA0KCXRlbXBIaWdoOiAtMTYwLA0KCXN0YXRlSGlnaDogInNub3dfY2xvdWQiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjYsDQoJaWdub3JlQWlyOiB0cnVlLA0KCWNvbmR1Y3Q6IDAuMDENCn0sDQoidGh1bmRlcl9jbG91ZCI6IHsNCgljb2xvcjogIiM0OTRmNWIiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpsaWdodG5pbmclMC4wMDEgQU5EIENIOndhdGVyJTAuMDV8TTElMi41IEFORCBCTyIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlwaXhlbC50ZW1wID0gNzA7DQoJfSwNCgljYXRlZ29yeToiZ2FzZXMiLA0KCXRlbXA6IDcwLA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJzbm93X2Nsb3VkIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC41NSwNCglpZ25vcmVBaXI6IHRydWUsDQoJY29uZHVjdDogMC4wMw0KfSwNCiJhY2lkX2Nsb3VkIjogew0KCWNvbG9yOiAiIzYzNzg2NSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFhYfE0xJTIuNSBBTkQgQk8iLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLnRlbXAgPiBlbGVtZW50cy5hY2lkLnRlbXBMb3cgJiYgcGl4ZWwudGVtcCA8IGVsZW1lbnRzLmFjaWQudGVtcEhpZ2ggJiYgTWF0aC5yYW5kb20oKSA8PSAwLjAwMDUpIHsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJhY2lkIikNCgkJfQ0KCX0sDQoJcmVhY3Rpb25zOiB7DQoJCSJhc2giOiB7IGVsZW0xOiJyYWluX2Nsb3VkIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImxpbWVzdG9uZSI6IHsgZWxlbTE6InJhaW5fY2xvdWQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkicXVpY2tsaW1lIjogeyBlbGVtMToicmFpbl9jbG91ZCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjA1IH0sDQoJCSJzbGFrZWRfbGltZSI6IHsgZWxlbTE6InJhaW5fY2xvdWQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkiYm9yYXgiOiB7IGVsZW0xOiJyYWluX2Nsb3VkIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImFtbW9uaWEiOiB7IGVsZW0xOiJyYWluX2Nsb3VkIiwgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTE6InJhaW5fY2xvdWQiLCBlbGVtMjpudWxsLCBjaGFuY2U6MC4wNSB9DQoJfSwNCgljYXRlZ29yeToiZ2FzZXMiLA0KCWJ1cm46IDE1LA0KCWJ1cm5UaW1lOiA1LA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjcsDQoJaWdub3JlQWlyOiB0cnVlDQp9LA0KInNhbmRzdG9ybSI6IHsNCgljb2xvcjogIiNjMmI1NzYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpzYW5kJTAuMDc1fE0xJTIuNSBBTkQgQk8iLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJzYW5kIjogeyBlbGVtMjogInNhbmRzdG9ybSIsIGNoYW5jZTowLjIsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9DQoJfSwNCgljYXRlZ29yeToiZ2FzZXMiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC44LA0KCWlnbm9yZUFpcjogdHJ1ZQ0KfSwNCiJweXJvY3VtdWx1cyI6IHsNCgljb2xvcjogIiMyZTJlMmUiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDphc2glMC4wNzV8TTElMi41IEFORCBCTyIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImZpcmViYWxsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZmlyZV9jbG91ZCIsIGNoYW5jZTowLjI1IH0NCgl9LA0KCWNhdGVnb3J5OiJnYXNlcyIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjcsDQoJaWdub3JlQWlyOiB0cnVlDQp9LA0KImZpcmVfY2xvdWQiOiB7DQoJY29sb3I6IFsiIzMzMjQyNCIsIiM0NzM0MzEiLCIjNDczOTMxIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfENIOmZpcmViYWxsJTAuMDJ8TTElMi41IEFORCBCTyIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInJhaW5fY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBlbGVtMjogInB5cm9jdW11bHVzIiB9LA0KCQkic25vd19jbG91ZCI6IHsgZWxlbTE6ICJweXJvY3VtdWx1cyIsIGVsZW0yOiAicmFpbl9jbG91ZCIgfSwNCgkJImhhaWxfY2xvdWQiOiB7IGVsZW0xOiAicHlyb2N1bXVsdXMiLCBlbGVtMjogInNub3dfY2xvdWQiIH0sDQoJCSJ0aHVuZGVyX2Nsb3VkIjogeyBlbGVtMTogInB5cm9jdW11bHVzIiwgZWxlbTI6ICJweXJvY3VtdWx1cyIgfSwNCgkJImFjaWRfY2xvdWQiOiB7IGVsZW0xOiAiZmlyZSIsIGVsZW0yOiAiZWxlY3RyaWMiIH0NCgl9LA0KCXRlbXA6IDUwMCwNCgl0ZW1wTG93OiAxMDAsDQoJc3RhdGVMb3c6ICJweXJvY3VtdWx1cyIsDQoJY2F0ZWdvcnk6Imdhc2VzIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC44LA0KCWlnbm9yZUFpcjogdHJ1ZSwNCglleGNsdWRlUmFuZG9tOiB0cnVlDQp9LA0KInJhZF9jbG91ZCI6IHsNCgljb2xvcjogWyIjMmQ3NTI4IiwiIzU1NzUyOCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxDSDpmYWxsb3V0LHJhZGlhdGlvbiUwLjAyNXxNMSUyLjUgQU5EIEJPIiwNCgkJIkNSOnJhZGlhdGlvbiUwLjA1fENSOnJhZGlhdGlvbiUwLjA1fENSOnJhZGlhdGlvbiUwLjA1IiwNCgldLA0KCWNhdGVnb3J5OiJnYXNlcyIsDQoJaGlkZGVuOiB0cnVlLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjUsDQoJaWdub3JlQWlyOiB0cnVlDQp9LA0KInJhZF9zdGVhbSI6IHsNCgljb2xvcjogIiNhYmZmZTQiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJNMiUxMHxYWHxNMiUxMCIsDQoJCSJYWHxNMiUxMHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAicmFkX2Nsb3VkIiwgY2hhbmNlOjAuMywgInkiOlswLDE1XSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJzdGVhbSI6IHsgZWxlbTE6IG51bGwsIGVsZW0yOiAicmFkX2Nsb3VkIiwgY2hhbmNlOjAuMywgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJjbG91ZCI6IHsgZWxlbTE6ICJyYWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInJhaW5fY2xvdWQiOiB7IGVsZW0xOiAicmFkX2Nsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJzbm93X2Nsb3VkIjogeyBlbGVtMTogInJhZF9jbG91ZCIsIGNoYW5jZTowLjQsICJ5IjpbMCwxMl0sICJzZXR0aW5nIjoiY2xvdWRzIiB9LA0KCQkiaGFpbF9jbG91ZCI6IHsgZWxlbTE6ICJyYWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInRodW5kZXJfY2xvdWQiOiB7IGVsZW0xOiAicmFkX2Nsb3VkIiwgY2hhbmNlOjAuNCwgInkiOlswLDEyXSwgInNldHRpbmciOiJjbG91ZHMiIH0sDQoJCSJweXJvY3VtdWx1cyI6IHsgZWxlbTE6ICJyYWRfY2xvdWQiLCBjaGFuY2U6MC40LCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfSwNCgkJInJhZF9jbG91ZCI6IHsgZWxlbTE6ICJyYWRfY2xvdWQiLCBjaGFuY2U6MC4zLCAieSI6WzAsMTJdLCAic2V0dGluZyI6ImNsb3VkcyIgfQ0KCX0sDQoJdGVtcExvdzogMTAsDQoJc3RhdGVMb3c6ICJmYWxsb3V0IiwNCgljYXRlZ29yeTogImdhc2VzIiwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDAuNw0KfSwNCiJjb2xvcl9zbW9rZSI6IHsNCgljb2xvcjogWyIjNmIyZTJlIiwiIzZiNGYyZSIsIiM2YjZiMmUiLCIjMmU2YjJlIiwiIzJlNmI2YiIsIiMyZTJlNmIiLCIjNmIyZTZiIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJY2F0ZWdvcnk6ICJnYXNlcyIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEuOTc3LA0KCWN1c3RvbUNvbG9yOiB0cnVlDQp9LA0KInNwcmF5X3BhaW50Ijogew0KCWNvbG9yOiBbIiNmZjAwMDAiLCIjZmY4ODAwIiwiI2ZmZmYwMCIsIiMwMGZmMDAiLCIjMDBmZmZmIiwiIzAwMDBmZiIsIiNmZjAwZmYiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkdBUywNCgljYXRlZ29yeTogImdhc2VzIiwNCglzdGF0ZTogImdhcyIsDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAxLA0KCWRlbnNpdHk6IDEuOTc3LA0KCWN1c3RvbUNvbG9yOiB0cnVlLA0KCXN0YWluOiAwLjI1DQp9LA0KInBvcnRhbF9pbiI6IHsNCgljb2xvcjogIiNmZjlhMDAiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCS8vIGlmIChNYXRoLnJhbmRvbSgpID4gMC4xKSByZXR1cm47DQoJCWlmICghdGlja3RlbXAucG9ydGFsX291dCkgdGlja3RlbXAucG9ydGFsX291dCA9IHt9Ow0KCQlsZXQgY2hhbm5lbCA9IHBhcnNlSW50KHBpeGVsLmNoYW5uZWwpIHx8IDA7DQoJCWlmICghdGlja3RlbXAucG9ydGFsX291dFtjaGFubmVsXSkgew0KCQkJdGlja3RlbXAucG9ydGFsX291dFtjaGFubmVsXSA9IGN1cnJlbnRQaXhlbHMuZmlsdGVyKChwKSA9PiB7DQoJCQkJcmV0dXJuIGVsZW1lbnRzW3AuZWxlbWVudF0uaWQgPT09IGVsZW1lbnRzLnBvcnRhbF9vdXQuaWQgJiYgKA0KCQkJCQlpc0VtcHR5KHAueCxwLnkrMSkgfHwgaXNFbXB0eShwLngscC55LTEpIHx8DQoJCQkJCWlzRW1wdHkocC54KzEscC55KSB8fCBpc0VtcHR5KHAueC0xLHAueSkNCgkJCQkpICYmDQoJCQkJCShwYXJzZUludChwLmNoYW5uZWwpIHx8IDApID09PSBwYXJzZUludChjaGFubmVsKQ0KCQkJfSk7DQoJCX0NCgkJaWYgKHRpY2t0ZW1wLnBvcnRhbF9vdXRbY2hhbm5lbF0ubGVuZ3RoKSB7DQoJCQlzaHVmZmxlQXJyYXkoc3F1YXJlQ29vcmRzU2h1ZmZsZSk7DQoJCQlsZXQgcjsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzU2h1ZmZsZS5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBjb29yZCA9IHNxdWFyZUNvb3Jkc1NodWZmbGVbaV07DQoJCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJCXZhciB5ID0gcGl4ZWwueStjb29yZFsxXTsNCgkJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpICYmIGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLm1vdmFibGUpIHsNCgkJCQkJciA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCQlpZiAociAhPT0gdW5kZWZpbmVkIHx8IHBpeGVsLmNoYXJnZSkgew0KCQkJCWxldCBwb3J0YWxfb3V0ID0gY2hvb3NlKHRpY2t0ZW1wLnBvcnRhbF9vdXRbY2hhbm5lbF0pOw0KCQkJCWlmIChwb3J0YWxfb3V0LmRlbCkgcmV0dXJuOw0KCQkJCWlmIChyICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJc2h1ZmZsZUFycmF5KHNxdWFyZUNvb3Jkc1NodWZmbGUpOw0KCQkJCQlmb3IgKHZhciBqID0gMDsgaiA8IHNxdWFyZUNvb3Jkc1NodWZmbGUubGVuZ3RoOyBqKyspIHsNCgkJCQkJCXZhciBjb29yZDIgPSBzcXVhcmVDb29yZHNTaHVmZmxlW2pdOw0KCQkJCQkJdmFyIHgyID0gcG9ydGFsX291dC54K2Nvb3JkMlswXTsNCgkJCQkJCXZhciB5MiA9IHBvcnRhbF9vdXQueStjb29yZDJbMV07DQoJCQkJCQlpZiAoaXNFbXB0eSh4Mix5MikpIHsNCgkJCQkJCQlpZiAoci5kcmFnKSB7DQoJCQkJCQkJCXIuZHJhZyA9IGZhbHNlOw0KCQkJCQkJCQl0cnlNb3ZlKHIseDIseTIpOw0KCQkJCQkJCQlyLmRyYWcgPSB0cnVlOw0KCQkJCQkJCX0NCgkJCQkJCQllbHNlIHRyeU1vdmUocix4Mix5Mik7DQoJCQkJCQl9DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAocGl4ZWwuY2hhcmdlICYmICFwb3J0YWxfb3V0LmNoYXJnZSAmJiAhcG9ydGFsX291dC5jaGFyZ2VDRCkgew0KCQkJCQlwb3J0YWxfb3V0LmNoYXJnZSA9IHBpeGVsLmNoYXJnZTsNCgkJCQl9DQoJCQl9DQoJCX07DQoJCWRvRWxlY3RyaWNpdHkocGl4ZWwpOw0KCX0sDQoJcHJvcGVydGllczogeyBjaGFubmVsOjAgfSwNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5CT1JERVIsDQoJaG92ZXJTdGF0OiBmdW5jdGlvbihwaXhlbCkgeyByZXR1cm4gcGl4ZWwuY2hhbm5lbCB9LA0KCWdyYWluOjAsDQoJY2F0ZWdvcnk6Im1hY2hpbmVzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCW1vdmFibGU6ZmFsc2UsDQoJaGFyZG5lc3M6MSwNCgljb25kdWN0OjEsDQoJZW1pdDp0cnVlDQp9LA0KInBvcnRhbF9vdXQiOiB7DQoJY29sb3I6ICIjMDBhMmZmIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCl7DQoJCWRvRWxlY3RyaWNpdHkocGl4ZWwpOw0KCX0sDQoJcHJvcGVydGllczogeyBjaGFubmVsOjAgfSwNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5CT1JERVIsDQoJaG92ZXJTdGF0OiBmdW5jdGlvbihwaXhlbCkgeyByZXR1cm4gcGl4ZWwuY2hhbm5lbCB9LA0KCWdyYWluOjAsDQoJY2F0ZWdvcnk6Im1hY2hpbmVzIiwNCglpbnN1bGF0ZTp0cnVlLA0KCW1vdmFibGU6ZmFsc2UsDQoJaGFyZG5lc3M6MSwNCgljb25kdWN0OjEsDQoJZW1pdDp0cnVlDQp9LA0KImxlZF9yIjogew0KCWNvbG9yOiAiI2ZmMDAwMCIsDQoJYnV0dG9uQ29sb3I6ICIjNjYwMDAwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJcmVuZGVyZXI6IHJlbmRlclByZXNldHMuTEVELA0KCXJlYWN0aW9uczogew0KCQkibGlnaHQiOiB7Y2hhcmdlMToxLGVsZW0yOm51bGx9LA0KCQkibGlxdWlkX2xpZ2h0Ijoge2NoYXJnZTE6MSxlbGVtMjpudWxsfQ0KCX0sDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJdGVtcEhpZ2g6IDE1MDAsDQoJc3RhdGVIaWdoOiBbIm1vbHRlbl9nbGFzcyIsIm1vbHRlbl9nbGFzcyIsIm1vbHRlbl9nbGFzcyIsIm1vbHRlbl9nYWxsaXVtIl0sDQoJY29uZHVjdDogMSwNCglicmVha0ludG86ICJnbGFzc19zaGFyZCIsDQoJZm9yY2VTYXZlQ29sb3I6IHRydWUNCn0sDQoibGVkX2ciOiB7DQoJY29sb3I6ICIjMDBmZjAwIiwNCglidXR0b25Db2xvcjogIiMwMDY2MDAiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCglyZW5kZXJlcjogcmVuZGVyUHJlc2V0cy5MRUQsDQoJcmVhY3Rpb25zOiB7DQoJCSJsaWdodCI6IHtjaGFyZ2UxOjEsZWxlbTI6bnVsbH0sDQoJCSJsaXF1aWRfbGlnaHQiOiB7Y2hhcmdlMToxLGVsZW0yOm51bGx9DQoJfSwNCgljYXRlZ29yeTogIm1hY2hpbmVzIiwNCgl0ZW1wSGlnaDogMTUwMCwNCglzdGF0ZUhpZ2g6IFsibW9sdGVuX2dsYXNzIiwibW9sdGVuX2dsYXNzIiwibW9sdGVuX2dsYXNzIiwibW9sdGVuX2dhbGxpdW0iXSwNCgljb25kdWN0OiAxLA0KCWJyZWFrSW50bzogImdsYXNzX3NoYXJkIiwNCglmb3JjZVNhdmVDb2xvcjogdHJ1ZQ0KfSwNCiJsZWRfYiI6IHsNCgljb2xvcjogIiMwMDAwZmYiLA0KCWJ1dHRvbkNvbG9yOiAiIzAwMDA2NiIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLkxFRCwNCglyZWFjdGlvbnM6IHsNCgkJImxpZ2h0Ijoge2NoYXJnZTE6MSxlbGVtMjpudWxsfSwNCgkJImxpcXVpZF9saWdodCI6IHtjaGFyZ2UxOjEsZWxlbTI6bnVsbH0NCgl9LA0KCWNhdGVnb3J5OiAibWFjaGluZXMiLA0KCXRlbXBIaWdoOiAxNTAwLA0KCXN0YXRlSGlnaDogWyJtb2x0ZW5fZ2xhc3MiLCJtb2x0ZW5fZ2xhc3MiLCJtb2x0ZW5fZ2xhc3MiLCJtb2x0ZW5fZ2FsbGl1bSJdLA0KCWNvbmR1Y3Q6IDEsDQoJYnJlYWtJbnRvOiAiZ2xhc3Nfc2hhcmQiLA0KCWZvcmNlU2F2ZUNvbG9yOiB0cnVlDQp9LA0KImxpZ2h0X2J1bGIiOiB7DQoJY29sb3I6ICIjZWJlYmMzIiwNCglidXR0b25Db2xvcjogIiNhOGE4OTciLA0KCXJlbmRlcmVyOiByZW5kZXJQcmVzZXRzLkxFRCwNCgliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJYmVoYXZpb3JPbjogWw0KCQkiWFh8Q1I6bGlnaHR8WFgiLA0KCQkiQ1I6bGlnaHR8WFh8Q1I6bGlnaHQiLA0KCQkiWFh8Q1I6bGlnaHR8WFgiLA0KCV0sDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJdGVtcEhpZ2g6IDE1MDAsDQoJc3RhdGVIaWdoOiBbIm1vbHRlbl9nbGFzcyIsIm1vbHRlbl9nbGFzcyIsIm1vbHRlbl9jb3BwZXIiXSwNCgljb25kdWN0OiAxLA0KCWJyZWFrSW50bzogImdsYXNzX3NoYXJkIiwNCglmb3JjZVNhdmVDb2xvcjogdHJ1ZQ0KfSwNCiJzdWxmdXIiOiB7DQoJY29sb3I6IFsiI0VGRjRBQSIsIiNlYWYyNzciXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJImh5ZHJvZ2VuIjogeyBlbGVtMTpudWxsLCBlbGVtMjoic3RlbmNoIiB9LA0KCQkic2lsdmVyIjogeyBzdGFpbjI6IiMyNTFkMGUiLCBjaGFuY2U6MC4wMDUgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogMTE1LjIxLA0KCWJ1cm46IDI1LA0KCWJ1cm5UaW1lOiAyMDcsDQoJZmlyZUNvbG9yOiBbIiM4MTgwY2MiLCIjN2Y4NGU2Il0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjA3MCwNCglhbGlhczogInN1bHBodXIiLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KIm1vbHRlbl9zdWxmdXIiOiB7DQoJY29sb3I6ICIjODMxNTAyIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCglyZWFjdGlvbnM6IHsNCgkJImlyb24iOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogInB5cml0ZSIgfSwNCgkJIm1hZ25lc2l1bSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImVwc29tX3NhbHQiLCBjaGFuY2U6MC4wMSB9LA0KCQkibW9sdGVuX21hZ25lc2l1bSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6ImVwc29tX3NhbHQiIH0sDQoJCSJzaWx2ZXIiOiB7IHN0YWluMjoiIzI1MWQwZSIsIGNoYW5jZTowLjAxIH0NCgl9LA0KCWRlbnNpdHk6IDE4MTksDQoJYnVybjogMjUsDQoJYnVyblRpbWU6IDUwNywNCgl0ZW1wSGlnaDogNDQ0LjYsDQoJdGVtcExvdzogMTE1LjIxLA0KCXN0YXRlTG93OiAic3VsZnVyIiwNCgl2aXNjb3NpdHk6IDguNSwNCglmaXJlQ29sb3I6IFsiIzgxODBjYyIsIiM3Zjg0ZTYiXSwNCglidXJuSW50bzogWyJzbW9rZSIsInNtb2tlIiwic21va2UiLCJzbW9rZSIsInN0ZW5jaCJdLA0KCWFsaWFzOiAibW9sdGVuIHN1bHBodXIiDQp9LA0KInN1bGZ1cl9nYXMiOiB7DQoJcmVhY3Rpb25zOiB7DQoJCSJtb2x0ZW5fbWFnbmVzaXVtIjogeyBlbGVtMTpudWxsLCBlbGVtMjoiZXBzb21fc2FsdCIgfSwNCgkJInNpbHZlciI6IHsgc3RhaW4yOiIjMjUxZDBlIiwgY2hhbmNlOjAuMDA3NSB9DQoJfSwNCgljb2xvcjogIiNiMGE2NWQiLA0KCWJ1cm5UaW1lOiAxMCwNCglkZW5zaXR5OiAyLjE2LA0KCWJ1cm5JbnRvOiBbInNtb2tlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwic3RlbmNoIl0sDQp9LA0KImNvcHBlcl9zdWxmYXRlIjogew0KCWNvbG9yOiBbIiM0MzkxZmQiLCIjMDA0Y2ZlIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJcmVhY3Rpb25zOiB7DQoJCSJhbnQiOiB7ZWxlbTI6ImRlYWRfYnVnIn0sDQoJCSJmbHkiOiB7ZWxlbTI6ImRlYWRfYnVnIn0sDQoJCSJmaXJlZmx5Ijoge2VsZW0yOiJkZWFkX2J1ZyJ9LA0KCQkic3RpbmtfYnVnIjoge2VsZW0yOiJkZWFkX2J1ZyJ9LA0KCQkiYmVlIjoge2VsZW0yOiJkZWFkX2J1ZyJ9LA0KCQkidGVybWl0ZSI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJInNwaWRlciI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJInBsYW50Ijoge2VsZW0yOiJkZWFkX3BsYW50In0sDQoJCSJncmFzcyI6IHtlbGVtMjoiZGVhZF9wbGFudCJ9LA0KCQkiYWxnYWUiOiB7ZWxlbTI6bnVsbH0sDQoJCSJrZWxwIjoge2VsZW0yOiJ3YXRlciJ9LA0KCQkiY29yYWwiOiB7ZWxlbTI6IndhdGVyIn0sDQoJCSJtdXNocm9vbV9jYXAiOiB7ZWxlbTI6bnVsbH0sDQoJCSJtdXNocm9vbV9zdGFsayI6IHtlbGVtMjpudWxsfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7ZWxlbTI6bnVsbH0sDQoJCSJtdXNocm9vbV9zcG9yZSI6IHtlbGVtMjpudWxsfSwNCgkJInppbmMiOiB7c3RhaW4yOiIjMkExMjEwIn0sDQoJCSJmaXJlIjoge2VsZW0xOm51bGwsZWxlbTI6InBvaXNvbl9nYXMiLGNoYW5jZTowLjF9LA0KCQkic3VnYXIiOiB7ZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGVsZW0yOm51bGwsIGNvbG9yMTpbIiNDQjNEM0QiLCIjQTYyOTJCIiwiIzZFMUIxQiJdfSwNCgkJInN1Z2FyX3dhdGVyIjoge2VsZW0xOiJveGlkaXplZF9jb3BwZXIiLCBlbGVtMjpudWxsLCBjb2xvcjE6WyIjQ0IzRDNEIiwiI0E2MjkyQiIsIiM2RTFCMUIiXX0sDQoJCSJjYXJhbWVsIjoge2VsZW0xOiJveGlkaXplZF9jb3BwZXIiLCBlbGVtMjpudWxsLCBjb2xvcjE6WyIjQ0IzRDNEIiwiI0E2MjkyQiIsIiM2RTFCMUIiXX0sDQoJCSJjYW5keSI6IHtlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgZWxlbTI6bnVsbCwgY29sb3IxOlsiI0NCM0QzRCIsIiNBNjI5MkIiLCIjNkUxQjFCIl19LA0KCQkiZmxvdXIiOiB7ZWxlbTE6Im94aWRpemVkX2NvcHBlciIsIGVsZW0yOm51bGwsIGNvbG9yMTpbIiNDQjNEM0QiLCIjQTYyOTJCIiwiIzZFMUIxQiJdfSwNCgkJImNob2NvbGF0ZSI6IHtlbGVtMToib3hpZGl6ZWRfY29wcGVyIiwgZWxlbTI6bnVsbCwgY29sb3IxOlsiI0NCM0QzRCIsIiNBNjI5MkIiLCIjNkUxQjFCIl19LA0KCX0sDQoJdGVtcEhpZ2g6IDExMCwNCglmaXJlQ29sb3I6IFsiIzkxZDEwNiIsIiNmZWZmOTciLCIjMjQ4ZTAxIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMzYwMCwNCgloaWRkZW46IHRydWUsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIg0KfSwNCiJzbmFrZSI6IHsNCgljb2xvcjogIiMwMGJmMDAiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxMQjpwbGFudCBBTkQgUlQlNXxNMSBBTkQgQk86MSwyLDMiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJyYXQiOiB7ZWxlbTI6bnVsbH0sDQoJCSJiaXJkIjoge2VsZW0yOm51bGx9LA0KCQkiZWdnIjoge2VsZW0yOm51bGx9DQoJfSwNCglyb3RhdGFibGU6IHRydWUsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCglleGNsdWRlUmFuZG9tOiB0cnVlDQp9LA0KImxvb3B5Ijogew0KCWNvbG9yOiAiI2ViMzQ3NCIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0yfE0xIiwNCgkJIlhYfFJUJTIwfE0yIiwNCgkJIkNGfFhYfFhYIiwNCgldLA0KCW9uQ2xpY2tlZDogYmVoYXZpb3JzLkNMT05FX09OX0NMSUNLLA0KCWlnbm9yZTogWyJjbG9uZXIiLCJzbG93X2Nsb25lciIsImNsb25lX3Bvd2RlciIsImZsb2F0aW5nX2Nsb25lciIsImVjbG9uZXIiXSwNCglyb3RhdGFibGU6IHRydWUsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIg0KfSwNCiJ3YXJwIjogew0KCWNvbG9yOiAiIzExMTExMSIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfE0xIEFORCBTVyUzM3xYWCIsDQoJCSJNMSBBTkQgU1clMzN8WFh8TTEgQU5EIFNXJTMzIiwNCgkJIlhYfE0xIEFORCBTVyUzM3xYWCINCgldLA0KCWNhdGVnb3J5OiJzcGVjaWFsIiwNCn0sDQoibWlkYXNfdG91Y2giOiB7DQoJY29sb3I6IFsiI2ZmZGY1ZSIsIiNmZmU2ODIiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQl2YXIgY29vcmRzID0gcmVjdENvb3JkcyhwaXhlbC54LTEscGl4ZWwueS0xLHBpeGVsLngrMSxwaXhlbC55KzMpOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgeyAvLyBCdXJuIGFkamFjZW50IHBpeGVscw0KCQkJdmFyIHggPSBjb29yZHNbaV0ueDsNCgkJCXZhciB5ID0gY29vcmRzW2ldLnk7DQoJCQlpZiAoIWlzRW1wdHkoeCx5LHRydWUpKSB7DQoJCQkJZWxlbWVudHMubWlkYXNfdG91Y2gudG9vbChwaXhlbE1hcFt4XVt5XSk7DQoJCQl9DQoJCX0NCgl9LA0KCXRvb2w6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHMubWlkYXNfdG91Y2guaWQpIHsgcmV0dXJuOyB9DQoJCWlmIChlbGVtZW50cy5taWRhc190b3VjaC5yZWFjdGlvbnNbcGl4ZWwuZWxlbWVudF0pIHsgcmV0dXJuOyB9DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IDAuMjUpKSB7IHJldHVybjsgfQ0KCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uc3RhdGUgPT09ICJsaXF1aWQiKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCwgKHBpeGVsLnRlbXAgPiA1MDAgPyAibW9sdGVuX2dvbGQiIDogIm1pZGFzX3RvdWNoIikpOw0KCQl9DQoJCWVsc2UgaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnN0YXRlID09PSAiZ2FzIikgew0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsInNwcmF5X3BhaW50Iik7DQoJCQlwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLFsiI2ZmZGY1ZSIsIiNmZmU2ODIiXSk7DQoJCX0NCgkJZWxzZSBpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0ubW92YWJsZSkgew0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsImdvbGRfY29pbiIpOw0KCQl9DQoJCWVsc2Ugew0KCQkJY2hhbmdlUGl4ZWwocGl4ZWwsImdvbGQiKTsNCgkJfQ0KCX0sDQoJY2FuUGxhY2U6IHRydWUsDQoJcmVhY3Rpb25zOiB7DQoJCSJnb2xkIjp7fSwgImdvbGRfY29pbiI6e30sICJyb3NlX2dvbGQiOnt9LCAiYmx1ZV9nb2xkIjp7fSwgInB1cnBsZV9nb2xkIjp7fSwgImVsZWN0cnVtIjp7fSwNCgkJIm1vbHRlbl9nb2xkIjp7fSwgInBpcGUiOnt9LA0KCQkicGFwZXIiOiB7IHN0YWluMjoiIzU0ODAzZCIgfSwNCgkJImhlYWQiOiB7IGVsZW0yOiJnb2xkIiB9LA0KCQkiYm9keSI6IHsgZWxlbTI6ImdvbGQiIH0sDQoJCSJjb3BwZXIiOiB7IGVsZW0yOiJyb3NlX2dvbGQiIH0sDQoJCSJnYWxsaXVtIjogeyBlbGVtMjoiYmx1ZV9nb2xkIiB9LA0KCQkibW9sdGVuX2dhbGxpdW0iOiB7IGVsZW0yOiJibHVlX2dvbGQiIH0sDQoJCSJhbHVtaW51bSI6IHsgZWxlbTI6InB1cnBsZV9nb2xkIiB9LA0KCQkic2lsdmVyIjogeyBlbGVtMjoiZWxlY3RydW0iIH0NCgl9LA0KCWRlbnNpdHk6IDE5MywNCglzdGF0ZTogImxpcXVpZCIsDQoJY2F0ZWdvcnk6InNwZWNpYWwiLA0KfSwNCiJyYWRpYXRpb24iOiB7DQoJY29sb3I6IFsiIzAwZmYwMCIsIiM2ZmZmMDAiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8TTElMC41IEFORCBIVHxYWCIsDQoJCSJNMSU3IEFORCBIVHxETCUzfE0xJTcgQU5EIEhUIiwNCgkJIlhYfE0xJTEgQU5EIEhUfFhYIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC40IH0sDQoJCSJzdGVhbSI6IHsgZWxlbTI6InJhZF9zdGVhbSIsIGNoYW5jZTowLjQgfSwNCgkJInNhbHRfd2F0ZXIiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC40IH0sDQoJCSJzdWdhcl93YXRlciI6IHsgZWxlbTI6InJhZF9zdGVhbSIsIGNoYW5jZTowLjQgfSwNCgkJImRpcnR5X3dhdGVyIjogeyBlbGVtMjoicmFkX3N0ZWFtIiwgY2hhbmNlOjAuNCB9LA0KCQkic2VsdHplciI6IHsgZWxlbTI6InJhZF9zdGVhbSIsIGNoYW5jZTowLjMgfSwNCgkJInBvb2xfd2F0ZXIiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC4yIH0sDQoJCSJpY2UiOiB7IGVsZW0yOiJkaXJ0eV9pY2UiLCBjaGFuY2U6MC41IH0sDQoJCSJzYWx0X2ljZSI6IHsgZWxlbTI6ImRpcnR5X2ljZSIsIGNoYW5jZTowLjUgfSwNCgkJInNvZGEiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC4yNSB9LA0KCQkianVpY2UiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC4yNSB9LA0KCQkiYnJvdGgiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC4zIH0sDQoJCSJ0ZWEiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC4yNSB9LA0KCQkiY29mZmVlIjogeyBlbGVtMjoicmFkX3N0ZWFtIiwgY2hhbmNlOjAuMjUgfSwNCgkJImJ1YmJsZSI6IHsgZWxlbTI6InJhZF9zdGVhbSIsIGNoYW5jZTowLjQgfSwNCgkJImZvYW0iOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC40IH0sDQoJCSJpY2UiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC40IH0sDQoJCSJyaW1lIjogeyBlbGVtMjoicmFkX3N0ZWFtIiwgY2hhbmNlOjAuNCB9LA0KCQkic25vdyI6IHsgZWxlbTI6InJhZF9zdGVhbSIsIGNoYW5jZTowLjQgfSwNCgkJInBhY2tlZF9zbm93IjogeyBlbGVtMjoicmFkX3N0ZWFtIiwgY2hhbmNlOjAuNCB9LA0KCQkic2xpbWUiOiB7IGVsZW0yOiJyYWRfc3RlYW0iLCBjaGFuY2U6MC40IH0sDQoJCSJwZXJtYWZyb3N0IjogeyBlbGVtMToicmFkX3N0ZWFtIiwgZWxlbTI6ImRpcnQiLCBjaGFuY2U6MC40IH0sDQoJCSJtdWQiOiB7IGVsZW0xOiJyYWRfc3RlYW0iLCBlbGVtMjoiZGlydCIsIGNoYW5jZTowLjQgfSwNCgkJIndldF9zYW5kIjogeyBlbGVtMToicmFkX3N0ZWFtIiwgZWxlbTI6InNhbmQiLCBjaGFuY2U6MC40IH0sDQoJCSJjbGF5IjogeyBlbGVtMToicmFkX3N0ZWFtIiwgZWxlbTI6ImNsYXlfc29pbCIsIGNoYW5jZTowLjQgfSwNCgkJInNsYWtlZF9saW1lIjogeyBlbGVtMToicmFkX3N0ZWFtIiwgZWxlbTI6ImxpbWVzdG9uZSIsIGNoYW5jZTowLjQgfSwNCgkJInJhaW5fY2xvdWQiOiB7IGVsZW0yOiJyYWRfY2xvdWQiLCBjaGFuY2U6MC40IH0sDQoJCSJzbm93X2Nsb3VkIjogeyBlbGVtMjoicmFkX2Nsb3VkIiwgY2hhbmNlOjAuNCB9LA0KCQkiaGFpbF9jbG91ZCI6IHsgZWxlbTI6InJhZF9jbG91ZCIsIGNoYW5jZTowLjQgfSwNCgkJInRodW5kZXJfY2xvdWQiOiB7IGVsZW0yOiJyYWRfY2xvdWQiLCBjaGFuY2U6MC40IH0sDQoJCSJwbGFudCI6IHsgZWxlbTI6ImRlYWRfcGxhbnQiLCBjaGFuY2U6MC40IH0sDQoJCSJldmVyZ3JlZW4iOiB7IGVsZW0yOlsiZGVhZF9wbGFudCIsInBsYW50Il0sIGNoYW5jZTowLjQgfSwNCgkJImNhY3R1cyI6IHsgZWxlbTI6WyJkZWFkX3BsYW50IiwicGxhbnQiLCJjYWN0dXMiXSwgY2hhbmNlOjAuNCB9LA0KCQkiZnJvemVuX3BsYW50IjogeyBlbGVtMjoiZGVhZF9wbGFudCIsIGNoYW5jZTowLjQgfSwNCgkJImdyYXNzIjogeyBlbGVtMjpbImRlYWRfcGxhbnQiLCJzdHJhdyIsImdyYXNzX3NlZWQiLCJ3aGVhdF9zZWVkIiwibGV0dHVjZSIsImhlcmIiLCJyaWNlIl0sIGNoYW5jZTowLjQgfSwNCgkJImhlcmIiOiB7IGVsZW0yOiJkZWFkX3BsYW50IiwgY2hhbmNlOjAuNCB9LA0KCQkiYWxnYWUiOiB7IGVsZW0yOlsibXVzaHJvb21fc3BvcmUiLCJsaWNoZW4iLCJ5ZWFzdCIsImtlbHAiXSwgY2hhbmNlOjAuNCB9LA0KCQkia2VscCI6IHsgZWxlbTI6WyJtdXNocm9vbV9zcG9yZSIsImxpY2hlbiIsInllYXN0IiwiYWxnYWUiLCJjb3JhbCJdLCBjaGFuY2U6MC40IH0sDQoJCSJjb3JhbCI6IHsgZWxlbTI6WyJrZWxwIiwiYWxnYWUiXSwgY2hhbmNlOjAuNCB9LA0KCQkibXVzaHJvb21fc3BvcmUiOiB7IGVsZW0yOlsibGljaGVuIiwieWVhc3QiXSwgY2hhbmNlOjAuNCB9LA0KCQkibXVzaHJvb21fY2FwIjogeyBlbGVtMjpbImxpY2hlbiIsInBsYW50Il0sIGNoYW5jZTowLjQgfSwNCgkJIm11c2hyb29tX3N0YWxrIjogeyBlbGVtMjpbImxpY2hlbiIsInllYXN0Il0sIGNoYW5jZTowLjQgfSwNCgkJIm11c2hyb29tX2dpbGwiOiB7IGVsZW0yOlsibGljaGVuIiwieWVhc3QiXSwgY2hhbmNlOjAuNCB9LA0KCQkiZmxlYSI6IHsgZWxlbTI6WyJhc2giLCJhbnQiLCJ0ZXJtaXRlIl0sIGNoYW5jZTowLjQgfSwNCgkJImFudCI6IHsgZWxlbTI6WyJhc2giLCJmbGVhIiwidGVybWl0ZSIsImJlZSJdLCBjaGFuY2U6MC40IH0sDQoJCSJ0ZXJtaXRlIjogeyBlbGVtMjpbImFzaCIsImZsZWEiLCJhbnQiXSwgY2hhbmNlOjAuNCB9LA0KCQkiZmx5IjogeyBlbGVtMjpbImFzaCIsImZpcmVmbHkiLCJiZWUiXSwgY2hhbmNlOjAuNCB9LA0KCQkiYmVlIjogeyBlbGVtMjpbImFzaCIsImZpcmVmbHkiLCJmbHkiLCJhbnQiXSwgY2hhbmNlOjAuNCB9LA0KCQkiZmlyZWZseSI6IHsgZWxlbTI6WyJhc2giLCJiZWUiLCJmbHkiXSwgY2hhbmNlOjAuNCB9LA0KCQkic3RpbmtfYnVnIjogeyBlbGVtMjoiYXNoIiwgY2hhbmNlOjAuNCB9LA0KCQkic3BpZGVyIjogeyBlbGVtMjoiYXNoIiwgY2hhbmNlOjAuNCB9LA0KCQkiZnJvZyI6IHsgZWxlbTI6WyJhc2giLCJtZWF0Iiwicm90dGVuX21lYXQiLCJjb29rZWRfbWVhdCIsInRhZHBvbGUiXSwgY2hhbmNlOjAuNCB9LA0KCQkidGFkcG9sZSI6IHsgZWxlbTI6WyJmcm9nIiwiZnJvZyIsIndvcm0iLG51bGxdLCBjaGFuY2U6MC40IH0sDQoJCSJmaXNoIjogeyBlbGVtMjpbImFzaCIsIm1lYXQiLCJyb3R0ZW5fbWVhdCIsImNvb2tlZF9tZWF0Il0sIGNoYW5jZTowLjQgfSwNCgkJInJhdCI6IHsgZWxlbTI6WyJhc2giLCJtZWF0Iiwicm90dGVuX21lYXQiLCJjb29rZWRfbWVhdCIsInBsYWd1ZSJdLCBjaGFuY2U6MC40IH0sDQoJCSJiaXJkIjogeyBlbGVtMjpbImFzaCIsIm1lYXQiLCJyb3R0ZW5fbWVhdCIsImNvb2tlZF9tZWF0IiwicGxhZ3VlIl0sIGNoYW5jZTowLjQgfSwNCgkJImJvbmUiOiB7IGVsZW0yOlsicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwicXVpY2tsaW1lIiwiY2FuY2VyIl0sIGNoYW5jZTowLjQgfSwNCgkJIm1lYXQiOiB7IGVsZW0yOlsiYXNoIiwicm90dGVuX21lYXQiLCJjb29rZWRfbWVhdCJdLCBjaGFuY2U6MC40IH0sDQoJCSJjaGVlc2UiOiB7IGVsZW0yOiJyb3R0ZW5fY2hlZXNlIiwgY2hhbmNlOjAuNCB9LA0KCQkiY2hlZXNlX3Bvd2RlciI6IHsgZWxlbTI6InJvdHRlbl9jaGVlc2UiLCBjaGFuY2U6MC40IH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6WyJhc2giLCJtZWF0IiwiY29va2VkX21lYXQiXSwgY2hhbmNlOjAuNCB9LA0KCQkiY29va2VkX21lYXQiOiB7IGVsZW0yOlsiYXNoIiwicm90dGVuX21lYXQiXSwgY2hhbmNlOjAuNCB9LA0KCQkiYmFtYm9vIjogeyBlbGVtMjpbIndvb2QiLCJwbGFudCIsImJhbWJvb19wbGFudCJdLCBjaGFuY2U6MC40IH0sDQoJCSJiYW1ib29fcGxhbnQiOiB7IGVsZW0yOlsid29vZCIsInBsYW50IiwiYmFtYm9vIl0sIGNoYW5jZTowLjQgfSwNCgkJInNhcGxpbmciOiB7IGVsZW0yOlsid29vZCIsInBsYW50IiwidHJlZV9icmFuY2giXSwgY2hhbmNlOjAuNCB9LA0KCQkidHJlZV9icmFuY2giOiB7IGVsZW0yOlsid29vZCIsInBsYW50Iiwic2FwbGluZyJdLCBjaGFuY2U6MC40IH0sDQoJCSJncmFzc19zZWVkIjogeyBlbGVtMjpbInN0cmF3Iiwid2hlYXRfc2VlZCJdLCBjaGFuY2U6MC40IH0sDQoJCSJsaWNoZW4iOiB7IGVsZW0yOiJhbGdhZSIsIGNoYW5jZTowLjQgfSwNCgkJInllYXN0IjogeyBlbGVtMjpbImFsZ2FlIiwibXVzaHJvb21fc3BvcmUiLCJsaWNoZW4iXSwgY2hhbmNlOjAuNCB9LA0KCQkid2hlYXRfc2VlZCI6IHsgZWxlbTI6WyJzdHJhdyIsIndoZWF0IiwiZ3Jhc3Nfc2VlZCJdLCBjaGFuY2U6MC40IH0sDQoJCSJmbG93ZXJfc2VlZCI6IHsgZWxlbTI6WyJzdHJhdyIsImdyYXNzIiwicGlzdGlsIiwicGV0YWwiXSwgY2hhbmNlOjAuNCB9LA0KCQkicGlzdGlsIjogeyBlbGVtMjpbInN0cmF3IiwiZ3Jhc3MiLCJmbG93ZXJfc2VlZCIsInBldGFsIl0sIGNoYW5jZTowLjQgfSwNCgkJInBldGFsIjogeyBlbGVtMjpbInN0cmF3IiwiZ3Jhc3MiLCJmbG93ZXJfc2VlZCIsInBpc3RpbCJdLCBjaGFuY2U6MC40IH0sDQoJCSJ2aW5lIjogeyBlbGVtMTpbInZpbmUiXSwgY2hhbmNlOjAuNCB9LA0KCQkid29ybSI6IHsgZWxlbTI6ImFzaCIsIGNoYW5jZTowLjQgfSwNCgkJImNvcm4iOiB7IGVsZW0yOiJwb3Bjb3JuIiwgY2hhbmNlOjAuNCB9LA0KCQkiY29ybl9zZWVkIjogeyBlbGVtMjoiY29ybiIsIGNoYW5jZTowLjQgfSwNCgkJInBvdGF0byI6IHsgZWxlbTI6WyJwb3RhdG9fc2VlZCIsInBvdGF0b19zZWVkIiwicG90YXRvX3NlZWQiLCJwb3RhdG9fc2VlZCIsInBvdGF0b19zZWVkIiwicG90YXRvX3NlZWQiLCJleHBsb3Npb24iXSwgY2hhbmNlOjAuNCB9LA0KCQkicG90YXRvX3NlZWQiOiB7IGVsZW0yOiJwb3RhdG8iLCBjaGFuY2U6MC40IH0sDQoJCSJzbHVnIjogeyBlbGVtMjoic2xpbWUiLCBjaGFuY2U6MC40IH0sDQoJCSJzbmFpbCI6IHsgZWxlbTI6InNsaW1lIiwgY2hhbmNlOjAuNCB9LA0KCQkiY2VsbCI6IHsgZWxlbTI6ImNhbmNlciIsIGNoYW5jZTowLjQgfSwNCgkJImJsb29kIjogeyBlbGVtMjpbImluZmVjdGlvbiIsImNhbmNlciJdLCBjaGFuY2U6MC40IH0sDQoJCSJhbnRpYm9keSI6IHsgZWxlbTI6ImNhbmNlciIsIGNoYW5jZTowLjQgfSwNCgkJImluZmVjdGlvbiI6IHsgZWxlbTI6ImNhbmNlciIsIGNoYW5jZTowLjQgfSwNCgkJImNhbmNlciI6IHsgZWxlbTI6bnVsbCwgY2hhbmNlOjAuMyB9LA0KCQkibWlsayI6IHsgZWxlbTI6WyJjaGVlc2UiLCJyb3R0ZW5fY2hlZXNlIiwiYnV0dGVyIiwibWVsdGVkX2NoZWVzZSIsIm1lbHRlZF9idXR0ZXIiLCJjcmVhbSJdLCBjaGFuY2U6MC40IH0sDQoJCSJjaG9jb2xhdGVfbWlsayI6IHsgZWxlbTI6WyJjaGVlc2UiLCJyb3R0ZW5fY2hlZXNlIiwiYnV0dGVyIiwibWVsdGVkX2NoZWVzZSIsIm1lbHRlZF9idXR0ZXIiLCJjcmVhbSJdLCBjaGFuY2U6MC40IH0sDQoJCSJmcnVpdF9taWxrIjogeyBlbGVtMjpbImNoZWVzZSIsInJvdHRlbl9jaGVlc2UiLCJidXR0ZXIiLCJtZWx0ZWRfY2hlZXNlIiwibWVsdGVkX2J1dHRlciIsImNyZWFtIl0sIGNoYW5jZTowLjQgfSwNCgkJInBpbGsiOiB7IGVsZW0yOlsiY2hlZXNlIiwicm90dGVuX2NoZWVzZSIsImJ1dHRlciIsIm1lbHRlZF9jaGVlc2UiLCJtZWx0ZWRfYnV0dGVyIiwiY3JlYW0iXSwgY2hhbmNlOjAuNCB9LA0KCQkiZWdnbm9nIjogeyBlbGVtMjpbImNoZWVzZSIsInJvdHRlbl9jaGVlc2UiLCJidXR0ZXIiLCJtZWx0ZWRfY2hlZXNlIiwibWVsdGVkX2J1dHRlciIsImNyZWFtIl0sIGNoYW5jZTowLjQgfSwNCgkJIm51dF9taWxrIjogeyBlbGVtMjoicmFkX3N0ZWFtIiwgY2hhbmNlOjAuNCB9LA0KCQkic2tpbiI6IHsgZWxlbTI6WyJjb29rZWRfbWVhdCIsImNhbmNlciIsImFzaCIsInNraW4iLCJoYWlyIl0sIGNoYW5jZTowLjQgfSwNCgkJImhhaXIiOiB7IGVsZW0yOltudWxsLG51bGwsImFzaCJdLCBjaGFuY2U6MC40IH0sDQoJCSJ0b21hdG8iOiB7IGVsZW0yOlsic2F1Y2UiLCJrZXRjaHVwIl0sIGNoYW5jZTowLjQgfSwNCgkJInNhdWNlIjogeyBlbGVtMjpbImtldGNodXAiLCJyYWRfc3RlYW0iXSwgY2hhbmNlOjAuNCB9LA0KCQkia2V0Y2h1cCI6IHsgZWxlbTI6WyJzYXVjZSIsInJhZF9zdGVhbSJdLCBjaGFuY2U6MC40IH0sDQoJCSJwdW1wa2luIjogeyBlbGVtMjoicHVtcGtpbl9zZWVkIiwgY2hhbmNlOjAuNCB9LA0KCQkicHVtcGtpbl9zZWVkIjogeyBlbGVtMjoicHVtcGtpbiIsIGNoYW5jZTowLjQgfQ0KCX0sDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEuNSwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJZGFya1RleHQ6IHRydWUNCn0sDQoiZmFsbG91dCI6IHsNCgljb2xvcjogWyIjNzdhMTcyIiwiIzU2NmM1NiIsIiM1ZTZjNTYiLCIjODNhMTcyIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENSOnJhZGlhdGlvbiUyfFhYIiwNCgkJIkNSOnJhZGlhdGlvbiUyfENIOnJhZGlhdGlvbiUwLjV8Q1I6cmFkaWF0aW9uJTIiLA0KCQkiTTJ8TTEgQU5EIENSOnJhZGlhdGlvbiUyfE0yIiwNCgldLA0KCWNhdGVnb3J5OiJlbmVyZ3kiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNDkwDQp9LA0KIm5ldXRyb24iOiB7DQoJY29sb3I6ICIjYTZmZmZmIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8Q0g6cHJvdG9uJTAuMjUgQU5EIERMJTAuMjV8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJdGljazogYmVoYXZpb3JzLkJPVU5DWSwNCglyZWFjdGlvbnM6IHsNCgkJInVyYW5pdW0iOiB7IHRlbXAyOjEwMCB9LA0KCQkicGxhbnQiOiB7IGVsZW0yOiJ3b29kIiwgY2hhbmNlOjAuMDUgfSwNCgkJImd1bnBvd2RlciI6IHsgZWxlbTI6ImR1c3QiLCBjaGFuY2U6MC4wNSB9LA0KCQkieWVhc3QiOiB7IGVsZW0yOiJicmVhZCIsIGNoYW5jZTowLjA1IH0sDQoJCSJzaWx2ZXIiOiB7IGVsZW0xOlsicmFkaWF0aW9uIixudWxsLG51bGxdLCBjaGFuY2U6MC4yNSB9LA0KCQkiZmlyZXdvcmsiOiB7IGZ1bmMocGl4ZWwxLHBpeGVsMil7cGl4ZWwyLmJ1cm5pbmc9dHJ1ZTtwaXhlbDIuYnVyblN0YXJ0PXBpeGVsVGlja3N9LCBjaGFuY2U6MC4wMSB9LA0KCQkiZ2xhc3MiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJyYWRfZ2xhc3MiIH0sDQoJCSJnbGFzc19zaGFyZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJhZF9zaGFyZCIgfSwNCgkJImNsb3VkIjogeyBlbGVtMTpudWxsLCBlbGVtMjoicmFkX2Nsb3VkIiB9LA0KCQkicmFpbl9jbG91ZCI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJhZF9jbG91ZCIgfQ0KCX0sDQoJdGVtcDogMzUsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAwLjAwMDAzLA0KCWlnbm9yZUFpcjogdHJ1ZQ0KfSwNCiJwcm90b24iOiB7DQoJY29sb3I6ICIjZmZhNmE2IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8REwlMC41fFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfENIOmh5ZHJvZ2VufFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCXRpY2s6IGJlaGF2aW9ycy5CT1VOQ1ksDQoJcmVhY3Rpb25zOiB7DQoJCSJlbGVjdHJpYyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Imh5ZHJvZ2VuIiwgdGVtcDI6MjAwIH0sDQoJCSJuaXRyb2dlbiI6IHsgZWxlbTE6ImZsYXNoIiwgY29sb3IxOiIjNWE5ZmRiIiwgYXR0cjE6e2RlbGF5OjUwMH0sIGVsZW0yOiJmbGFzaCIsIGNvbG9yMjoiIzVhOWZkYiIsIGF0dHIyOntkZWxheTo1MDB9LCBjaGFuY2U6MC4wNSwgInkiOlsxMCwyMF0gfSwNCgkJIm94eWdlbiI6IHsgZWxlbTE6ImZsYXNoIiwgY29sb3IxOiIjNWFkYjYzIiwgYXR0cjE6e2RlbGF5OjUwMH0sIGVsZW0yOiJmbGFzaCIsIGNvbG9yMjoiIzVhZGI2MyIsIGF0dHIyOntkZWxheTo1MDB9LCBjaGFuY2U6MC4wNSwgInkiOlsxMCwyMF0gfSwNCgkJIm96b25lIjogeyBlbGVtMToiZmxhc2giLCBjb2xvcjE6IiM1YWRiNjMiLCBhdHRyMTp7ZGVsYXk6NTAwfSwgZWxlbTI6ImZsYXNoIiwgY29sb3IyOiIjNWFkYjYzIiwgYXR0cjI6e2RlbGF5OjUwMH0sIGNoYW5jZTowLjA1LCAieSI6WzEwLDIwXSB9DQoJfSwNCgl0ZW1wOiA0MCwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJc3RhdGU6ICJnYXMiLA0KCWNvbmR1Y3Q6IDEsDQoJZGVuc2l0eTogMC4wMDAwMiwNCglpZ25vcmVBaXI6IHRydWUNCn0sDQoiZWxlY3RyaWMiOiB7DQoJY29sb3I6ICIjZmZmYmE2IiwNCgliZWhhdmlvcjogWw0KCQkiQ0wlNXxDTCU1IEFORCBTSHxDTCU1IiwNCgkJIkNMJTUgQU5EIFNIfFNIJTUgQU5EIERMJTUwfENMJTUgQU5EIFNIIiwNCgkJIk0xJTE1IEFORCBDTCU2fE0xJTUwIEFORCBDTCUxMyBBTkQgU0h8TTElMTUgQU5EIENMJTYiLA0KCV0sDQoJY2hhcmdlOiAzLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMi4xLA0KCWluc3VsYXRlOiB0cnVlLA0KCWlnbm9yZUFpcjogdHJ1ZSwNCglpZ25vcmU6IFsic2hvY2tlciJdLA0KCWlnbm9yZUNvbmR1Y3Q6IFsic2hvY2tlciJdLA0KCWFsaWFzOiAiZWxlY3Ryb24iDQp9LA0KInVyYW5pdW0iOiB7DQoJY29sb3I6IFsiIzU5OWU2MSIsIiMzNjRkM2MiLCIjNDk0ZDRhIiwiIzZjOGE0MiIsIiM3OThkNjUiLCIjYjVlMDg5Il0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFJMOnJhZGlhdGlvbiUxIEFORCBDSDpsZWFkJTAuMDAxfFhYIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkibmV1dHJvbiI6IHsgZWxlbTE6Im5fZXhwbG9zaW9uIiwgdGVtcE1pbjo1MDAsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdGVtcEhpZ2g6IDExMzIuMiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE5MTAwLA0KCWhhcmRuZXNzOiAwLjYsDQoJY29uZHVjdDogMC4yMzUsDQoJc3VwZXJjb25kdWN0QXQ6IC0yNzEuOTUsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJtb2x0ZW5fdXJhbml1bSI6IHsNCgliZWhhdmlvcjogYmVoYXZpb3JzLlJBRE1PTFRFTiwNCglyZWFjdGlvbnM6IHsNCgkJIm5ldXRyb24iOiB7IGVsZW0xOiJuX2V4cGxvc2lvbiIsIHRlbXBNaW46MjAwIH0sDQoJCSJnbGFzcyI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJhZF9nbGFzcyIgfSwNCgkJImdsYXNzX3NoYXJkIjogeyBlbGVtMTpudWxsLCBlbGVtMjoicmFkX3NoYXJkIiB9DQoJfSwNCglkZW5zaXR5OiAxNzMwMA0KfSwNCiJkaWFtb25kIjogew0KCWNvbG9yOiBbIiMwM2ZjZWMiLCIjMDNjNmZjIiwiI2IzZWVmZiIsIiM4YWIwZTYiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJIm94eWdlbiI6IHsgZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgZWxlbTI6bnVsbCwgdGVtcE1pbjo5MDAgfSwNCgkJImZpcmUiOiB7IGVsZW0xOiJjYXJib25fZGlveGlkZSIsIHRlbXBNaW46OTAwIH0sDQoJCSJzbW9rZSI6IHsgZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgdGVtcE1pbjo5MDAgfSwNCgkJIm1vbHRlbl9zdGVlbCI6IHsgZWxlbTE6ImNhcmJvbl9kaW94aWRlIiwgY2hhbmNlOjAuMDAxIH0sDQoJCSJjaGFyY29hbCI6IHsgZWxlbTI6ImRpYW1vbmQiLCB0ZW1wTWluOjgwMCwgdGVtcE1heDo5MDAsIGNoYW5jZTowLjAwNSwgb25ld2F5OnRydWUgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAzNTE1LA0KCWhhcmRuZXNzOiAwLjk5DQp9LA0KImdvbGRfY29pbiI6IHsNCgljb2xvcjogWyIjZmZmMGI1IiwiI2ZmZTY4MCIsIiNjNDg4MjEiLCIjOTg2YTFhIiwiI2VjYTgzMiIsIiNmMGJiNjIiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgl0ZW1wSGlnaDogMTA2NCwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fZ29sZCIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxOTMwMCwNCgljb25kdWN0OiAwLjc4LA0KCWhhcmRuZXNzOiAwLjINCn0sDQoicnVzdCI6IHsNCgljb2xvcjogWyIjYWU1NTFjIiwiI2JjNmUzOSIsIiM5MjVmNDkiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlQsDQoJdGVtcEhpZ2g6IDE1MzgsDQoJc3RhdGVIaWdoOiAibW9sdGVuX2lyb24iLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogNTI1MCwNCgljb25kdWN0OiAwLjM3LA0KCWhhcmRuZXNzOiAwLjMsDQoJYWxpYXM6ICJpcm9uIG94aWRlIg0KfSwNCiJveGlkaXplZF9jb3BwZXIiOiB7DQoJY29sb3I6IFsiIzQwNjU1NSIsIiM0MjU2NGEiLCIjNTE3MzY0Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5TVVBQT1JULA0KCXJlYWN0aW9uczogew0KCQkiaHlkcm9nZW4iOiB7dGVtcE1pbjo5MDAsIGVsZW0xOiJjb3BwZXIiLCBlbGVtMjoic3RlYW0ifQ0KCX0sDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgloaWRkZW46IHRydWUsDQoJdGVtcEhpZ2g6IDEwODUsDQoJc3RhdGVIaWdoOiAibW9sdGVuX2NvcHBlciIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogODk2MCwNCgljb25kdWN0OiAwLjg1LA0KCWhhcmRuZXNzOiAwLjIsDQoJYWxpYXM6ICJjb3BwZXIgY2FyYm9uYXRlIg0KfSwNCiJhbGdhIjogew0KCW5hbWU6ICJBbEdhIiwNCgljb2xvcjogWyIjYmFiMmFiIiwiI2EzYWI5ZCIsIiNhNWE0YTYiLCIjYmNjN2IzIiwiI2Q0YzViOCIsIiNjYWM2Y2YiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlNVUFBPUlQsDQoJcmVhY3Rpb25zOiB7DQoJCSJ3YXRlciI6IHtlbGVtMTpbImFsdW1pbnVtIiwiZ2FsbGl1bSJdLCBlbGVtMjoiaHlkcm9nZW4iLCBjaGFuY2U6MC4wMX0NCgl9LA0KCXRlbXBIaWdoOiAzNDUuMDMsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAzOTA1LA0KCWNvbmR1Y3Q6IDAuMzksDQoJaGFyZG5lc3M6IDAuMSwNCglhbGlhczogImdhbGxhbnlsaWR5bmVhbHVtYW5lIiwNCgloaWRkZW46IHRydWUNCn0sDQoibWV0YWxfc2NyYXAiOiB7DQoJY29sb3I6IFsiI2IwYWZiNCIsIiM4YzhmOTgiLCIjY2JjZGNkIiwiIzZjNmM2YSIsIiNmZWY5ZmYiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCglyZWFjdGlvbnM6IHsNCgkJInJ1c3QiOiB7IGVsZW0xOm51bGwsIGVsZW0yOiJ0aGVybWl0ZSIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdGVtcEhpZ2g6IDE1MzgsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglkZW5zaXR5OiAyNzIwLA0KCXN0YXRlOiAic29saWQiLA0KCWNvbmR1Y3Q6IDAuNDMsDQoJaGFyZG5lc3M6IDAuMjY2DQp9LA0KImdsYXNzX3NoYXJkIjogew0KCWNvbG9yOiBbIiM1ZTgwN2QiLCIjNjc5ZTk5IiwiIzU5NmI2ZSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkicmFkaWF0aW9uIjogeyBlbGVtMToicmFkX3NoYXJkIiwgY2hhbmNlOjAuMzMgfSwNCgkJInJhZF9zdGVhbSI6IHsgZWxlbTE6InJhZF9zaGFyZCIsIGVsZW0yOm51bGwsIGNoYW5jZTowLjMzIH0sDQoJCSJmYWxsb3V0IjogeyBlbGVtMToicmFkX3NoYXJkIiwgZWxlbTI6InJhZGlhdGlvbiIsIGNoYW5jZTowLjEgfQ0KCX0sDQoJdGVtcEhpZ2g6IDE1MDAsDQoJc3RhdGVIaWdoOiAibW9sdGVuX2dsYXNzIiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDI1MDANCn0sDQoicmFkX3NoYXJkIjogew0KCWNvbG9yOiBbIiM2NDhjNjQiLCIjNmFhZDgzIiwiIzU5NmU1OSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUkFEUE9XREVSLA0KCXRlbXBIaWdoOiAxNTAwLA0KCXN0YXRlSGlnaDogIm1vbHRlbl9yYWRfZ2xhc3MiLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjUwMCwNCgloaWRkZW46IHRydWUNCn0sDQoiYnJpY2tfcnViYmxlIjogew0KCWNvbG9yOiBbIiM5YzYyNjIiLCIjYTEzYTNhIiwiI2NiNDE0MSIsIiM4NzI2MjYiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXRlbXBIaWdoOiAxNTQwLA0KCXN0YXRlSGlnaDogIm1vbHRlbl9icmljayIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTY1MCwNCgloYXJkbmVzczogMC4yNSwNCgloaWRkZW46IHRydWUNCn0sDQoiYmFrZWRfY2xheSI6IHsNCgljb2xvcjogIiNiODU3NDYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1VQUE9SVCwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXRlbXBIaWdoOiAxMzAwLA0KCXN0YXRlSGlnaDogInBvcmNlbGFpbiIsDQoJYnJlYWtJbnRvOiAiY2xheV9zaGFyZCIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMjAwMCwNCgloYXJkbmVzczogMC4zDQp9LA0KImNsYXlfc2hhcmQiOiB7DQoJY29sb3I6IFsiI2I4NTc0NiIsIiM5YzQzMzMiLCIjOGE0NzNiIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogMTMwMCwNCglzdGF0ZUhpZ2g6ICJwb3JjZWxhaW5fc2hhcmQiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIwMDAsDQoJaGFyZG5lc3M6IDAuMjUsDQoJaGlkZGVuOiB0cnVlDQp9LA0KInBvcmNlbGFpbl9zaGFyZCI6IHsNCgljb2xvcjogWyIjZTFlNGRkIiwiI2M3YzdjNyIsIiNiOGI4YjgiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIwMDAsDQoJaGFyZG5lc3M6IDAuMzI1LA0KCWhpZGRlbjogdHJ1ZQ0KfSwNCiJmZWF0aGVyIjogew0KCWNvbG9yOiBbIiNmZmZmZmYiLCIjZTNlM2UzIiwiI2QxZDFkMSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElHSFRXRUlHSFQsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogNDAwLA0KCXN0YXRlSGlnaDogWyJhc2giLCJzbW9rZSIsInNtb2tlIiwic21va2UiXSwNCglidXJuOjUwLA0KCWJ1cm5UaW1lOjIwLA0KCWJ1cm5JbnRvOiBbImFzaCIsInNtb2tlIiwic21va2UiLCJzbW9rZSJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDUwMA0KfSwNCiJjb25mZXR0aSI6IHsNCgljb2xvcjogWyIjZGMyYzM3IiwiI2VkY2U2NiIsIiMwZGJmNjIiLCIjMDY3OWVhIiwiIzcxNDRiMiIsIiNkOTIwOTciXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8RlglMC4yNXxYWCIsDQoJCSJNMiUyNXxNMSUyNXxNMSUyNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMTpbbnVsbCwiY2VsbHVsb3NlIl0sIGNoYW5jZTowLjAwMSB9LA0KCQkic2FsdF93YXRlciI6IHsgZWxlbTE6W251bGwsImNlbGx1bG9zZSJdLCBjaGFuY2U6MC4wMDEgfSwNCgkJInN1Z2FyX3dhdGVyIjogeyBlbGVtMTpbbnVsbCwiY2VsbHVsb3NlIl0sIGNoYW5jZTowLjAwMSB9LA0KCQkiZGlydHlfd2F0ZXIiOiB7IGVsZW0xOltudWxsLCJjZWxsdWxvc2UiXSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJzZWx0emVyIjogeyBlbGVtMTpbbnVsbCwiY2VsbHVsb3NlIl0sIGNoYW5jZTowLjAwMSB9LA0KCQkicG9vbF93YXRlciI6IHsgZWxlbTE6W251bGwsImNlbGx1bG9zZSJdLCBjaGFuY2U6MC4wMDEgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogMjQ4LA0KCXN0YXRlSGlnaDogWyJhc2giLCJzbW9rZSIsInNtb2tlIiwiZmlyZSJdLA0KCWJ1cm46MTUsDQoJYnVyblRpbWU6MTUwLA0KCWJ1cm5JbnRvOiBbImFzaCIsInNtb2tlIiwic21va2UiLCJzbW9rZSJdLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEyMDENCn0sDQoiZ2xpdHRlciI6IHsNCgljb2xvcjogWyIjZGJiZmUzIiwgIiNjYzk1ZGIiLCIjYzQ3N2Q5IiwiI2I4NWNkMSIsICIjOGQ1Y2QxIiwiIzllNzdkOSIsIiNjYzk1ZGIiLCAiIzk1YTRkYiIsIiM3Nzg5ZDkiLCIjNWM2OGQxIiwgIiNjMWJmZTMiXSwNCgliZWhhdmlvcjogYmVoYXZpb3JzLlBPV0RFUiwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXRlbXBIaWdoOiAxMDAsDQoJc3RhdGVIaWdoOiBbImZpcmUiLCJmaXJlIiwiZGlveGluIl0sDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQ1MCwNCglidXJuOiA1MCwNCglidXJuVGltZTogNTAsDQoJYnVybkludG86IFsic21va2UiLCJzbW9rZSIsImRpb3hpbiJdDQp9LA0KImJlYWQiOiB7DQoJY29sb3I6IFsiI2ZmNWU1ZSIsIiNmZmNjNWUiLCIjNzZmZjVlIiwiIzVlZDRmZiIsIiM1ZTYxZmYiLCIjY2Y1ZWZmIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogMTg1LA0KCXN0YXRlSGlnaDogIm1vbHRlbl9wbGFzdGljIiwNCglidXJuOiAxMCwNCglidXJuVGltZTogNDAwLA0KCWJ1cm5JbnRvOiAiZGlveGluIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMDUyLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KImNvbG9yX3NhbmQiOiB7DQoJY29sb3I6IFsiI2ZmNGQ0ZCIsIiNmZmFjNGQiLCIjZmZmZjRkIiwiIzRkZmY0ZCIsIiM0ZGZmZmYiLCIjNGQ0ZGZmIiwiI2ZmNGRmZiJdLA0KCW9uUGxhY2U6IGJlaGF2aW9ycy5ET19USUNLLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWJlaGF2aW9ycy5QT1dERVIocGl4ZWwpOw0KCQlpZiAocGl4ZWwuc3RhcnQtMSA8PSBwaXhlbFRpY2tzKSB7DQoJCQlpZiAocGl4ZWwuY29sb3JzdGFydCA9PT0gdW5kZWZpbmVkKSB7DQoJCQkJcGl4ZWwuY29sb3JzdGFydCA9IHBpeGVsLnN0YXJ0Ow0KCQkJfQ0KCQkJcGl4ZWwuY29sb3IgPSAiaHNsKCIgKyBwaXhlbC5jb2xvcnN0YXJ0ICsgIiwxMDAlLDY1JSkiOw0KCQl9DQoJfSwNCgl0ZW1wSGlnaDogMTcwMCwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fc3RhaW5lZF9nbGFzcyIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNjAyLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KImNhdXN0aWNfcG90YXNoIjogew0KCWNvbG9yOiAiI2ZlZmZlOCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCgl0ZW1wSGlnaDogNDEwLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIwNDQsDQoJaGlkZGVuOiB0cnVlLA0KCWFsaWFzOiAicG90YXNzaXVtIGh5ZHJveGlkZSINCn0sDQoibW9sdGVuX2NhdXN0aWNfcG90YXNoIjogew0KCWNvbG9yOiAiIzhkOGY2ZCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5MSVFVSUQsDQoJcmVhY3Rpb25zOiB7DQoJCS8vIGVsZWN0cm9seXNpczoNCgkJImFsdW1pbnVtIjogeyBlbGVtMTpbInBvdGFzc2l1bSIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDAyNSB9LA0KCQkiemluYyI6IHsgZWxlbTE6WyJwb3Rhc3NpdW0iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAxNSB9LA0KCQkic3RlZWwiOiB7IGVsZW0xOlsicG90YXNzaXVtIiwiaHlkcm9nZW4iLCJveHlnZW4iXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMTI1IH0sDQoJCSJpcm9uIjogeyBlbGVtMTpbInBvdGFzc2l1bSIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEyNSB9LA0KCQkidGluIjogeyBlbGVtMTpbInBvdGFzc2l1bSIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDEgfSwNCgkJImJyYXNzIjogeyBlbGVtMTpbInBvdGFzc2l1bSIsImh5ZHJvZ2VuIiwib3h5Z2VuIl0sIGNoYXJnZWQ6dHJ1ZSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJicm9uemUiOiB7IGVsZW0xOlsicG90YXNzaXVtIiwiaHlkcm9nZW4iLCJveHlnZW4iXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDEgfSwNCgkJImNvcHBlciI6IHsgZWxlbTE6WyJwb3Rhc3NpdW0iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJInNpbHZlciI6IHsgZWxlbTE6WyJwb3Rhc3NpdW0iLCJoeWRyb2dlbiIsIm94eWdlbiJdLCBjaGFyZ2VkOnRydWUsIGNoYW5jZTowLjAwNzUgfSwNCgkJImdvbGQiOiB7IGVsZW0xOlsicG90YXNzaXVtIiwiaHlkcm9nZW4iLCJveHlnZW4iXSwgY2hhcmdlZDp0cnVlLCBjaGFuY2U6MC4wMDc1IH0NCgl9DQp9LA0KInNvZGl1bV9hY2V0YXRlIjogew0KCWNvbG9yOiBbIiNlZGVkZWQiLCIjZGJkYmRiIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmICgocGl4ZWwuZm9hbSB8fCBNYXRoLnJhbmRvbSgpIDwgMC4yNSkgJiYgaXNFbXB0eShwaXhlbC54LHBpeGVsLnktMSkpIHsNCgkJCWNyZWF0ZVBpeGVsKCJmb2FtIixwaXhlbC54LHBpeGVsLnktMSk7DQoJCQlpZiAocGl4ZWwuZm9hbSkgew0KCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0uZm9hbSA9IHBpeGVsLmZvYW07DQoJCQkJcGl4ZWwuZm9hbS0tOw0KCQkJfQ0KCQl9DQoJfSwNCgloaWRkZW46IHRydWUsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUzMCwNCgljYXRlZ29yeTogInBvd2RlcnMiLA0KCXRlbXBIaWdoOiA4ODEuNA0KfSwNCiJib3JheCI6IHsNCgljb2xvcjogIiNmZmZmZmYiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCXJlYWN0aW9uczogew0KCQkiYW50Ijoge2VsZW0yOiJkZWFkX2J1ZyJ9LA0KCQkiZmx5Ijoge2VsZW0yOiJkZWFkX2J1ZyJ9LA0KCQkiZmlyZWZseSI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJInN0aW5rX2J1ZyI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJImJlZSI6IHtlbGVtMjoiZGVhZF9idWcifSwNCgkJImdsdWUiOiB7ZWxlbTE6InNsaW1lIiwgZWxlbTI6InNsaW1lIiwgY2hhbmNlOjAuMX0NCgl9LA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJYnVybjogMTUsDQoJYnVyblRpbWU6IDIwMCwNCglmaXJlQ29sb3I6IFsiIzM0ZWI2NyIsIiM1Y2ViMzQiXSwNCgl0ZW1wSGlnaDogNzQzLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDIzNzAsDQoJYWxpYXM6ICJzb2RpdW0gYm9yYXRlIg0KfSwNCiJlcHNvbV9zYWx0Ijogew0KCWNvbG9yOiBbIiNmMmYyZjIiLCIjZDZkNmQ2Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJY2F0ZWdvcnk6ICJwb3dkZXJzIiwNCglidXJuOiA0MCwNCglidXJuVGltZTogMjAwLA0KCWZpcmVDb2xvcjogWyIjZmZmZmZmIiwiI2ZjZjBmMCJdLA0KCXRlbXBIaWdoOiAxMTI0LA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE2ODAsDQoJaGlkZGVuOiB0cnVlLA0KCWFsaWFzOiBbImVwc29tIiwibWFnbmVzaXVtIHN1bGZhdGUiXQ0KfSwNCiJwb3Rhc3NpdW1fc2FsdCI6IHsNCgljb2xvcjogWyIjZjJmMmYyIiwiI2UwZTBlMCJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuUE9XREVSLA0KCWNhdGVnb3J5OiAicG93ZGVycyIsDQoJYnVybjogNDAsDQoJYnVyblRpbWU6IDIwMCwNCglmaXJlQ29sb3I6IFsiI2ZmMDBlZSIsIiNmZjZiZjUiXSwNCgl0ZW1wSGlnaDogMjkyLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDM5ODAsDQoJYWxpYXM6InBvdGFzc2l1bSBjaGxvcmlkZSIsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImxpZ2h0bmluZyI6IHsNCgljb2xvcjogIiNmZmZmZWQiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmICghcGl4ZWwuc3RhZ2UpIHsgLy8gY3JlYXRlIGJvbHQNCgkJCXZhciB5ID0gcGl4ZWwueTsNCgkJCXZhciB4b2Zmc2V0ID0gMDsNCgkJCXZhciBsYXN0ID0gW3BpeGVsLngscGl4ZWwueV0NCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgaGVpZ2h0OyBpKyspIHsNCgkJCQl5Kys7DQoJCQkJLy8gcmFuZG9tbHkgZ28gYmFjayBhbmQgZm9ydGgNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkgeyB4b2Zmc2V0Kys7IH0NCgkJCQllbHNlIHsgeG9mZnNldC0tOyB9DQoJCQkJdmFyIHggPSBwaXhlbC54ICsgeG9mZnNldDsNCgkJCQlpZiAoaXNFbXB0eSh4LCB5KSkgew0KCQkJCQljcmVhdGVQaXhlbCgibGlnaHRuaW5nIix4LHkpOw0KCQkJCQlwaXhlbE1hcFt4XVt5XS5zdGFnZSA9IDE7DQoJCQkJCXBpeGVsTWFwW3hdW3ldLmNvbG9yID0gcGl4ZWwuY29sb3I7DQoJCQkJCWxhc3QgPSBbeCx5XTsNCgkJCQl9DQoJCQkJZWxzZSBpZiAob3V0T2ZCb3VuZHMoeCx5KSB8fCAhZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0uaXNHYXMpIHsNCgkJCQkJLy9zdHJpa2UNCgkJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7IC8vIEJBTEwgTElHSFROSU5HDQoJCQkJCQlwaXhlbE1hcFtsYXN0WzBdXVtsYXN0WzFdXS5zdGFnZSA9IDk7DQoJCQkJCX0NCgkJCQkJaWYgKCFvdXRPZkJvdW5kcyh4LHkpICYmICFlbGVtZW50c1twaXhlbE1hcFt4XVt5XS5lbGVtZW50XS5pbnN1bGF0ZSkgeyBwaXhlbE1hcFt4XVt5XS50ZW1wID0gMjc3NjAgfQ0KCQkJCQllbHNlIGlmIChjdXJyZW50U2F2ZURhdGEudm9pZFkpIHsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJCWV4cGxvZGVBdCh4LCB5LCAxMywgWyJwbGFzbWEiLCJwbGFzbWEiLCJwbGFzbWEiLCJlbGVjdHJpYyJdKTsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJfQ0KCQkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJCQlkZWxldGVQaXhlbChwaXhlbC54LCBwaXhlbC55KTsNCgkJfQ0KCQllbHNlIGlmIChwaXhlbC5zdGFnZSA9PT0gOSkgeyAvLyBCQUxMIExJR0hUTklORw0KCQkJLy8gbW92ZSBlaXRoZXIgbGVmdCBvciByaWdodCByYW5kb21seQ0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHsgdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCArIDEsIHBpeGVsLnkpIH0NCgkJCWVsc2UgeyB0cnlNb3ZlKHBpeGVsLCBwaXhlbC54IC0gMSwgcGl4ZWwueSkgfQ0KCQkJLy8gY3JlYXRlIGVsZWN0cmljIGluIGEgM3gzIGFyZWEgYXJvdW5kIHBpeGVsDQoJCQlmb3IgKHZhciB4ID0gcGl4ZWwueCAtIDE7IHggPD0gcGl4ZWwueCArIDE7IHgrKykgew0KCQkJCWZvciAodmFyIHkgPSBwaXhlbC55IC0gMTsgeSA8PSBwaXhlbC55ICsgMTsgeSsrKSB7DQoJCQkJCWlmIChpc0VtcHR5KHgsIHkpKSB7DQoJCQkJCQljcmVhdGVQaXhlbCgiZWxlY3RyaWMiLHgseSk7DQoJCQkJCQlwaXhlbE1hcFt4XVt5XS5jb2xvciA9IHBpeGVsLmNvbG9yOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJCQlpZiAocGl4ZWxUaWNrcyAtIHBpeGVsLnN0YXJ0ID49IDI1MCkgeyBkZWxldGVQaXhlbChwaXhlbC54LCBwaXhlbC55KTsgfQ0KCQl9DQoJCWVsc2UgaWYgKHBpeGVsVGlja3MgLSBwaXhlbC5zdGFydCA+PSA0KSB7DQoJCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgkJCS8vZGVsZXRlUGl4ZWwocGl4ZWwueCwgcGl4ZWwueSk7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCwgImVsZWN0cmljIikNCgkJfQ0KCQllbHNlIHsNCgkJCWRvRGVmYXVsdHMocGl4ZWwpOw0KCQkJcGl4ZWwuYWxwaGEgPSAocGl4ZWwuYWxwaGF8fDEpLzEuNTsNCgkJfQ0KCX0sDQoJdGVtcDogMjc3NjAsDQoJdGVtcExvdzogLTI3MywNCglzdGF0ZUxvdzogWyJsaXF1aWRfbGlnaHQiLG51bGxdLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJbWF4U2l6ZTogMSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCWRlbnNpdHk6IDEwMDAsDQoJaGFyZG5lc3M6IDEsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCglub01peDogdHJ1ZQ0KfSwNCiJibGVzcyI6IHsNCgljb2xvcjogWyIjZmZmZmZmIiwiI2ZmZmE5YyIsIiMwMGZmZmYiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoZWxlbWVudHMuYmxlc3MuaWdub3JlLmluZGV4T2YocGl4ZWwuZWxlbWVudCkgIT09IC0xKSB7IHJldHVybjsgfQ0KCQlpZiAocGl4ZWwuYnVybmluZyAmJiAhZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnVybmluZykgeyAvLyBzdG9wIGJ1cm5pbmcNCgkJCWRlbGV0ZSBwaXhlbC5idXJuaW5nOw0KCQkJZGVsZXRlIHBpeGVsLmJ1cm5TdGFydDsNCgkJfQ0KCQlpZiAoIWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmluc3VsYXRlKSB7DQoJCQlpZiAocGl4ZWwudGVtcCA+IDEwMCkgew0KCQkJCXBpeGVsLnRlbXAgPSAocGl4ZWwudGVtcCsxMDApLzI7DQoJCQkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCQkJCWlmIChwaXhlbC5kZWwpIHtyZXR1cm59DQoJCQl9DQoJCQlpZiAocGl4ZWwudGVtcCA8IC0yMDApIHsNCgkJCQlwaXhlbC50ZW1wID0gKHBpeGVsLnRlbXAtMjAwKS8yOw0KCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsKTsNCgkJCQlpZiAocGl4ZWwuZGVsKSB7cmV0dXJufQ0KCQkJfQ0KCQl9DQoJCWlmIChwaXhlbC5vcmlnQ29sb3IpIHsNCgkJCXBpeGVsLmNvbG9yID0gInJnYigiK3BpeGVsLm9yaWdDb2xvci5qb2luKCIsIikrIikiOw0KCQkJZGVsZXRlIHBpeGVsLm9yaWdDb2xvcjsNCgkJfQ0KCQlpZiAocGl4ZWwuY2hhcmdlKSB7DQoJCQlkZWxldGUgcGl4ZWwuY2hhcmdlOw0KCQkJcGl4ZWwuY2hhcmdlQ0QgPSAxNjsNCgkJfQ0KCQlpZiAoZWxlbWVudHMuYmxlc3MucmVhY3Rpb25zW3BpeGVsLmVsZW1lbnRdICYmIE1hdGgucmFuZG9tKCk8MC4yNSkgew0KCQkJdmFyIHIgPSBlbGVtZW50cy5ibGVzcy5yZWFjdGlvbnNbcGl4ZWwuZWxlbWVudF07DQoJCQl2YXIgZWxlbTIgPSByLmVsZW0yOw0KCQkJaWYgKGVsZW0yICE9PSB1bmRlZmluZWQpIHsNCgkJCQlpZiAoQXJyYXkuaXNBcnJheShlbGVtMikpIHsgZWxlbTIgPSBlbGVtMltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZWxlbTIubGVuZ3RoKV07IH0NCgkJCQlpZiAoZWxlbTIgPT09IG51bGwpIHsgZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KSB9DQoJCQkJZWxzZSB7IGNoYW5nZVBpeGVsKHBpeGVsLCBlbGVtMik7IH0NCgkJCX0NCgkJCWlmIChyLmZ1bmMpIHsgci5mdW5jKHBpeGVsLHBpeGVsKSB9DQoJCQlpZiAoci5jb2xvcjIpIHsgcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCxyLmNvbG9yMikgfQ0KCQl9DQoJfSwNCglpZ25vcmU6IFsic3VuIl0sDQoJYmVoYXZpb3I6IFsNCgkJIk0yfE0xfE0yIiwNCgkJIk0xfERMJTI1fE0xIiwNCgkJIk0yfE0xfE0yIiwNCgldLA0KCXJlYWN0aW9uczogew0KCQkiY2FuY2VyIjogeyBlbGVtMjpudWxsIH0sDQoJCSJydXN0IjogeyBlbGVtMjogImlyb24iIH0sDQoJCSJveGlkaXplZF9jb3BwZXIiOiB7IGVsZW0yOiAiY29wcGVyIiB9LA0KCQkiYmxvb2QiOiB7IGVsZW0yOlsiYW50aWJvZHkiLG51bGxdIH0sDQoJCSJibG9vZF9pY2UiOiB7IGVsZW0yOiJhbnRpYm9keV9pY2UiIH0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZWxlbTI6ICJ3YXRlciIgfSwNCgkJInBsYWd1ZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInZpcnVzIjogeyBmdW5jOiBmdW5jdGlvbihwaXhlbDEscGl4ZWwyKXtwaXhlbDIuaGVhbD10cnVlfSB9LA0KCQkiZmlsbGVyIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiYXJtYWdlZGRvbiI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImxhdHRpY2UiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJ2ZXJ0aWNhbCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImhvcml6b250YWwiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJncmF5X2dvbyI6IHsgZWxlbTI6ICJtYWx3YXJlIiB9LA0KCQkiaW5mZWN0aW9uIjogeyBlbGVtMjogWyJhbnRpYm9keSIsbnVsbF0gfSwNCgkJImFudGlib2R5IjogeyBlbGVtMjogWyJhbnRpYm9keSIsbnVsbF0gfSwNCgkJImluZmVjdGlvbl9pY2UiOiB7IGVsZW0yOiAiYW50aWJvZHlfaWNlIiB9LA0KCQkicG9pc29uIjogeyBlbGVtMjogImFudGlkb3RlIiB9LA0KCQkicG9pc29uX2dhcyI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInBvaXNvbl9pY2UiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJyb3R0ZW5fbWVhdCI6IHsgZWxlbTI6ICJtZWF0IiB9LA0KCQkicm90dGVuX2NoZWVzZSI6IHsgZWxlbTI6ICJjaGVlc2UiLCBjb2xvcjI6WyIjQjhCQTlFIiwiI0NEQ0FCMiIsIiNDNUNFQzAiLCIjN0I5NjkxIiwiIzQxNTY0QiJdIH0sDQoJCSJjYXJib25fZGlveGlkZSI6IHsgZWxlbTI6ICJveHlnZW4iIH0sDQoJCSJwaWxrIjogeyBlbGVtMjogIm1pbGsiIH0sDQoJCSJhY2lkIjogeyBlbGVtMjogImh5ZHJvZ2VuIiB9LA0KCQkiYWNpZF9nYXMiOiB7IGVsZW0yOiAiaHlkcm9nZW4iIH0sDQoJCSJhY2lkX2Nsb3VkIjogeyBlbGVtMjogInJhaW5fY2xvdWQiIH0sDQoJCSJmaXJlX2Nsb3VkIjogeyBlbGVtMjogImNsb3VkIiB9LA0KCQkiYXNoIjogeyBlbGVtMjogbnVsbCB9LA0KCQkibW9sdGVuX2FzaCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInB5cm9jdW11bHVzIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiY3lhbmlkZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImN5YW5pZGVfZ2FzIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiYW1tb25pYSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImxpcXVpZF9hbW1vbmlhIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiZGlveGluIjogeyBlbGVtMjogbnVsbCB9LA0KCQkic3RlbmNoIjogeyBlbGVtMjogbnVsbCB9LA0KCQkibGlxdWlkX3N0ZW5jaCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImZyYWdyYW5jZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImNobG9yaW5lIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiYW5lc3RoZXNpYSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJIm9pbCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInNvZGEiOiB7IGVsZW0yOiAic2VsdHplciIgfSwNCgkJImluayI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImR5ZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImNvbG9yX3Ntb2tlIjogeyBlbGVtMjogbnVsbCB9LA0KCQkic3ByYXlfcGFpbnQiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJjYW5jZXIiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJyYXQiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJmbGVhIjogeyBlbGVtMjogbnVsbCB9LA0KCQkidGVybWl0ZSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInNtb2ciOiB7IGVsZW0yOiAiY2xvdWQiIH0sDQoJCSJtZXJjdXJ5IjogeyBlbGVtMjogbnVsbCB9LA0KCQkic2xpbWUiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJicm90aCI6IHsgZWxlbTI6ICJ3YXRlciIgfSwNCgkJImZpcmUiOiB7IGVsZW0yOiAiYmxlc3MiIH0sDQoJCSJwbGFzbWEiOiB7IGVsZW0yOiAiYmxlc3MiIH0sDQoJCSJncmVuYWRlIjogeyBlbGVtMjogIm1ldGFsX3NjcmFwIiB9LA0KCQkiZmxhc2hiYW5nIjogeyBlbGVtMjogIm1ldGFsX3NjcmFwIiB9LA0KCQkic21va2VfZ3JlbmFkZSI6IHsgZWxlbTI6ICJtZXRhbF9zY3JhcCIgfSwNCgkJImdyZWVrX2ZpcmUiOiB7IGVsZW0yOiAic21va2UiIH0sDQoJCSJuaXRybyI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInNtb2tlIjogeyBlbGVtMjogbnVsbCB9LA0KCQkibGlnaHRuaW5nIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiZWxlY3RyaWMiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJwb3NpdHJvbiI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImFudGltYXR0ZXIiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJuZXV0cm9uIjogeyBlbGVtMjogbnVsbCB9LA0KCQkicHJvdG9uIjogeyBlbGVtMjogbnVsbCB9LA0KCQkicmFkaWF0aW9uIjogeyBlbGVtMjogImZsYXNoIiB9LA0KCQkidXJhbml1bSI6IHsgZWxlbTI6ICJyb2NrIiB9LA0KCQkibW9sdGVuX3VyYW5pdW0iOiB7IGVsZW0yOiAibWFnbWEiIH0sDQoJCSJtYWdtYSI6IHsgZWxlbTI6ICJyb2NrIiB9LA0KCQkibWVyY3VyeSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJIm1lcmN1cnlfZ2FzIjogeyBlbGVtMjogbnVsbCB9LA0KCQkic29saWRfbWVyY3VyeSI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImljZV9uaW5lIjogeyBlbGVtMjogImljZSIgfSwNCgkJInN0cmFuZ2VfbWF0dGVyIjogeyBlbGVtMjogIm5ldXRyb24iIH0sDQoJCSJmcm96ZW5fZnJvZyI6IHsgZWxlbTI6ICJmcm9nIiB9LA0KCQkiZnJvemVuX3dvcm0iOiB7IGVsZW0yOiAid29ybSIgfSwNCgkJIm1vbHRlbl90aGVybWl0ZSI6IHsgZWxlbTI6ICJyb2NrIiB9LA0KCQkicmFkX2dsYXNzIjogeyBlbGVtMjogImdsYXNzIiB9LA0KCQkicmFkX3NoYXJkIjogeyBlbGVtMjogImdsYXNzX3NoYXJkIiB9LA0KCQkicmFkX3N0ZWFtIjogeyBlbGVtMjogInN0ZWFtIiB9LA0KCQkiZmFsbG91dCI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInJhZF9jbG91ZCI6IHsgZWxlbTI6ICJyYWluX2Nsb3VkIiB9LA0KCQkiZmlyZWJhbGwiOiB7IGVsZW0yOiAiYmFsbCIgfSwNCgkJImJvbmVfbWFycm93IjogeyBlbGVtMjogImJvbmUiIH0sDQoJCSJmbHkiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJkZWFkX2J1ZyI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImRlYWRfcGxhbnQiOiB7IGVsZW0yOiAicGxhbnQiIH0sDQoJCSJ3b29kIjogeyBmdW5jOmZ1bmN0aW9uKHBpeGVsMSxwaXhlbDIpIHtpZihwaXhlbDIud2Mpe2NoYW5nZVBpeGVsKHBpeGVsMiwidHJlZV9icmFuY2giKX19IH0sDQoJCSJzbGFnIjogeyBlbGVtMjogInJvY2siIH0sDQoJCSJtb2x0ZW5fc2xhZyI6IHsgZWxlbTI6ICJtYWdtYSIgfSwNCgkJImxhc2VyIjogeyBlbGVtMjogImxpZ2h0IiB9LA0KCQkibGlnaHQiOiB7IGVsZW0yOiAiZmxhc2giIH0sDQoJCSJ0b3JjaCI6IHsgZWxlbTI6ICJ3b29kIiB9LA0KCQkiZXhwbG9zaW9uIjogeyBlbGVtMjogbnVsbCB9LA0KCQkibl9leHBsb3Npb24iOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJzdXBlcm5vdmEiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJwb3AiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJlbWJlciI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImZ3X2VtYmVyIjogeyBlbGVtMjogbnVsbCB9LA0KCQkicG9sbGVuIjogeyBlbGVtMjogbnVsbCB9LA0KCQkibGVhZCI6IHsgZWxlbTI6ICJnb2xkIiB9LA0KCQkibW9sdGVuX2xlYWQiOiB7IGVsZW0yOiAibW9sdGVuX2dvbGQiIH0sDQoJCSJkaXJ0IjogeyBlbGVtMTogImdyYXNzIiwgb25ld2F5OnRydWUgfSwNCgkJInN0YXRpYyI6IHsgZWxlbTI6ICJyYWluYm93IiB9LA0KCQkidG9ybmFkbyI6IHsgZWxlbTI6IG51bGwgfSwNCgkJInRzdW5hbWkiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJlYXJ0aHF1YWtlIjogeyBlbGVtMjogbnVsbCB9LA0KCQkiYmxhc3RlciI6IHsgZWxlbTI6IG51bGwgfSwNCgkJImR1c3QiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJncmVhc2UiOiB7IGVsZW0yOiBudWxsIH0sDQoJCSJtZWF0IjogeyBlbGVtMjogImN1cmVkX21lYXQiIH0sDQoJCSJjbGF5X3NoYXJkIjogeyBlbGVtMjoiYmFrZWRfY2xheSIgfSwNCgkJInBvcmNlbGFpbl9zaGFyZCI6IHsgZWxlbTI6InBvcmNlbGFpbiIgfSwNCgkJImdsYXNzX3NoYXJkIjogeyBlbGVtMjoiZ2xhc3MiIH0sDQoJCSJicmlja19ydWJibGUiOiB7IGVsZW0yOiJicmljayIgfSwNCgkJImd1bnBvd2RlciI6IHsgZWxlbTI6ImNoYXJjb2FsIiB9LA0KCQkicnVpbnMiOiB7IGVsZW0yOiJyb2NrX3dhbGwiIH0sDQoJCSJ3YXJwIjogeyBlbGVtMjpudWxsIH0sDQoJCSJtaWRhc190b3VjaCI6IHsgZWxlbTI6bnVsbCB9LA0KCQkid2ViIjogeyBlbGVtMjpudWxsIH0sDQoJCSJoZWF0X3JheSI6IHsgZWxlbTI6bnVsbCB9LA0KCQkiaGVhZCI6IHsgYXR0cjI6e3BhbmljOjB9IH0sDQoJCSJib2R5IjogeyBhdHRyMjp7cGFuaWM6MH0gfQ0KCX0sDQoJdGVtcDoyMCwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMC4wMDEsDQoJY2FuUGxhY2U6IHRydWUsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCXN0YWluOiAtMC41DQp9LA0KImdvZF9yYXkiOiB7DQoJY29sb3I6IFsiI2ZmZmZmZiIsIiNmZmVlNTciXSwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQl2YXIgeCA9IHBpeGVsLng7DQoJCWZvciAodmFyIHkgPSBwaXhlbC55KzE7IHkgPCBoZWlnaHQrMTsgeSsrKSB7DQoJCQlpZiAob3V0T2ZCb3VuZHMoeCwgeSkpIHsNCgkJCQlpZiAoaXNFbXB0eSh4LCB5LTEpKSB7IGNyZWF0ZVBpeGVsKCJibGVzcyIsIHgsIHktMSk7IH0NCgkJCQlicmVhazsNCgkJCX0NCgkJCWlmIChpc0VtcHR5KHgsIHkpKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPiAwLjEpIHsgY29udGludWUgfQ0KCQkJCWNyZWF0ZVBpeGVsKCJmbGFzaCIsIHgsIHkpOw0KCQkJCXBpeGVsTWFwW3hdW3ldLmRlbGF5ID0gKHkgLSBwaXhlbC55KSAvIDg7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlpZiAocGl4ZWxNYXBbeF1beV0uYnVybmluZykgew0KCQkJCQlkZWxldGUgcGl4ZWxNYXBbeF1beV0uYnVybmluZzsNCgkJCQkJZGVsZXRlIHBpeGVsTWFwW3hdW3ldLmJ1cm5TdGFydDsNCgkJCQl9DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy5mbGFzaC5pZCkgeyBjb250aW51ZSB9DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy5nb2RfcmF5LmlkKSB7IGJyZWFrIH0NCgkJCQlpZiAoIWVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmlzR2FzICYmIGlzRW1wdHkoeCwgeS0xKSkgew0KCQkJCQljcmVhdGVQaXhlbCgiYmxlc3MiLCB4LCB5LTEpOw0KCQkJCX0NCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA+IDAuMSkgeyBjb250aW51ZSB9DQoJCQkJZWxlbWVudHMuYmxlc3MudG9vbChwaXhlbE1hcFt4XVt5XSkNCgkJCX0NCgkJfQ0KCQlkZWxldGVQaXhlbChwaXhlbC54LCBwaXhlbC55KTsNCgl9LA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMSwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCW5vTWl4OiB0cnVlLA0KCWRhcmtUZXh0OiB0cnVlDQp9LA0KImhlYXRfcmF5Ijogew0KCWNvbG9yOiBbIiNmZjAwMDAiLCIjZmY1ZTAwIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJdmFyIHggPSBwaXhlbC54Ow0KCQlmb3IgKHZhciB5ID0gcGl4ZWwueTsgeSA8IGhlaWdodCsxOyB5KyspIHsNCgkJCWlmIChvdXRPZkJvdW5kcyh4LCB5KSkgew0KCQkJCWlmIChpc0VtcHR5KHgsIHktMSkpIHsgY3JlYXRlUGl4ZWwoInNtb2tlIiwgeCwgeS0xKTsgfQ0KCQkJCWJyZWFrOw0KCQkJfQ0KCQkJaWYgKGlzRW1wdHkoeCwgeSkpIHsNCgkJCQlpZiAoTWF0aC5yYW5kb20oKSA+IDAuMDUpIHsgY29udGludWUgfQ0KCQkJCWNyZWF0ZVBpeGVsKCJmbGFzaCIsIHgsIHkpOw0KCQkJCXBpeGVsTWFwW3hdW3ldLmNvbG9yID0gIiNmZjAwMDAiOw0KCQkJCXBpeGVsTWFwW3hdW3ldLnRlbXAgPSAzNTAwOw0KCQkJCXBpeGVsTWFwW3hdW3ldLmRlbGF5ID0gKHkgLSBwaXhlbC55KSAvIDg7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlpZiAoZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0uaXNHYXMpIHsgY29udGludWUgfQ0KCQkJCWlmIChlbGVtZW50c1twaXhlbE1hcFt4XVt5XS5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHMuaGVhdF9yYXkuaWQpIHsNCgkJCQkJcGl4ZWxNYXBbeF1beV0udGVtcCA9IDM1MDA7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCQlpZiAoIWVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmluc3VsYXRlKSB7IHBpeGVsTWFwW3hdW3ldLnRlbXAgKz0gMTAwOyB9DQoJCQkJcGl4ZWxUZW1wQ2hlY2socGl4ZWxNYXBbeF1beV0pOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCWRlbGV0ZVBpeGVsKHBpeGVsLngsIHBpeGVsLnkpOw0KCX0sDQoJdGVtcDogMzUwMCwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCglub01peDogdHJ1ZQ0KfSwNCiJmcmVlemVfcmF5Ijogew0KCWNvbG9yOiBbIiMwMGZmZmYiLCIjMDBiM2ZmIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJdmFyIHggPSBwaXhlbC54Ow0KCQlmb3IgKHZhciB5ID0gcGl4ZWwueTsgeSA8IGhlaWdodCsxOyB5KyspIHsNCgkJCWlmIChvdXRPZkJvdW5kcyh4LCB5KSkgew0KCQkJCWlmIChpc0VtcHR5KHgsIHktMSkpIHsgY3JlYXRlUGl4ZWwoImNvbGRfZmlyZSIsIHgsIHktMSk7IH0NCgkJCQlicmVhazsNCgkJCX0NCgkJCWlmIChpc0VtcHR5KHgsIHkpKSB7DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPiAwLjA1KSB7IGNvbnRpbnVlIH0NCgkJCQljcmVhdGVQaXhlbCgiZmxhc2giLCB4LCB5KTsNCgkJCQlwaXhlbE1hcFt4XVt5XS5jb2xvciA9ICIjMDBmZmZmIjsNCgkJCQlwaXhlbE1hcFt4XVt5XS50ZW1wID0gLTEwMDsNCgkJCQlwaXhlbE1hcFt4XVt5XS5kZWxheSA9ICh5IC0gcGl4ZWwueSkgLyA4Ow0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsTWFwW3hdW3ldLmVsZW1lbnRdLmlzR2FzKSB7IGNvbnRpbnVlIH0NCgkJCQllbHNlIGlmIChpc0VtcHR5KHgsIHktMSkpIHsNCgkJCQkJY3JlYXRlUGl4ZWwoImNvbGRfZmlyZSIsIHgsIHktMSk7DQoJCQkJfQ0KCQkJCWlmIChlbGVtZW50c1twaXhlbE1hcFt4XVt5XS5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHMuZnJlZXplX3JheS5pZCkgew0KCQkJCQlwaXhlbE1hcFt4XVt5XS50ZW1wID0gLTEwMDsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJCWlmICghZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0uaW5zdWxhdGUpIHsgcGl4ZWxNYXBbeF1beV0udGVtcCAtPSAyNTsgfQ0KCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsTWFwW3hdW3ldKTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQlkZWxldGVQaXhlbChwaXhlbC54LCBwaXhlbC55KTsNCgl9LA0KCXRlbXA6IC0yNzAsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJbm9NaXg6IHRydWUNCn0sDQoicG9wIjogew0KCWNvbG9yOiBbIiNmZmNlOGYiLCIjZmZlMDkxIiwiI2ZmZTc5MSJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxFWDozfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMTAwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZSwNCglub01peDogdHJ1ZQ0KfSwNCiJleHBsb3Npb24iOiB7DQoJY29sb3I6IFsiI2ZmYjQ4ZiIsIiNmZmQ5OTEiLCIjZmZhZDkxIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfEVYOjEwfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCXRlbXA6IDMwMCwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDEwMDAsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCglub01peDogdHJ1ZQ0KfSwNCiJuX2V4cGxvc2lvbiI6IHsNCgljb2xvcjogWyIjYzNmZjkxIiwiIzhmZmZhZiIsIiM4ZmZmZGEiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8RVg6NDA+cGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHJhZGlhdGlvbixyYWRfc3RlYW18WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJdGVtcDogMTAwMDAwMDAwLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMTAwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWhpZGRlbjogdHJ1ZSwNCglhbGlhczogIm51Y2xlYXIgZXhwbG9zaW9uIiwNCglub01peDogdHJ1ZQ0KfSwNCiJzdXBlcm5vdmEiOiB7DQoJY29sb3I6IFsiI2ViZjhmZiIsIiNkYmYzZmYiLCIjYjhlN2ZmIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfEVYOjgwPnBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEsbW9sdGVuX2lyb24sbW9sdGVuX3VyYW5pdW0sbW9sdGVuX2xlYWQsb3h5Z2VuLG1vbHRlbl9zb2RpdW0sc3VsZnVyX2dhcyxuZW9uLGNobG9yaW5lLG1vbHRlbl9jYWxjaXVtLG1vbHRlbl9uaWNrZWwsbW9sdGVuX2NvcHBlcixtb2x0ZW5femluYyxnYWxsaXVtX2dhcyxtb2x0ZW5fcG90YXNzaXVtLG1lcmN1cnksbW9sdGVuX2FsdW1pbnVtIEFORCBDSDp2b2lkfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgldLA0KCXRlbXA6IDk5OTk5OTk5NzAwLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMTAwMCwNCgloYXJkbmVzczogMSwNCgloaWRkZW46IHRydWUsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgltYXhTaXplOiAxLA0KCW5vTWl4OiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiY29vayI6IHsNCgljb2xvcjogWyIjNWMzMzIyIiwiIzJiMTEwNyIsIiM1YzMzMjIiLCIjNWMzMzIyIiwiIzJiMTEwNyIsIiM1YzMzMjIiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAoIXNoaWZ0RG93bikgew0KCQkJcGl4ZWwudGVtcCArPSAwLjU7DQoJCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJCX0NCgkJZWxzZSB7DQoJCQlwaXhlbC50ZW1wICs9IDE7DQoJCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJCX0NCgl9LA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCglleGNsdWRlUmFuZG9tOiB0cnVlDQp9LA0KImluY2luZXJhdGUiOiB7DQoJY29sb3I6IFsiI2U2MDBmZiIsIiNkOTg0ZDgiLCIjZmYwMGUxIl0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJcGl4ZWwudGVtcCArPSAxMDAwMDsNCgkJaWYgKCFwaXhlbC5idXJuaW5nICYmIGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmJ1cm4pIHsNCgkJCXBpeGVsLmJ1cm5pbmcgPSB0cnVlOw0KCQkJcGl4ZWwuYnVyblN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJfQ0KCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJfSwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJyb29tX3RlbXAiOiB7DQoJY29sb3I6ICIjYjFjOTZkIiwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQlwaXhlbC50ZW1wID0gKHBpeGVsLnRlbXArYWlyVGVtcCkvMjsNCgkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCX0sDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUNCn0sDQoicG9zaXRyb24iOiB7DQoJY29sb3I6ICIjYTZiZmZmIiwNCgliZWhhdmlvcjogWw0KCQkiTTElMTUgQU5EIENMJTZ8TTElNTAgQU5EIENMJTEzfE0xJTE1IEFORCBDTCU2IiwNCgkJIkNMJTV8REwlNTB8Q0wlNSIsDQoJCSJDTCU1fENMJTV8Q0wlNSIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImVsZWN0cmljIjogeyBlbGVtMToibGlnaHQiLCBlbGVtMjoiZXhwbG9zaW9uIiB9LA0KCQkiYW50aW1hdHRlciI6IHsgY2hhcmdlMjoxMCB9DQoJfSwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJc3RhdGU6ICJnYXMiLA0KCWRlbnNpdHk6IDIuMSwNCglpbnN1bGF0ZTogdHJ1ZSwNCgloaWRkZW46IHRydWUsDQoJaWdub3JlQWlyOiB0cnVlDQp9LA0KInRudCI6IHsNCgljb2xvcjogIiNjOTJhMmEiLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuV0FMTCwNCgliZWhhdmlvck9uOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxFWDoxMHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCgljb25kdWN0OiAxLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJYnVybjogMTAwLA0KCWJ1cm5UaW1lOiAxLA0KCWJ1cm5JbnRvOiAiZXhwbG9zaW9uIiwNCgl0ZW1wSGlnaDogNjAwLA0KCXN0YXRlSGlnaDogImV4cGxvc2lvbiIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTYzMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWFsaWFzOiAidHJpbml0cm90b2x1ZW5lIg0KfSwNCiJjNCI6IHsNCgluYW1lOiAiQy00IiwNCgljb2xvcjogWyIjZDdjMWExIiwiI2M4YTc3YyJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuU1RVUkRZUE9XREVSLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfEVYOjEwfFhYIiwNCgkJIlhYfE0xfFhYIiwNCgldLA0KCWNvbmR1Y3Q6IDEsDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglidXJuOiA1LA0KCWJ1cm5UaW1lOiA4MDAsDQoJYnVybkludG86IFsiZmlyZSIsImZpcmUiLCJwb2lzb25fZ2FzIl0sDQoJYnJlYWtJbnRvOiAiZXhwbG9zaW9uIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxNjMwLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUNCn0sDQoiZ3JlbmFkZSI6IHsNCgljb2xvcjogIiM1ZTVjNTciLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxFWDo2Pm1ldGFsX3NjcmFwLGZpcmUsZmlyZSxmaXJlJTF8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTJ8TTEgQU5EIEVYOjY+bWV0YWxfc2NyYXAsZmlyZSxmaXJlLGZpcmUlMXxNMiIsDQoJXSwNCgliZWhhdmlvck9uOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxFWDo2Pm1ldGFsX3NjcmFwLGZpcmUsZmlyZSxmaXJlJTF8WFgiLA0KCQkiTTJ8TTEgQU5EIEVYOjY+bWV0YWxfc2NyYXAsZmlyZSxmaXJlLGZpcmUlMXxNMiIsDQoJXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEzMDAsDQoJdGVtcEhpZ2g6IDE0NTUuNSwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fc3RlZWwiLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJY29uZHVjdDogMSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCW5vY2hlZXI6IHRydWUNCn0sDQoiZHluYW1pdGUiOiB7DQoJY29sb3I6IFsiI2RlNTA1MCIsIiNjOTJhMmEiLCIjYTYxOTE5Il0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJYmVoYXZpb3JPbjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8RVg6MTV8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJY29uZHVjdDogMSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXRlbXBIaWdoOiA2MDAsDQoJc3RhdGVIaWdoOiAiZXhwbG9zaW9uIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzAwLA0KCWJyZWFrSW50bzogImV4cGxvc2lvbiIsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJndW5wb3dkZXIiOiB7DQoJY29sb3I6IFsiIzkyOTk4MCIsIiM3NTc3NjciLCIjNDIzZDQzIl0sDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5QT1dERVIsDQoJYmVoYXZpb3JPbjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8RVg6MTB8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJY29uZHVjdDogMSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCWJ1cm46IDEwMCwNCglidXJuVGltZTogMSwNCglidXJuSW50bzogWyJleHBsb3Npb24iLCJwb3AiLCJwb3AiXSwNCgl0ZW1wSGlnaDogNjAwLA0KCXN0YXRlSGlnaDogImV4cGxvc2lvbiIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTcwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWFsaWFzOiAiYmxhY2sgcG93ZGVyIg0KfSwNCiJlbWJlciI6IHsNCgljb2xvcjogWyIjZmZlOTg1IiwiI2ZmZDg4NSIsIiNmZmMyODUiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8TTF8TTEiLA0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJb25Db2xsaWRlOiBmdW5jdGlvbihwaXhlbDEscGl4ZWwyKSB7DQoJCWlmIChlbGVtZW50c1twaXhlbDIuZWxlbWVudF0uZmlyZUNvbG9yKSB7DQoJCQlwaXhlbDEuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbDEsZWxlbWVudHNbcGl4ZWwyLmVsZW1lbnRdLmZpcmVDb2xvcik7DQoJCQlwaXhlbDEub3JpZ0NvbG9yID0gdW5kZWZpbmVkOw0KCQkJcGl4ZWwxLmNjID0gdHJ1ZTsNCgkJfQ0KCX0sDQoJb25QbGFjZTogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHBpeGVsLmFscGhhID09PSB1bmRlZmluZWQpIHsgcGl4ZWwuYWxwaGEgPSAwLjIgfQ0KCX0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKHNldHRpbmdzLmJ1cm4gPT09IDAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDUpIHsNCgkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCQlyZXR1cm47DQoJCX0NCgkJaWYgKHBpeGVsLmFscGhhID09PSB1bmRlZmluZWQpIHsgcGl4ZWwuYWxwaGEgPSAwLjIgfQ0KCQlwaXhlbC5hbHBoYSA9IE1hdGgubWluKDEscGl4ZWwuYWxwaGErMC4wNCk7DQoJfSwNCglmbGlwcGFibGVYOiB0cnVlLA0KCWNhdGVnb3J5OiAiZW5lcmd5IiwNCgl0ZW1wOiAzMDAsDQoJdGVtcExvdzogMCwNCglzdGF0ZUxvdzogImFzaCIsDQoJYnVybjogMTAsDQoJYnVyblRpbWU6IDEwLA0KCWJ1cm5JbnRvOiAiYXNoIiwNCglidXJuaW5nOiB0cnVlLA0KCWZpcmVFbGVtZW50OiBudWxsLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiA2MDAsDQoJaGlkZGVuOiB0cnVlDQp9LA0KImZpcmV3b3JrIjogew0KCWNvbG9yOiAiI2M0NGY0NSIsDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKChwaXhlbC50ZW1wID4gMTAwMCB8fCBwaXhlbC5jaGFyZ2UpICYmICFwaXhlbC5idXJuaW5nKSB7DQoJCQlwaXhlbC5idXJuaW5nID0gdHJ1ZTsNCgkJCXBpeGVsLmJ1cm5TdGFydCA9IHBpeGVsVGlja3M7DQoJCX0NCgkJaWYgKHBpeGVsLmJ1cm5pbmcpIHsNCgkJCWlmICghdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueS0xKSkgew0KCQkJCS8vIHRyeU1vdmUgYWdhaW4gdG8gdGhlIHRvcCBsZWZ0IG9yIHRvcCByaWdodA0KCQkJCXRyeU1vdmUocGl4ZWwsIHBpeGVsLngrKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDEpLCBwaXhlbC55LTEpOw0KCQkJfQ0KCQkJaWYgKHBpeGVsVGlja3MtcGl4ZWwuYnVyblN0YXJ0ID4gNTAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgew0KCQkJCWV4cGxvZGVBdChwaXhlbC54LCBwaXhlbC55LCAxMCwgImZ3X2VtYmVyIik7DQoJCQl9DQoJCX0NCgkJZWxzZSB7DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwsIHBpeGVsLngsIHBpeGVsLnkrMSkpIHsNCgkJCQkvLyB0cnlNb3ZlIGFnYWluIHRvIHRoZSBib3R0b20gbGVmdCBvciBib3R0b20gcmlnaHQNCgkJCQl0cnlNb3ZlKHBpeGVsLCBwaXhlbC54KyhNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxKSwgcGl4ZWwueSsxKTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCWJ1cm46IDkwLA0KCWJ1cm5UaW1lOiAxMDAsDQoJcHJvcGVydGllczogeyBidXJuaW5nOmZhbHNlIH0sDQoJYnVybmluZzogdHJ1ZSwNCglkZW5zaXR5OiAyMDAwLA0KCWNvbmR1Y3Q6IDEsDQoJc3RhdGU6ICJzb2xpZCIsDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIg0KfSwNCiJmd19lbWJlciI6IHsNCgljb2xvcjogWyIjZmY3YTcwIiwiI2ZmOWI3MCIsIiNmZmUyNzAiLCIjOTRmZjcwIiwiIzAwZmZmZiIsIiM5YjcwZmYiLCIjZmZhOGQyIl0sDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfERMJTI1fE0yIiwNCgkJIlhYfE0yfE0xIiwNCgldLA0KCWJ1cm5pbmc6IHRydWUsDQoJYnVybkludG86ICJhc2giLA0KCWZpcmVFbGVtZW50OiBbInNtb2tlIiwic21va2UiLCJzbW9rZSIsInNtb2tlIiwiY2FyYm9uX2Rpb3hpZGUiXSwNCglyb3RhdGFibGU6IHRydWUsDQoJdGVtcDogNjQ5LA0KCXRlbXBMb3c6IDAsDQoJc3RhdGVMb3c6ICJjYXJib25fZGlveGlkZSIsDQoJY2F0ZWdvcnk6ICJlbmVyZ3kiLA0KCWhpZGRlbjogdHJ1ZSwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogNzAwLA0KCWFsaWFzOiAiZmlyZXdvcmsgZW1iZXIiDQp9LA0KIm51a2UiOiB7DQoJY29sb3I6ICIjNTM0NjM2IiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTJ8TTEgQU5EIEVYOjYwPnBsYXNtYSxwbGFzbWEscGxhc21hLHBsYXNtYSxyYWRpYXRpb24scmFkX3N0ZWFtfE0yIiwNCgldLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTUwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiaF9ib21iIjogew0KCWNvbG9yOiAiIzUzMzYzNiIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfFhYfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xIEFORCBFWDo5MD5wbGFzbWEscGxhc21hLHBsYXNtYSxwbGFzbWEsZmlyZXxNMiIsDQoJXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDE2MDAsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCglhbGlhczogImh5ZHJvZ2VuIGJvbWIiLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiZGlydHlfYm9tYiI6IHsNCgljb2xvcjogIiM0MTUzMzYiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJNMnxNMSBBTkQgRVg6NDA+cmFkaWF0aW9uLHJhZGlhdGlvbixyYWRpYXRpb24scmFkX3N0ZWFtfE0yIiwNCgldLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiZW1wX2JvbWIiOiB7DQoJY29sb3I6ICIjNDE4MjczIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuc3RhcnQ9PT1waXhlbFRpY2tzKSB7cmV0dXJufQ0KCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQlpZiAob3V0T2ZCb3VuZHMocGl4ZWwueCxwaXhlbC55KzEpIHx8IChwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmVsZW1lbnQhPT0iZW1wX2JvbWIiICYmIGVsZW1lbnRzW3BpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uZWxlbWVudF0uc3RhdGUhPT0iZ2FzIikpIHsNCgkJCQlmb3IgKGkgPSAwOyBpIDwgY3VycmVudFBpeGVscy5sZW5ndGg7IGkrKykgew0KCQkJCQl2YXIgbmV3UGl4ZWwgPSBjdXJyZW50UGl4ZWxzW2ldOw0KCQkJCQlpZiAobmV3UGl4ZWwuY2hhcmdlKSB7DQoJCQkJCQlkZWxldGUgbmV3UGl4ZWwuY2hhcmdlOw0KCQkJCQkJbmV3UGl4ZWwuY2hhcmdlQ0QgPSAxNjsNCgkJCQkJfQ0KCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaWQgPT09IGVsZW1lbnRzLmdyYXlfZ29vLmlkKSB7DQoJCQkJCQljaGFuZ2VQaXhlbChuZXdQaXhlbCwiZmxhc2giKQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCWV4cGxvZGVBdChwaXhlbC54LHBpeGVsLnkrMSwyMCwiZmxhc2giKTsNCgkJCX0NCgkJfQ0KCQlkb0RlZmF1bHRzKHBpeGVsKTsNCgl9LA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTQwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWFsaWFzOiAiZWxlY3Ryb21hZ25ldGljIHB1bHNlIGJvbWIiLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoibml0cm8iOiB7DQoJY29sb3I6ICIjNDdjOTAwIiwNCgliZWhhdmlvcjogYmVoYXZpb3JzLkxJUVVJRCwNCgliZWhhdmlvck9uOiBbDQoJCSJYWHxYWHxYWCIsDQoJCSJYWHxFWDoxMHxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJImNsYXkiOiB7IGVsZW0xOiJkeW5hbWl0ZSIsIGVsZW0yOiJkeW5hbWl0ZSIgfSwNCgkJInRudCI6IHsgZWxlbTE6ImR5bmFtaXRlIiwgZWxlbTI6ImR5bmFtaXRlIiB9DQoJfSwNCgljb25kdWN0OiAxLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJdGVtcEhpZ2g6IDYwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCgl0ZW1wTG93OiAxNCwNCglzdGF0ZUxvd05hbWU6ICJmcm96ZW5fbml0cm8iLA0KCWJ1cm46IDEwMCwNCglidXJuVGltZTogMSwNCglidXJuSW50bzogImV4cGxvc2lvbiIsDQoJYnJlYWtJbnRvOiAiZXhwbG9zaW9uIiwNCgl2aXNjb3NpdHk6IDM2LA0KCXN0YXRlOiAibGlxdWlkIiwNCglkZW5zaXR5OiAxNjAwLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJYWxpYXM6ICJuaXRyb2dseWNlcmluIg0KfSwNCiJncmVla19maXJlIjogew0KCWNvbG9yOiBbIiM0YTM5MjMiLCIjNTk0OTMzIiwiIzc4NjU0YSJdLA0KCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCXJlYWN0aW9uczogew0KCQkid2F0ZXIiOiB7IGZ1bmM6IGZ1bmN0aW9uKHBpeGVsKXtpZiAoIXBpeGVsLmJ1cm5pbmcpIHsgcGl4ZWwuYnVybmluZz10cnVlOyBwaXhlbC5idXJuU3RhcnQ9cGl4ZWxUaWNrIH19fSwNCgkJInNhbHRfd2F0ZXIiOiB7IGZ1bmM6IGZ1bmN0aW9uKHBpeGVsKXtpZiAoIXBpeGVsLmJ1cm5pbmcpIHsgcGl4ZWwuYnVybmluZz10cnVlOyBwaXhlbC5idXJuU3RhcnQ9cGl4ZWxUaWNrIH19fSwNCgkJInN1Z2FyX3dhdGVyIjogeyBmdW5jOiBmdW5jdGlvbihwaXhlbCl7aWYgKCFwaXhlbC5idXJuaW5nKSB7IHBpeGVsLmJ1cm5pbmc9dHJ1ZTsgcGl4ZWwuYnVyblN0YXJ0PXBpeGVsVGljayB9fX0sDQoJCSJkaXJ0eV93YXRlciI6IHsgZnVuYzogZnVuY3Rpb24ocGl4ZWwpe2lmICghcGl4ZWwuYnVybmluZykgeyBwaXhlbC5idXJuaW5nPXRydWU7IHBpeGVsLmJ1cm5TdGFydD1waXhlbFRpY2sgfX19LA0KCQkicG9vbF93YXRlciI6IHsgZnVuYzogZnVuY3Rpb24ocGl4ZWwpe2lmICghcGl4ZWwuYnVybmluZykgeyBwaXhlbC5idXJuaW5nPXRydWU7IHBpeGVsLmJ1cm5TdGFydD1waXhlbFRpY2sgfX19LA0KCQkic2VsdHplciI6IHsgZnVuYzogZnVuY3Rpb24ocGl4ZWwpe2lmICghcGl4ZWwuYnVybmluZykgeyBwaXhlbC5idXJuaW5nPXRydWU7IHBpeGVsLmJ1cm5TdGFydD1waXhlbFRpY2sgfX19LA0KCQkic2FuZCI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJIndldF9zYW5kIjogeyBlbGVtMTpudWxsLCBjaGFuY2U6MC4wNSB9LA0KCQkidmluZWdhciI6IHsgZWxlbTE6bnVsbCwgY2hhbmNlOjAuMDUgfSwNCgkJImRpcnQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogIm11ZCIgfSwNCgkJInNhbmQiOiB7IGVsZW0xOiBudWxsLCBlbGVtMjogIndldF9zYW5kIiB9LA0KCQkiY2xheV9zb2lsIjogeyBlbGVtMTogbnVsbCwgZWxlbTI6ICJjbGF5IiB9LA0KCQkicGxhc21hIjogeyBlbGVtMToiZmlyZSIgfQ0KCX0sDQoJcHJvcGVydGllczogeyBidXJuaW5nOmZhbHNlIH0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCgl0ZW1wSGlnaDogNDAwMCwNCglzdGF0ZUhpZ2g6ICJmaXJlIiwNCglidXJuOiAxMDAsDQoJYnVyblRpbWU6IDE1MDAsDQoJYnVybkludG86ICJmaXJlIiwNCglidXJuaW5nOiB0cnVlLA0KCWluc3VsYXRlOiB0cnVlLA0KCXZpc2Nvc2l0eTogMiwNCglzdGF0ZTogImxpcXVpZCIsDQoJZGVuc2l0eTogNDk4LjUsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZQ0KfSwNCiJmaXJlYmFsbCI6IHsNCgljb2xvcjogWyIjNzgyODI4IiwiIzc4M2IyOCIsIiM3ODRiMjgiXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8Q1I6ZmlyZSUyNXxYWCIsDQoJCSJYWHxDQzo3ODI4MjgsNzgzYjI4LDc4NGIyOCUyNXxYWCIsDQoJCSJNMnxNMSBBTkQgRVg6OHxNMiIsDQoJXSwNCglyZWFjdGlvbnM6IHsNCgkJIndhdGVyIjogeyBlbGVtMToicm9jayIsIGVsZW0yOiJzdGVhbSIgfQ0KCX0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCgl0ZW1wOjYwMCwNCgl0ZW1wTG93OiAtMTAwLA0KCXN0YXRlTG93OiAicm9jayIsDQoJYnVybmluZzogdHJ1ZSwNCglidXJuSW50bzogWyJyb2NrIiwicm9jayIsInN0ZWFtIl0sDQoJYnVyblRpbWU6IDE3MCwNCglidXJuOiAxMDAsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTYwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJZ2xvdzogdHJ1ZQ0KfSwNCiJyb2NrZXQiOiB7DQoJY29sb3I6ICIjZmY2ZjQ3IiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQlpZiAocGl4ZWwuY2xvbmUpIHsNCgkJCXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55LTEscGl4ZWwuY2xvbmUpOw0KCQkJdHJ5TW92ZShwaXhlbCxwaXhlbC54ICsgKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDEpLHBpeGVsLnkpOw0KCQkJaWYgKHBpeGVsVGlja3MtcGl4ZWwuYnVyblN0YXJ0ID4gMjAgJiYgTWF0aC5yYW5kb20oKSA8IDAuMDI1KSB7DQoJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsNCgkJCQlleHBsb2RlQXQocGl4ZWwueCxwaXhlbC55LDEwLCJzbW9rZSIpDQoJCQkJcmV0dXJuDQoJCQl9DQoJCX0NCgkJZWxzZSBpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQlpZiAoIW91dE9mQm91bmRzKHBpeGVsLngscGl4ZWwueSsxKSkgew0KCQkJCWlmIChwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmNsb25lKSB7IHBpeGVsLmNsb25lID0gcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5jbG9uZSB9DQoJCQkJZWxzZSBpZiAocGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5lbGVtZW50ID09PSAicm9ja2V0Iikgew0KCQkJCQliZWhhdmlvcnMuUE9XREVSKHBpeGVsKTsNCgkJCQl9DQoJCQkJZWxzZSBpZiAoZWxlbWVudHMucm9ja2V0Lmlnbm9yZS5pbmRleE9mKHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uZWxlbWVudCkgPT09IC0xKSB7DQoJCQkJCXBpeGVsLmNsb25lID0gcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5lbGVtZW50DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJcGl4ZWwuY2xvbmUgPSAic21va2UiDQoJCQl9DQoJCQlwaXhlbC5idXJuU3RhcnQgPSBwaXhlbFRpY2tzDQoJCX0NCgkJZG9EZWZhdWx0cyhwaXhlbCkNCgl9LA0KCWlnbm9yZTogWyJjbG9uZXIiLCJlY2xvbmVyIiwic2xvd19jbG9uZXIiLCJjbG9uZV9wb3dkZXIiLCJmbG9hdGluZ19jbG9uZXIiXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDczMDAsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93bg0KfSwNCiJhbnRpYm9tYiI6IHsNCgljb2xvcjogIiNhZGIzYmUiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWRvRGVmYXVsdHMocGl4ZWwpDQoJCWlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCWlmICghb3V0T2ZCb3VuZHMocGl4ZWwueCxwaXhlbC55KzEpKSB7DQoJCQkJdmFyIGVsZW0gPSBwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLmVsZW1lbnQ7DQoJCQkJaWYgKGVsZW1lbnRzW2VsZW1dLmlzR2FzKSB7IHJldHVybiB9DQoJCQl9DQoJCQllbHNlIHsNCgkJCQl2YXIgZWxlbSA9ICJzbW9rZSI7DQoJCQl9DQoJCQlpZiAoZWxlbSAhPT0gImFudGlib21iIikgew0KCQkJCWV4cGxvZGVBdChwaXhlbC54LHBpeGVsLnksOCxlbGVtKQ0KCQkJfQ0KCQl9DQoJfSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDQzMDAsDQoJZGFya1RleHQ6IHRydWUsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93bg0KfSwNCiJjb2xkX2JvbWIiOiB7DQoJY29sb3I6ICIjNDM2NDZlIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8RVg6MTA+Y29sZF9maXJlfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xIEFORCBFWDoxMD5jb2xkX2ZpcmV8TTIiLA0KCV0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzAwLA0KCXRlbXBIaWdoOiAxNDU1LjUsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3N0ZWVsIiwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiaG90X2JvbWIiOiB7DQoJY29sb3I6ICIjNmM0MzZlIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8SFQ6MjAwMDAgQU5EIEVYOjE1PnBsYXNtYXxYWCIsDQoJCSJYWHxYWHxYWCIsDQoJCSJNMnxNMSBBTkQgSFQ6MjAwMDAgQU5EIEVYOjE1PnBsYXNtYXxNMiIsDQoJXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEzMDAsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duDQp9LA0KImFudGltYXR0ZXJfYm9tYiI6IHsNCgljb2xvcjogIiM2ZTQzNDMiLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxFWDoyMD5hbnRpbWF0dGVyfFhYIiwNCgkJIlhYfFhYfFhYIiwNCgkJIk0yfE0xIEFORCBFWDoyMD5hbnRpbWF0dGVyfE0yIiwNCgldLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTMwMCwNCgl0ZW1wSGlnaDogMTA0NTUuNSwNCglzdGF0ZUhpZ2g6ICJtb2x0ZW5fc3RlZWwiLA0KCWlnbm9yZTogWyJhbnRpbWF0dGVyIl0sDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duDQp9LA0KInBhcnR5X3BvcHBlciI6IHsNCgljb2xvcjogWyIjZGMyYzM3IiwiI2VkY2U2NiIsIiMwZGJmNjIiLCIjMDY3OWVhIiwiIzcxNDRiMiIsIiNkOTIwOTciXSwNCgliZWhhdmlvcjogWw0KCQkiWFh8RVg6MTU+Y29uZmV0dGksZmxhc2gsZmxhc2gsc21va2V8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTJ8TTEgQU5EIEVYOjE1PmNvbmZldHRpLGZsYXNoLGZsYXNoLHNtb2tlfE0yIiwNCgldLA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTMwMCwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiZmxhc2hiYW5nIjogew0KCWNvbG9yOiAiIzY1NjY1YyIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfEVYOjIwPmZsYXNoJTF8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiTTJ8TTEgQU5EIEVYOjIwPmZsYXNoJTF8TTIiLA0KCV0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzAwLA0KCXRlbXBIaWdoOiAxNDU1LjUsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3N0ZWVsIiwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24NCn0sDQoiZmxhc2giOiB7DQoJY29sb3I6ICIjZmZmZGNmIiwNCgl0aWNrOiBmdW5jdGlvbihwaXhlbCkgew0KCQl2YXIgZG9uZSA9IHRydWU7DQoJCWlmIChwaXhlbC5kZWxheSkgew0KCQkJdmFyIGRlbGF5UiA9IHBpeGVsLmRlbGF5ICUgMTsNCgkJCXZhciBkZWxheSA9IHBpeGVsLmRlbGF5IC0gZGVsYXlSOw0KCQkJaWYgKCEocGl4ZWxUaWNrcyAtIHBpeGVsLnN0YXJ0ID4gKHBpeGVsLmRlbGF5fHwxKSAmJiBNYXRoLnJhbmRvbSgpIDwgMS1kZWxheVIpKSB7DQoJCQkJZG9uZSA9IGZhbHNlOw0KCQkJfQ0KCQl9DQoJCWlmICgoTWF0aC5yYW5kb20oKSA8IDAuNzUgJiYgZG9uZSkgfHwgcGl4ZWwuYWxwaGEgPCAwLjA1KSB7DQoJCQlkZWxldGVQaXhlbChwaXhlbC54LCBwaXhlbC55KQ0KCQl9DQoJCWlmIChwaXhlbC5kZWxheSkgew0KCQkJcGl4ZWwuYWxwaGEgPSBNYXRoLm1heCgwLDEtKHBpeGVsVGlja3MgLSBwaXhlbC5zdGFydCkvcGl4ZWwuZGVsYXkpDQoJCX0NCgkJZG9IZWF0KHBpeGVsKTsNCgl9LA0KCXJlYWN0aW9uczogew0KCQkiYmxvb2QiOiB7IGVsZW0xOiJwb2ludGVyIiB9LA0KCQkibW9sdGVuX3N0YWluZWRfZ2xhc3MiOiB7IGVsZW0xOiJyYWluYm93IiB9LA0KCQkiZWxlY3RyaWMiOiB7IGVsZW0xOiJwb2ludGVyIiB9DQoJfSwNCgljYXRlZ29yeTogImVuZXJneSIsDQoJdGVtcDogNDAsDQoJdGVtcExvdzogLTI3MCwNCglzdGF0ZUxvdzogWyJsaXF1aWRfbGlnaHQiLG51bGxdLA0KCXN0YXRlOiAiZ2FzIiwNCglkZW5zaXR5OiAxLA0KCWhpZGRlbjogdHJ1ZSwNCglub01peDogdHJ1ZQ0KfSwNCiJzbW9rZV9ncmVuYWRlIjogew0KCWNvbG9yOiAiIzY1NjY1YyIsDQoJYmVoYXZpb3I6IFsNCgkJIlhYfENSOnNtb2tlfFhYIiwNCgkJIlhYfEVYOjQ+c21va2UlMXxYWCIsDQoJCSJNMnxNMXxNMiIsDQoJXSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDczMDAsDQoJY29uZHVjdDogMC43MywNCgl0ZW1wSGlnaDogMTQ1NS41LA0KCXN0YXRlSGlnaDogIm1vbHRlbl9zdGVlbCIsDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCW5vY2hlZXI6IHRydWUNCn0sDQoibGFuZG1pbmUiOiB7DQoJY29sb3I6ICIjODU2YzdkIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8RVg6MjB8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8TTF8WFgiLA0KCV0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzAwLA0KCXRlbXBIaWdoOiAxNDU1LjUsDQoJc3RhdGVIaWdoOiAibW9sdGVuX3N0ZWVsIiwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJbm9jaGVlcjogdHJ1ZQ0KfSwNCiJ0b3JuYWRvIjogew0KCWNvbG9yOiBbIiNiOGI4YjgiLCIjOTc5Nzk3IiwiIzc4Nzg3OCJdLA0KCWZpcmVkQ29sb3JzOiB7DQoJCSJmaXJlIjogWyIjZTA3NDMxIiwiI2UzNGYzMiIsIiNlMzk5NDQiXSwNCgkJInNhbmQiOiBbIiNiZGE4ODAiLCIjOTk4NjcwIiwiIzc1Njk1MSJdLA0KCQkid2F0ZXIiOiBbIiM4YTliYjUiLCIjNzI4NDk2IiwiIzU2Njk3OCJdLA0KCQkibGlnaHRuaW5nIjogWyIjYjVhNzhhIiwiIzcyODQ5NiIsIiNmZmUxM2QiXSwNCgkJInJhZGlhdGlvbiI6IFsiIzhhYjU4ZSIsIiM3Mjk2ODEiLCIjNTY3ODVjIl0sDQoJCSJtaWRhc190b3VjaCI6IFsiI2UzZGY2ZCIsIiNkNGFlNmUiLCIjZTBjODVhIl0NCgl9LA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWRvSGVhdChwaXhlbCk7DQoJCWlmIChwaXhlbC5maXJlZCkgew0KCQkJcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCxlbGVtZW50cy50b3JuYWRvLmZpcmVkQ29sb3JzW3BpeGVsLmZpcmVkXSkNCgkJfQ0KCQlpZiAocGl4ZWwuc3RhZ2UpIHsNCgkJCWlmIChwaXhlbC5zdGFnZSA9PT0gLTEpIHsNCgkJCQlpZiAocGl4ZWwuZmlyZWQgJiYgIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkpIHsNCgkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5maXJlZCA9IHBpeGVsLmZpcmVkOw0KCQkJCX0NCgkJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkpIHsNCgkJCQkJdmFyIHBpeGVsMiA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV07DQoJCQkJCWlmIChwaXhlbDIuZWxlbWVudCAhPT0gInRvcm5hZG8iICYmIGVsZW1lbnRzW3BpeGVsMi5lbGVtZW50XS5tb3ZhYmxlKSB7DQoJCQkJCQlkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpOw0KCQkJCQkJdHJ5TW92ZShwaXhlbDIscGl4ZWwyLngscGl4ZWwyLnktMSk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEpIHsNCgkJCQkJaWYgKHBpeGVsLmZpcmVkID09PSAiZmlyZSIpIGNoYW5nZVBpeGVsKHBpeGVsLHBpeGVsLmZpcmVkKQ0KCQkJCQllbHNlIGlmIChwaXhlbC5maXJlZCA9PT0gInJhZGlhdGlvbiIpIGNoYW5nZVBpeGVsKHBpeGVsLHBpeGVsLmZpcmVkKQ0KCQkJCQllbHNlIGRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZm9yICh2YXIgeSA9IDA7IHkgPD0gcGl4ZWwuc3RhZ2U7IHkrKykgew0KCQkJCWZvciAodmFyIHggPSAteS0wLjU7IHggPD0geSswLjU7IHgrKykgew0KCQkJCQl2YXIgbnggPSBNYXRoLnJvdW5kKHBpeGVsLngreC8yKTsNCgkJCQkJdmFyIG55ID0gTWF0aC5yb3VuZChwaXhlbC55LXkpOw0KCQkJCQlpZiAoaXNFbXB0eShueCxueSkpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKCJ0b3JuYWRvIixueCxueSk7DQoJCQkJCQlwaXhlbE1hcFtueF1bbnldLnN0YWdlID0gLTE7DQoJCQkJCQlpZiAocGl4ZWwuZmlyZWQpIHsNCgkJCQkJCQlwaXhlbE1hcFtueF1bbnldLmZpcmVkID0gcGl4ZWwuZmlyZWQ7DQoJCQkJCQkJcGl4ZWxNYXBbbnhdW255XS5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsTWFwW254XVtueV0sZWxlbWVudHMudG9ybmFkby5maXJlZENvbG9yc1twaXhlbC5maXJlZF0pOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKCFvdXRPZkJvdW5kcyhueCxueSkpIHsNCgkJCQkJCS8vIHRyeSB0byBicmVhayBhbmQgdGhlbiBtb3ZlIGl0IHVwDQoJCQkJCQl2YXIgcCA9IHBpeGVsTWFwW254XVtueV07DQoJCQkJCQlpZiAoaXNCcmVha2FibGUocCkgJiYgTWF0aC5yYW5kb20oKSA8IChlbGVtZW50c1twLmVsZW1lbnRdLmhhcmRuZXNzIHx8IDEpICogMC4xKSB7DQoJCQkJCQkJYnJlYWtQaXhlbChwKTsNCgkJCQkJCX0NCgkJCQkJCWlmIChlbGVtZW50c1twLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy50b3JuYWRvLmlkKSB7DQoJCQkJCQkJaWYgKHBpeGVsLmZpcmVkKSBwLmZpcmVkID0gcGl4ZWwuZmlyZWQ7DQoJCQkJCQkJaWYgKHAubWFnICYmIHBpeGVsICE9PSBwKSB7DQoJCQkJCQkJCXBpeGVsLm1hZyArPSBNYXRoLnJvdW5kKHAubWFnLzQpOw0KCQkJCQkJCQlwaXhlbC5zdGFydCA9IE1hdGgubWF4KHBpeGVsLnN0YXJ0LHAuc3RhcnQpOw0KCQkJCQkJCQlkZWxldGVQaXhlbChwLngscC55KTsNCgkJCQkJCQl9DQoJCQkJCQkJY29udGludWU7DQoJCQkJCQl9DQoJCQkJCQlpZiAocC5kZWwgfHwgIWVsZW1lbnRzW3AuZWxlbWVudF0ubW92YWJsZSkgeyBjb250aW51ZTsgfQ0KCQkJCQkJdHJ5TW92ZShwLHAueCxwLnktMSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlmb3IgKHZhciB5ID0gMDsgeSA8PSBNYXRoLm1pbig0LHBpeGVsLnN0YWdlKTsgeSsrKSB7DQoJCQkJZm9yICh2YXIgeCA9IC1waXhlbC5zdGFnZTsgeCA8PSBwaXhlbC5zdGFnZTsgeCsrKSB7DQoJCQkJCXZhciBueCA9IE1hdGgucm91bmQocGl4ZWwueCt4LzIpOw0KCQkJCQl2YXIgbnkgPSBwaXhlbC55LXk7DQoJCQkJCWlmICghaXNFbXB0eShueCxueSx0cnVlKSAmJiBNYXRoLnJhbmRvbSgpIDwgMC4zKSB7DQoJCQkJCQl2YXIgcCA9IHBpeGVsTWFwW254XVtueV07DQoJCQkJCQlpZiAoaXNCcmVha2FibGUocCkgJiYgTWF0aC5yYW5kb20oKSA8IChlbGVtZW50c1twLmVsZW1lbnRdLmhhcmRuZXNzIHx8IDEpICogMC4xKSB7DQoJCQkJCQkJYnJlYWtQaXhlbChwKTsNCgkJCQkJCX0NCgkJCQkJCWlmIChlbGVtZW50c1twLmVsZW1lbnRdLmlkID09PSBlbGVtZW50cy50b3JuYWRvLmlkKSB7DQoJCQkJCQkJaWYgKHAubWFnICYmIHBpeGVsICE9PSBwKSB7DQoJCQkJCQkJCXBpeGVsLm1hZyA9IE1hdGgubWluKDQwLHBpeGVsLm1hZytNYXRoLnJvdW5kKHAubWFnLzQpKTsNCgkJCQkJCQkJcGl4ZWwuc3RhcnQgPSBNYXRoLm1heChwaXhlbC5zdGFydCxwLnN0YXJ0KTsNCgkJCQkJCQkJZGVsZXRlUGl4ZWwocC54LHAueSk7DQoJCQkJCQkJfQ0KCQkJCQkJCWNvbnRpbnVlOw0KCQkJCQkJfQ0KCQkJCQkJaWYgKHAuZGVsIHx8ICFlbGVtZW50c1twLmVsZW1lbnRdLm1vdmFibGUpIHsgY29udGludWU7IH0NCgkJCQkJCXRyeU1vdmUocCxwLngscC55LTEpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHBpeGVsLnN0YWdlIDwgcGl4ZWwubWFnKSB7DQoJCQkJcGl4ZWwuc3RhZ2UrKzsNCgkJCX0NCgkJfQ0KCQllbHNlIHsNCgkJCXBpeGVsLm1hZyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpICsgMTUNCgkJCXBpeGVsLnN0YWdlID0gMTsNCgkJCXBpeGVsLmRpciA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7DQoJCX0NCgkJdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSk7DQoJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4xICYmICF0cnlNb3ZlKHBpeGVsLHBpeGVsLngrcGl4ZWwuZGlyLHBpeGVsLnkpKSB7DQoJCQl0cnlNb3ZlKHBpeGVsLHBpeGVsLngrcGl4ZWwuZGlyLHBpeGVsLnktMSkNCgkJCWlmIChNYXRoLnJhbmRvbSgpIDwgMC4yKSB7DQoJCQkJcGl4ZWwuZGlyID0gLXBpeGVsLmRpcjsNCgkJCX0NCgkJfQ0KCQlpZiAocGl4ZWxUaWNrcyAtIHBpeGVsLnN0YXJ0ID4gNDAwICYmIE1hdGgucmFuZG9tKCkgPCAwLjIpIHsNCgkJCXBpeGVsLnN0YWdlIC09IDI7DQoJCQlwaXhlbC5tYWcgLT0gMTsNCgkJCWlmIChwaXhlbC5zdGFnZSA8IDIpIHsNCgkJCQlkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpOw0KCQkJfQ0KCQl9DQoJfSwNCglyZWFjdGlvbnM6IHsNCgkJImZpcmUiOiB7IGF0dHIxOnsiZmlyZWQiOiJmaXJlIn0gfSwgLy9GaXJlbmFkbw0KCQkic2FuZCI6IHsgYXR0cjE6eyJmaXJlZCI6InNhbmQifSB9LCAvL0R1c3QgRGV2aWwNCgkJIndldF9zYW5kIjogeyBhdHRyMTp7ImZpcmVkIjoic2FuZCJ9IH0sDQoJCSJ3YXRlciI6IHsgYXR0cjE6eyJmaXJlZCI6IndhdGVyIn0gfSwgLy9XYXRlcnNwb3V0DQoJCSJzYWx0X3dhdGVyIjogeyBhdHRyMTp7ImZpcmVkIjoid2F0ZXIifSB9LA0KCQkibGlnaHRuaW5nIjogeyBhdHRyMTp7ImZpcmVkIjoibGlnaHRuaW5nIn0gfSwNCgkJInJhZGlhdGlvbiI6IHsgYXR0cjE6eyJmaXJlZCI6InJhZGlhdGlvbiJ9IH0sDQoJCSJtaWRhc190b3VjaCI6IHsgYXR0cjE6eyJmaXJlZCI6Im1pZGFzX3RvdWNoIn0gfQ0KCX0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglzdGF0ZTogImdhcyIsDQoJZGVuc2l0eTogMS4yMywNCgltYXhTaXplOiAxLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCgloYXJkbmVzczogMQ0KfSwNCiJlYXJ0aHF1YWtlIjogew0KCWNvbG9yOiBbIiNiZGE3OTEiLCIjOTk3NzU2IiwiIzYxM2QxOSJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5zdGFnZSkgew0KCQkJdmFyIGNvb3JkcyA9IGNpcmNsZUNvb3JkcyhwaXhlbC54LHBpeGVsLnkscGl4ZWwuc3RhZ2UpOw0KCQkJaWYgKHBpeGVsLnN0YWdlID49IHBpeGVsLm1hZykgew0KCQkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJY29vcmRzLmZvckVhY2goZnVuY3Rpb24oY29vcmQpew0KCQkJCXZhciB4ID0gY29vcmQueDsNCgkJCQl2YXIgeSA9IGNvb3JkLnk7DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQl2YXIgcCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQlpZiAocC5lbGVtZW50ID09PSAiZWFydGhxdWFrZSIpIHsNCgkJCQkJCWlmIChwaXhlbCAhPT0gcCkgew0KCQkJCQkJCXBpeGVsLm1hZyA9IE1hdGgubWluKHBpeGVsLm1hZyszLDUwKTsNCgkJCQkJCQlkZWxldGVQaXhlbChwLngscC55KTsNCgkJCQkJCX0NCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KCQkJCQlpZiAoaXNCcmVha2FibGUocCkpIHsNCgkJCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgKGVsZW1lbnRzW3AuZWxlbWVudF0uaGFyZG5lc3MgfHwgMSkgKiAwLjI1KSB7DQoJCQkJCQkJYnJlYWtQaXhlbChwKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlpZiAocC5kZWwgfHwgIWVsZW1lbnRzW3AuZWxlbWVudF0ubW92YWJsZSkgeyByZXR1cm4gfQ0KCQkJCQl0cnlNb3ZlKHAscC54LHAueS0xKTsNCgkJCQl9DQoJCQl9KQ0KCQkJcGl4ZWwuc3RhZ2UrKzsNCgkJfQ0KCQllbHNlIGlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCS8vIHJhbmRvbSAxMCB0byAyMA0KCQkJcGl4ZWwubWFnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMjA7DQoJCQlwaXhlbC5zdGFnZSA9IDE7DQoJCX0NCgl9LA0KCWNhdGVnb3J5OiAid2VhcG9ucyIsDQoJc3RhdGU6ICJzb2xpZCIsDQoJZGVuc2l0eTogMTAwMDAwMDAwLA0KCW1heFNpemU6IDEsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93biwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KfSwNCiJ0c3VuYW1pIjogew0KCWNvbG9yOiBbIiM5MWI5YmQiLCIjNTY2Zjk5IiwiIzE5MmY2MSJdLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmIChwaXhlbC5zdGFnZSkgew0KCQkJdmFyIGNvb3JkcyA9IGNpcmNsZUNvb3JkcyhwaXhlbC54LHBpeGVsLnkscGl4ZWwuc3RhZ2UpOw0KCQkJdmFyIGNvb3JkcyA9IHJlY3RDb29yZHMoTWF0aC5mbG9vcihwaXhlbC54LXBpeGVsLnN0YWdlLzIpLHBpeGVsLnktcGl4ZWwuc3RhZ2UsTWF0aC5mbG9vcihwaXhlbC54K3BpeGVsLnN0YWdlLzIpLHBpeGVsLnkpOw0KCQkJaWYgKHBpeGVsLnN0YWdlID49IHBpeGVsLm1hZykgew0KCQkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJY29vcmRzLmZvckVhY2goZnVuY3Rpb24oY29vcmQpew0KCQkJCXZhciB4ID0gY29vcmQueDsNCgkJCQl2YXIgeSA9IGNvb3JkLnk7DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQl2YXIgcCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQlpZiAocC5lbGVtZW50ID09PSAidHN1bmFtaSIpIHsNCgkJCQkJCWlmIChwaXhlbCAhPT0gcCkgew0KCQkJCQkJCXBpeGVsLm1hZyA9IE1hdGgubWluKHBpeGVsLm1hZyszLDQwKTsNCgkJCQkJCQlkZWxldGVQaXhlbChwLngscC55KTsNCgkJCQkJCX0NCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KCQkJCQlpZiAoaXNCcmVha2FibGUocCkpIHsNCgkJCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgKGVsZW1lbnRzW3AuZWxlbWVudF0uaGFyZG5lc3MgfHwgMSkgKiAwLjEpIHsNCgkJCQkJCQlicmVha1BpeGVsKHApOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmICghZWxlbWVudHNbcC5lbGVtZW50XS5tb3ZhYmxlKSB7IHJldHVybiB9DQoJCQkJCWlmICghcC5kZWwgJiYgTWF0aC5yYW5kb20oKSA8IDAuMSkgeyB0cnlNb3ZlKHAscC54LHAueS0xKTsgfQ0KCQkJCX0NCgkJCQllbHNlIGlmIChpc0VtcHR5KHgseSkpIHsNCgkJCQkJY3JlYXRlUGl4ZWwocGl4ZWwuY2xvbmV8fCJ3YXRlciIseCx5KTsNCgkJCQl9DQoJCQl9KQ0KCQkJcGl4ZWwuc3RhZ2UrKzsNCgkJfQ0KCQllbHNlIGlmICghdHJ5TW92ZShwaXhlbCxwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCWlmICghaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSx0cnVlKSkgew0KCQkJCXZhciBlbGVtID0gcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS5lbGVtZW50Ow0KCQkJCWlmIChlbGVtID09PSAidHN1bmFtaSIpIHsgcmV0dXJuIH0NCgkJCQlpZiAoZWxlbWVudHNbZWxlbV0uc3RhdGUgPT09ICJsaXF1aWQiICYmIChlbGVtZW50c1tlbGVtXS5kZW5zaXR5IHx8IDApIDwgMjUwMCkgeyBwaXhlbC5jbG9uZSA9IGVsZW07IH0NCgkJCQllbHNlIHsgcGl4ZWwuY2xvbmUgPSAid2F0ZXIiOyB9DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlwaXhlbC5jbG9uZSA9ICJ3YXRlciI7DQoJCQl9DQoJCQkvLyByYW5kb20gMTAgdG8gMjANCgkJCXBpeGVsLm1hZyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSArIDIwOw0KCQkJcGl4ZWwuc3RhZ2UgPSAxOw0KCQl9DQoJfSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAibGlxdWlkIiwNCgltYXhTaXplOiAxLA0KCWRlbnNpdHk6IDk5NywNCgljb29sZG93bjogZGVmYXVsdENvb2xkb3duLA0KCWV4Y2x1ZGVSYW5kb206IHRydWUsDQp9LA0KImJsYXN0ZXIiOiB7DQoJY29sb3I6IFsiI2ZmMDAwMCIsIiNmZjRkMDAiLCIjZmY3NzAwIl0sDQoJdGljazogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsNCgkJCXZhciBza2lwID0gZmFsc2U7DQoJCQlpZiAoIWlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEsdHJ1ZSkpIHsNCgkJCQl2YXIgcCA9IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV07DQoJCQkJaWYgKHAuZWxlbWVudCA9PT0gImJsYXN0ZXIiKSB7IHNraXAgPSB0cnVlOyB9DQoJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAwLjkgJiYgZWxlbWVudHNbcC5lbGVtZW50XS5oYXJkbmVzcyAhPT0gMSkgew0KCQkJCQlkZWxldGVQaXhlbChwLngscC55KTsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoIXRyeU1vdmUocGl4ZWwscGl4ZWwueCxwaXhlbC55KzEsWyJmbGFzaCIsImhlYXRfcmF5IiwiZWxlY3RyaWMiXSkgJiYgIXNraXApIHsNCgkJCQlleHBsb2RlQXQocGl4ZWwueCxwaXhlbC55LDIwLFsicGxhc21hIiwiaGVhdF9yYXkiLCJmbGFzaCJdKTsNCgkJCQl2YXIgY29vcmRzID0gY2lyY2xlQ29vcmRzKHBpeGVsLngscGl4ZWwueSwxNSk7DQoJCQkJY29vcmRzLmZvckVhY2goZnVuY3Rpb24oY29vcmQpew0KCQkJCQl2YXIgeCA9IGNvb3JkLng7DQoJCQkJCXZhciB5ID0gY29vcmQueTsNCgkJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQkJaWYgKCFlbGVtZW50c1twaXhlbE1hcFt4XVt5XS5lbGVtZW50XS5pbnN1bGF0ZSkgeyBwaXhlbE1hcFt4XVt5XS50ZW1wICs9IDEwMDAwOyB9DQoJCQkJCQlwaXhlbFRlbXBDaGVjayhwaXhlbE1hcFt4XVt5XSk7DQoJCQkJCX0NCgkJCQl9KQ0KCQkJCWRlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQl9DQoJfSwNCgljYXRlZ29yeTogIndlYXBvbnMiLA0KCXN0YXRlOiAic29saWQiLA0KCWRlbnNpdHk6IDEwMDAwMDAwMCwNCgl0ZW1wOiAxMDAwMCwNCgloYXJkbmVzczogMSwNCgltYXhTaXplOiAzLA0KCWNvb2xkb3duOiBkZWZhdWx0Q29vbGRvd24sDQoJZXhjbHVkZVJhbmRvbTogdHJ1ZSwNCglnbG93OiB0cnVlDQp9LA0KImFybWFnZWRkb24iOiB7DQoJY29sb3I6ICIjYTYyOTAwIiwNCgliZWhhdmlvcjogWw0KCQkiWFh8WFh8WFgiLA0KCQkiWFh8RVg6MTA+YXJtYWdlZGRvbixmaXJlLGZpcmUsZmlyZSxmaXJlLGZpcmUsZmlyZSxmaXJlLGZpcmUsZmlyZSxmaXJlLGZpcmUsZmlyZSUyNSBBTkQgREwlMTB8WFgiLA0KCQkiWFh8WFh8WFgiLA0KCV0sDQoJY2F0ZWdvcnk6ICJ3ZWFwb25zIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiAxMzAwLA0KCWhpZGRlbjogdHJ1ZSwNCglleGNsdWRlUmFuZG9tOiB0cnVlLA0KCW1heFNpemU6IDEsDQoJY29vbGRvd246IGRlZmF1bHRDb29sZG93bg0KfSwNCiJ0ZXNsYV9jb2lsIjogew0KCWNvbG9yOiAiIzcyNWMzOCIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfENSOnBsYXNtYXxYWCIsDQoJCSJDUjpwbGFzbWF8WFh8Q1I6cGxhc21hIiwNCgkJIlhYfENSOnBsYXNtYXxYWCIsDQoJXSwNCgljYXRlZ29yeTogIm1hY2hpbmVzIiwNCgljb25kdWN0OiAxLA0KCWluc3VsYXRlOiB0cnVlLA0KCWlnbm9yZUNvbmR1Y3Q6IFsicGxhc21hIl0sDQoJdGVtcDogNzA2NQ0KfSwNCiJzaG9ja2VyIjogew0KCWNvbG9yOiAiIzc4Nzg0YyIsDQoJYmVoYXZpb3I6IGJlaGF2aW9ycy5XQUxMLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfENSOmVsZWN0cmljIEFORCBTSHxYWCIsDQoJCSJDUjplbGVjdHJpYyBBTkQgU0h8WFh8Q1I6ZWxlY3RyaWMgQU5EIFNIIiwNCgkJIlhYfENSOmVsZWN0cmljIEFORCBTSHxYWCIsDQoJXSwNCgljb2xvck9uOiAiI2ZmZmY1OSIsDQoJY2F0ZWdvcnk6ICJtYWNoaW5lcyIsDQoJY29uZHVjdDogMSwNCglpZ25vcmU6IFsic2hvY2tlciJdLA0KCWlnbm9yZUNvbmR1Y3Q6IFsiZWxlY3RyaWMiXQ0KfSwNCiJwcmVzc3VyZV9wbGF0ZSI6IHsNCgljb2xvcjogIiM4YThhODQiLA0KCXRpY2s6IGZ1bmN0aW9uKHBpeGVsKSB7DQoJCWlmICghaXNFbXB0eShwaXhlbC54LCBwaXhlbC55LTEsIHRydWUpKXsNCgkJCWlmIChwaXhlbC5taW4gJiYgZWxlbWVudHNbcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5lbGVtZW50XS5kZW5zaXR5IDwgcGl4ZWwubWluKSB7fQ0KCQkJZWxzZSBpZiAocGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXS5lbGVtZW50ICE9PSAicHJlc3N1cmVfcGxhdGUiIHx8IHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0ub24pIHsNCgkJCQlwaXhlbC5vbiA9IHRydWU7DQoJCQkJdmFyIGNvb3Jkc1RvU2hvY2sgPSBbDQoJCQkJCVtwaXhlbC54LCBwaXhlbC55KzFdLA0KCQkJCQlbcGl4ZWwueCsxLCBwaXhlbC55XSwNCgkJCQkJW3BpeGVsLngtMSwgcGl4ZWwueV0sDQoJCQkJXQ0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzVG9TaG9jay5sZW5ndGg7IGkrKykgew0KCQkJCQl2YXIgeCA9IGNvb3Jkc1RvU2hvY2tbaV1bMF07DQoJCQkJCXZhciB5ID0gY29vcmRzVG9TaG9ja1tpXVsxXTsNCgkJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQkJdmFyIG5ld3BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQkJCQlpZiAoZWxlbWVudHNbbmV3cGl4ZWwuZWxlbWVudF0uY29uZHVjdCkgew0KCQkJCQkJCW5ld3BpeGVsLmNoYXJnZSA9IDE7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJZWxzZSBpZiAocGl4ZWwub24pIHsNCgkJCXBpeGVsLm9uID0gZmFsc2U7DQoJCX0NCgkJdHJ5TW92ZShwaXhlbCwgcGl4ZWwueCwgcGl4ZWwueSsxKTsNCgkJZG9EZWZhdWx0cyhwaXhlbCk7DQoJfSwNCgljYXRlZ29yeTogIm1hY2hpbmVzIiwNCglzdGF0ZTogInNvbGlkIiwNCglkZW5zaXR5OiA3ODUwDQp9LA0KInByaW1vcmRpYWxfc291cCI6IHsNCgljb2xvcjogWyIjNTAxZjI0IiwiIzZkMmUxZCJdLA0KCWJlaGF2aW9yOiBbDQoJCSJYWHxDUjpmb2FtJTJ8WFgiLA0KCQkiTTJ8Q0g6YWxnYWUsY2VsbCxtdXNocm9vbV9zcG9yZSxsaWNoZW4seWVhc3QsYW50aWJvZHksY2VsbHVsb3NlLHNlbHR6ZXIsb3h5Z2VuJTAuMDA1fE0yIiwNCgkJIk0xfE0xfE0xIiwNCgldLA0KCWJlaGF2aW9yT246IFsNCgkJIlhYfENSOmZvYW0lMjV8WFgiLA0KCQkiTTJ8Q0g6YWxnYWUsY2VsbCxtdXNocm9vbV9zcG9yZSxsaWNoZW4seWVhc3QsYW50aWJvZHksY2VsbHVsb3NlLHNlbHR6ZXIsb3h5Z2VuJTV8TTIiLA0KCQkiTTF8TTF8TTEiLA0KCV0sDQoJcmVhY3Rpb25zOiB7DQoJCSJjYW5jZXIiOiB7IGVsZW0xOiJkaXJ0eV93YXRlciIgfSwNCgkJImN5YW5pZGUiOiB7IGVsZW0xOiJkaXJ0eV93YXRlciIgfSwNCgkJImN5YW5pZGVfZ2FzIjogeyBlbGVtMToiZGlydHlfd2F0ZXIiIH0sDQoJCSJpbmZlY3Rpb24iOiB7IGVsZW0xOiJkaXJ0eV93YXRlciIgfSwNCgkJImJsb29kIjogeyBlbGVtMjoiYW50aWJvZHkiIH0sDQoJCSJwbGFndWUiOiB7IGVsZW0xOiJkaXJ0eV93YXRlciIgfSwNCgkJImJsZWFjaCI6IHsgZWxlbTE6ImRpcnR5X3dhdGVyIiB9LA0KCQkicG9pc29uIjogeyBlbGVtMToiZGlydHlfd2F0ZXIiIH0sDQoJCSJzb2FwIjogeyBlbGVtMToid2F0ZXIiIH0sDQoJCSJhbGNvaG9sIjogeyBlbGVtMToid2F0ZXIiIH0sDQoJCSJtZXJjdXJ5IjogeyBlbGVtMToiZGlydHlfd2F0ZXIiIH0sDQoJCSJhbW1vbmlhIjogeyBlbGVtMTpbImFsZ2FlIiwiY2VsbCIsIm11c2hyb29tX3Nwb3JlIiwibGljaGVuIiwieWVhc3QiLCJhbnRpYm9keSJdLCBjaGFuY2U6MC4wNSB9LA0KCQkicmFkaWF0aW9uIjogeyBlbGVtMTpbImFsZ2FlIiwiY2VsbCIsIm11c2hyb29tX3Nwb3JlIiwibGljaGVuIiwieWVhc3QiLCJhbnRpYm9keSJdLCBjaGFuY2U6MC4xNSB9LA0KCQkidXJhbml1bSI6IHsgZWxlbTE6WyJhbGdhZSIsImNlbGwiLCJtdXNocm9vbV9zcG9yZSIsImxpY2hlbiIsInllYXN0IiwiYW50aWJvZHkiXSwgY2hhbmNlOjAuMDAxIH0sDQoJCSJsaWdodCI6IHsgZWxlbTE6WyJhbGdhZSIsImNlbGwiLCJtdXNocm9vbV9zcG9yZSIsImxpY2hlbiIsInllYXN0IiwiYW50aWJvZHkiXSwgY2hhbmNlOjAuNSB9LA0KCQkiY2FyYm9uX2Rpb3hpZGUiOiB7IGVsZW0yOiJveHlnZW4iIH0sDQoJCSJtaWxrIjogeyBlbGVtMjoieW9ndXJ0IiB9LA0KCQkiY3JlYW0iOiB7IGVsZW0yOiJ5b2d1cnQiIH0sDQoJCSJkaXJ0IjogeyBlbGVtMjoibXVkIiwgY2hhbmNlOjAuMiB9LA0KCQkic2FuZCI6IHsgZWxlbTI6IndldF9zYW5kIiwgY2hhbmNlOjAuMiB9LA0KCQkiY2xheV9zb2lsIjogeyBlbGVtMjoiY2xheSIsIGNoYW5jZTowLjIgfSwNCgkJInJvY2siOiB7IGVsZW0yOiJ3ZXRfc2FuZCIsIGNoYW5jZTowLjAwMSB9LA0KCQkiY29wcGVyIjogeyBlbGVtMTpudWxsLCBlbGVtMjoib3hpZGl6ZWRfY29wcGVyIiwgY2hhbmNlOjAuMDUgfSwNCgkJImJyb256ZSI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im94aWRpemVkX2NvcHBlciIsIGNoYW5jZTowLjAyNSB9LA0KCQkiaXJvbiI6IHsgZWxlbTE6bnVsbCwgZWxlbTI6InJ1c3QiLCBjaGFuY2U6MC4wMjUgfSwNCgkJInN0ZWVsIjogeyBlbGVtMTpudWxsLCBlbGVtMjoicnVzdCIsIGNoYW5jZTowLjAyIH0NCgl9LA0KCWNhdGVnb3J5OiAibGlmZSIsDQoJdGVtcDogMzAsDQoJdGVtcEhpZ2g6IDEwMCwNCglzdGF0ZUhpZ2g6ICJzdGVhbSIsDQoJdGVtcExvdzogLTEwLA0KCXN0YXRlTG93OiBbImljZSIsImljZSIsImljZSIsInN1Z2FyX2ljZSJdLA0KCWNvbmR1Y3Q6IDAuMDUsDQoJc3RhdGU6ICJsaXF1aWQiLA0KCWRlbnNpdHk6IDk1NSwNCglzdGFpbjogLTAuMQ0KfSwNCiJtb2x0ZW5fc2xhZyI6IHsNCglpZ25vcmU6IFsic2FsdCIsInBsYXN0aWMiLCJzdWxmdXIiLCJlcHNvbV9zYWx0IiwicG90YXNzaXVtX3NhbHQiLCJib3JheCIsInNvbGRlciIsImFzaCIsImRpcnQiLCJ0dWZmIiwidGhlcm1pdGUiLCJtb2x0ZW5fdGhlcm1pdGUiXQ0KfSwNCiJtb2x0ZW5fZGlydCI6IHsNCglzdGF0ZUxvdzogWyJtdWRzdG9uZSIsIm11ZHN0b25lIiwibXVkc3RvbmUiLCJtdWRzdG9uZSIsIm11ZHN0b25lIiwibXVkc3RvbmUiLCJtdWRzdG9uZSIsIm11ZHN0b25lIiwibXVkc3RvbmUiLCJtdWRzdG9uZSIsIm11ZHN0b25lIiwibXVkc3RvbmUiLCJyb2NrIl0NCn0sDQoiZGVidWciOiB7DQoJY29sb3I6IFsiI2IxNTBkNCIsIiNkMWI3NGYiXSwNCgl0b29sOiBmdW5jdGlvbihwaXhlbCkgew0KCQltb3VzZUlzRG93biA9IGZhbHNlOw0KCQlpZiAoc2hpZnREb3duKSB7IHRvZ2dsZVNoaWZ0KCkgfQ0KCQl2YXIgb3V0cHV0ID0gcGl4ZWwuZWxlbWVudC50b1VwcGVyQ2FzZSgpKyIgYXQgeCIrcGl4ZWwueCsiLCB5IitwaXhlbC55KyIsIHRpY2siK3BpeGVsVGlja3MrIlxuXG4iOw0KCQlmb3IgKHZhciBpIGluIHBpeGVsKSB7DQoJCQlpZiAoaSAhPT0gIngiICYmIGkgIT09ICJ5IiAmJiBpICE9PSAiZWxlbWVudCIpIHsNCgkJCQlvdXRwdXQgKz0gIiAgIiArIGkgKyAiOiAiICsgcGl4ZWxbaV0gKyAiXG4iOw0KCQkJfQ0KCQl9DQoJCWNvbnNvbGUubG9nKG91dHB1dCk7DQoJCWNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBpeGVsKSk7DQoJCXByb21wdFRleHQob3V0cHV0LHVuZGVmaW5lZCwiRGVidWciKTsNCgkJbGFzdERlYnVnID0gcGl4ZWxUaWNrczsNCgl9LA0KCW1heFNpemU6IDEsDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIg0KfSwNCiJwcm9wIjogew0KCWNvbG9yOiBbIiNkNDZmNTAiLCIjZDRhYTUwIl0sDQoJb25TZWxlY3Q6IGZ1bmN0aW9uKCl7DQoJCXByb21wdElucHV0KCJXYXJuaW5nIC0gVGhpcyB0b29sIG1heSBicmVhayBTYW5kYm94ZWxzIGlmIHVzZWQgaW5jb3JyZWN0bHkuIEF2b2lkIHVzaW5nIGlmIHlvdSBkb24ndCB1bmRlcnN0YW5kLlxuXG5FbnRlciBhIHBpeGVsIGF0dHJpYnV0ZSB0byBtb2RpZnk6IiwNCgkJICAoYW5zd2VyMSkgPT4gew0KCQkJICBpZiAoIWFuc3dlcjEpIHsgc2VsZWN0RWxlbWVudCgidW5rbm93biIpOyByZXR1cm4gfQ0KCQkJICBwcm9tcHRJbnB1dCgiTm93LCBlbnRlciBhIHZhbHVlIGZvciAiK2Fuc3dlcjErIjoiLA0KCQkJCShhbnN3ZXIyKSA9PiB7DQoJCQkJCWlmICghYW5zd2VyMikgeyBzZWxlY3RFbGVtZW50KCJ1bmtub3duIik7IHJldHVybiB9DQoJCQkJCXZhciB2YWx1ZUwgPSBhbnN3ZXIyLnRvTG93ZXJDYXNlKCk7DQoJCQkJCWlmICh2YWx1ZUwgPT09ICJ0cnVlIikgeyBhbnN3ZXIyID0gdHJ1ZSB9DQoJCQkJCWVsc2UgaWYgKHZhbHVlTCA9PT0gImZhbHNlIikgeyBhbnN3ZXIyID0gZmFsc2UgfQ0KCQkJCQllbHNlIGlmICh2YWx1ZUwgPT09ICJudWxsIikgeyBhbnN3ZXIyID0gbnVsbCB9DQoJCQkJCWVsc2UgaWYgKHZhbHVlTCA9PT0gInVuZGVmaW5lZCIpIHsgYW5zd2VyMiA9IHVuZGVmaW5lZCB9DQoJCQkJCWVsc2UgaWYgKHZhbHVlTCA9PT0gImluZmluaXR5IikgeyBhbnN3ZXIyID0gSW5maW5pdHkgfQ0KCQkJCQllbHNlIGlmICh2YWx1ZUwgPT09ICItaW5maW5pdHkiKSB7IGFuc3dlcjIgPSAtSW5maW5pdHkgfQ0KCQkJCQllbHNlIGlmIChhbnN3ZXIxID09PSAiY29sb3IiICYmIHZhbHVlTFswXSA9PT0gIiMiKSB7DQoJCQkJCQl2YXIgcmdiID0gaGV4VG9SR0IodmFsdWVMKTsNCgkJCQkJCWFuc3dlcjIgPSAicmdiKCIrcmdiLnIrIiwiK3JnYi5nKyIsIityZ2IuYisiKSI7DQoJCQkJCX0NCgkJCQkJY3VycmVudFByb3AgPSBhbnN3ZXIxOw0KCQkJCQl2YXIgbnVtID0gcGFyc2VGbG9hdChhbnN3ZXIyKTsNCgkJCQkJaWYgKCFpc05hTihudW0pKSB7IGFuc3dlcjIgPSBudW0gfQ0KCQkJCQllbHNlIGlmICh2YWx1ZUwgPT09ICJuYW4iKSB7IGFuc3dlcjIgPSBOYU4gfQ0KCQkJCQljdXJyZW50UHJvcFZhbHVlID0gYW5zd2VyMjsNCgkJCQkJbG9nTWVzc2FnZSgiUHJvcDogIitjdXJyZW50UHJvcCk7DQoJCQkJCWxvZ01lc3NhZ2UoIlZhbHVlOiAiK2N1cnJlbnRQcm9wVmFsdWUpOw0KCQkJCX0sDQoJCQkJIkVudGVyIFZhbHVlIixjdXJyZW50UHJvcFZhbHVlDQoJCQkgICkNCgkJICB9LA0KCQkgICJFbnRlciBQcm9wZXJ0eSIsY3VycmVudFByb3ANCgkJKQ0KCX0sDQoJdG9vbDogZnVuY3Rpb24ocGl4ZWwpIHsNCgkJaWYgKCFjdXJyZW50UHJvcCkgeyByZXR1cm4gfQ0KCQlpZiAodHlwZW9mIGN1cnJlbnRQcm9wVmFsdWUgPT09ICJib29sZWFuIiAmJiB0eXBlb2YgcGl4ZWxbY3VycmVudFByb3BdID09PSAibnVtYmVyIikgew0KCQkJY3VycmVudFByb3BWYWx1ZSA9IGN1cnJlbnRQcm9wVmFsdWUgPyAxIDogMDsNCgkJfQ0KCQllbHNlIGlmICh0eXBlb2YgY3VycmVudFByb3BWYWx1ZSA9PT0gIm51bWJlciIgJiYgdHlwZW9mIHBpeGVsW2N1cnJlbnRQcm9wXSA9PT0gImJvb2xlYW4iKSB7DQoJCQljdXJyZW50UHJvcFZhbHVlID0gISFjdXJyZW50UHJvcFZhbHVlOw0KCQl9DQoJCWlmIChjdXJyZW50UHJvcFZhbHVlICE9PSBudWxsICYmIGN1cnJlbnRQcm9wVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwaXhlbFtjdXJyZW50UHJvcF0gIT09IG51bGwgJiYgcGl4ZWxbY3VycmVudFByb3BdICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHBpeGVsW2N1cnJlbnRQcm9wXSAhPT0gdHlwZW9mIGN1cnJlbnRQcm9wVmFsdWUpIHsNCgkJCWxvZ01lc3NhZ2UoIkVycm9yOiAiK2N1cnJlbnRQcm9wKyIgdHlwZSBpcyAiK3R5cGVvZiBwaXhlbFtjdXJyZW50UHJvcF0rIiwgbm90ICIrdHlwZW9mIGN1cnJlbnRQcm9wVmFsdWUrIi4iKTsNCgkJCWN1cnJlbnRQcm9wID0gbnVsbDsNCgkJCWN1cnJlbnRQcm9wVmFsdWUgPSBudWxsOw0KCQkJc2VsZWN0RWxlbWVudCgidW5rbm93biIpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCWlmIChjdXJyZW50UHJvcCA9PT0gImVsZW1lbnQiKSB7DQoJCQljaGFuZ2VQaXhlbChwaXhlbCwgY3VycmVudFByb3BWYWx1ZSk7DQoJCQlyZXR1cm47DQoJCX0NCgkJaWYgKGN1cnJlbnRQcm9wID09PSAiYnVybmluZyIgJiYgY3VycmVudFByb3BWYWx1ZSA9PT0gInRydWUiKSB7DQoJCQlwaXhlbC5idXJuU3RhcnQgPSBwaXhlbFRpY2tzOw0KCQkJcmV0dXJuOw0KCQl9DQoJCWlmICgoY3VycmVudFByb3AgPT09ICJ4IiB8fCBjdXJyZW50UHJvcCA9PT0gInkiKSAmJiAhaXNOYU4oY3VycmVudFByb3BWYWx1ZSkpIHsNCgkJCWxldCBjb29yZHMgPSB7eDpwaXhlbC54LCB5OnBpeGVsLnl9Ow0KCQkJY29vcmRzW2N1cnJlbnRQcm9wXSA9IGN1cnJlbnRQcm9wVmFsdWU7DQoJCQlpZiAob3V0T2ZCb3VuZHMoY29vcmRzLngsY29vcmRzLnkpKSB7DQoJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAoaXNFbXB0eShjb29yZHMueCxjb29yZHMueSkpIHsNCgkJCQl0cnlNb3ZlKHBpeGVsLGNvb3Jkcy54LGNvb3Jkcy55KTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWxvZ01lc3NhZ2UoIkNhbm5vdCBtb3ZlIHBpeGVsIikNCgkJCX0NCgkJCXJldHVybjsNCgkJfQ0KCQlwaXhlbFtjdXJyZW50UHJvcF0gPSBjdXJyZW50UHJvcFZhbHVlOw0KCQlpZiAoY3VycmVudFByb3AgPT09ICJ0ZW1wIikgcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCX0sDQoJY2F0ZWdvcnk6ICJzcGVjaWFsIiwNCn0sDQovL2ljZSBjb2xvcjogIiNjNWU5ZjAiDQoic2FsdF9pY2UiOiB7IGNvbG9yOiAiI2I2Y2VkNCIgfSwNCiJzdWdhcl9pY2UiOiB7IGNvbG9yOiAiI2M4ZGVlMyIgfSwNCiJzZWx0emVyX2ljZSI6IHsgY29sb3I6ICIjYTdjNGM5IiB9LA0KImRpcnR5X2ljZSI6IHsgY29sb3I6ICIjYTlkOWM3IiB9LA0KInBvb2xfaWNlIjogeyBjb2xvcjogIiNjMGVmZjAiIH0sDQoiYmxvb2RfaWNlIjogeyBjb2xvcjogIiNmZjcwNzAiIH0sDQoiYW50aWJvZHlfaWNlIjogeyBjb2xvcjogIiNmZjgwODAiIH0sDQoiaW5mZWN0aW9uX2ljZSI6IHsgY29sb3I6ICIjZmY3MDkwIiB9DQoNCn07DQoNCi8vIGRldGVjdCBpZiBkaXNjb3JkIGFjdGl2aXR5DQppZiAoIXN0YW5kYWxvbmUgJiYgbG9jYXRpb24uaG9zdG5hbWUubWF0Y2goL2Rpc2NvcmRzYXlzL2kpKSB7DQoJc3RhbmRhbG9uZSA9IHRydWU7DQoJc3RhbmRhbG9uZVR5cGUgPSAiZGlzY29yZCI7DQp9DQoNCi8vIHN0YW5kYWxvbmUgZ2xvdy5qcw0KaWYgKHN0YW5kYWxvbmUpIHsNCgl2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJc2NyaXB0LnNyYyA9ICJtb2RzL2dsb3cuanMiOw0KCWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCglpZiAoc3RhbmRhbG9uZVR5cGUgPT09ICJzdGVhbSIpIHsNCgkJdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0KCQlzY3JpcHQuc3JjID0gIm1vZHMvc3RlYW1fcG9ydC5qcyI7DQoJCWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCgl9DQoJZWxzZSBpZiAoc3RhbmRhbG9uZVR5cGUgPT09ICJkaXNjb3JkIikgew0KCQl2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJCXNjcmlwdC5zcmMgPSAibW9kcy9kaXNjb3JkX3BvcnQuanMiOw0KCQlkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7DQoJfQ0KDQoJZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoInN0YW5kYWxvbmUiKTsNCn0NCg0KdmFyIGN1cnJlbnRNb250aCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKTsNCmlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygiaG9saWRheT1mYWxzZSIpKSB7fQ0KZWxzZSBpZiAoY3VycmVudE1vbnRoID09IDMpIHsgLy8gQXByaWwNCglpZiAobmV3IERhdGUoKS5nZXREYXRlKCkgPD0gMyAmJiAhc3RhbmRhbG9uZSkgew0KCQl2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJCXNjcmlwdC5zcmMgPSAibW9kcy9mb29sczI1LmpzIjsNCgkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOw0KCX0NCgllbHNlIGlmIChuZXcgRGF0ZSgpLmdldERhdGUoKSA9PT0gMjApIHsNCgkJZWxlbWVudHMuZWdnLmNvbG9yID0gZWxlbWVudHMuYmVhZC5jb2xvcjsNCgl9DQp9DQplbHNlIGlmIChjdXJyZW50TW9udGggPT0gOSkgeyAvLyBPY3RvYmVyDQoJZWxlbWVudHMucHVtcGtpbl9zZWVkLmhpZGRlbiA9IGZhbHNlOw0KCWlmICghc3RhbmRhbG9uZSkgew0KCQl2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJCXNjcmlwdC5zcmMgPSAibW9kcy9zb3Vscy5qcyINCgkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOw0KCX0NCglpZiAobmV3IERhdGUoKS5nZXREYXRlKCkgPj0gMzApIHsNCgkJZWxlbWVudHMuYm9keS5jb2xvciA9ICIjYmY1YzAwIjsNCgl9DQoJZWxlbWVudHMuY2FuZHkuY29sb3JQYXR0ZXJuID0gWw0KCQkiVyIsIlciLCJXIiwiVyIsIlciLA0KCQkiTyIsIk8iLCJPIiwiTyIsIk8iLA0KCQkiWSIsIlkiLCJZIiwiWSIsIlkiLA0KCV0NCgllbGVtZW50cy5jYW5keS5jb2xvcktleSA9IHsiVyI6IiNmZmZmZmYiLCAiWSI6IiNmZmNkNTUiLCAiTyI6IiNmZjk5MzMifQ0KCWVsZW1lbnRzLmNhbmR5LmNvbG9yID0gWyIjZmZmZmZmIiwiI2ZmZmZmZiIsIiNmZjk5MzMiLCIjZmY5OTMzIiwiI2ZmY2Q1NSIsIiNmZmNkNTUiXQ0KCWVsZW1lbnRzLmNhbmR5LmJyZWFrSW50b0NvbG9yID0gWyIjZmZmZmZmIiwiI2ZmY2Q1NSIsIiNmZjk5MzMiXQ0KfQ0KZWxzZSBpZiAoY3VycmVudE1vbnRoID09IDExKSB7IC8vIERlY2VtYmVyDQoJZWxlbWVudHMuY2FuZHkuY29sb3JQYXR0ZXJuID0gWw0KCQkiV1dSUlJXV1JSUiIsDQoJCSJXV1JSV1dXUlJXIiwNCgkJIldSUlJXV1JSUlciLA0KCQkiV1JSV1dXUlJXVyIsDQoJCSJSUlJXV1JSUldXIiwNCgkJIlJSV1dXUlJXV1ciLA0KCQkiUlJXV1JSUldXUiIsDQoJCSJSV1dXUlJXV1dSIiwNCgkJIlJXV1JSUldXUlIiLA0KCQkiV1dXUlJXV1dSUiIsDQoJXQ0KCWVsZW1lbnRzLmNhbmR5LmNvbG9yS2V5ID0geyJSIjoiI2M5MjYyNiIsICJXIjoiI2UzZTNlMyJ9DQoJZWxlbWVudHMuY2FuZHkuY29sb3IgPSBbIiNjOTI2MjYiLCIjZTNlM2UzIiwiI2M5MjYyNiIsIiNlM2UzZTMiLCIjYzkyNjI2Il0NCgllbGVtZW50cy5jYW5keS5icmVha0ludG9Db2xvciA9IFsiI2M5MjYyNiIsIiNlM2UzZTMiXQ0KfQ0KDQovLyBNb2QgTG9hZGVyDQpydW5BZnRlckxvYWRMaXN0ID0gW107DQovLyBydW5BZnRlckxvYWQoKSB0YWtlcyBhIGZ1bmN0aW9uIGFuZCBhZGRzIGl0IHRvIHRoZSBydW5BZnRlckxvYWRMaXN0Lg0KZnVuY3Rpb24gcnVuQWZ0ZXJMb2FkKGZ1bmMpIHsNCglydW5BZnRlckxvYWRMaXN0LnB1c2goZnVuYyk7DQp9DQpydW5BZnRlckF1dG9nZW5MaXN0ID0gW107DQpmdW5jdGlvbiBydW5BZnRlckF1dG9nZW4oY2FsbGJhY2spIHsNCglydW5BZnRlckF1dG9nZW5MaXN0LnB1c2goY2FsbGJhY2spOw0KfQ0KcmVuZGVyRWFjaFBpeGVsTGlzdCA9IFtdOw0KZnVuY3Rpb24gcmVuZGVyRWFjaFBpeGVsKGNhbGxiYWNrKSB7DQoJcmVuZGVyRWFjaFBpeGVsTGlzdC5wdXNoKGNhbGxiYWNrKTsNCn0NCnJlbmRlclBvc3RQaXhlbExpc3QgPSBbXTsNCmZ1bmN0aW9uIHJlbmRlclBvc3RQaXhlbChjYWxsYmFjaykgew0KCXJlbmRlclBvc3RQaXhlbExpc3QucHVzaChjYWxsYmFjayk7DQp9DQpyZW5kZXJQcmVQaXhlbExpc3QgPSBbXTsNCmZ1bmN0aW9uIHJlbmRlclByZVBpeGVsKGNhbGxiYWNrKSB7DQoJcmVuZGVyUHJlUGl4ZWxMaXN0LnB1c2goY2FsbGJhY2spOw0KfQ0KcnVuRXZlcnlUaWNrTGlzdCA9IFtdOw0KZnVuY3Rpb24gcnVuRXZlcnlUaWNrKGNhbGxiYWNrKSB7DQoJcnVuRXZlcnlUaWNrTGlzdC5wdXNoKGNhbGxiYWNrKTsNCn0NCnJ1blBlclBpeGVsTGlzdCA9IFtdOw0KZnVuY3Rpb24gcnVuUGVyUGl4ZWwoY2FsbGJhY2spIHsNCglydW5QZXJQaXhlbExpc3QucHVzaChjYWxsYmFjayk7DQp9DQpydW5BZnRlclJlc2V0TGlzdCA9IFtdOw0KZnVuY3Rpb24gcnVuQWZ0ZXJSZXNldChjYWxsYmFjaykgew0KCXJ1bkFmdGVyUmVzZXRMaXN0LnB1c2goY2FsbGJhY2spOw0KfQ0Kb25BZGRFbGVtZW50TGlzdCA9IFtdOw0KZnVuY3Rpb24gb25BZGRFbGVtZW50KGNhbGxiYWNrKSB7DQoJb25BZGRFbGVtZW50TGlzdC5wdXNoKGNhbGxiYWNrKTsNCn0NCnZhbGlkYXRlTW92ZXNMaXN0ID0gW107DQpmdW5jdGlvbiB2YWxpZGF0ZU1vdmVzKGNhbGxiYWNrKSB7DQoJdmFsaWRhdGVNb3Zlc0xpc3QucHVzaChjYWxsYmFjayk7DQp9DQpjYW52YXNMYXllcnMgPSB7DQoJLy8gYmc6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLA0KCXBpeGVsczogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksDQoJZ3VpOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKQ0KfTsNCmNhbnZhc0xheWVyc1ByZSA9IFsNCgkvLyBjYW52YXNMYXllcnMuYmcNCl0NCmNhbnZhc0xheWVyc1Bvc3QgPSBbDQoJY2FudmFzTGF5ZXJzLnBpeGVscywNCgljYW52YXNMYXllcnMuZ3VpDQpdDQpmdW5jdGlvbiBhZGRDYW52YXNMYXllcihuYW1lKSB7DQoJY2FudmFzTGF5ZXJzW25hbWVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7DQp9DQprZXliaW5kcyA9IHt9Ow0Ka2V5YmluZHNbIk1pbnVzIl0gPSAoKT0+eyAvLyBEZWNyZWFzZSB0aGUgbW91c2Ugc2l6ZSBieSAyDQoJaWYgKHNoaWZ0RG93bikge21vdXNlU2l6ZSA9IDF9DQoJZWxzZSB7DQoJCW1vdXNlU2l6ZSAtPSAyOw0KCQlpZiAobW91c2VTaXplIDwgMSkgeyBtb3VzZVNpemUgPSAxOyB9DQoJfQ0KCWNoZWNrTW91c2VTaXplKHRydWUpOw0KfQ0Ka2V5YmluZHNbIkJyYWNrZXRMZWZ0Il0gPSBrZXliaW5kc1siTWludXMiXTsNCmtleWJpbmRzWyJFcXVhbCJdID0gKCk9PnsgLy8gSW5jcmVhc2UgdGhlIG1vdXNlIHNpemUgYnkgMg0KCWlmIChzaGlmdERvd24pIHttb3VzZVNpemUgPSAobW91c2VTaXplKzE1KS0oKG1vdXNlU2l6ZSsxNSkgJSAxNSl9DQoJZWxzZSB7bW91c2VTaXplICs9IDI7fQ0KCWNoZWNrTW91c2VTaXplKHRydWUpOw0KfQ0Ka2V5YmluZHNbIkJyYWNrZXRSaWdodCJdID0ga2V5YmluZHNbIkVxdWFsIl07DQprZXliaW5kc1siU3BhY2UiXSA9ICgpPT57IC8vIFBhdXNlDQoJdG9nZ2xlUGF1c2UoKTsNCn0NCmtleWJpbmRzWyJLZXlQIl0gPSBrZXliaW5kc1siU3BhY2UiXTsNCmtleWJpbmRzWyJLZXlLIl0gPSBrZXliaW5kc1siU3BhY2UiXTsNCmtleWJpbmRzWyJCYWNrcXVvdGUiXSA9IGtleWJpbmRzWyJTcGFjZSJdOw0Ka2V5YmluZHNbIktleUUiXSA9ICgpPT57IC8vIFNlbGVjdCBlbGVtZW50DQoJY2hvb3NlRWxlbWVudFByb21wdCgpOw0KfQ0Ka2V5YmluZHNbIktleVIiXSA9ICgpPT57IC8vIFJlc2V0IGNhbnZhcw0KCXJlc2V0UHJvbXB0KCk7DQp9DQprZXliaW5kc1siUGVyaW9kIl0gPSAoKT0+eyAvLyBTaW5nbGUgZnJhbWUNCglkb0ZyYW1lKCk7DQp9DQprZXliaW5kc1siU2VtaWNvbG9uIl0gPSAoKT0+eyAvLyBUb2dnbGUgUmVwbGFjZSBNb2RlDQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcGxhY2VCdXR0b24iKS5jbGljaygpOw0KfQ0Ka2V5YmluZHNbIktleUkiXSA9ICgpPT57IC8vIFNob3cgaW5mbyBzY3JlZW4NCglzaG93SW5mbygpOw0KfQ0Ka2V5YmluZHNbIlNsYXNoIl0gPSBrZXliaW5kc1siS2V5SSJdOw0Ka2V5YmluZHNbIktleUYiXSA9ICgpPT57IC8vIFRvZ2dsZSBmdWxsc2NyZWVuDQoJaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7DQoJCWRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7DQoJfSBlbHNlIHsNCgkJcmVxdWVzdEZ1bGxTY3JlZW4oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsNCgl9DQp9DQprZXliaW5kc1siRjExIl0gPSBrZXliaW5kc1siS2V5RiJdOw0Ka2V5YmluZHNbIkFycm93UmlnaHQiXSA9ICgpPT57IC8vIENoYW5nZSBjYXRlZ29yeQ0KCXZhciBjdXJyZW50QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNhdGVnb3J5QnV0dG9uW2N1cnJlbnQ9J3RydWUnXSIpOw0KCXZhciBjdXJyZW50Q2F0ZWdvcnkgPSBjdXJyZW50QnV0dG9uLmdldEF0dHJpYnV0ZSgiY2F0ZWdvcnkiKTsNCgl2YXIgbmV4dEJ1dHRvbiA9IGN1cnJlbnRCdXR0b24ubmV4dEVsZW1lbnRTaWJsaW5nOw0KCWlmIChuZXh0QnV0dG9uID09PSBudWxsKSB7DQoJCW5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2F0ZWdvcnlCdXR0b24iKTsNCgl9DQoJdmFyIG5leHRDYXRlZ29yeSA9IG5leHRCdXR0b24uZ2V0QXR0cmlidXRlKCJjYXRlZ29yeSIpOw0KCXNlbGVjdENhdGVnb3J5KG5leHRDYXRlZ29yeSk7DQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5Q29udHJvbHMiKS5mb2N1cygpOw0KfQ0Ka2V5YmluZHNbIkFycm93TGVmdCJdID0gKCk9PnsgLy8gQ2hhbmdlIGNhdGVnb3J5DQoJdmFyIGN1cnJlbnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2F0ZWdvcnlCdXR0b25bY3VycmVudD0ndHJ1ZSddIik7DQoJdmFyIGN1cnJlbnRDYXRlZ29yeSA9IGN1cnJlbnRCdXR0b24uZ2V0QXR0cmlidXRlKCJjYXRlZ29yeSIpOw0KCXZhciBwcmV2QnV0dG9uID0gY3VycmVudEJ1dHRvbi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOw0KCWlmIChwcmV2QnV0dG9uID09PSBudWxsKSB7DQoJCXByZXZCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2F0ZWdvcnlCdXR0b246bGFzdC1jaGlsZCIpOw0KCX0NCgl2YXIgcHJldkNhdGVnb3J5ID0gcHJldkJ1dHRvbi5nZXRBdHRyaWJ1dGUoImNhdGVnb3J5Iik7DQoJc2VsZWN0Q2F0ZWdvcnkocHJldkNhdGVnb3J5KTsNCn0NCmtleWJpbmRzWyJLZXlNIl0gPSAoKT0+eyAvLyBPcGVuIE1vZCBNYW5hZ2VyDQoJY2xvc2VNZW51KCk7DQoJc2hvd01vZE1hbmFnZXIoKTsNCn0NCmtleWJpbmRzWyJCYWNrc2xhc2giXSA9ICgpPT57IC8vIE9wZW4gc2V0dGluZ3MNCgljbG9zZU1lbnUoKTsNCglzaG93U2V0dGluZ3MoKTsNCn0NCmtleWJpbmRzWyJLZXlMIl0gPSAoZSk9PnsgLy8gT3BlbiBzYXZlcw0KCWNsb3NlTWVudSgpOw0KCXNob3dTYXZlcygpOw0KfQ0Ka2V5YmluZHNbIktleUMiXSA9ICgpPT57IC8vIFNjcmVlbnNob3QNCglsZXQgcG5nID0gZ2VuZXJhdGVTY3JlZW5zaG90KCk7DQoNCgl2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCglsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAoKGN1cnJlbnRTYXZlRGF0YSAmJiBjdXJyZW50U2F2ZURhdGEubmFtZSkgPyBjdXJyZW50U2F2ZURhdGEubmFtZSA6ICdzYW5kYm94ZWxzLXNjcmVlbnNob3QnKSArICIucG5nIik7DQoJbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBwbmcucmVwbGFjZSgiaW1hZ2UvcG5nIiwgImltYWdlL29jdGV0LXN0cmVhbSIpKTsNCglkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOw0KCWxpbmsuY2xpY2soKTsNCglkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOw0KfQ0Ka2V5YmluZHNbIkYyIl0gPSBrZXliaW5kc1siS2V5QyJdOw0Ka2V5YmluZHNbIktleUgiXSA9ICgpPT57IC8vIEhpZGUgcmVuZGVyaW5nDQoJaGlkaW5nID0gIWhpZGluZzsNCgl2YXIgbG9hZGluZ1AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZ1AiKTsNCglpZiAoaGlkaW5nKSB7DQoJCWxvYWRpbmdQLmlubmVySFRNTCA9ICJDYW52YXMgaXMgaGlkZGVuLiBQcmVzcyBIIHRvIHVuaGlkZSINCgkJbG9hZGluZ1Auc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXNEaXYiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCX0NCgllbHNlIHsNCgkJbG9hZGluZ1Auc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhc0RpdiIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCX0NCn0NCmtleWJpbmRzWyJLZXlaIl0gPSAoKT0+eyAvLyBTZWNvbmRhcnkgZWxlbWVudA0KCWlmIChzdG9yZWRFbGVtZW50ID09PSBudWxsKSB7DQoJCXN0b3JlZEVsZW1lbnQgPSB7ZWxlbWVudDpjdXJyZW50RWxlbWVudCwgcHJvcDpjdXJyZW50RWxlbWVudFByb3B9DQoJCXNlbGVjdEVsZW1lbnQoZmlyc3RFbGVtZW50KQ0KCX0NCgllbHNlIHsNCgkJdmFyIHRlbXAgPSBzdG9yZWRFbGVtZW50Ow0KCQlzdG9yZWRFbGVtZW50ID0ge2VsZW1lbnQ6Y3VycmVudEVsZW1lbnQsIHByb3A6Y3VycmVudEVsZW1lbnRQcm9wfQ0KCQlzZWxlY3RFbGVtZW50KHRlbXAuZWxlbWVudCk7DQoJCWN1cnJlbnRFbGVtZW50UHJvcCA9IHRlbXAucHJvcDsNCgl9DQoJc2VsZWN0Q2F0ZWdvcnkoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLmNhdGVnb3J5KTsNCn0NCmtleWJpbmRzWyJCYWNrc3BhY2UiXSA9ICgpPT57IC8vIFNlbGVjdCBwcmV2aW91cyBlbGVtZW50DQoJaWYgKHByZXZFbGVtZW50KSB7DQoJCXNlbGVjdEVsZW1lbnQocHJldkVsZW1lbnQpDQoJfQ0KfQ0KLy8gSWYgdGhlIGxvY2FsU3RvcmFnZSBrZXkgImVuYWJsZWRNb2RzIiBleGlzdHMsIGxvYWQgaXQgYXMgYW4gYXJyYXkuDQovLyBJZiBpdCBkb2Vzbid0IGV4aXN0LCBjcmVhdGUgYW4gZW1wdHkgYXJyYXkuDQplbmFibGVkTW9kcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbmFibGVkTW9kcyIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW5hYmxlZE1vZHMiKSkgOiBbXTsNCmVuYWJsZWRNb2ROYW1lcyA9IFtdOw0KbG9hZGVkTW9kcyA9IFtdOw0KcXVldWVkTW9kcyA9IFtdOw0KZGVwZW5kZW50cyA9IHt9Ow0KcXVldWVkRGVwZW5kZW5jaWVzID0gW107DQovLyBNb2QgZGVwZW5kZW5jaWVzDQpmdW5jdGlvbiBkZXBlbmRPbihtb2ROYW1lLCBjYWxsYmFjaywgZm9yY2VMb2FkKSB7DQoJaWYgKGxvYWRlZE1vZHMuaW5kZXhPZihtb2ROYW1lKSAhPT0gLTEpIHsNCgkJY2FsbGJhY2soKTsNCgkJcmV0dXJuDQoJfQ0KCWlmICghZGVwZW5kZW50c1ttb2ROYW1lXSkgew0KCQlkZXBlbmRlbnRzW21vZE5hbWVdID0gW107DQoJfQ0KCWRlcGVuZGVudHNbbW9kTmFtZV0ucHVzaChjYWxsYmFjayk7DQoJaWYgKGZvcmNlTG9hZCAmJiBsb2FkZWRNb2RzLmluZGV4T2YobW9kTmFtZSkgPT09IC0xICYmIHF1ZXVlZE1vZHMuaW5kZXhPZihtb2ROYW1lKSA9PT0gLTEgJiYgcXVldWVkRGVwZW5kZW5jaWVzLmluZGV4T2YobW9kTmFtZSkgPT09IC0xKSB7DQoJCXF1ZXVlZERlcGVuZGVuY2llcy5wdXNoKChtb2ROYW1lLnN0YXJ0c1dpdGgoImh0dHAiKSA/ICIiIDogKHN0YW5kYWxvbmUgPyAiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL21vZHMvIiA6ICJtb2RzLyIpKSArIG1vZE5hbWUpOw0KCX0NCn0NCmZ1bmN0aW9uIGNoZWNrRGVwZW5kZW50cyhtb2ROYW1lKSB7DQoJaWYgKGxvYWRlZE1vZHMuaW5kZXhPZihtb2ROYW1lKSAhPT0gLTEpIHsNCgkJcmV0dXJuOw0KCX0NCglpZiAoZGVwZW5kZW50c1ttb2ROYW1lXSkgew0KCQlmb3IgKGxldCBpID0gMDsgaSA8IGRlcGVuZGVudHNbbW9kTmFtZV0ubGVuZ3RoOyBpKyspIHsNCgkJCWRlcGVuZGVudHNbbW9kTmFtZV1baV0oKTsNCgkJfQ0KCX0NCn0NCmZ1bmN0aW9uIG1vZElzRW5hYmxlZChtb2ROYW1lKSB7DQoJaWYgKG1vZE5hbWUuaW5kZXhPZigiLyIpICE9PSAtMSkgew0KCQltb2ROYW1lID0gbW9kTmFtZS5tYXRjaCgvXC9bXlwvXSskL2cpWzBdLnN1YnN0cmluZygxKTsNCgl9DQoJcmV0dXJuIGVuYWJsZWRNb2ROYW1lcy5pbmRleE9mKG1vZE5hbWUpICE9PSAtMTsNCn0NCmZvciAodmFyIGkgPSAwOyBpIDwgZW5hYmxlZE1vZHMubGVuZ3RoOyBpKyspIHsNCglsZXQgc3JjID0gZW5hYmxlZE1vZHNbaV07DQoJbGV0IHNwbGl0ID0gc3JjLnNwbGl0KCIvIik7DQoJbGV0IG1vZE5hbWUgPSBzcGxpdFtzcGxpdC5sZW5ndGgtMV07DQoJZW5hYmxlZE1vZE5hbWVzLnB1c2gobW9kTmFtZSk7DQp9DQppZiAoc3RhbmRhbG9uZSAmJiB3aW5kb3cuaW5pdGlhbERhdGEgJiYgd2luZG93LmluaXRpYWxEYXRhLm1vZFNjcmlwdHMpIHsNCglmb3IgKGxldCBtb2ROYW1lIGluIHdpbmRvdy5pbml0aWFsRGF0YS5tb2RTY3JpcHRzKSB7DQoJCWxldCBqcyA9IHdpbmRvdy5pbml0aWFsRGF0YS5tb2RTY3JpcHRzW21vZE5hbWVdOw0KCQlsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJCXNjcmlwdC5pbm5lckhUTUwgPSBqczsNCgkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOw0KCX0NCglkZWxldGUgd2luZG93LmluaXRpYWxEYXRhLm1vZFNjcmlwdHM7DQp9DQovLyBSdW4gYWxsIHNjcmlwdHMgaW4gdGhlIGVuYWJsZWRNb2RzIGFycmF5LCBpZiBpdCBmYWlscyBwcmludCB0byBjb25zb2xlDQpmb3IgKHZhciBpID0gMDsgaSA8IGVuYWJsZWRNb2RzLmxlbmd0aDsgaSsrKSB7DQoJdHJ5IHsNCgkJbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0KCQlsZXQgc3JjID0gZW5hYmxlZE1vZHNbaV07DQoJCWxldCBzcGxpdCA9IHNyYy5zcGxpdCgiLyIpOw0KCQlsZXQgbW9kTmFtZSA9IHNwbGl0W3NwbGl0Lmxlbmd0aC0xXTsNCgkJaWYgKHNyYy5zdGFydHNXaXRoKCJodHRwIikpIHsNCgkJCW1vZE5hbWUgPSBzcmM7DQoJCX0NCgkJcXVldWVkTW9kcy5wdXNoKG1vZE5hbWUpOw0KCQlzY3JpcHQuc3JjID0gc3JjOw0KCQlzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7DQoJCQljaGVja0RlcGVuZGVudHMobW9kTmFtZSk7DQoJCQlsb2FkZWRNb2RzLnB1c2gobW9kTmFtZSk7DQoNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7DQoJCQkJdHJ5IHsNCgkJCQkJbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0KCQkJCQlsZXQgc3JjID0gcXVldWVkRGVwZW5kZW5jaWVzW2ldOw0KCQkJCQlsZXQgc3BsaXQgPSBzcmMuc3BsaXQoIi8iKTsNCgkJCQkJbGV0IG1vZE5hbWUgPSBzcGxpdFtzcGxpdC5sZW5ndGgtMV07DQoJCQkJCWlmIChzcmMuc3RhcnRzV2l0aCgiaHR0cCIpKSB7DQoJCQkJCQltb2ROYW1lID0gc3JjOw0KCQkJCQl9DQoJCQkJCXF1ZXVlZE1vZHMucHVzaChtb2ROYW1lKTsNCgkJCQkJc2NyaXB0LnNyYyA9IHNyYzsNCgkJCQkJc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpew0KCQkJCQkJY2hlY2tEZXBlbmRlbnRzKG1vZE5hbWUpOw0KCQkJCQkJbG9hZGVkTW9kcy5wdXNoKG1vZE5hbWUpOw0KCQkJCQl9KQ0KCQkJCQlkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7DQoJCQkJfSBjYXRjaCAoZSkgew0KCQkJCQljb25zb2xlLmxvZygiRXJyb3IgaW4gbW9kOiAiICsgcXVldWVkRGVwZW5kZW5jaWVzW2ldKTsNCgkJCQkJY29uc29sZS5sb2coZSk7DQoJCQkJfQ0KCQkJfQ0KCQl9KQ0KCQlkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7DQoJfSBjYXRjaCAoZSkgew0KCQljb25zb2xlLmxvZygiRXJyb3IgaW4gbW9kOiAiICsgZW5hYmxlZE1vZHNbaV0pOw0KCQljb25zb2xlLmxvZyhlKTsNCgl9DQp9DQovLyBpZiB0aGUgVVJMIGNvbnRhaW5zIGZvb2xzPXRydWUsIGxvYWQgdGhlIGZvb2xzLmpzIG1vZA0KaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJmb29scz10cnVlIikpIHsNCgl2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJc2NyaXB0LnNyYyA9ICJtb2RzL2Zvb2xzLmpzIg0KCWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCn0NCi8vIExhbmd1YWdlIExvYWRlcg0KbGFuZ0NvZGUgPSBudWxsOw0KbGFuZyA9IHt9Ow0KaWYgKHVybFBhcmFtcy5oYXMoImxhbmciKSAmJiB1cmxQYXJhbXMuZ2V0KCJsYW5nIikgIT09ICJlbiIpIHsNCglsYW5nQ29kZSA9IHVybFBhcmFtcy5nZXQoImxhbmciKTsNCn0NCmVsc2UgaWYgKHNldHRpbmdzLmxhbmcgJiYgc2V0dGluZ3MubGFuZyAhPT0gImVuIikgew0KCWxhbmdDb2RlID0gc2V0dGluZ3MubGFuZzsNCn0NCmVsc2UgaWYgKHdpbmRvdy5pbml0aWFsRGF0YSAmJiB3aW5kb3cuaW5pdGlhbERhdGEubGFuZ0NvZGUgJiYgd2luZG93LmluaXRpYWxEYXRhLmxhbmdDb2RlICE9PSAiZW4iKSB7DQoJbGFuZ0NvZGUgPSB3aW5kb3cuaW5pdGlhbERhdGEubGFuZ0NvZGU7DQp9DQovLyBsYW5nQ29kZSA9ICJ0ZXN0IjsNCmlmIChsYW5nQ29kZSkgew0KCXRyeSB7DQoJCXZhciBIdHRwcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQoJCUh0dHByZXEub3BlbigiR0VUIiwiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tL2xhbmcvIitsYW5nQ29kZSsiLmpzb24iLGZhbHNlKTsNCgkJSHR0cHJlcS5zZW5kKG51bGwpOw0KCQl0cnkgew0KCQkJbGFuZyA9IEpTT04ucGFyc2UoSHR0cHJlcS5yZXNwb25zZVRleHQucmVwbGFjZSgvXFwiL2csIiIpKTsNCgkJfQ0KCQljYXRjaCAoZSkgew0KCQkJY29uc29sZS5sb2cobGFuZ0NvZGUrIiBUcmFuc2xhdGlvbiBFcnJvcjogIitlKTsNCgkJfQ0KCQkvLyBsYW5nID0gew0KCQkvLwkgImd1aS5wYXVzZUJ1dHRvbiI6ICJTVE9QUFBQUFBQUFBQIiwNCgkJLy8JICJndWkucGF1c2VCdXR0b24udGl0bGUiOiAiU1RPUCIsDQoJCS8vCSAiZ3VpdGVtcGxhdGUuZWxlbWVudENvdW50IjogIkVsZW1lbnRzOiAkMSB8IEhpZGRlbjogJDIiLA0KCQkvLwkgImd1aS5zdGF0cy5idXJuaW5nIjogIkxJVCIsDQoJCS8vCSAiZ3VpLnNhdmVUZW1wIjogIlRIRSBURU1QIiwNCgkJLy8JICJndWkuc2F2ZUF1dGhvciI6ICJFTlRFUiBVUiBOQU1FIiwNCgkJLy8JICJndWkuc2V0dGluZ1VuaXRzSSI6ICJBTUVSSUNBIiwNCgkJLy8gfQ0KCQlpZiAobGFuZ1siI2xhbmcuZm9udCJdKSB7DQoJCQl2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOw0KCQkJc3R5bGUuaW5uZXJIVE1MID0gImJvZHl7Zm9udC1mYW1pbHk6JyIrbGFuZ1siI2xhbmcuZm9udCJdKyInIWltcG9ydGFudDt9Ig0KCQkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7DQoJCX0NCgl9DQoJY2F0Y2ggeyBsYW5nQ29kZSA9IG51bGwgfQ0KfQ0KZnVuY3Rpb24gbGFuZ0tleShrZXksZmFsbGJhY2ssdGVtcGxhdGUpIHsNCglpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkgew0KCQlsZXQgdGV4dCA9IGxhbmdba2V5XSB8fCBmYWxsYmFjazsNCgkJZm9yIChsZXQgdGVtcGxhdGVLZXkgaW4gdGVtcGxhdGUpIHsNCgkJCXRleHQgPSB0ZXh0LnJlcGxhY2UoIiQiK3RlbXBsYXRlS2V5LCB0ZW1wbGF0ZVt0ZW1wbGF0ZUtleV0pOw0KCQl9DQoJCXJldHVybiB0ZXh0Ow0KCX0NCglpZiAobGFuZ1trZXldID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxsYmFjazsNCglyZXR1cm4gbGFuZ1trZXldOw0KfQ0KDQoJCWZ1bmN0aW9uIGhleFRvUkdCKGhleCkgew0KCQkJdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkkL2kuZXhlYyhoZXgpOw0KCQkJcmV0dXJuIHJlc3VsdCA/IHsNCgkJCQlyOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSwNCgkJCQlnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSwNCgkJCQliOiBwYXJzZUludChyZXN1bHRbM10sIDE2KQ0KCQkJfSA6IG51bGw7DQoJCX0NCgkJZnVuY3Rpb24gUkdCVG9IZXgocmdiKSB7DQoJCQl2YXIgciA9IHBhcnNlSW50KHJnYi5yfHxyZ2JbMF0pOw0KCQkJdmFyIGcgPSBwYXJzZUludChyZ2IuZ3x8cmdiWzFdKTsNCgkJCXZhciBiID0gcGFyc2VJbnQocmdiLmJ8fHJnYlsyXSk7DQoJCQlyZXR1cm4gIiMiICsgKCgxIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYikudG9TdHJpbmcoMTYpLnNsaWNlKDEpOw0KCQl9DQoJCS8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL21qYWNrc29uLzUzMTEyNTYNCgkJZnVuY3Rpb24gUkdCVG9IU0wocmdiKXt2YXIgZSxyLGM9cmdiWzBdLzI1NSxzPXJnYlsxXS8yNTUsaT1yZ2JbMl0vMjU1LG49TWF0aC5tYXgoYyxzLGkpLCQ9TWF0aC5taW4oYyxzLGkpLHQ9KG4rJCkvMjtpZihuPT0kKWU9cj0wO2Vsc2V7dmFyIGI9bi0kO3N3aXRjaChyPXQ+LjU/Yi8oMi1uLSQpOmIvKG4rJCksbil7Y2FzZSBjOmU9KHMtaSkvYisoczxpPzY6MCk7YnJlYWs7Y2FzZSBzOmU9KGktYykvYisyO2JyZWFrO2Nhc2UgaTplPShjLXMpL2IrNH1lLz02fXJldHVybltlLHIsdF19DQoJCWZ1bmN0aW9uIEhTTHRvUkdCKGhzbCl7dmFyIG4scix0LCQ9aHNsWzBdLGU9aHNsWzFdLHU9aHNsWzJdO2lmKDA9PWUpbj1yPXQ9dTtlbHNle2Z1bmN0aW9uIGYoXyxuLHIpe3JldHVybihyPDAmJihyKz0xKSxyPjEmJihyLT0xKSxyPDEvNik/Xysobi1fKSo2KnI6cjwuNT9uOnI8Mi8zP18rKG4tXykqKDIvMy1yKSo2Ol99dmFyIGk9dTwuNT91KigxK2UpOnUrZS11KmUsbz0yKnUtaTtuPWYobyxpLCQrMS8zKSxyPWYobyxpLCQpLHQ9ZihvLGksJC0xLzMpfXJldHVyblsyNTUqbiwyNTUqciwyNTUqdF19DQoJCWZ1bmN0aW9uIGF2ZXJhZ2VSR0IocmdibGlzdCkgew0KCQkJdmFyIHIgPSAwOw0KCQkJdmFyIGcgPSAwOw0KCQkJdmFyIGIgPSAwOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCByZ2JsaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJbGV0IHJnYiA9IHJnYmxpc3RbaV07DQoJCQkJbGV0IG5ld3IsIG5ld2csIG5ld2I7DQoJCQkJaWYgKEFycmF5LmlzQXJyYXkocmdiKSkgew0KCQkJCQluZXdyID0gcmdiWzBdLCBuZXdnID0gcmdiWzFdLCBuZXdiID0gcmdiWzJdOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJbmV3ciA9IHJnYi5yLCBuZXdnID0gcmdiLmcsIG5ld2IgPSByZ2IuYjsNCgkJCQl9DQoJCQkJciArPSBwYXJzZUludChuZXdyKTsNCgkJCQlnICs9IHBhcnNlSW50KG5ld2cpOw0KCQkJCWIgKz0gcGFyc2VJbnQobmV3Yik7DQoJCQl9DQoJCQlyID0gTWF0aC5mbG9vcihyL3JnYmxpc3QubGVuZ3RoKTsNCgkJCWcgPSBNYXRoLmZsb29yKGcvcmdibGlzdC5sZW5ndGgpOw0KCQkJYiA9IE1hdGguZmxvb3IoYi9yZ2JsaXN0Lmxlbmd0aCk7DQoJCQlyZXR1cm4gInJnYigiK3IrIiwiK2crIiwiK2IrIikiOw0KCQl9DQoNCgkJbG9nSW50ZXJ2YWwgPSBudWxsOw0KCQlmdW5jdGlvbiBsb2dNZXNzYWdlKHRleHQpIHsNCgkJCXRleHQgPSB0ZXh0LnRvU3RyaW5nKCk7DQoJCQl2YXIgbG9nVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dUZXh0Iik7DQoJCQl0ZXh0ID0gdGV4dC5yZXBsYWNlKC88L2csICImbHQ7IikucmVwbGFjZSgvPi9nLCAiJmd0OyIpLnJlcGxhY2UoLyYvZywgIiZhbXA7Iik7DQoJCQlsb2dUZXh0LmlubmVySFRNTCArPSAiXG4iK3RleHQ7DQoJCQlsb2dUZXh0LmlubmVySFRNTCA9IGxvZ1RleHQuaW5uZXJIVE1MLnRyaW0oKTsNCgkJCWlmIChsb2dUZXh0LmlubmVySFRNTC5zcGxpdCgiXG4iKS5sZW5ndGggPiAxMCkgew0KCQkJCXZhciBsaW5lcyA9IGxvZ1RleHQuaW5uZXJIVE1MLnNwbGl0KCJcbiIpOw0KCQkJCWxpbmVzLnNoaWZ0KCk7DQoJCQkJbG9nVGV4dC5pbm5lckhUTUwgPSBsaW5lcy5qb2luKCJcbiIpOw0KCQkJfQ0KCQkJaWYgKCFsb2dJbnRlcnZhbCkgew0KCQkJCWxvZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsNCgkJCQkJdmFyIGxpbmVzID0gbG9nVGV4dC5pbm5lckhUTUwuc3BsaXQoIlxuIik7DQoJCQkJCWxpbmVzLnNoaWZ0KCk7DQoJCQkJCWxvZ1RleHQuaW5uZXJIVE1MID0gbGluZXMuam9pbigiXG4iKTsNCgkJCQkJaWYgKGxvZ1RleHQuaW5uZXJIVE1MLmxlbmd0aCA9PT0gMCkgew0KCQkJCQkJY2xlYXJJbnRlcnZhbChsb2dJbnRlcnZhbCk7DQoJCQkJCQlsb2dJbnRlcnZhbCA9IG51bGw7DQoJCQkJCX0NCgkJCQl9LCAzMDAwKQ0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIGNsZWFyTG9nKCkgew0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ1RleHQiKS5pbm5lckhUTUwgPSAiIjsNCgkJCWlmIChsb2dJbnRlcnZhbCkge2NsZWFySW50ZXJ2YWwobG9nSW50ZXJ2YWwpO30NCgkJCWxvZ0ludGVydmFsID0gbnVsbDsNCgkJfQ0KDQoJCWN1cnJlbnRQaXhlbHMgPSBbXTsNCgkJLy9jdXJyZW50SUQgPSAwOw0KCQkvLyBQaXhlbCBjbGFzcywgd2l0aCBhdHRyaWJ1dGVzIHN1Y2ggYXMgeCwgeSwgYW5kIGVsZW1lbnQNCgkJY2xhc3MgUGl4ZWwgew0KCQkJY29uc3RydWN0b3IoeCwgeSwgZWxlbWVudCkgew0KCQkJCXRoaXMueCA9IHg7DQoJCQkJdGhpcy55ID0geTsNCgkJCQlpZiAoIWVsZW1lbnRzW2VsZW1lbnRdKSB7DQoJCQkJCXRoaXMuaW52YWxpZEVsZW1lbnQgPSBlbGVtZW50Ow0KCQkJCQllbGVtZW50ID0gInVua25vd24iOw0KCQkJCX0NCgkJCQl0aGlzLmVsZW1lbnQgPSBlbGVtZW50Ow0KCQkJCXZhciBlbGVtZW50SW5mbyA9IGVsZW1lbnRzW2VsZW1lbnRdOw0KCQkJCWlmIChlbGVtZW50SW5mby5jb2xvclBhdHRlcm4gJiYgc2V0dGluZ3MudGV4dHVyZXMhPT0wKSB7DQoJCQkJCXRoaXMuY29sb3IgPSBjb2xvclBhdHRlcm5QaWNrKHRoaXMpOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJdGhpcy5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHRoaXMpOw0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudEluZm8uYWxwaGEgIT09IHVuZGVmaW5lZCkgew0KCQkJCQl0aGlzLmFscGhhID0gZWxlbWVudEluZm8uYWxwaGE7DQoJCQkJfQ0KCQkJCS8vIElmIGVsZW1lbnQgZG9lc24ndCBoYXZlIHRlbXAgYXR0cmlidXRlLCBzZXQgdGVtcCB0byBhaXJUZW1wDQoJCQkJaWYgKGVsZW1lbnRJbmZvLnRlbXA9PT11bmRlZmluZWQpIHsNCgkJCQkJdGhpcy50ZW1wID0gYWlyVGVtcDsNCgkJCQl9IGVsc2Ugew0KCQkJCQl0aGlzLnRlbXAgPSBlbGVtZW50SW5mby50ZW1wKyhhaXJUZW1wLTIwKTsNCgkJCQl9DQoJCQkJdGhpcy5zdGFydCA9IHBpeGVsVGlja3M7DQoJCQkJLy90aGlzLmlkID0gY3VycmVudElEOw0KCQkJCS8vY3VycmVudElEKys7DQoJCQkJaWYgKGVsZW1lbnRJbmZvLmJ1cm5pbmcgJiYgc2V0dGluZ3MuYnVybiE9PTApIHsNCgkJCQkJdGhpcy5idXJuaW5nID0gdHJ1ZTsNCgkJCQkJdGhpcy5idXJuU3RhcnQgPSBwaXhlbFRpY2tzOw0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudEluZm8uY2hhcmdlKSB7DQoJCQkJCXRoaXMuY2hhcmdlID0gZWxlbWVudEluZm8uY2hhcmdlOw0KCQkJCX0NCgkJCQkvLyBJZiBlbGVtZW50SW5mby5mbGlwcGFibGVYLCBzZXQgaXQgdG8gdHJ1ZSBvciBmYWxzZSByYW5kb21seQ0KCQkJCWlmIChlbGVtZW50SW5mby5mbGlwWCAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZmxpcFggPSBlbGVtZW50SW5mby5mbGlwWCB9DQoJCQkJZWxzZSBpZiAoZWxlbWVudEluZm8uZmxpcHBhYmxlWCkgew0KCQkJCQl0aGlzLmZsaXBYID0gTWF0aC5yYW5kb20oKSA+PSAwLjU7DQoJCQkJfQ0KCQkJCS8vIElmIGVsZW1lbnRJbmZvLmZsaXBwYWJsZVksIHNldCBpdCB0byB0cnVlIG9yIGZhbHNlIHJhbmRvbWx5DQoJCQkJaWYgKGVsZW1lbnRJbmZvLmZsaXBZICE9PSB1bmRlZmluZWQpIHsgdGhpcy5mbGlwWSA9IGVsZW1lbnRJbmZvLmZsaXBZIH0NCgkJCQllbHNlIGlmIChlbGVtZW50SW5mby5mbGlwcGFibGVZKSB7DQoJCQkJCXRoaXMuZmxpcFkgPSBNYXRoLnJhbmRvbSgpID49IDAuNTsNCgkJCQl9DQoJCQkJLy8gSWYgZWxlbWVudEluZm8ucm90YXRhYmxlLCBzZXQgaXQgdG8gYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAzDQoJCQkJaWYgKGVsZW1lbnRJbmZvLnIgIT09IHVuZGVmaW5lZCkgeyB0aGlzLnIgPSBlbGVtZW50SW5mby5yIH0NCgkJCQllbHNlIGlmIChlbGVtZW50SW5mby5yb3RhdGFibGUpIHsNCgkJCQkJdGhpcy5yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCk7DQoJCQkJfQ0KCQkJCS8vIElmIGVsZW1lbnRJbmZvLnByb3BlcnRpZXMsIHNldCBlYWNoIGtleSB0byBpdHMgdmFsdWUNCgkJCQlpZiAoZWxlbWVudEluZm8ucHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJCWZvciAodmFyIGtleSBpbiBlbGVtZW50SW5mby5wcm9wZXJ0aWVzKSB7DQoJCQkJCQkvLyBJZiBpdCBpcyBhbiBhcnJheSBvciBvYmplY3QsIG1ha2UgYSBjb3B5IG9mIGl0DQoJCQkJCQlpZiAodHlwZW9mIGVsZW1lbnRJbmZvLnByb3BlcnRpZXNba2V5XSA9PSAib2JqZWN0Iikgew0KCQkJCQkJCXRoaXNba2V5XSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZWxlbWVudEluZm8ucHJvcGVydGllc1trZXldKSk7DQoJCQkJCQl9DQoJCQkJCQllbHNlIHsNCgkJCQkJCQl0aGlzW2tleV0gPSBlbGVtZW50SW5mby5wcm9wZXJ0aWVzW2tleV07DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQkJcGl4ZWxNYXBbeF1beV0gPSB0aGlzOw0KCQkJCWlmIChhaXJUZW1wICE9PSAyMCkge3BpeGVsVGVtcENoZWNrKHRoaXMpOyBwaXhlbFRlbXBDaGVjayh0aGlzKX0NCgkJCX0NCgkJfQ0KCQlpZiAoc3RhbmRhbG9uZSAmJiBzZXR0aW5ncy5waXhlbHNpemUgPT09IHVuZGVmaW5lZCkgew0KCQkJc2V0dGluZ3MucGl4ZWxzaXplID0gc3RhbmRhbG9uZVR5cGUgPT09ICJzdGVhbSIgPyAiN3ciIDogIjZ3IjsNCgkJfQ0KCQkvLyBJZiB0aGUgc2NyZWVuIHNpemUgaXMgdW5kZXIgNzY4cHgsIHNldCBwaXhlbFNpemUgdG8gNSwgb3RoZXJ3aXNlIDYNCgkJcGl4ZWxTaXplID0gcGFyc2VJbnQoc2V0dGluZ3MucGl4ZWxzaXplKSB8fCA2Ow0KCQlpZiAod2luZG93LmlubmVyV2lkdGggPCA3MDApIHsNCgkJCXBpeGVsU2l6ZS0tOw0KCQl9DQoJCXBpeGVsU2l6ZUhhbGYgPSBwaXhlbFNpemUvMjsNCgkJcGl4ZWxTaXplMyA9IHBpeGVsU2l6ZSozOw0KCQkNCgkJZnVuY3Rpb24gb3V0T2ZCb3VuZHMoeCx5KSB7DQoJCQkvLyBSZXR1cm5zIHRydWUgaWYgdGhlIHBpeGVsIGlzIG91dCBvZiBib3VuZHMNCgkJCXJldHVybiB5ID4gaGVpZ2h0LWN1cnJlbnRTYXZlRGF0YS5ib3JkZXIgfHwgeSA8IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXIgfHwgeCA+IHdpZHRoLWN1cnJlbnRTYXZlRGF0YS5ib3JkZXIgfHwgeCA8IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXINCgkJfQ0KCQlmdW5jdGlvbiBvdXRPZlNpZ2h0KHgseSkgew0KCQkJcmV0dXJuIHkgPiBoZWlnaHQgfHwgeSA8IDAgfHwgeCA+IHdpZHRoIHx8IHggPCAwDQoJCX0NCgkJZnVuY3Rpb24gb25Cb3JkZXIoeCx5KSB7DQoJCQlyZXR1cm4geSA9PT0gaGVpZ2h0LWN1cnJlbnRTYXZlRGF0YS5ib3JkZXIgfHwgeSA9PT0gY3VycmVudFNhdmVEYXRhLmJvcmRlciB8fCB4ID09PSB3aWR0aC1jdXJyZW50U2F2ZURhdGEuYm9yZGVyIHx8IHggPT09IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXINCgkJfQ0KCQlmdW5jdGlvbiBvbkJvcmRlclkoeSkgew0KCQkJcmV0dXJuIHkgPT09IGhlaWdodC1jdXJyZW50U2F2ZURhdGEuYm9yZGVyIHx8IHkgPT09IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXINCgkJfQ0KCQlmdW5jdGlvbiBvbkJvcmRlclgoeCkgew0KCQkJcmV0dXJuIHggPT09IHdpZHRoLWN1cnJlbnRTYXZlRGF0YS5ib3JkZXIgfHwgeCA9PT0gY3VycmVudFNhdmVEYXRhLmJvcmRlcg0KCQl9DQoJCWZ1bmN0aW9uIGlzRW1wdHkoeCwgeSwgaWdub3JlQm91bmRzPWZhbHNlLCBvb2I9ZmFsc2UpIHsNCgkJCWlmIChvb2IgPT09IHRydWUgfHwgb3V0T2ZCb3VuZHMoeCx5KSkgew0KCQkJCXJldHVybiBpZ25vcmVCb3VuZHM7DQoJCQl9DQoJCQlyZXR1cm4gcGl4ZWxNYXBbeF1beV0gPT09IHVuZGVmaW5lZDsNCgkJfQ0KCQlmdW5jdGlvbiBjYW5Nb3ZlKHBpeGVsLHgseSkgew0KCQkJaWYgKGlzRW1wdHkoeCx5KSkgew0KCQkJCXJldHVybiB0cnVlOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIG1vdmVQaXhlbChwaXhlbCx4LHksbGVhdmVCZWhpbmQ9bnVsbCkgew0KCQkJLy8gRGVsZXRlIHRoZSBwaXhlbCBmcm9tIHRoZSBvbGQgcG9zaXRpb24NCgkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnldID0gdW5kZWZpbmVkOw0KCQkJaWYgKGxlYXZlQmVoaW5kICE9PSBudWxsKSB7IGNyZWF0ZVBpeGVsKGxlYXZlQmVoaW5kLHBpeGVsLngscGl4ZWwueSk7IH0NCgkJCXBpeGVsLnggPSB4Ow0KCQkJcGl4ZWwueSA9IHk7DQoJCQlwaXhlbE1hcFt4XVt5XSA9IHBpeGVsOw0KCQl9DQoJCWZ1bmN0aW9uIGNsb25lUGl4ZWwocGl4ZWwseCx5KSB7DQoJCQljcmVhdGVQaXhlbChwaXhlbC5lbGVtZW50LHgseSk7DQoJCX0NCgkJZnVuY3Rpb24gY3JlYXRlUGl4ZWwoZWxlbWVudCx4LHkpIHsNCgkJCWlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7DQoJCQkJZWxlbWVudCA9IGVsZW1lbnRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmVsZW1lbnQubGVuZ3RoKV07DQoJCQl9DQoJCQlsZXQgcGxhY2VkID0gY3VycmVudFBpeGVscy5wdXNoKG5ldyBQaXhlbCh4LCB5LCBlbGVtZW50KSk7DQoJCQlpZiAoIXBsYWNlZCkge3JldHVybn07DQoJCQlpZiAoY3VycmVudFBpeGVscy5sZW5ndGggPiBtYXhQaXhlbENvdW50IHx8ICFlbGVtZW50KSB7DQoJCQkJY3VycmVudFBpeGVsc1tjdXJyZW50UGl4ZWxzLmxlbmd0aC0xXS5kZWwgPSB0cnVlOw0KCQkJfQ0KCQkJZWxzZSBpZiAoZWxlbWVudHNbZWxlbWVudF0gJiYgZWxlbWVudHNbZWxlbWVudF0ub25QbGFjZSAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJZWxlbWVudHNbZWxlbWVudF0ub25QbGFjZShjdXJyZW50UGl4ZWxzW2N1cnJlbnRQaXhlbHMubGVuZ3RoLTFdKQ0KCQkJfQ0KCQkJY2hlY2tVbmxvY2soZWxlbWVudCk7DQoJCX0NCgkJZnVuY3Rpb24gZGVsZXRlUGl4ZWwoeCx5KSB7DQoJCQkvLyByZW1vdmUgcGl4ZWxNYXBbeF1beV0gZnJvbSBjdXJyZW50UGl4ZWxzDQoJCQlsZXQgcGl4ZWwgPSBwaXhlbE1hcFt4XVt5XTsNCgkJCWxldCBpID0gY3VycmVudFBpeGVscy5pbmRleE9mKHBpeGVsKTsNCgkJCWlmIChpICE9PSAtMSkgY3VycmVudFBpeGVscy5zcGxpY2UoaSwxKTsNCgkJCWlmIChwaXhlbCkgew0KCQkJCXBpeGVsLmRlbCA9IHRydWU7DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm9uRGVsZXRlKSB7DQoJCQkJCWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm9uRGVsZXRlKHBpeGVsKQ0KCQkJCX0NCgkJCX0NCgkJCWRlbGV0ZSBwaXhlbE1hcFt4XVt5XTsNCgkJfQ0KCQlmdW5jdGlvbiBzd2FwUGl4ZWxzKHBpeGVsMSxwaXhlbDIpIHsNCgkJCXZhciB0ZW1wWCA9IHBpeGVsMS54Ow0KCQkJdmFyIHRlbXBZID0gcGl4ZWwxLnk7DQoJCQlwaXhlbDEueCA9IHBpeGVsMi54Ow0KCQkJcGl4ZWwxLnkgPSBwaXhlbDIueTsNCgkJCXBpeGVsMi54ID0gdGVtcFg7DQoJCQlwaXhlbDIueSA9IHRlbXBZOw0KCQkJcGl4ZWxNYXBbcGl4ZWwxLnhdW3BpeGVsMS55XSA9IHBpeGVsMTsNCgkJCXBpeGVsTWFwW3BpeGVsMi54XVtwaXhlbDIueV0gPSBwaXhlbDI7DQoJCX0NCg0KCQlmdW5jdGlvbiBjaGFuZ2VQaXhlbChwaXhlbCxlbGVtZW50LGNoYW5nZXRlbXA9dHJ1ZSkgew0KCQkJaWYgKCFlbGVtZW50KSB7IHJldHVybiB9DQoJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0ub25DaGFuZ2UgIT09IHVuZGVmaW5lZCkgew0KCQkJCWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm9uQ2hhbmdlKHBpeGVsLGVsZW1lbnQpOw0KCQkJfQ0KCQkJaWYgKCFlbGVtZW50c1tlbGVtZW50XSkgew0KCQkJCXBpeGVsLmludmFsaWRFbGVtZW50ID0gZWxlbWVudDsNCgkJCQllbGVtZW50ID0gInVua25vd24iDQoJCQl9DQoJCQlwaXhlbC5lbGVtZW50ID0gZWxlbWVudDsNCgkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwpOw0KCQkJcGl4ZWwuc3RhcnQgPSBwaXhlbFRpY2tzOw0KCQkJdmFyIGVsZW1lbnRJbmZvID0gZWxlbWVudHNbZWxlbWVudF07DQoJCQlpZiAoZWxlbWVudEluZm8uYnVybmluZyA9PSB0cnVlKSB7DQoJCQkJcGl4ZWwuYnVybmluZyA9IHRydWU7DQoJCQkJcGl4ZWwuYnVyblN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJCX0NCgkJCWVsc2UgaWYgKHBpeGVsLmJ1cm5pbmcgJiYgIWVsZW1lbnRJbmZvLmJ1cm4pIHsNCgkJCQlkZWxldGUgcGl4ZWwuYnVybmluZzsNCgkJCQlkZWxldGUgcGl4ZWwuYnVyblN0YXJ0Ow0KCQkJfQ0KCQkJZGVsZXRlIHBpeGVsLm9yaWdDb2xvcjsgLy8gcmVtb3ZlIHN0YWluDQoJCQlkZWxldGUgcGl4ZWwuY2xvbmU7DQoJCQlpZiAocGl4ZWwuZ2xvdyAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJZGVsZXRlIHBpeGVsLmdsb3c7DQoJCQl9DQoJCQlpZiAocGl4ZWwuciAmJiAhZWxlbWVudEluZm8ucm90YXRhYmxlKSB7DQoJCQkJZGVsZXRlIHBpeGVsLnI7DQoJCQl9DQoJCQlpZiAocGl4ZWwuZmxpcFggJiYgIWVsZW1lbnRJbmZvLmZsaXBwYWJsZVgpIHsNCgkJCQlkZWxldGUgcGl4ZWwuZmxpcFg7DQoJCQl9DQoJCQlpZiAocGl4ZWwuZmxpcFkgJiYgIWVsZW1lbnRJbmZvLmZsaXBwYWJsZVkpIHsNCgkJCQlkZWxldGUgcGl4ZWwuZmxpcFk7DQoJCQl9DQoJCQkvLyBJZiBlbGVtZW50SW5mby5mbGlwcGFibGVYLCBzZXQgaXQgdG8gdHJ1ZSBvciBmYWxzZSByYW5kb21seQ0KCQkJaWYgKGVsZW1lbnRJbmZvLmZsaXBYICE9PSB1bmRlZmluZWQpIHsgcGl4ZWwuZmxpcFggPSBlbGVtZW50SW5mby5mbGlwWCB9DQoJCQllbHNlIGlmIChlbGVtZW50SW5mby5mbGlwcGFibGVYKSB7DQoJCQkJcGl4ZWwuZmxpcFggPSBNYXRoLnJhbmRvbSgpID49IDAuNTsNCgkJCX0NCgkJCS8vIElmIGVsZW1lbnRJbmZvLmZsaXBwYWJsZVksIHNldCBpdCB0byB0cnVlIG9yIGZhbHNlIHJhbmRvbWx5DQoJCQlpZiAoZWxlbWVudEluZm8uZmxpcFkgIT09IHVuZGVmaW5lZCkgeyBwaXhlbC5mbGlwWSA9IGVsZW1lbnRJbmZvLmZsaXBZIH0NCgkJCWVsc2UgaWYgKGVsZW1lbnRJbmZvLmZsaXBwYWJsZVkpIHsNCgkJCQlwaXhlbC5mbGlwWSA9IE1hdGgucmFuZG9tKCkgPj0gMC41Ow0KCQkJfQ0KCQkJaWYgKGVsZW1lbnRJbmZvLnRlbXAgIT09IHVuZGVmaW5lZCAmJiBjaGFuZ2V0ZW1wKSB7DQoJCQkJcGl4ZWwudGVtcCA9IChlbGVtZW50SW5mby50ZW1wK3BpeGVsLnRlbXApLzI7DQoJCQkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpDQoJCQl9DQoJCQlpZiAocGl4ZWwuY29uICYmICFlbGVtZW50SW5mby5jYW5Db250YWluKSB7DQoJCQkJZGVsZXRlIHBpeGVsLmNvbjsNCgkJCX0NCgkJCS8vIElmIGVsZW1lbnRJbmZvLnByb3BlcnRpZXMsIHNldCBlYWNoIGtleSB0byBpdHMgdmFsdWUNCgkJCWlmIChlbGVtZW50SW5mby5wcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHsNCgkJCQlmb3IgKHZhciBrZXkgaW4gZWxlbWVudEluZm8ucHJvcGVydGllcykgew0KCQkJCQkvLyBJZiBpdCBpcyBhbiBhcnJheSBvciBvYmplY3QsIG1ha2UgYSBjb3B5IG9mIGl0DQoJCQkJCWlmICh0eXBlb2YgZWxlbWVudEluZm8ucHJvcGVydGllc1trZXldID09ICJvYmplY3QiKSB7DQoJCQkJCQlwaXhlbFtrZXldID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlbGVtZW50SW5mby5wcm9wZXJ0aWVzW2tleV0pKTsNCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCXBpeGVsW2tleV0gPSBlbGVtZW50SW5mby5wcm9wZXJ0aWVzW2tleV07DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlpZiAocGl4ZWwuYWxwaGEgIT09IHVuZGVmaW5lZCkgew0KCQkJCWRlbGV0ZSBwaXhlbC5hbHBoYTsNCgkJCX0NCgkJCWlmIChwaXhlbC5lbWl0KSB7DQoJCQkJZGVsZXRlIHBpeGVsLmVtaXQ7DQoJCQl9DQoJCQlpZiAoZWxlbWVudHNbZWxlbWVudF0uYWxwaGEgIT09IHVuZGVmaW5lZCkgew0KCQkJCXBpeGVsLmFscGhhID0gZWxlbWVudHNbZWxlbWVudF0uYWxwaGE7DQoJCQl9DQoJCQlpZiAoZWxlbWVudHNbZWxlbWVudF0ub25QbGFjZSAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJZWxlbWVudHNbZWxlbWVudF0ub25QbGFjZShwaXhlbCk7DQoJCQl9DQoJCQljaGVja1VubG9jayhlbGVtZW50KTsNCgkJfQ0KCQlmdW5jdGlvbiByZWFjdFBpeGVscyhwaXhlbDEscGl4ZWwyKSB7DQoJCQl2YXIgciA9IGVsZW1lbnRzW3BpeGVsMS5lbGVtZW50XS5yZWFjdGlvbnNbcGl4ZWwyLmVsZW1lbnRdOw0KCQkJaWYgKHIuY2hhbmNlICE9PSB1bmRlZmluZWQgJiYgTWF0aC5yYW5kb20oKSA+IHIuY2hhbmNlKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJaWYgKHBpeGVsMS5za2lwID09PSB0cnVlIHx8IHBpeGVsMi5za2lwID09PSB0cnVlKSB7IHJldHVybiBmYWxzZSB9DQoJCQlpZiAoci5zZXR0aW5nICYmIHNldHRpbmdzW3Iuc2V0dGluZ109PT0wKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJaWYgKHIudGVtcE1pbiAhPT0gdW5kZWZpbmVkICYmIHBpeGVsMS50ZW1wIDwgci50ZW1wTWluKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJaWYgKHIudGVtcE1heCAhPT0gdW5kZWZpbmVkICYmIHBpeGVsMS50ZW1wID4gci50ZW1wTWF4KSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJaWYgKHIuYnVybmluZzEgIT09IHVuZGVmaW5lZCAmJiBCb29sZWFuKHBpeGVsMS5idXJuaW5nKSAhPT0gci5idXJuaW5nMSkgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWlmIChyLmJ1cm5pbmcyICE9PSB1bmRlZmluZWQgJiYgQm9vbGVhbihwaXhlbDIuYnVybmluZykgIT09IHIuYnVybmluZzIpIHsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCQlpZiAoci5jaGFyZ2VkICYmICEocGl4ZWwxLmNoYXJnZSB8fCBwaXhlbDIuY2hhcmdlKSkgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWlmIChyLnkgIT09IHVuZGVmaW5lZCAmJiAocGl4ZWwxLnkgPCByLnlbMF0gfHwgcGl4ZWwxLnkgPiByLnlbMV0pKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJaWYgKHIuZWxlbTEgIT09IHVuZGVmaW5lZCkgew0KCQkJCS8vIGlmIHIuZWxlbTEgaXMgYW4gYXJyYXksIHNldCBlbGVtMSB0byBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGFycmF5LCBvdGhlcndpc2Ugc2V0IGl0IHRvIHIuZWxlbTENCgkJCQlpZiAoQXJyYXkuaXNBcnJheShyLmVsZW0xKSkgew0KCQkJCQl2YXIgZWxlbTEgPSByLmVsZW0xW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHIuZWxlbTEubGVuZ3RoKV07DQoJCQkJfSBlbHNlIHsgdmFyIGVsZW0xID0gci5lbGVtMTsgfQ0KCQkJCQ0KCQkJCWlmIChlbGVtMSA9PT0gbnVsbCkgew0KCQkJCQlkZWxldGVQaXhlbChwaXhlbDEueCxwaXhlbDEueSk7DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQljaGFuZ2VQaXhlbChwaXhlbDEsZWxlbTEpOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChyLmNoYXJnZTEpIHsNCgkJCQlwaXhlbDEuY2hhcmdlID0gci5jaGFyZ2UxOw0KCQkJCWlmIChlbGVtZW50c1twaXhlbDEuZWxlbWVudF0uY29sb3JPbikgcGl4ZWwxLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwxKTsNCgkJCX0NCgkJCWlmIChyLnRlbXAxKSB7IHBpeGVsMS50ZW1wICs9IHIudGVtcDE7IHBpeGVsVGVtcENoZWNrKHBpeGVsMSk7IH0NCgkJCWlmIChyLmNvbG9yMSkgeyAvLyBpZiBpdCdzIGEgbGlzdCwgdXNlIGEgcmFuZG9tIGNvbG9yIGZyb20gdGhlIGxpc3QsIGVsc2UgdXNlIHRoZSBjb2xvcjEgYXR0cmlidXRlDQoJCQkJcGl4ZWwxLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwxLCBBcnJheS5pc0FycmF5KHIuY29sb3IxKSA/IHIuY29sb3IxW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHIuY29sb3IxLmxlbmd0aCldIDogci5jb2xvcjEpOw0KCQkJfQ0KCQkJaWYgKHIuYXR0cjEpIHsgLy8gYWRkIGVhY2ggYXR0cmlidXRlIHRvIHBpeGVsMQ0KCQkJCWZvciAodmFyIGtleSBpbiByLmF0dHIxKSB7DQoJCQkJCXBpeGVsMVtrZXldID0gci5hdHRyMVtrZXldOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChyLnN0YWluMSkgeyBzdGFpblBpeGVsKHBpeGVsMSxyLnN0YWluMSwwLjA1KTsgfQ0KCQkJaWYgKHIuZWxlbTIgIT09IHVuZGVmaW5lZCkgew0KCQkJCS8vIGlmIHIuZWxlbTIgaXMgYW4gYXJyYXksIHNldCBlbGVtMiB0byBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGFycmF5LCBvdGhlcndpc2Ugc2V0IGl0IHRvIHIuZWxlbTINCgkJCQlpZiAoQXJyYXkuaXNBcnJheShyLmVsZW0yKSkgew0KCQkJCQl2YXIgZWxlbTIgPSByLmVsZW0yW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHIuZWxlbTIubGVuZ3RoKV07DQoJCQkJfSBlbHNlIHsgdmFyIGVsZW0yID0gci5lbGVtMjsgfQ0KDQoJCQkJaWYgKGVsZW0yID09PSBudWxsKSB7DQoJCQkJCWRlbGV0ZVBpeGVsKHBpeGVsMi54LHBpeGVsMi55KTsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCWNoYW5nZVBpeGVsKHBpeGVsMixlbGVtMik7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHIuY2hhcmdlMikgew0KCQkJCXBpeGVsMi5jaGFyZ2UgPSByLmNoYXJnZTI7DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsMi5lbGVtZW50XS5jb2xvck9uKSBwaXhlbDIuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbDIpOw0KCQkJfQ0KCQkJaWYgKHIudGVtcDIpIHsgcGl4ZWwyLnRlbXAgKz0gci50ZW1wMjsgcGl4ZWxUZW1wQ2hlY2socGl4ZWwyKTsgfQ0KCQkJaWYgKHIuY29sb3IyKSB7IC8vIGlmIGl0J3MgYSBsaXN0LCB1c2UgYSByYW5kb20gY29sb3IgZnJvbSB0aGUgbGlzdCwgZWxzZSB1c2UgdGhlIGNvbG9yMiBhdHRyaWJ1dGUNCgkJCQlwaXhlbDIuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbDIsIEFycmF5LmlzQXJyYXkoci5jb2xvcjIpID8gci5jb2xvcjJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogci5jb2xvcjIubGVuZ3RoKV0gOiByLmNvbG9yMik7DQoJCQl9DQoJCQlpZiAoci5hdHRyMikgeyAvLyBhZGQgZWFjaCBhdHRyaWJ1dGUgdG8gcGl4ZWwyDQoJCQkJZm9yICh2YXIga2V5IGluIHIuYXR0cjIpIHsNCgkJCQkJcGl4ZWwyW2tleV0gPSByLmF0dHIyW2tleV07DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHIuc3RhaW4yKSB7IHN0YWluUGl4ZWwocGl4ZWwyLHIuc3RhaW4yLDAuMDUpOyB9DQoJCQlpZiAoci5mdW5jKSB7IHIuZnVuYyhwaXhlbDEscGl4ZWwyKTsgfQ0KCQkJcmV0dXJuIHIuZWxlbTEhPT11bmRlZmluZWQgfHwgci5lbGVtMiE9PXVuZGVmaW5lZDsNCgkJfQ0KCQlmdW5jdGlvbiByZWxlYXNlRWxlbWVudChwaXhlbCxlbGVtZW50LGNvdW50PTEscmVwbGFjZUxpcXVpZD1mYWxzZSkgew0KCQkJY291bnQgPSBNYXRoLm1pbihjb3VudCw4KTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIGNvb3JkID0gc3F1YXJlQ29vcmRzW2ldOw0KCQkJCXZhciB4ID0gcGl4ZWwueCtjb29yZFswXTsNCgkJCQl2YXIgeSA9IHBpeGVsLnkrY29vcmRbMV07DQoJCQkJaWYgKGlzRW1wdHkoeCx5KSkgew0KCQkJCQljcmVhdGVQaXhlbChlbGVtZW50LHgseSk7DQoJCQkJCWNvdW50LS07DQoJCQkJCWlmIChjb3VudCA8PSAwKSB7DQoJCQkJCQlyZXR1cm4gcGl4ZWxNYXBbeF1beV07DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlpZiAocmVwbGFjZUxpcXVpZCkgew0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3F1YXJlQ29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJCXZhciBjb29yZCA9IHNxdWFyZUNvb3Jkc1tpXTsNCgkJCQkJdmFyIHggPSBwaXhlbC54K2Nvb3JkWzBdOw0KCQkJCQl2YXIgeSA9IHBpeGVsLnkrY29vcmRbMV07DQoJCQkJCWlmICghaXNFbXB0eSh4LHksdHJ1ZSkgJiYgZWxlbWVudHNbcGl4ZWxNYXBbeF1beV0uZWxlbWVudF0uc3RhdGUgPT09ICJsaXF1aWQiKSB7DQoJCQkJCQljaGFuZ2VQaXhlbChwaXhlbE1hcFt4XVt5XSxlbGVtZW50KTsNCgkJCQkJCWNvdW50LS07DQoJCQkJCQlpZiAoY291bnQgPD0gMCkgew0KCQkJCQkJCXJldHVybiBwaXhlbE1hcFt4XVt5XTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiBnZXRQaXhlbCh4LCB5KSB7DQoJCQlpZiAob3V0T2ZCb3VuZHMoeCx5KSkgcmV0dXJuIG51bGw7DQoJCQlyZXR1cm4gcGl4ZWxNYXBbeF1beV0gfHwgbnVsbDsNCgkJfQ0KCQlmdW5jdGlvbiB0cnlDcmVhdGUoZWxlbWVudCwgeCwgeSwgcmVwbGFjZSkgew0KCQkJaWYgKCFpc0VtcHR5KHgseSkpIHsNCgkJCQlpZiAocmVwbGFjZSAmJiAhb3V0T2ZCb3VuZHMoeCx5KSkgew0KCQkJCQlkZWxldGVQaXhlbCh4LHkpOw0KCQkJCX0NCgkJCQllbHNlIHJldHVybiBudWxsOw0KCQkJfQ0KCQkJY3JlYXRlUGl4ZWwoZWxlbWVudCwgeCwgeSk7DQoJCQlyZXR1cm4gcGl4ZWxNYXBbeF1beV07DQoJCX0NCgkJZnVuY3Rpb24gdHJ5RGVsZXRlKHgsIHkpIHsNCgkJCWlmICghaXNFbXB0eSh4LHksdHJ1ZSkpIHsNCgkJCQljb25zdCBwaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQkJcmV0dXJuIHBpeGVsOw0KCQkJfQ0KCQkJcmV0dXJuIG51bGw7DQoJCX0NCg0KCQl2YWxpZERlbnNpdHlTd2FwcyA9IHsNCgkJCSJzb2xpZCI6IHsNCgkJCQkibGlxdWlkIjogdHJ1ZSwNCgkJCQkiZ2FzIjogdHJ1ZQ0KCQkJfSwNCgkJCSJsaXF1aWQiOiB7DQoJCQkJImxpcXVpZCI6IHRydWUsDQoJCQkJImdhcyI6IHRydWUNCgkJCX0sDQoJCQkiZ2FzIjogew0KCQkJCSJnYXMiOiB0cnVlDQoJCQl9LA0KCQkJdW5kZWZpbmVkOiB7fQ0KCQl9DQoJCWZ1bmN0aW9uIHRyeU1vdmUocGl4ZWwsbngsbnksbGVhdmVCZWhpbmQsZm9yY2UpIHsNCgkJCWlmIChwaXhlbC5kcmFnICYmIGZvcmNlICE9PSB0cnVlKSB7IHJldHVybiB0cnVlOyB9DQoJCQlpZiAocGl4ZWwuZGVsKSB7IHJldHVybiBmYWxzZSB9DQoJCQlpZiAodmFsaWRhdGVNb3Zlc0xpc3QubGVuZ3RoICE9PSAwICYmIGZvcmNlICE9PSB0cnVlKSB7DQoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxpZGF0ZU1vdmVzTGlzdC5sZW5ndGg7IGkrKykgew0KCQkJCQljb25zdCByZXN1bHQgPSB2YWxpZGF0ZU1vdmVzTGlzdFtpXShwaXhlbCxueCxueSk7DQoJCQkJCWlmIChyZXN1bHQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7DQoJCQkJCWVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkgew0KCQkJCQkJbnggPSByZXN1bHRbMF07DQoJCQkJCQlueSA9IHJlc3VsdFsxXTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCWNvbnN0IGluZm8gPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XTsNCgkJCWNvbnN0IG9vYiA9IG91dE9mQm91bmRzKG54LG55KTsNCgkJCWlmIChpc0VtcHR5KG54LG55LGZhbHNlLG9vYikpIHsgLy8gSWYgY29vcmRzIGlzIGVtcHR5LCBtb3ZlIHRvIGNvb3Jkcw0KCQkJCW1vdmVQaXhlbChwaXhlbCxueCxueSxsZWF2ZUJlaGluZCk7DQoJCQkJcmV0dXJuIHRydWU7DQoJCQl9DQoJCQllbHNlIGlmICghb29iKSB7DQoJCQkJLy8gUmVhY3Rpb25zDQoJCQkJY29uc3QgbmV3UGl4ZWwgPSBwaXhlbE1hcFtueF1bbnldOw0KCQkJCWxldCBycjEgPSBmYWxzZTsNCgkJCQlpZiAoaW5mby5yZWFjdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBpbmZvLnJlYWN0aW9uc1tuZXdQaXhlbC5lbGVtZW50XSAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJCXJyMSA9IHJlYWN0UGl4ZWxzKHBpeGVsLG5ld1BpeGVsKQ0KCQkJCQlpZiAocnIxKSB7DQoJCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAoIXJyMSAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5yZWFjdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5yZWFjdGlvbnNbcGl4ZWwuZWxlbWVudF0gIT09IHVuZGVmaW5lZCAmJiAhZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0ucmVhY3Rpb25zW3BpeGVsLmVsZW1lbnRdLm9uZXdheSkgew0KCQkJCQlpZiAocmVhY3RQaXhlbHMobmV3UGl4ZWwscGl4ZWwpKSB7DQoJCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uaWQgIT09IGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmlkKSB7DQoJCQkJCS8vIERlbnNpdHkNCgkJCQkJaWYgKGluZm8uZGVuc2l0eSAhPT0gdW5kZWZpbmVkICYmIGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmRlbnNpdHkgIT09IHVuZGVmaW5lZCkgew0KCQkJCQkJLy8gaWYgdGhlIHBpeGVsJ3Mgc3RhdGUgKyAiPiIgKyBuZXdQaXhlbCdzIHN0YXRlIGlzIGluIHZhbGlkRGVuc2l0eVN3YXBzLCBhbmQgdGhlIHBpeGVsJ3MgZGVuc2l0eSBpcyBsYXJnZXIgdGhhbiB0aGUgbmV3UGl4ZWwncyBkZW5zaXR5LCBzd2FwIHRoZSBwaXhlbHMNCgkJCQkJCWlmICh2YWxpZERlbnNpdHlTd2Fwc1tpbmZvLnN0YXRlXVtlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5zdGF0ZV0gIT09IHVuZGVmaW5lZCAmJiBpbmZvLmRlbnNpdHkgPj0gZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uZGVuc2l0eSkgew0KCQkJCQkJCS8vIGNoYW5jZSBkZXBlbmRpbmcgb24gdGhlIGRpZmZlcmVuY2UgaW4gZGVuc2l0eQ0KCQkJCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgKGluZm8uZGVuc2l0eSAtIGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmRlbnNpdHkpLyhpbmZvLmRlbnNpdHkgKyBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5kZW5zaXR5KSkgew0KCQkJCQkJCQlzd2FwUGl4ZWxzKHBpeGVsLG5ld1BpeGVsKTsNCgkJCQkJCQkJcmV0dXJuIHRydWU7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5vbk1vdmVJbnRvICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJCWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLm9uTW92ZUludG8obmV3UGl4ZWwscGl4ZWwpOw0KCQkJCQl9DQoJCQkJCWlmIChpbmZvLm9uQ29sbGlkZSAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJCQlpbmZvLm9uQ29sbGlkZShwaXhlbCxuZXdQaXhlbCk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoaW5mby5pc0dhcyAhPT0gdHJ1ZSAmJiB2YWxpZERlbnNpdHlTd2Fwc1tpbmZvLnN0YXRlXVtpbmZvLnN0YXRlXSAhPT0gdW5kZWZpbmVkICYmIE1hdGgucmFuZG9tKCkgPCAxLyhjdXJyZW50UGl4ZWxzLmxlbmd0aC8xMCkpIHsNCgkJCQkJc3dhcFBpeGVscyhwaXhlbCxuZXdQaXhlbCk7DQoJCQkJCXJldHVybiB0cnVlOw0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlmdW5jdGlvbiBiZWhhdmlvckNvb3Jkcyh4LHksYngsYnksd2lkdGgsaGVpZ2h0KSB7DQoJCQlyZXR1cm4gew0KCQkJCXg6IHggKyBNYXRoLmZsb29yKGJ4LXdpZHRoLzIpKzEsICAvL2J4LTEsDQoJCQkJeTogeSArIE1hdGguZmxvb3IoYnktaGVpZ2h0LzIpKzEgIC8vYnktMQ0KCQkJfTsNCgkJfQ0KCQlmdW5jdGlvbiByZWxhdGl2ZUNvb3Jkcyh4LHksYngsYnkpIHsNCgkJCXJldHVybiB7eDpieC0xLHk6YnktMX07DQoJCX0NCgkJLyogQmVoYXZpb3IgRXhhbXBsZSAoU2FuZCkNCgkJWw0KCQkJWyJYWCIsIlhYIiwiWFgiXSwNCgkJCVsiWFgiLCJYWCIsIlhYIl0sDQoJCQlbIk0yIiwiTTEiLCJNMiJdDQoJCV0JCQkJCSovDQoJCWJlaGF2aW9yQ2FjaGUgPSB7fTsNCgkJZnVuY3Rpb24gcm90YXRlQmVoYXZpb3IoYmVoYXZpb3Iscm90YXRpb24pIHsNCgkJCS8vIHJldHVybnMgcm90YXRlZCAyRCBhcnJheSBjb3VudGVyLWNsb2Nrd2lzZSBkZXBlbmRpbmcgb24gcm90YXRpb24gMSwgMiwgb3IgMw0KCQkJLy8gaWYgdGhlIHJvdGF0aW9uIGlzIHVuZGVyIDAsIHN1YnRyYWN0IGl0IGZyb20gMw0KCQkJaWYgKHJvdGF0aW9uIDwgMCkgew0KCQkJCXJvdGF0aW9uID0gNCArIHJvdGF0aW9uOw0KCQkJfQ0KCQkJdmFyIGNoZWNrID0gYmVoYXZpb3JDYWNoZVtiZWhhdmlvci50b1N0cmluZygpK3JvdGF0aW9uXTsNCgkJCWlmIChjaGVjayAhPT0gdW5kZWZpbmVkKSB7IHJldHVybiBjaGVjazsgfQ0KDQoJCQl2YXIgbmV3QmVoYXZpb3IgPSBbXQ0KCQkJaWYgKHJvdGF0aW9uID09IDEpIHsNCgkJCQkvLyByb3RhdGUgY291bnRlci1jbG9ja3dpc2UgOTAgZGVncmVlcw0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgYmVoYXZpb3IubGVuZ3RoOyBpKyspIHsNCgkJCQkJbmV3QmVoYXZpb3JbaV0gPSBbXTsNCgkJCQkJZm9yICh2YXIgaiA9IDA7IGogPCBiZWhhdmlvcltpXS5sZW5ndGg7IGorKykgew0KCQkJCQkJbmV3QmVoYXZpb3JbaV1bal0gPSBiZWhhdmlvcltqXVtiZWhhdmlvci5sZW5ndGgtMS1pXTsNCgkJCQkJfX0NCgkJCX0NCgkJCWVsc2UgaWYgKHJvdGF0aW9uID09IDIpIHsNCgkJCQkvLyByb3RhdGUgY291bnRlci1jbG9ja3dpc2UgMTgwIGRlZ3JlZXMNCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJlaGF2aW9yLmxlbmd0aDsgaSsrKSB7DQoJCQkJCW5ld0JlaGF2aW9yW2ldID0gW107DQoJCQkJCWZvciAodmFyIGogPSAwOyBqIDwgYmVoYXZpb3JbaV0ubGVuZ3RoOyBqKyspIHsNCgkJCQkJCW5ld0JlaGF2aW9yW2ldW2pdID0gYmVoYXZpb3JbYmVoYXZpb3IubGVuZ3RoLTEtaV1bYmVoYXZpb3JbaV0ubGVuZ3RoLTEtal07DQoJCQkJCX19DQoJCQl9DQoJCQllbHNlIGlmIChyb3RhdGlvbiA9PSAzKSB7DQoJCQkJLy8gcm90YXRlIGNvdW50ZXItY2xvY2t3aXNlIDI3MCBkZWdyZWVzDQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBiZWhhdmlvci5sZW5ndGg7IGkrKykgew0KCQkJCQluZXdCZWhhdmlvcltpXSA9IFtdOw0KCQkJCQlmb3IgKHZhciBqID0gMDsgaiA8IGJlaGF2aW9yW2ldLmxlbmd0aDsgaisrKSB7DQoJCQkJCQluZXdCZWhhdmlvcltpXVtqXSA9IGJlaGF2aW9yW2JlaGF2aW9yW2ldLmxlbmd0aC0xLWpdW2ldO30NCgkJCQl9DQoJCQl9DQoJCQllbHNlIHsNCgkJCQkvLyBubyByb3RhdGlvbg0KCQkJCXJldHVybiBiZWhhdmlvcjsNCgkJCX0NCg0KCQkJYmVoYXZpb3JDYWNoZVtiZWhhdmlvci50b1N0cmluZygpK3JvdGF0aW9uXSA9IG5ld0JlaGF2aW9yOw0KCQkJcmV0dXJuIG5ld0JlaGF2aW9yOw0KCQl9DQoJCWZ1bmN0aW9uIGZsaXBCZWhhdmlvcihiZWhhdmlvcixheGlzKSB7DQoJCQkvLyByZXR1cm5zIGZsaXBwZWQgMkQgYXJyYXkgZGVwZW5kaW5nIG9uIGF4aXMgIngiIG9yICJ5Ig0KCQkJdmFyIGNoZWNrID0gYmVoYXZpb3JDYWNoZVtiZWhhdmlvci50b1N0cmluZygpK2F4aXNdOw0KCQkJaWYgKGNoZWNrICE9PSB1bmRlZmluZWQpIHsgcmV0dXJuIGNoZWNrOyB9DQoNCgkJCWlmIChheGlzID09PSAieCIpIHsNCgkJCQl2YXIgbmV3QmVoYXZpb3IgPSBbXTsNCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJlaGF2aW9yLmxlbmd0aDsgaSsrKSB7DQoJCQkJCW5ld0JlaGF2aW9yW2ldID0gW107DQoJCQkJCWZvciAodmFyIGogPSAwOyBqIDwgYmVoYXZpb3JbaV0ubGVuZ3RoOyBqKyspIHsNCgkJCQkJCW5ld0JlaGF2aW9yW2ldW2pdID0gYmVoYXZpb3JbaV1bYmVoYXZpb3JbaV0ubGVuZ3RoLTEtal07DQoJCQkJCX19DQoJCQkJYmVoYXZpb3JDYWNoZVtiZWhhdmlvci50b1N0cmluZygpK2F4aXNdID0gbmV3QmVoYXZpb3I7DQoJCQkJcmV0dXJuIG5ld0JlaGF2aW9yOw0KCQkJfQ0KCQkJZWxzZSB7IC8vIGF4aXMgPT09IHkNCgkJCQluZXdCZWhhdmlvciA9IGJlaGF2aW9yLnNsaWNlKCkucmV2ZXJzZSgpOw0KCQkJCWJlaGF2aW9yQ2FjaGVbYmVoYXZpb3IudG9TdHJpbmcoKStheGlzXSA9IG5ld0JlaGF2aW9yOw0KCQkJCXJldHVybiBuZXdCZWhhdmlvcjsNCgkJCX0NCg0KCQkJcmV0dXJuIGJlaGF2aW9yOw0KCQl9DQoJCQ0KLyogQmVoYXZpb3IgUnVsZXMNCglYWCA9IElnbm9yZQ0KCU0xID0gTW92ZSAoRmlyc3QgUHJpb3JpdHkpDQoJTTIgPSBNb3ZlIChTZWNvbmQgUHJpb3JpdHkpDQoJU1AgPSBTdXBwb3J0IChEb2Vzbid0IG1vdmUgaWYgYWxsIGFyZW4ndCBlbXB0eSkNCglTQSA9IFN1cHBvcnQgQW55IChEb2Vzbid0IG1vdmUgaWYgYW55IGFyZW4ndCBlbXB0eSkNCglETCA9IERlbGV0ZQ0KCURCID0gRGVsZXRlIEJvdGggKFNlbGYgYW5kIHRhcmdldCkNCglDTCA9IENsb25lDQoJQ0YgPSBDbG9uZSBmaXJzdCB0b3VjaGVkDQoJQ0ggPSBDaGFuZ2UNCglDMiA9IENoYW5nZSBTZWxmIGFmdGVyIE0yDQoJQ1I6ZWxlbWVudF9uYW1lID0gQ3JlYXRlIGEgcGl4ZWwgb2YgZWxlbWVudF9uYW1lDQoJTEI6ZWxlbWVudF9uYW1lID0gTGVhdmUgYmVoaW5kIGEgcGl4ZWwgb2YgZWxlbWVudF9uYW1lIHdoZW4gbW92ZWQgKE11c3QgYmUgY2VudGVyIGNlbGwpDQoJTDE6ZWxlbWVudF9uYW1lID0gTGVhdmUgYmVoaW5kIG9ubHkgb24gTTEgbW92ZXMNCglMMjplbGVtZW50X25hbWUgPSBMZWF2ZSBiZWhpbmQgb25seSBvbiBNMiBtb3Zlcw0KCVNXID0gU3dhcA0KCUhUID0gSGVhdA0KCUNPID0gQ29vbA0KCUNDID0gQ2hhbmdlIENvbG9yIChIZXhhZGVjaW1hbCkNCglTVCA9IFN0aWNrDQoJU0ggPSBTaG9jayB3aXRoIGVsZWN0cmljaXR5DQoJRlggPSBGbGlwIFgNCglGWSA9IEZsaXAgWQ0KCVJUID0gUm90YXRlDQoJQk8gPSBCb3VuY2Ugb2ZmIG9mDQoJRVg6cmFkaXVzPmZpcmUgc3Vic3RpdHV0ZSA9IEV4cGxvZGUgb24gdG91Y2gNCglTTSA9IFNtYXNoDQoJJW51bWJlciA9IENoYW5jZSBvZiBydWxlIGhhcHBlbmluZw0KKi8NCmJ0ZW1wID0ge30NCnRpY2t0ZW1wID0ge30NCmZ1bmN0aW9uIGNob29zZShhcnJheSkgew0KCXJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYXJyYXkubGVuZ3RoKV07DQp9DQpiZWhhdmlvclJ1bGVzID0gew0KCSJNMSI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoYnRlbXAuaW5mby52aXNjb3NpdHkgIT09IHVuZGVmaW5lZCkgew0KCQkJaWYgKCEoKE1hdGgucmFuZG9tKCkqMTAwKSA8IDEwMCAvIE1hdGgucG93KGJ0ZW1wLmluZm8udmlzY29zaXR5LCAwLjI1KSkpIHsNCgkJCQlidGVtcC5uZXdDb29yZHMueCA9IGJ0ZW1wLnBpeGVsLng7DQoJCQl9DQoJCX0NCgkJYnRlbXAubW92ZTFTcG90cy5wdXNoKGJ0ZW1wLm5ld0Nvb3Jkcyk7DQoJfSwNCgkiTTIiOiBmdW5jdGlvbigpIHsNCgkJaWYgKGJ0ZW1wLmluZm8udmlzY29zaXR5ICE9PSB1bmRlZmluZWQpIHsNCgkJCWlmICghKChNYXRoLnJhbmRvbSgpKjEwMCkgPCAxMDAgLyBNYXRoLnBvdyhidGVtcC5pbmZvLnZpc2Nvc2l0eSwgMC4yNSkpKSB7DQoJCQkJYnRlbXAubmV3Q29vcmRzLnggPSBidGVtcC5waXhlbC54Ow0KCQkJfQ0KCQl9DQoJCWJ0ZW1wLm1vdmUyU3BvdHMucHVzaChidGVtcC5uZXdDb29yZHMpOw0KCX0sDQoJIlNQIjogZnVuY3Rpb24oKSB7DQoJCWJ0ZW1wLnN1cHBvcnRTcG90cy5wdXNoKHt4OmJ0ZW1wLm5ld0Nvb3Jkcy54LHk6YnRlbXAubmV3Q29vcmRzLnksYXJnOmJ0ZW1wLmFyZ30pOw0KCX0sDQoJIlNBIjogZnVuY3Rpb24oKSB7DQoJCWlmICghaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCxidGVtcC5uZXdDb29yZHMueSx0cnVlKSkgew0KCQkJYnRlbXAubW92ZSA9IGZhbHNlOw0KCQl9DQoJfSwNCgkiREwiOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LGJ0ZW1wLm5ld0Nvb3Jkcy55LHRydWUpKSB7DQoJCQkvLyBpZiB0aGUgcGl4ZWwgYXQgbmV3Q29vcmRzIGlzIHRoZSBzYW1lIGVsZW1lbnQgYXMgdGhlIHBpeGVsLCBpZ25vcmUNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQkvLyBpZiBpbmZvLmlnbm9yZSBleGlzdHMgYW5kIG5ld1BpeGVsLmVsZW1lbnQgaXMgaW4gaXQNCgkJCWlmIChidGVtcC5pbmZvLmlnbm9yZSAmJiBidGVtcC5pbmZvLmlnbm9yZS5pbmRleE9mKG5ld1BpeGVsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWlmICgoIShuZXdQaXhlbC5lbGVtZW50ID09IGJ0ZW1wLnBpeGVsLmVsZW1lbnQpKSB8fCAoYnRlbXAubmV3Q29vcmRzLnggPT0gYnRlbXAucGl4ZWwueCAmJiBidGVtcC5uZXdDb29yZHMueSA9PSBidGVtcC5waXhlbC55KSkgew0KCQkJCWlmIChidGVtcC5hcmcgIT09IG51bGwpIHsgdmFyIGFyZ3MgPSBidGVtcC5hcmcuc3BsaXQoIiwiKTsgfQ0KCQkJCWlmIChidGVtcC5hcmcgPT09IG51bGwgfHwgYXJncy5pbmRleE9mKG5ld1BpeGVsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCQlpZiAoIWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IE1hdGgucmFuZG9tKCkgPiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcykgew0KCQkJCQkJZGVsZXRlUGl4ZWwoYnRlbXAubmV3Q29vcmRzLngsYnRlbXAubmV3Q29vcmRzLnkpOw0KCQkJCQkJaWYgKGJ0ZW1wLm5ld0Nvb3Jkcy54ID09IGJ0ZW1wLnBpeGVsLnggJiYgYnRlbXAubmV3Q29vcmRzLnkgPT0gYnRlbXAucGl4ZWwueSkgew0KCQkJCQkJCWJ0ZW1wLmRlbGV0ZWQgPSB0cnVlOw0KCQkJCQkJfQ0KCQkJCQkJYnRlbXAuc3dhcFNwb3RzLmxlbmd0aCA9IDA7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgl9LA0KCSJEQiI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoIWlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsYnRlbXAubmV3Q29vcmRzLnksdHJ1ZSkpIHsNCgkJCS8vIGlmIHRoZSBwaXhlbCBhdCBuZXdDb29yZHMgaXMgdGhlIHNhbWUgZWxlbWVudCBhcyB0aGUgcGl4ZWwsIGlnbm9yZQ0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XTsNCgkJCS8vIGlmIGluZm8uaWdub3JlIGV4aXN0cyBhbmQgbmV3UGl4ZWwuZWxlbWVudCBpcyBpbiBpdA0KCQkJaWYgKGJ0ZW1wLmluZm8uaWdub3JlICYmIGJ0ZW1wLmluZm8uaWdub3JlLmluZGV4T2YobmV3UGl4ZWwuZWxlbWVudCkgIT09IC0xKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKCEobmV3UGl4ZWwuZWxlbWVudCA9PSBidGVtcC5waXhlbC5lbGVtZW50KSkgew0KCQkJCWlmIChidGVtcC5hcmcgIT09IG51bGwpIHsgdmFyIGFyZ3MgPSBidGVtcC5hcmcuc3BsaXQoIiwiKTsgfQ0KCQkJCWlmIChidGVtcC5hcmcgPT09IG51bGwgfHwgYXJncy5pbmRleE9mKG5ld1BpeGVsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCQlpZiAoIWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IE1hdGgucmFuZG9tKCkgPiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcykgew0KCQkJCQkJZGVsZXRlUGl4ZWwoYnRlbXAubmV3Q29vcmRzLngsYnRlbXAubmV3Q29vcmRzLnkpOw0KCQkJCQkJaWYgKHBpeGVsTWFwW2J0ZW1wLnBpeGVsLnhdW2J0ZW1wLnBpeGVsLnldICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJCQlkZWxldGVQaXhlbChidGVtcC5waXhlbC54LGJ0ZW1wLnBpeGVsLnkpOw0KCQkJCQkJfQ0KCQkJCQkJYnRlbXAuZGVsZXRlZCA9IHRydWU7DQoJCQkJCQlidGVtcC5zd2FwU3BvdHMgPSBbXTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoJIkNIIjogZnVuY3Rpb24oKSB7DQoJCWlmICghaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCxidGVtcC5uZXdDb29yZHMueSx0cnVlKSkgew0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XTsNCgkJCWlmIChidGVtcC5pbmZvLmlnbm9yZSAmJiBidGVtcC5pbmZvLmlnbm9yZS5pbmRleE9mKG5ld1BpeGVsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWlmICghZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaGFyZG5lc3MgfHwgTWF0aC5yYW5kb20oKSA+IGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IChidGVtcC5uZXdDb29yZHMueCA9PSBidGVtcC5waXhlbC54ICYmIGJ0ZW1wLm5ld0Nvb3Jkcy55ID09IGJ0ZW1wLnBpeGVsLnkpKSB7DQoJCQkJaWYgKGJ0ZW1wLmFyZy5pbmRleE9mKCI+IikgIT09IC0xKSB7DQoJCQkJCXZhciBhcmdmcm9tID0gYnRlbXAuYXJnLnNwbGl0KCI+IilbMF07DQoJCQkJCWlmIChhcmdmcm9tLmluZGV4T2YoIiwiKSAhPT0gLTEpIHsNCgkJCQkJCWlmIChhcmdmcm9tLnNwbGl0KCIsIikuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSA9PT0gLTEpIHsNCgkJCQkJCQlyZXR1cm47DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoYXJnZnJvbSAhPT0gbmV3UGl4ZWwuZWxlbWVudCkgew0KCQkJCQkJcmV0dXJuOw0KCQkJCQl9DQoJCQkJCXZhciBhcmd0byA9IGJ0ZW1wLmFyZy5zcGxpdCgiPiIpWzFdOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJdmFyIGFyZ2Zyb20gPSBudWxsOw0KCQkJCQl2YXIgYXJndG8gPSBidGVtcC5hcmc7DQoJCQkJfQ0KCQkJCWlmIChhcmd0by5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQkJCXZhciBhcmd0byA9IGNob29zZShhcmd0by5zcGxpdCgiLCIpKTsNCgkJCQl9DQoJCQkJaWYgKGVsZW1lbnRzW2FyZ3RvXSkgew0KCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaWQgIT09IGVsZW1lbnRzW2FyZ3RvXS5pZCkgew0KCQkJCQkJY2hhbmdlUGl4ZWwobmV3UGl4ZWwsYXJndG8pOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwNCgkiU1ciOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LGJ0ZW1wLm5ld0Nvb3Jkcy55LHRydWUpKSB7DQoJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldOw0KCQkJaWYgKGJ0ZW1wLmFyZyAhPT0gbnVsbCkgeyB2YXIgYXJncyA9IGJ0ZW1wLmFyZy5zcGxpdCgiLCIpOyB9DQoJCQlpZiAoYnRlbXAuYXJnID09PSBudWxsIHx8IGFyZ3MuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQlpZiAoIWVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IE1hdGgucmFuZG9tKCkgPiBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5oYXJkbmVzcykgew0KCQkJCQlidGVtcC5zd2FwU3BvdHMucHVzaCh7eDpidGVtcC5uZXdDb29yZHMueCx5OmJ0ZW1wLm5ld0Nvb3Jkcy55fSk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwNCgkiQ1IiOiBmdW5jdGlvbigpIHsNCgkJaWYgKGlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsYnRlbXAubmV3Q29vcmRzLnkpKSB7DQoJCQlpZiAoYnRlbXAuYXJnID09PSBudWxsKSB7DQoJCQkJYnRlbXAuYXJnID0gYnRlbXAucGl4ZWwuZWxlbWVudDsNCgkJCX0NCgkJCWVsc2UgaWYgKGJ0ZW1wLmFyZy5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQkJYnRlbXAuYXJnID0gY2hvb3NlKGJ0ZW1wLmFyZy5zcGxpdCgiLCIpKTsNCgkJCX0NCgkJCWlmIChlbGVtZW50c1tidGVtcC5hcmddKSB7DQoJCQkJY3JlYXRlUGl4ZWwoYnRlbXAuYXJnLGJ0ZW1wLm5ld0Nvb3Jkcy54LGJ0ZW1wLm5ld0Nvb3Jkcy55KTsNCgkJCQlpZiAoIXBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV0pIHJldHVybjsNCgkJCQlpZiAoYnRlbXAuaW5mby5maXJlQ29sb3IgJiYgYnRlbXAuYXJnPT09ImZpcmUiKSB7DQoJCQkJCXBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldLGJ0ZW1wLmluZm8uZmlyZUNvbG9yKTsNCgkJCQl9DQoJCQkJcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XS50ZW1wID0gYnRlbXAucGl4ZWwudGVtcA0KCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV0pOw0KCQkJfQ0KCQl9DQoJfSwNCgkiQ0wiOiBmdW5jdGlvbigpIHsNCgkJaWYgKGlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsYnRlbXAubmV3Q29vcmRzLnkpKSB7DQoJCQlpZiAoYnRlbXAuYXJnID09PSBudWxsIHx8IGJ0ZW1wLnBpeGVsLnRlbXAgPj0gcGFyc2VGbG9hdChidGVtcC5hcmcpKSB7DQoJCQkJY2xvbmVQaXhlbChidGVtcC5waXhlbCxidGVtcC5uZXdDb29yZHMueCxidGVtcC5uZXdDb29yZHMueSk7DQoJCQl9DQoJCX0NCgl9LA0KCSJDRiI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoYnRlbXAucGl4ZWwuY2xvbmUpIHsNCgkJCWlmIChpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSkpIHsNCgkJCQljcmVhdGVQaXhlbChidGVtcC5waXhlbC5jbG9uZSwgYnRlbXAubmV3Q29vcmRzLngsIGJ0ZW1wLm5ld0Nvb3Jkcy55KTsNCgkJCQlpZiAocGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XSkgew0KCQkJCQlwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldLnRlbXAgPSBidGVtcC5waXhlbC50ZW1wOw0KCQkJCQlwaXhlbFRlbXBDaGVjayhwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZWxzZSB7DQoJCQlpZiAoIWlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsIGJ0ZW1wLm5ld0Nvb3Jkcy55LHRydWUpKSB7DQoJCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XTsNCgkJCQlpZiAoIWJ0ZW1wLnBpeGVsLmNsb25lICYmIGJ0ZW1wLmluZm8uaWdub3JlICYmIGJ0ZW1wLmluZm8uaWdub3JlLmluZGV4T2YobmV3UGl4ZWwuZWxlbWVudCkgIT09IC0xKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJaWYgKG5ld1BpeGVsLmVsZW1lbnQgIT09IGJ0ZW1wLnBpeGVsLmVsZW1lbnQpIHsNCgkJCQkJYnRlbXAucGl4ZWwuY2xvbmUgPSBuZXdQaXhlbC5lbGVtZW50Ow0KCQkJCQlidGVtcC5waXhlbC50ZW1wID0gbmV3UGl4ZWwudGVtcDsNCgkJCQl9DQoJCQkJZWxzZSBpZiAobmV3UGl4ZWwuY2xvbmUpIHsNCgkJCQkJYnRlbXAucGl4ZWwuY2xvbmUgPSBuZXdQaXhlbC5jbG9uZTsNCgkJCQkJYnRlbXAucGl4ZWwudGVtcCA9IG5ld1BpeGVsLnRlbXA7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwNCgkiU0giOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSwgdHJ1ZSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQl2YXIgY29uID0gZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uY29uZHVjdDsNCgkJCWlmIChjb24gIT09IHVuZGVmaW5lZCkgew0KCQkJCWlmIChNYXRoLnJhbmRvbSgpIDwgY29uKSB7IC8vIElmIHJhbmRvbSBudW1iZXIgaXMgbGVzcyB0aGFuIGNvbmR1Y3Rpdml0eQ0KCQkJCQlpZiAoYnRlbXAuaW5mby5pZ25vcmUgJiYgYnRlbXAuaW5mby5pZ25vcmUuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KCQkJCQlpZiAoIW5ld1BpeGVsLmNoYXJnZSAmJiAhbmV3UGl4ZWwuY2hhcmdlQ0QgJiYgKGJ0ZW1wLmFyZyA9PT0gbnVsbCB8fCBuZXdQaXhlbC5lbGVtZW50ID09IGJ0ZW1wLmFyZykpIHsNCgkJCQkJCW5ld1BpeGVsLmNoYXJnZSA9IChwYXJzZUZsb2F0KGJ0ZW1wLmFyZykgfHwgMSk7DQoJCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uY29sb3JPbikgew0KCQkJCQkJCW5ld1BpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2sobmV3UGl4ZWwpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwNCgkiU1QiOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSwgdHJ1ZSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQlpZiAoYnRlbXAuaW5mby5pZ25vcmUgJiYgYnRlbXAuaW5mby5pZ25vcmUuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCAhPT0gYnRlbXAucGl4ZWwuZWxlbWVudCAmJiAoYnRlbXAuYXJnID09PSBudWxsIHx8IG5ld1BpeGVsLmVsZW1lbnQgPT0gYnRlbXAuYXJnKSkgew0KCQkJCWJ0ZW1wLnN0aWNraW5nID0gdHJ1ZQ0KCQkJfQ0KCQl9DQoJfSwNCgkiTEIiOiBmdW5jdGlvbigpIHsNCgkJaWYgKGJ0ZW1wLmFyZyAhPT0gbnVsbCAmJiBidGVtcC5hcmcuaW5kZXhPZigiLCIpICE9PSAtMSkgew0KCQkJYnRlbXAuYXJnID0gY2hvb3NlKGJ0ZW1wLmFyZy5zcGxpdCgiLCIpKTsNCgkJfQ0KCQlpZiAoZWxlbWVudHNbYnRlbXAuYXJnXSkgew0KCQkJYnRlbXAubGVhdmVCZWhpbmQgPSBidGVtcC5hcmc7DQoJCX0NCgl9LA0KCSJMMSI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoYnRlbXAuYXJnICE9PSBudWxsICYmIGJ0ZW1wLmFyZy5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQlidGVtcC5hcmcgPSBjaG9vc2UoYnRlbXAuYXJnLnNwbGl0KCIsIikpOw0KCQl9DQoJCWlmIChlbGVtZW50c1tidGVtcC5hcmddKSB7DQoJCQlidGVtcC5sZWF2ZUJlaGluZDEgPSBidGVtcC5hcmc7DQoJCX0NCgl9LA0KCSJMMiI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoYnRlbXAuYXJnICE9PSBudWxsICYmIGJ0ZW1wLmFyZy5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQlidGVtcC5hcmcgPSBjaG9vc2UoYnRlbXAuYXJnLnNwbGl0KCIsIikpOw0KCQl9DQoJCWlmIChlbGVtZW50c1tidGVtcC5hcmddKSB7DQoJCQlidGVtcC5sZWF2ZUJlaGluZDIgPSBidGVtcC5hcmc7DQoJCX0NCgl9LA0KCSJDQyI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoIWlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsIGJ0ZW1wLm5ld0Nvb3Jkcy55LCB0cnVlKSkgew0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XTsNCgkJCWlmIChidGVtcC5hcmcuaW5kZXhPZigiPiIpICE9PSAtMSkgew0KCQkJCXZhciBhcmdmcm9tID0gYnRlbXAuYXJnLnNwbGl0KCI+IilbMF07DQoJCQkJaWYgKGFyZ2Zyb20uaW5kZXhPZigiLCIpICE9PSAtMSkgew0KCQkJCQlpZiAoYXJnZnJvbS5zcGxpdCgiLCIpLmluZGV4T2YobmV3UGl4ZWwuZWxlbWVudCkgPT09IC0xKSB7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoYXJnZnJvbSAhPT0gbmV3UGl4ZWwuZWxlbWVudCkgew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJCWJ0ZW1wLmFyZyA9IGJ0ZW1wLmFyZy5zcGxpdCgiPiIpWzFdOw0KCQkJfQ0KCQkJaWYgKGJ0ZW1wLmFyZyA9PT0gbnVsbCkge2J0ZW1wLmFyZyA9IG5ld1BpeGVsLmNvbG9yT2JqZWN0fQ0KCQkJZWxzZSB7DQoJCQkJaWYgKGJ0ZW1wLmFyZy5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQkJCWJ0ZW1wLmFyZyA9IGNob29zZShidGVtcC5hcmcuc3BsaXQoIiwiKSkNCgkJCQl9DQoJCQkJaWYgKCFidGVtcC5hcmcuc3RhcnRzV2l0aCgiIyIpKSB7DQoJCQkJCWJ0ZW1wLmFyZyA9ICIjIiArIGJ0ZW1wLmFyZzsNCgkJCQl9DQoJCQl9DQoJCQluZXdQaXhlbC5jb2xvciA9IGJ0ZW1wLmFyZzsNCgkJfQ0KCX0sDQoJIkhUIjogZnVuY3Rpb24oKSB7DQoJCWlmICghaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCwgYnRlbXAubmV3Q29vcmRzLnksIHRydWUpKSB7DQoJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldOw0KCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmluc3VsYXRlKSB7IHJldHVybiB9DQoJCQlpZiAoIShuZXdQaXhlbC5lbGVtZW50ID09PSBidGVtcC5waXhlbC5lbGVtZW50KSB8fCAoYnRlbXAubmV3Q29vcmRzLnggPT0gYnRlbXAucGl4ZWwueCAmJiBidGVtcC5uZXdDb29yZHMueSA9PSBidGVtcC5waXhlbC55KSkgew0KCQkJCWlmIChidGVtcC5hcmcgIT09IG51bGwpIHtidGVtcC5hcmcgPSBwYXJzZUZsb2F0KGJ0ZW1wLmFyZyl9DQoJCQkJZWxzZSB7YnRlbXAuYXJnID0gMX0NCgkJCQlpZiAoaXNOYU4oYnRlbXAuYXJnKSkge2J0ZW1wLmFyZyA9IDF9DQoJCQkJbmV3UGl4ZWwudGVtcCArPSBidGVtcC5hcmc7DQoJCQkJcGl4ZWxUZW1wQ2hlY2sobmV3UGl4ZWwpOw0KCQkJfQ0KCQl9DQoJfSwNCgkiQ08iOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSwgdHJ1ZSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaW5zdWxhdGUpIHsgcmV0dXJuIH0NCgkJCWlmICghKG5ld1BpeGVsLmVsZW1lbnQgPT09IGJ0ZW1wLnBpeGVsLmVsZW1lbnQpIHx8IChidGVtcC5uZXdDb29yZHMueCA9PSBidGVtcC5waXhlbC54ICYmIGJ0ZW1wLm5ld0Nvb3Jkcy55ID09IGJ0ZW1wLnBpeGVsLnkpKSB7DQoJCQkJaWYgKGJ0ZW1wLmFyZyAhPT0gbnVsbCkge2J0ZW1wLmFyZyA9IHBhcnNlRmxvYXQoYnRlbXAuYXJnKX0NCgkJCQllbHNlIHtidGVtcC5hcmcgPSAxfQ0KCQkJCWlmIChpc05hTihidGVtcC5hcmcpKSB7YnRlbXAuYXJnID0gMX0NCgkJCQluZXdQaXhlbC50ZW1wIC09IGJ0ZW1wLmFyZzsNCgkJCQlwaXhlbFRlbXBDaGVjayhuZXdQaXhlbCk7DQoJCQl9DQoJCX0NCgl9LA0KCSJGWCI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoIWlzRW1wdHkoYnRlbXAubmV3Q29vcmRzLngsIGJ0ZW1wLm5ld0Nvb3Jkcy55LCB0cnVlKSkgew0KCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XTsNCgkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5mbGlwcGFibGVYKSB7DQoJCQkJaWYgKGJ0ZW1wLmFyZyA9PT0gIjAiKSB7IG5ld1BpeGVsLmZsaXBYID0gZmFsc2U7IH0NCgkJCQllbHNlIGlmIChidGVtcC5hcmcgPT09ICIxIikgeyBuZXdQaXhlbC5mbGlwWCA9IHRydWU7IH0NCgkJCQluZXdQaXhlbC5mbGlwWCA9ICFuZXdQaXhlbC5mbGlwWDsNCgkJCX0NCgkJfQ0KCX0sDQoJIkZZIjogZnVuY3Rpb24oKSB7DQoJCWlmICghaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCwgYnRlbXAubmV3Q29vcmRzLnksIHRydWUpKSB7DQoJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldOw0KCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmZsaXBwYWJsZVkpIHsNCgkJCQlpZiAoYnRlbXAuYXJnID09PSAiMCIpIHsgbmV3UGl4ZWwuZmxpcFkgPSBmYWxzZTsgfQ0KCQkJCWVsc2UgaWYgKGJ0ZW1wLmFyZyA9PT0gIjEiKSB7IG5ld1BpeGVsLmZsaXBZID0gdHJ1ZTsgfQ0KCQkJCWVsc2UgeyBuZXdQaXhlbC5mbGlwWSA9ICFuZXdQaXhlbC5mbGlwWTsgfQ0KCQkJfQ0KCQl9DQoJfSwNCgkiUlQiOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSwgdHJ1ZSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQlpZiAoYnRlbXAuYXJnICE9PSBudWxsICYmIGJ0ZW1wLmFyZy5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQkJYnRlbXAuYXJnID0gY2hvb3NlKGJ0ZW1wLmFyZy5zcGxpdCgiLCIpKTsNCgkJCX0NCgkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5yb3RhdGFibGUpIHsNCgkJCQluZXdQaXhlbC5yID0gKChuZXdQaXhlbC5yfHwwKSArIChwYXJzZUludChidGVtcC5hcmcpfHwxKSkgJSA0Ow0KCQkJfQ0KCQl9DQoJfSwNCgkiQk8iOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSkgJiYgKG91dE9mQm91bmRzKGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSkgfHwgZWxlbWVudHNbcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XS5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHNbYnRlbXAucGl4ZWwuZWxlbWVudF0uaWQgfHwgZWxlbWVudHNbcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XS5lbGVtZW50XS5zdGF0ZSA9PT0gInNvbGlkIikpIHsNCgkJCWlmIChidGVtcC5pbmZvLmZsaXBwYWJsZVgpIHsNCgkJCQlidGVtcC5waXhlbC5mbGlwWCA9ICFidGVtcC5waXhlbC5mbGlwWDsNCgkJCX0NCgkJCWlmIChidGVtcC5pbmZvLmZsaXBwYWJsZVkpIHsNCgkJCQlidGVtcC5waXhlbC5mbGlwWSA9ICFidGVtcC5waXhlbC5mbGlwWTsNCgkJCX0NCgkJCWlmIChidGVtcC5pbmZvLnJvdGF0YWJsZSkgew0KCQkJCS8vIElmIGFyZyBpc24ndCBudWxsLCBzZXQgYXJnIHRvIGEgcmFuZG9tIGNob2ljZSBmcm9tIGFyZy5zcGxpdCgiLCIpDQoJCQkJaWYgKGJ0ZW1wLmFyZyAhPT0gbnVsbCAmJiBidGVtcC5hcmcuaW5kZXhPZigiLCIpICE9PSAtMSkgew0KCQkJCQlidGVtcC5hcmcgPSBidGVtcC5hcmcuc3BsaXQoIiwiKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYnRlbXAuYXJnLnNwbGl0KCIsIikubGVuZ3RoKV07DQoJCQkJfQ0KCQkJCWlmIChidGVtcC5waXhlbC5yICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJYnRlbXAucGl4ZWwuciA9IChidGVtcC5waXhlbC5yICsgKHBhcnNlSW50KGJ0ZW1wLmFyZyl8fDIpKSAlIDQ7DQoJCQkJfQ0KCQkJCWVsc2UgeyBidGVtcC5waXhlbC5yID0gKHBhcnNlSW50KGJ0ZW1wLmFyZyl8fDIpOyB9DQoJCQl9DQoJCX0NCgl9LA0KCSJDMiI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoYnRlbXAuYXJnLmluZGV4T2YoIiwiKSAhPT0gLTEpIHsNCgkJCWJ0ZW1wLmFyZyA9IGNob29zZShhcmcuc3BsaXQoIiwiKSk7DQoJCX0NCgkJYnRlbXAuQzIgPSBidGVtcC5hcmc7DQoJfSwNCgkiRVgiOiBmdW5jdGlvbigpIHsNCgkJaWYgKCFpc0VtcHR5KGJ0ZW1wLm5ld0Nvb3Jkcy54LGJ0ZW1wLm5ld0Nvb3Jkcy55KSkgew0KCQkJaWYgKGJ0ZW1wLmluZm8uaWdub3JlICYmICFvdXRPZkJvdW5kcyhidGVtcC5uZXdDb29yZHMueCxidGVtcC5uZXdDb29yZHMueSkpIHsNCgkJCQlpZiAoYnRlbXAuaW5mby5pZ25vcmUuaW5kZXhPZihwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKG91dE9mQm91bmRzKGJ0ZW1wLm5ld0Nvb3Jkcy54LGJ0ZW1wLm5ld0Nvb3Jkcy55KSB8fCAoYnRlbXAubmV3Q29vcmRzLnggPT0gYnRlbXAucGl4ZWwueCAmJiBidGVtcC5uZXdDb29yZHMueSA9PSBidGVtcC5waXhlbC55KSB8fCAoYnRlbXAucGl4ZWwuZWxlbWVudCAhPT0gcGl4ZWxNYXBbYnRlbXAubmV3Q29vcmRzLnhdW2J0ZW1wLm5ld0Nvb3Jkcy55XS5lbGVtZW50ICYmIGVsZW1lbnRzW3BpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV0uZWxlbWVudF0uc3RhdGUgIT09ICJnYXMiKSkgew0KCQkJCS8vIGlmIGFyZyBjb250YWlucyAiPiIsIHZhciBmaXJlID0gZXZlcnl0aGluZyBhZnRlciBpdCwgYXJnID0gZXZlcnl0aGluZyBiZWZvcmUgaXQNCgkJCQlpZiAoYnRlbXAuYXJnLmluZGV4T2YoIj4iKSAhPT0gLTEpIHsNCgkJCQkJdmFyIGZpcmUgPSBidGVtcC5hcmcuc3BsaXQoIj4iKVsxXTsNCgkJCQkJYnRlbXAuYXJnID0gYnRlbXAuYXJnLnNwbGl0KCI+IilbMF07DQoJCQkJfQ0KCQkJCWVsc2UgeyB2YXIgZmlyZSA9ICJmaXJlIiB9DQoJCQkJLy8gYXJnID0gYSBudW1iZXINCgkJCQlpZiAoYnRlbXAuYXJnICE9PSBudWxsKSB7DQoJCQkJCWJ0ZW1wLmFyZyA9IHBhcnNlSW50KGJ0ZW1wLmFyZyk7DQoJCQkJCWlmIChpc05hTihidGVtcC5hcmcpKSB7YnRlbXAuYXJnID0gM30NCgkJCQl9DQoJCQkJZWxzZSB7YnRlbXAuYXJnID0gM30NCgkJCQlleHBsb2RlQXQoYnRlbXAucGl4ZWwueCxidGVtcC5waXhlbC55LGJ0ZW1wLmFyZyxmaXJlKTsNCgkJCQlpZiAoIWJ0ZW1wLnBpeGVsLmRlbCAmJiBidGVtcC5pbmZvLmhhcmRuZXNzICE9PSAxKSB7DQoJCQkJCWRlbGV0ZVBpeGVsKGJ0ZW1wLnBpeGVsLngsYnRlbXAucGl4ZWwueSk7DQoJCQkJCWJ0ZW1wLmRlbGV0ZWQgPSB0cnVlOw0KCQkJCX0NCgkJCQlidGVtcC5zd2FwU3BvdHMgPSBbXTsNCgkJCX0NCgkJfQ0KCX0sDQoJIlNNIjogZnVuY3Rpb24oKSB7DQoJCWlmICghaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCwgYnRlbXAubmV3Q29vcmRzLnksIHRydWUpKSB7DQoJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFtidGVtcC5uZXdDb29yZHMueF1bYnRlbXAubmV3Q29vcmRzLnldOw0KCQkJaWYgKGlzQnJlYWthYmxlKG5ld1BpeGVsKSAmJiBNYXRoLnJhbmRvbSgpID4gKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmhhcmRuZXNzIHx8IDApKSB7DQoJCQkJYnJlYWtQaXhlbChuZXdQaXhlbCk7DQoJCQl9DQoJCX0NCgl9LA0KCSJNWCI6IGZ1bmN0aW9uKCkgew0KCQlpZiAoaXNFbXB0eShidGVtcC5uZXdDb29yZHMueCwgYnRlbXAubmV3Q29vcmRzLnkpKSB7DQoJCQlidGVtcC5taXhTcG90cy5wdXNoKHt4OmJ0ZW1wLm5ld0Nvb3Jkcy54LCB5OmJ0ZW1wLm5ld0Nvb3Jkcy55fSk7DQoJCX0NCgkJZWxzZSBpZiAoIW91dE9mQm91bmRzKGJ0ZW1wLm5ld0Nvb3Jkcy54LCBidGVtcC5uZXdDb29yZHMueSkpIHsNCgkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW2J0ZW1wLm5ld0Nvb3Jkcy54XVtidGVtcC5uZXdDb29yZHMueV07DQoJCQlpZiAobmV3UGl4ZWwuZWxlbWVudCA9PT0gYnRlbXAucGl4ZWwuZWxlbWVudCkgeyByZXR1cm4gfQ0KCQkJaWYgKGJ0ZW1wLmFyZyB8fCAhKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLm1vdmFibGUgIT09IHRydWUgfHwgZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0ubm9NaXggPT09IHRydWUpKSB7DQoJCQkJYnRlbXAubWl4U3BvdHMucHVzaCh7eDpuZXdQaXhlbC54LCB5Om5ld1BpeGVsLnl9KTsNCgkJCX0NCgkJfQ0KCX0sDQoJIlJMIjogZnVuY3Rpb24oKSB7DQoJCWlmIChidGVtcC5hcmcuaW5kZXhPZigiLCIpICE9PSAtMSkgew0KCQkJYnRlbXAuYXJnID0gY2hvb3NlKGFyZy5zcGxpdCgiLCIpKTsNCgkJfQ0KCQlyZWxlYXNlRWxlbWVudChidGVtcC5waXhlbCwgYnRlbXAuYXJnKTsNCgl9LA0KCSJYWCI6IGZ1bmN0aW9uKCkge30sDQp9DQoJZnVuY3Rpb24gcGl4ZWxUaWNrKHBpeGVsLGN1c3RvbT1udWxsKSB7DQoJCWlmIChwaXhlbC5zdGFydCA9PT0gcGl4ZWxUaWNrcykge3JldHVybn0NCgkJYnRlbXAgPSB7fTsNCgkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdID09PSB1bmRlZmluZWQpIHsNCgkJCXBpeGVsLmludmFsaWRFbGVtZW50ID0gcGl4ZWwuZWxlbWVudDsNCgkJCWNoYW5nZVBpeGVsKHBpeGVsLCJ1bmtub3duIik7DQoJCQlyZXR1cm47DQoJCX0NCgkJdmFyIGluZm8gPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XTsNCgkJYnRlbXAuaW5mbyA9IGluZm87DQoJCWJ0ZW1wLnBpeGVsID0gcGl4ZWw7DQoJCWlmIChjdXN0b20pIHsgdmFyIGJlaGF2aW9yID0gY3VzdG9tOyB9DQoJCWVsc2UgaWYgKHBpeGVsLmNoYXJnZSAmJiBpbmZvLmJlaGF2aW9yT24pIHsgdmFyIGJlaGF2aW9yID0gaW5mby5iZWhhdmlvck9uOyB9DQoJCWVsc2UgeyB2YXIgYmVoYXZpb3IgPSBpbmZvLmJlaGF2aW9yOyB9DQoJCWlmIChwaXhlbC5mbGlwWCkgeyBiZWhhdmlvciA9IGZsaXBCZWhhdmlvcihiZWhhdmlvciwieCIpOyB9DQoJCWlmIChwaXhlbC5mbGlwWSkgeyBiZWhhdmlvciA9IGZsaXBCZWhhdmlvcihiZWhhdmlvciwieSIpOyB9DQoJCWlmIChwaXhlbC5yKSB7IGJlaGF2aW9yID0gcm90YXRlQmVoYXZpb3IoYmVoYXZpb3IscGl4ZWwucik7IH0NCgkJdmFyIHggPSBwaXhlbC54Ow0KCQl2YXIgeSA9IHBpeGVsLnk7DQoJCXZhciBtb3ZlMVNwb3RzID0gW107IGJ0ZW1wLm1vdmUxU3BvdHMgPSBtb3ZlMVNwb3RzOw0KCQl2YXIgbW92ZTJTcG90cyA9IFtdOyBidGVtcC5tb3ZlMlNwb3RzID0gbW92ZTJTcG90czsNCgkJdmFyIHN1cHBvcnRTcG90cyA9IFtdOyBidGVtcC5zdXBwb3J0U3BvdHMgPSBzdXBwb3J0U3BvdHM7DQoJCXZhciBzd2FwU3BvdHMgPSBbXTsgYnRlbXAuc3dhcFNwb3RzID0gc3dhcFNwb3RzOw0KCQlidGVtcC5taXhTcG90cyA9IFtdOw0KCQlidGVtcC5tb3ZlID0gdHJ1ZTsNCgkJLy8gUGFyc2UgYmVoYXZpb3INCgl2YXIgaGVpZ2h0ID0gYmVoYXZpb3IubGVuZ3RoOw0KCWZvciAodmFyIGJ5ID0gMDsgYnkgPCBiZWhhdmlvci5sZW5ndGg7IGJ5KyspIHsNCgl2YXIgYmVoYXZpb3JieSA9IGJlaGF2aW9yW2J5XTsNCgl2YXIgd2lkdGggPSBiZWhhdmlvcmJ5Lmxlbmd0aDsNCglmb3IgKHZhciBieCA9IDA7IGJ4IDwgYmVoYXZpb3JieS5sZW5ndGg7IGJ4KyspIHsNCgkJdmFyIGIwID0gYmVoYXZpb3JieVtieF07DQoJCWlmIChiMCA9PT0gIlhYIikge2NvbnRpbnVlfQ0KCQkvL2lmIChiLmluY2x1ZGVzKCIgT1IgIikpIHsNCgkJLy8JYiA9IGIuc3BsaXQoIiBPUiAiKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYi5zcGxpdCgiIE9SICIpLmxlbmd0aCldOw0KCQkvL30NCgkJLy8gTG9vcCB0aHJvdWdoIGIwLnNwbGl0KCIgQU5EICIpDQoJCWlmIChiMC5pbmRleE9mKCIgQU5EICIpICE9PSAtMSkgeyB2YXIgYW5kc3BsaXQgPSBiMC5zcGxpdCgiIEFORCAiKTsgfQ0KCQllbHNlIHsgdmFyIGFuZHNwbGl0ID0gW2IwXTsgfQ0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGFuZHNwbGl0Lmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgYiA9IGFuZHNwbGl0W2ldOw0KCQkJaWYgKGIuaW5kZXhPZigiOiIpICE9PSAtMSkgew0KCQkJCXZhciBhcmcgPSBiLnNwbGl0KCI6IilbMV0uc3BsaXQoL1tcOlwlXS8pWzBdOw0KCQkJCWlmIChiLmluZGV4T2YoIiUiKSA9PT0gLTEpIHsNCgkJCQkJYiA9IGIuc3BsaXQoL1tcOlwlXS8pWzBdOw0KCQkJCX0NCgkJCX0NCgkJCWVsc2UgeyB2YXIgYXJnID0gbnVsbDt9DQoJCQlidGVtcC5hcmcgPSBhcmc7DQoJCQkvLyBJZiBiIGhhcyAiJSIgZm9sbG93ZWQgYnkgYSBudW1iZXIgaW4gaXQsIGl0J3MgYSBjaGFuY2UgdG8gbW92ZQ0KCQkJaWYgKGIuaW5kZXhPZigiJSIpICE9PSAtMSkgew0KCQkJCS8vIFNwbGl0IHRoZSBzdHJpbmcgYXQgdGhlICIlIiBhbmQgdXNlIHRoZSBzZWNvbmQgaGFsZiBhcyB0aGUgY2hhbmNlIChmbG9hdCkNCgkJCQl2YXIgY2hhbmNlID0gcGFyc2VGbG9hdChiLnNwbGl0KCIlIilbMV0pOw0KCQkJCS8vY29uc29sZS5sb2coYisiOiAiKyhNYXRoLnJhbmRvbSgpKjEwMCA8IGNoYW5jZSkpOw0KCQkJCWIgPSBiLnNwbGl0KC9bXDpcJV0vKVswXTsNCgkJCX0NCgkJCWVsc2UgeyB2YXIgY2hhbmNlID0gMTAwOyB9DQoJCQlpZiAoY2hhbmNlPT09MTAwIHx8IE1hdGgucmFuZG9tKCkqMTAwIDwgY2hhbmNlKSB7DQoJCQkJdmFyIG5ld0Nvb3JkcyA9IGJlaGF2aW9yQ29vcmRzKHgseSxieCxieSx3aWR0aCxoZWlnaHQpOw0KCQkJCWJ0ZW1wLm5ld0Nvb3JkcyA9IG5ld0Nvb3JkczsNCgkJCQlpZiAoYmVoYXZpb3JSdWxlc1tiXSkgew0KCQkJCQliZWhhdmlvclJ1bGVzW2JdKCk7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQl9DQoJCX0NCgkJaWYgKGJ0ZW1wLmRlbGV0ZWQpIHtyZXR1cm47fQ0KCQlpZiAoc3VwcG9ydFNwb3RzLmxlbmd0aCA+IDApIHsNCgkJCXZhciBzdXBwb3J0Q291bnQgPSAwOw0KCQkJdmFyIGFsbEVtcHR5ID0gdHJ1ZTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3VwcG9ydFNwb3RzLmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIGJ4ID0gc3VwcG9ydFNwb3RzW2ldLng7DQoJCQkJdmFyIGJ5ID0gc3VwcG9ydFNwb3RzW2ldLnk7DQoJCQkJdmFyIGFyZyA9IHN1cHBvcnRTcG90c1tpXS5hcmc7DQoJCQkJaWYgKCFpc0VtcHR5KGJ4LGJ5LHRydWUpKSB7DQoJCQkJCWlmIChpbmZvLmlnbm9yZSAmJiBpbmZvLmlnbm9yZS5pbmRleE9mKHBpeGVsTWFwW2J4XVtieV0uZWxlbWVudCkgIT09IC0xKSB7Y29udGludWU7fQ0KCQkJCQlpZiAoKGFyZyA9PT0gbnVsbCAmJiAhdmFsaWREZW5zaXR5U3dhcHNbaW5mby5zdGF0ZV1bZWxlbWVudHNbcGl4ZWxNYXBbYnhdW2J5XS5lbGVtZW50XS5zdGF0ZV0pIHx8IHBpeGVsTWFwW2J4XVtieV0uZWxlbWVudCA9PSBhcmcpIHsNCgkJCQkJCXN1cHBvcnRDb3VudCsrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHN1cHBvcnRDb3VudCA9PSBzdXBwb3J0U3BvdHMubGVuZ3RoKSB7DQoJCQkJYnRlbXAubW92ZSA9IGZhbHNlOw0KCQkJfQ0KCQl9DQoJCQ0KCQl2YXIgbW92ZWQgPSBmYWxzZTsNCg0KCQlpZiAoc3dhcFNwb3RzLmxlbmd0aCA+IDApIHsNCgkJCXZhciBjb29yZHMgPSBzd2FwU3BvdHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnN3YXBTcG90cy5sZW5ndGgpXTsNCgkJCWlmIChwaXhlbE1hcFtjb29yZHMueF1bY29vcmRzLnldICE9PSB1bmRlZmluZWQpIHsNCgkJCQlzd2FwUGl4ZWxzKHBpeGVsLHBpeGVsTWFwW2Nvb3Jkcy54XVtjb29yZHMueV0pOw0KCQkJCWJ0ZW1wLm1vdmUgPSBmYWxzZTsNCgkJCQltb3ZlZCA9IHRydWU7DQoJCQl9DQoJCX0NCg0KCQlpZiAoYnRlbXAubWl4U3BvdHMubGVuZ3RoID4gMCkgew0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBidGVtcC5taXhTcG90cy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBjb29yZDEgPSBjaG9vc2UoYnRlbXAubWl4U3BvdHMpOw0KCQkJCXZhciBjb29yZDIgPSBjaG9vc2UoYnRlbXAubWl4U3BvdHMpOw0KCQkJCXZhciBleGlzdHMxID0gIWlzRW1wdHkoY29vcmQxLngsY29vcmQxLnksdHJ1ZSk7DQoJCQkJdmFyIGV4aXN0czIgPSAhaXNFbXB0eShjb29yZDIueCxjb29yZDIueSx0cnVlKTsNCgkJCQlpZiAoaXNFbXB0eShjb29yZDEueCxjb29yZDEueSkgJiYgZXhpc3RzMikgew0KCQkJCQl0cnlNb3ZlKHBpeGVsTWFwW2Nvb3JkMi54XVtjb29yZDIueV0sY29vcmQxLngsY29vcmQxLnkpOw0KCQkJCX0NCgkJCQllbHNlIGlmIChleGlzdHMxICYmIGlzRW1wdHkoY29vcmQyLngsY29vcmQyLnkpKSB7DQoJCQkJCXRyeU1vdmUocGl4ZWxNYXBbY29vcmQxLnhdW2Nvb3JkMS55XSxjb29yZDIueCxjb29yZDIueSk7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKGV4aXN0czEgJiYgZXhpc3RzMikgew0KCQkJCQl2YXIgcGl4ZWwxID0gcGl4ZWxNYXBbY29vcmQxLnhdW2Nvb3JkMS55XTsNCgkJCQkJdmFyIHBpeGVsMiA9IHBpeGVsTWFwW2Nvb3JkMi54XVtjb29yZDIueV07DQoJCQkJCXN3YXBQaXhlbHMocGl4ZWwxLHBpeGVsMik7DQoJCQkJCWlmIChlbGVtZW50c1twaXhlbDEuZWxlbWVudF0ub25NaXgpIHsNCgkJCQkJCWVsZW1lbnRzW3BpeGVsMS5lbGVtZW50XS5vbk1peChwaXhlbDEscGl4ZWwyKTsNCgkJCQkJfQ0KCQkJCQlpZiAoZWxlbWVudHNbcGl4ZWwyLmVsZW1lbnRdLm9uTWl4KSB7DQoJCQkJCQllbGVtZW50c1twaXhlbDIuZWxlbWVudF0ub25NaXgocGl4ZWwyLHBpeGVsMSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlpZiAoYnRlbXAuc3RpY2tpbmcpIHsNCgkJCWJ0ZW1wLm1vdmUgPSBmYWxzZTsNCgkJfQ0KCQkNCgkJLy8gTW92ZSBGaXJzdCBQcmlvcml0eQ0KCQlpZiAoYnRlbXAubW92ZSkgew0KCQkJaWYgKG1vdmUxU3BvdHMubGVuZ3RoID4gMCkgew0KCQkJCS8vIFdoaWxlIG1vdmUxU3BvdHMgaXMgbm90IGVtcHR5DQoJCQkJd2hpbGUgKG1vdmUxU3BvdHMubGVuZ3RoID4gMCkgew0KCQkJCQkvLyBjb29yZHMgPSByYW5kb20gaXRlbSBvZiBtb3ZlMVNwb3RzDQoJCQkJCXZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm1vdmUxU3BvdHMubGVuZ3RoKTsNCgkJCQkJdmFyIGNvb3JkcyA9IG1vdmUxU3BvdHNbal07DQoJCQkJCXZhciBueCA9IGNvb3Jkcy54Ow0KCQkJCQl2YXIgbnkgPSBjb29yZHMueTsNCgkJCQkJbW92ZWQgPSB0cnlNb3ZlKHBpeGVsLG54LG55LGJ0ZW1wLmxlYXZlQmVoaW5kMSB8fCBidGVtcC5sZWF2ZUJlaGluZCk7DQoJCQkJCWlmIChtb3ZlZCkgew0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQkJZWxzZSB7DQoJCQkJCQkvLyByZW1vdmUgY29vcmRzIGZyb20gbW92ZTFTcG90cw0KCQkJCQkJbW92ZTFTcG90cy5zcGxpY2UoaiwxKTsNCgkJCQkJfQ0KDQoJCQkJCQ0KCQkJCX0NCgkJCX0NCgkJCS8vIE1vdmUgU2Vjb25kIFByaW9yaXR5DQoJCQlpZiAoIW1vdmVkICYmIG1vdmUyU3BvdHMubGVuZ3RoID4gMCkgew0KCQkJCS8vIFdoaWxlIG1vdmUyU3BvdHMgaXMgbm90IGVtcHR5DQoJCQkJd2hpbGUgKG1vdmUyU3BvdHMubGVuZ3RoID4gMCkgew0KCQkJCQkvLyBjb29yZHMgPSByYW5kb20gaXRlbSBvZiBtb3ZlMlNwb3RzDQoJCQkJCXZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm1vdmUyU3BvdHMubGVuZ3RoKTsNCgkJCQkJdmFyIGNvb3JkcyA9IG1vdmUyU3BvdHNbal07DQoJCQkJCXZhciBueCA9IGNvb3Jkcy54Ow0KCQkJCQl2YXIgbnkgPSBjb29yZHMueTsNCgkJCQkJbW92ZWQgPSB0cnlNb3ZlKHBpeGVsLG54LG55LGJ0ZW1wLmxlYXZlQmVoaW5kMiB8fCBidGVtcC5sZWF2ZUJlaGluZCk7DQoJCQkJCWlmIChtb3ZlZCkgew0KCQkJCQkJaWYgKGJ0ZW1wLkMyICYmIGVsZW1lbnRzW2J0ZW1wLkMyXSkgew0KCQkJCQkJCWNoYW5nZVBpeGVsKHBpeGVsLGJ0ZW1wLkMyKTsNCgkJCQkJCX0NCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJLy8gcmVtb3ZlIGNvb3JkcyBmcm9tIG1vdmUyU3BvdHMNCgkJCQkJCW1vdmUyU3BvdHMuc3BsaWNlKGosMSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJZG9BaXJEZW5zaXR5KHBpeGVsKTsNCg0KDQoJCS8vIENoYW5nZSB0ZW1wZWFydHVyZSBpZiBuZWVkZWQgKHVudXNlZCkNCgkJLyppZiAoaW5mby50ZW1wQ2hhbmdlICE9IHVuZGVmaW5lZCkgew0KCQkJcGl4ZWwudGVtcCArPSBpbmZvLnRlbXBDaGFuZ2U7DQoJCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJCX0qLw0KDQoJCS8vIEJ1cm5pbmcNCgkJZG9CdXJuaW5nKHBpeGVsKTsNCg0KCQkvLyBIZWF0IFRyYW5zZmVyDQoJCWlmIChpbmZvLmluc3VsYXRlICE9PSB0cnVlKSB7DQoJCQlkb0hlYXQocGl4ZWwpOw0KCQl9DQoNCgkJLy8gRWxlY3RyaWNpdHkgVHJhbnNmZXINCgkJZG9FbGVjdHJpY2l0eShwaXhlbCk7DQoNCgkJLy8gU3RhaW5pbmcNCgkJaWYgKGluZm8uc3RhaW4pIHsNCgkJCWRvU3RhaW5pbmcocGl4ZWwpOw0KCQl9DQoNCgl9DQoNCgkJZnVuY3Rpb24gZG9EZWZhdWx0cyhwaXhlbCkgew0KCQkJaWYgKHBpeGVsLmRlbCA9PT0gdHJ1ZSkge3JldHVybn0NCgkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pbnN1bGF0ZSAhPT0gdHJ1ZSkgeyBkb0hlYXQocGl4ZWwpIH07DQoJCQlkb0FpckRlbnNpdHkocGl4ZWwpOw0KCQkJZG9CdXJuaW5nKHBpeGVsKTsNCgkJCWRvRWxlY3RyaWNpdHkocGl4ZWwpOw0KCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnN0YWluKSB7IGRvU3RhaW5pbmcocGl4ZWwpIH07DQoJCX0NCg0KCQlmdW5jdGlvbiBkb0FpckRlbnNpdHkocGl4ZWwpIHsNCgkJCWlmIChwaXhlbC5kZWwgPT09IHRydWUpIHtyZXR1cm59DQoJCQl2YXIgaW5mbyA9IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdOw0KCQkJaWYgKGluZm8uZGVuc2l0eSA8IGFpckRlbnNpdHkgJiYgaW5mby5pZ25vcmVBaXIgIT09IHRydWUgJiYgaW5mby5tb3ZhYmxlID09PSB0cnVlKSB7DQoJCQkJaWYgKHZhbGlkRGVuc2l0eVN3YXBzLmdhc1tpbmZvLnN0YXRlXSkgew0KCQkJCQkvLyBjaGFuY2UgZGVwZW5kaW5nIG9uIHRoZSBkaWZmZXJlbmNlIGluIGRlbnNpdHkNCgkJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCAoYWlyRGVuc2l0eSAtIGluZm8uZGVuc2l0eSkvKGFpckRlbnNpdHkgKyBpbmZvLmRlbnNpdHkpKSB7DQoJCQkJCQl0cnlNb3ZlKHBpeGVsLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGRvQnVybmluZyhwaXhlbCkgew0KCQkJaWYgKHBpeGVsLmJ1cm5pbmcpIHsgLy8gQnVybmluZw0KCQkJCWlmIChzZXR0aW5ncy5idXJuID09PSAwKSB7IHJldHVybiB9DQoJCQkJaWYgKHBpeGVsLmJ1cm5TdGFydCA9PT0gdW5kZWZpbmVkKSB7IHBpeGVsLmJ1cm5TdGFydCA9IHBpeGVsVGlja3MgfQ0KCQkJCXZhciBpbmZvID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF07DQoJCQkJaWYgKGluZm8uaW5zdWxhdGUgIT09IHRydWUpIHsgcGl4ZWwudGVtcCArPSAxOyB9DQoJCQkJcGl4ZWxUZW1wQ2hlY2socGl4ZWwpOw0KCQkJCWlmIChwaXhlbC50ZW1wIDwgMCkgew0KCQkJCQlwaXhlbC5idXJuaW5nID0gdW5kZWZpbmVkOw0KCQkJCQlwaXhlbC5idXJuU3RhcnQgPSB1bmRlZmluZWQ7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgeyAvLyBCdXJuIGFkamFjZW50IHBpeGVscw0KCQkJCQl2YXIgeCA9IHBpeGVsLngrYWRqYWNlbnRDb29yZHNbaV1bMF07DQoJCQkJCXZhciB5ID0gcGl4ZWwueSthZGphY2VudENvb3Jkc1tpXVsxXTsNCgkJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQkJdmFyIG5ld1BpeGVsID0gcGl4ZWxNYXBbeF1beV07DQoJCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uYnVybiAmJiAhbmV3UGl4ZWwuYnVybmluZykgew0KCQkJCQkJCWlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSA8IGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmJ1cm4pIHsNCgkJCQkJCQkJbmV3UGl4ZWwuYnVybmluZyA9IHRydWU7DQoJCQkJCQkJCW5ld1BpeGVsLmJ1cm5TdGFydCA9IHBpeGVsVGlja3M7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJaWYgKGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmV4dGluZ3Vpc2ggJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnVybmluZyAhPT0gdHJ1ZSkgew0KCQkJCQkJCXBpeGVsLmJ1cm5pbmcgPSB1bmRlZmluZWQ7DQoJCQkJCQkJcGl4ZWwuYnVyblN0YXJ0ID0gdW5kZWZpbmVkOw0KCQkJCQkJCXJldHVybjsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCWlmICgocGl4ZWxUaWNrcyAtIHBpeGVsLmJ1cm5TdGFydCA+IChpbmZvLmJ1cm5UaW1lIHx8IDIwMCkpICYmIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApPChpbmZvLmJ1cm4gfHwgMTApICYmICEoaW5mby5idXJuVGltZSA9PT0gdW5kZWZpbmVkICYmIGluZm8uaGFyZG5lc3MgPj0gMSkpIHsNCgkJCQkJbGV0IGJ1cm5JbnRvID0gaW5mby5idXJuSW50bzsNCgkJCQkJbGV0IG1ha2VzRmlyZSA9IGZhbHNlOw0KCQkJCQlpZiAoYnVybkludG8gPT09IHVuZGVmaW5lZCkgew0KCQkJCQkJYnVybkludG8gPSAiZmlyZSI7DQoJCQkJCQltYWtlc0ZpcmUgPSB0cnVlOw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKGJ1cm5JbnRvIGluc3RhbmNlb2YgQXJyYXkpIHsNCgkJCQkJCWJ1cm5JbnRvID0gYnVybkludG9bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJ1cm5JbnRvLmxlbmd0aCldOw0KCQkJCQl9DQoJCQkJCWNoYW5nZVBpeGVsKHBpeGVsLGJ1cm5JbnRvKTsNCgkJCQkJaWYgKGluZm8uZmlyZUNvbG9yICE9PSB1bmRlZmluZWQgJiYgbWFrZXNGaXJlKSB7DQoJCQkJCQlwaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKHBpeGVsLGluZm8uZmlyZUNvbG9yKTsNCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwpDQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk8MTAgJiYgaW5mby5pZCAhPT0gZWxlbWVudHMuZmlyZS5pZCAmJiBpbmZvLmZpcmVFbGVtZW50ICE9PSBudWxsKSB7IC8vIFNwYXduIGZpcmUNCgkJCQkJaWYgKGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSB7DQoJCQkJCQljcmVhdGVQaXhlbCgoaW5mby5maXJlRWxlbWVudCB8fCAiZmlyZSIpLHBpeGVsLngscGl4ZWwueS0xKTsNCgkJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnktMV0udGVtcCA9IHBpeGVsLnRlbXAvLysocGl4ZWxUaWNrcyAtIChwaXhlbC5idXJuU3RhcnQgfHwgMCkpOw0KCQkJCQkJaWYgKGluZm8uZmlyZUNvbG9yICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJCQlwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55LTFdLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueS0xXSxpbmZvLmZpcmVDb2xvcik7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJLy8gc2FtZSBmb3IgYmVsb3cgaWYgdG9wIGlzIGJsb2NrZWQNCgkJCQkJZWxzZSBpZiAoaXNFbXB0eShwaXhlbC54LHBpeGVsLnkrMSkpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKChpbmZvLmZpcmVFbGVtZW50IHx8ICJmaXJlIikscGl4ZWwueCxwaXhlbC55KzEpOw0KCQkJCQkJcGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueSsxXS50ZW1wID0gcGl4ZWwudGVtcC8vKyhwaXhlbFRpY2tzIC0gKHBpeGVsLmJ1cm5TdGFydCB8fCAwKSk7DQoJCQkJCQlpZiAoaW5mby5maXJlQ29sb3IgIT09IHVuZGVmaW5lZCkgew0KCQkJCQkJCXBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnkrMV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFtwaXhlbC54XVtwaXhlbC55KzFdLGluZm8uZmlyZUNvbG9yKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCg0KCQkJfQ0KCQl9DQoNCgkJZnVuY3Rpb24gZG9IZWF0KHBpeGVsKSB7DQoJCQkvLyBDaGVjayByaWdodCBhbmQgYm90dG9tIGFkamFjZW50IHBpeGVscw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBiaUNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciB4ID0gcGl4ZWwueCtiaUNvb3Jkc1tpXVswXTsNCgkJCQl2YXIgeSA9IHBpeGVsLnkrYmlDb29yZHNbaV1bMV07DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFt4XVt5XTsNCgkJCQkJLy8gU2tpcCBpZiBib3RoIHRlbXBlcmF0dXJlcyBhcmUgdGhlIHNhbWUNCgkJCQkJaWYgKHBpeGVsLnRlbXAgPT09IG5ld1BpeGVsLnRlbXAgfHwgZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaW5zdWxhdGUgPT09IHRydWUpIHsNCgkJCQkJCWNvbnRpbnVlOw0KCQkJCQl9DQoJCQkJCS8vIFNldCBib3RoIHBpeGVsIHRlbXBlcmF0dXJlcyB0byB0aGVpciBhdmVyYWdlDQoJCQkJCXZhciBhdmcgPSAocGl4ZWwudGVtcCArIG5ld1BpeGVsLnRlbXApLzI7DQoJCQkJCXBpeGVsLnRlbXAgPSBhdmc7DQoJCQkJCW5ld1BpeGVsLnRlbXAgPSBhdmc7DQoJCQkJCXBpeGVsVGVtcENoZWNrKHBpeGVsKTsNCgkJCQkJcGl4ZWxUZW1wQ2hlY2sobmV3UGl4ZWwpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGRvRWxlY3RyaWNpdHkocGl4ZWwsc3RlcCkgew0KCQkJaWYgKHBpeGVsLmNoYXJnZVN0YXJ0ID09PSBwaXhlbFRpY2tzICYmICFzdGVwKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKHBpeGVsLmNoYXJnZSkgew0KCQkJCS8vIHBpeGVsLmNoYXJnZSAtPSAwLjI7DQoJCQkJcGl4ZWwuY2hhcmdlID0gTWF0aC5yb3VuZCgocGl4ZWwuY2hhcmdlLTAuMikgKiAxMDApIC8gMTAwDQoJCQkJLy8gQ2hlY2sgZWFjaCBhZGphY2VudCBwaXhlbCwgaWYgdGhhdCBwaXhlbCdzIGNoYXJnZSBpcyBmYWxzZSwgc2V0IGl0IHRvIHRoZSBzYW1lIGNoYXJnZQ0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgYWRqYWNlbnRDb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJdmFyIHggPSBwaXhlbC54K2FkamFjZW50Q29vcmRzW2ldWzBdOw0KCQkJCQl2YXIgeSA9IHBpeGVsLnkrYWRqYWNlbnRDb29yZHNbaV1bMV07DQoJCQkJCWlmICghaXNFbXB0eSh4LHksdHJ1ZSkpIHsNCgkJCQkJCXZhciBuZXdQaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQkJaWYgKG5ld1BpeGVsLmNoYXJnZSB8fCBuZXdQaXhlbC5jaGFyZ2VDRCkge2NvbnRpbnVlfQ0KCQkJCQkJdmFyIGNvbiA9IGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmNvbmR1Y3Q7DQoJCQkJCQlpZiAoY29uID09PSB1bmRlZmluZWQpIHtjb250aW51ZX0NCgkJCQkJCWlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5pZ25vcmVDb25kdWN0ICE9PSB1bmRlZmluZWQgJiYgZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaWdub3JlQ29uZHVjdC5pbmRleE9mKHBpeGVsLmVsZW1lbnQpICE9PSAtMSkgew0KCQkJCQkJCWNvbnRpbnVlDQoJCQkJCQl9DQoJCQkJCQlpZiAobmV3UGl4ZWwudGVtcCA8PSBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5zdXBlcmNvbmR1Y3RBdCkgew0KCQkJCQkJCWNvbiA9IDE7DQoJCQkJCQl9DQoJCQkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IGNvbikgeyAvLyBJZiByYW5kb20gbnVtYmVyIGlzIGxlc3MgdGhhbiBjb25kdWN0aXZpdHkNCgkJCQkJCQluZXdQaXhlbC5jaGFyZ2UgPSAxOw0KCQkJCQkJCW5ld1BpeGVsLmNoYXJnZVN0YXJ0ID0gcGl4ZWxUaWNrczsNCgkJCQkJCQlkb0VsZWN0cmljaXR5KG5ld1BpeGVsLChzdGVwfHwyKS0xKTsNCgkJCQkJCQlpZiAoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uY29sb3JPbikgew0KCQkJCQkJCQluZXdQaXhlbC5jb2xvciA9IHBpeGVsQ29sb3JQaWNrKG5ld1BpeGVsKTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5pbnN1bGF0ZSAhPT0gdHJ1ZSkgeyAvLyBPdGhlcndpc2UgaGVhdCB0aGUgcGl4ZWwgKFJlc2lzdGFuY2Ugc2ltdWxhdGlvbikNCgkJCQkJCQluZXdQaXhlbC50ZW1wICs9IHBpeGVsLmNoYXJnZS80Ow0KCQkJCQkJCXBpeGVsVGVtcENoZWNrKG5ld1BpeGVsKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAocGl4ZWwuY2hhcmdlIDw9IDApIHsNCgkJCQkJLy8gZGVsZXRlIHBpeGVsLmNoYXJnZTsNCgkJCQkJLy8gZGVsZXRlIHBpeGVsLmNoYXJnZVN0YXJ0Ow0KCQkJCQlwaXhlbC5jaGFyZ2UgPSB1bmRlZmluZWQ7DQoJCQkJCXBpeGVsLmNoYXJnZVN0YXJ0ID0gdW5kZWZpbmVkOw0KCQkJCQl2YXIgY29uID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY29uZHVjdDsNCgkJCQkJaWYgKHBpeGVsLnRlbXAgPD0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uc3VwZXJjb25kdWN0QXQpIHsNCgkJCQkJCWNvbiA9IDE7DQoJCQkJCX0NCgkJCQkJcGl4ZWwuY2hhcmdlQ0QgPSBNYXRoLnJvdW5kKDQgKyAoNCooMS1jb24pKSkgfHwgNDsNCgkJCQl9DQoJCQl9DQoJCQkvLyBMb3dlciBjaGFyZ2UgY29vbGRvd24NCgkJCWVsc2UgaWYgKHBpeGVsLmNoYXJnZUNEKSB7DQoJCQkJcGl4ZWwuY2hhcmdlQ0QgLT0gMTsNCgkJCQlpZiAocGl4ZWwuY2hhcmdlQ0QgPD0gMCkgew0KCQkJCQkvLyBkZWxldGUgcGl4ZWwuY2hhcmdlQ0Q7DQoJCQkJCXBpeGVsLmNoYXJnZUNEID0gdW5kZWZpbmVkOw0KCQkJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY29sb3JPbikgew0KCQkJCQkJcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlzb2xpZFN0YXRlcyA9IHtzb2xpZDp0cnVlfTsNCgkJbGlxdWlkU3RhdGVzID0ge2xpcXVpZDp0cnVlfTsNCgkJZ2FzU3RhdGVzID0ge2dhczp0cnVlfTsNCg0KCQlmdW5jdGlvbiBkb1N0YWluaW5nKHBpeGVsKSB7DQoJCQlpZiAoc2V0dGluZ3Muc3RhaW49PT0wKSB7IHJldHVybiB9DQoJCQl2YXIgc3RhaW4gPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5zdGFpbjsNCgkJCWlmIChzdGFpbiA+IDApIHsNCgkJCQl2YXIgbmV3Q29sb3IgPSBwaXhlbC5jb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJdmFyIG5ld0NvbG9yID0gbnVsbDsNCgkJCX0NCg0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhZGphY2VudENvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciB4ID0gcGl4ZWwueCthZGphY2VudENvb3Jkc1tpXVswXTsNCgkJCQl2YXIgeSA9IHBpeGVsLnkrYWRqYWNlbnRDb29yZHNbaV1bMV07DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQl2YXIgbmV3UGl4ZWwgPSBwaXhlbE1hcFt4XVt5XTsNCgkJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmlnbm9yZSAmJiBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pZ25vcmUuaW5kZXhPZihuZXdQaXhlbC5lbGVtZW50KSAhPT0gLTEpIHsNCgkJCQkJCWNvbnRpbnVlOw0KCQkJCQl9DQoJCQkJCWlmICgoZWxlbWVudHNbbmV3UGl4ZWwuZWxlbWVudF0uaWQgIT09IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmlkIHx8IGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YWluU2VsZikgJiYgKHNvbGlkU3RhdGVzW2VsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLnN0YXRlXSB8fCBlbGVtZW50c1tuZXdQaXhlbC5lbGVtZW50XS5pZCA9PT0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uaWQpKSB7DQoJCQkJCQlpZiAoTWF0aC5yYW5kb20oKSA8IE1hdGguYWJzKHN0YWluKSkgew0KCQkJCQkJCS8vIGlmIG5ld1BpeGVsLmNvbG9yIGRvZXNuJ3Qgc3RhcnQgd2l0aCByZ2IsIGNvbnRpbnVlDQoJCQkJCQkJaWYgKCFuZXdQaXhlbC5jb2xvci5tYXRjaCgvXnJnYi8pKSB7IGNvbnRpbnVlOyB9DQoJCQkJCQkJaWYgKHN0YWluIDwgMCkgew0KCQkJCQkJCQlpZiAobmV3UGl4ZWwub3JpZ0NvbG9yKSB7DQoJCQkJCQkJCQluZXdDb2xvciA9IG5ld1BpeGVsLm9yaWdDb2xvcjsNCgkJCQkJCQkJfQ0KCQkJCQkJCQllbHNlIHsgY29udGludWU7IH0NCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSBpZiAoIW5ld1BpeGVsLm9yaWdDb2xvcikgew0KCQkJCQkJCQluZXdQaXhlbC5vcmlnQ29sb3IgPSBuZXdQaXhlbC5jb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJCQkJCX0NCgkJCQkJCQkvLyBwYXJzZSByZ2IgY29sb3Igc3RyaW5nIG9mIG5ld1BpeGVsIHJnYihyLGcsYikNCgkJCQkJCQl2YXIgcmdiID0gbmV3UGl4ZWwuY29sb3IubWF0Y2goL1xkKy9nKTsNCgkJCQkJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uc3RhaW5TZWxmICYmIGVsZW1lbnRzW25ld1BpeGVsLmVsZW1lbnRdLmlkID09PSBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pZCkgew0KCQkJCQkJCQkvLyBpZiByZ2IgYW5kIG5ld0NvbG9yIGFyZSB0aGUgc2FtZSwgY29udGludWUNCgkJCQkJCQkJaWYgKHJnYlswXSA9PT0gbmV3Q29sb3JbMF0gJiYgcmdiWzFdID09PSBuZXdDb2xvclsxXSAmJiByZ2JbMl0gPT09IG5ld0NvbG9yWzJdKSB7IGNvbnRpbnVlOyB9DQoJCQkJCQkJCXZhciBhdmcgPSBbXTsNCgkJCQkJCQkJZm9yICh2YXIgaiA9IDA7IGogPCByZ2IubGVuZ3RoOyBqKyspIHsNCgkJCQkJCQkJCWF2Z1tqXSA9IE1hdGgucm91bmQoKHJnYltqXSooMS1NYXRoLmFicyhzdGFpbikpKSArIChuZXdDb2xvcltqXSpNYXRoLmFicyhzdGFpbikpKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCQllbHNlIHsNCgkJCQkJCQkJLy8gZ2V0IHRoZSBhdmVyYWdlIG9mIHJnYiBhbmQgbmV3Q29sb3IsIG1vcmUgaW50ZW5zZSBhcyBzdGFpbiByZWFjaGVzIDEgDQoJCQkJCQkJCXZhciBhdmcgPSBbXTsNCgkJCQkJCQkJZm9yICh2YXIgaiA9IDA7IGogPCByZ2IubGVuZ3RoOyBqKyspIHsNCgkJCQkJCQkJCWF2Z1tqXSA9IE1hdGguZmxvb3IoKHJnYltqXSooMS1NYXRoLmFicyhzdGFpbikpKSArIChuZXdDb2xvcltqXSpNYXRoLmFicyhzdGFpbikpKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCQkvLyBzZXQgbmV3UGl4ZWwgY29sb3IgdG8gYXZnDQoJCQkJCQkJbmV3UGl4ZWwuY29sb3IgPSAicmdiKCIrYXZnLmpvaW4oIiwiKSsiKSI7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gc3RhaW5QaXhlbChuZXdQaXhlbCxjb2xvcixpbnRlbnNpdHkpIHsNCgkJCWlmICghbmV3UGl4ZWwuY29sb3IubWF0Y2goL15yZ2IvKSkgeyByZXR1cm47IH0NCgkJCWlmICghaW50ZW5zaXR5KSB7IGludGVuc2l0eSA9IDAuNSB9DQoJCQlpZiAoY29sb3IuY2hhckNvZGVBdCgwKSA9PT0gMzUpIHsgLy8jDQoJCQkJY29sb3IgPSBoZXhUb1JHQihjb2xvcik7DQoJCQkJY29sb3IgPSBbY29sb3Iucixjb2xvci5nLGNvbG9yLmJdOw0KCQkJfQ0KCQkJbGV0IHJnYiA9IG5ld1BpeGVsLmNvbG9yLm1hdGNoKC9cZCsvZyk7DQoJCQlpZiAoIW5ld1BpeGVsLm9yaWdDb2xvcikgbmV3UGl4ZWwub3JpZ0NvbG9yID0gcmdiOw0KCQkJdmFyIGF2ZyA9IFtdOw0KCQkJZm9yICh2YXIgaiA9IDA7IGogPCByZ2IubGVuZ3RoOyBqKyspIHsNCgkJCQlhdmdbal0gPSBNYXRoLmZsb29yKChyZ2Jbal0qKDEtTWF0aC5hYnMoaW50ZW5zaXR5KSkpICsgKGNvbG9yW2pdKk1hdGguYWJzKGludGVuc2l0eSkpKTsNCgkJCX0NCgkJCW5ld1BpeGVsLmNvbG9yID0gInJnYigiK2F2Zy5qb2luKCIsIikrIikiOw0KCQl9DQoNCgkJZnVuY3Rpb24gcGl4ZWxDb2xvclBpY2socGl4ZWwsY3VzdG9tQ29sb3I9bnVsbCkgew0KCQkJbGV0IGVsZW1lbnQgPSBwaXhlbC5lbGVtZW50Ow0KCQkJbGV0IGVsZW1lbnRJbmZvID0gZWxlbWVudHNbZWxlbWVudF07DQoJCQkvL2lmIChlbGVtZW50SW5mby5iZWhhdmlvciBpbnN0YW5jZW9mIEFycmF5KSB7DQoJCQkNCgkJCWlmIChwaXhlbC5jaGFyZ2UgJiYgZWxlbWVudEluZm8uY29sb3JPbikgew0KCQkJCWN1c3RvbUNvbG9yID0gZWxlbWVudEluZm8uY29sb3JPbjsNCgkJCX0NCgkJCWxldCByZ2I7DQoJCQlpZiAoY3VzdG9tQ29sb3IgIT09IG51bGwpIHsNCgkJCQlpZiAoQXJyYXkuaXNBcnJheShjdXN0b21Db2xvcikpIHsNCgkJCQkJY3VzdG9tQ29sb3IgPSBjdXN0b21Db2xvcltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXN0b21Db2xvci5sZW5ndGgpXTsNCgkJCQl9DQoJCQkJaWYgKGN1c3RvbUNvbG9yLnN0YXJ0c1dpdGgoIiMiKSkgew0KCQkJCQljdXN0b21Db2xvciA9IGhleFRvUkdCKGN1c3RvbUNvbG9yKTsNCgkJCQl9DQoJCQkJcmdiID0gY3VzdG9tQ29sb3I7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlyZ2IgPSBlbGVtZW50c1tlbGVtZW50XS5jb2xvck9iamVjdDsgLy8ge3IsIGcsIGJ9DQoJCQkJLy8gSWYgcmdiIGlzIGFuIGFycmF5LCBjaG9vc2UgYSByYW5kb20gaXRlbQ0KCQkJCWlmIChBcnJheS5pc0FycmF5KHJnYikpIHsNCgkJCQkJcmdiID0gcmdiW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJnYi5sZW5ndGgpXTsNCgkJCQl9DQoJCQl9DQoJCQkvLyBSYW5kb21seSBkYXJrZW4gb3IgbGlnaHRlbiB0aGUgUkdCIGNvbG9yDQoJCQlsZXQgZ3JhaW4gPSAxNTsNCgkJCWlmIChlbGVtZW50SW5mby5ncmFpbiAhPT0gdW5kZWZpbmVkKSB7IGdyYWluID0gZ3JhaW4gKiBlbGVtZW50SW5mby5ncmFpbiB9DQoJCQlsZXQgY29sb3JvZmZzZXQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoTWF0aC5yYW5kb20oKSA+IDAuNSA/IC0xIDogMSkgKiBNYXRoLnJhbmRvbSgpICogZ3JhaW4pOw0KCQkJbGV0IHIgPSByZ2IuciArIGNvbG9yb2Zmc2V0Ow0KCQkJbGV0IGcgPSByZ2IuZyArIGNvbG9yb2Zmc2V0Ow0KCQkJbGV0IGIgPSByZ2IuYiArIGNvbG9yb2Zmc2V0Ow0KCQkJLy8gTWFrZSBzdXJlIHRoZSBjb2xvciBpcyB3aXRoaW4gdGhlIFJHQiByYW5nZQ0KCQkJciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcikpOw0KCQkJZyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgZykpOw0KCQkJYiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgYikpOw0KCQkJbGV0IGNvbG9yID0gInJnYigiK3IrIiwiK2crIiwiK2IrIikiOw0KCQkJDQoJCQkvKn0NCgkJCWVsc2Ugew0KCQkJCXZhciBjb2xvciA9IGVsZW1lbnRJbmZvLmNvbG9yOw0KCQkJCWlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkgew0KCQkJCQljb2xvciA9IGNvbG9yW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9yLmxlbmd0aCldOw0KCQkJCX0NCgkJCX0qLw0KCQkJcmV0dXJuIGNvbG9yOw0KCQl9DQoJCWZ1bmN0aW9uIGNvbG9yUGF0dGVyblBpY2socGl4ZWwpIHsNCgkJCWNvbnN0IGVsZW1lbnRJbmZvID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF07DQoJCQlyZXR1cm4gcGl4ZWxDb2xvclBpY2socGl4ZWwsIGVsZW1lbnRJbmZvLmNvbG9yUGF0dGVybltwaXhlbC55JWVsZW1lbnRJbmZvLmNvbG9yUGF0dGVybi5sZW5ndGhdW3BpeGVsLnglZWxlbWVudEluZm8uY29sb3JQYXR0ZXJuWzBdLmxlbmd0aF0pOw0KCQl9DQoJCWZ1bmN0aW9uIHBpeGVsVGVtcENoZWNrKHBpeGVsKSB7DQoJCQlpZiAocGl4ZWwuZGVsKSB7IHJldHVybiB9DQoJCQl2YXIgZWxlbWVudEluZm8gPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XTsNCgkJCWlmIChwaXhlbC50ZW1wIDwgYWJzb2x1dGVaZXJvKSB7IC8vIEFic29sdXRlIFplcm8NCgkJCQlwaXhlbC50ZW1wID0gYWJzb2x1dGVaZXJvOw0KCQkJfQ0KCQkJLy8gSWYgdGhlIHBpeGVsJ3MgdGVtcCA+PSB0aGUgZWxlbWVudEluZm8gdGVtcEhpZ2gsIGNoYW5nZSBwaXhlbC5lbGVtZW50IHRvIGVsZW1lbnRJbmZvLnN0YXRlSGlnaA0KCQkJaWYgKHBpeGVsLnRlbXAgPj0gZWxlbWVudEluZm8udGVtcEhpZ2gpIHsNCgkJCQl2YXIgcmVzdWx0ID0gZWxlbWVudEluZm8uc3RhdGVIaWdoOw0KCQkJCWlmIChlbGVtZW50SW5mby5leHRyYVRlbXBIaWdoKSB7DQoJCQkJCWZvciAodmFyIGV4dHJhVGVtcCBpbiBlbGVtZW50SW5mby5leHRyYVRlbXBIaWdoKSB7DQoJCQkJCQlpZiAocGl4ZWwudGVtcCA+PSBleHRyYVRlbXApIHsNCgkJCQkJCQlyZXN1bHQgPSBlbGVtZW50SW5mby5leHRyYVRlbXBIaWdoW2V4dHJhVGVtcF07DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQkJLy8gSWYgcmVzdWx0IGlzIGFuIGFycmF5LCBjaG9vc2UgYSByYW5kb20gaXRlbQ0KCQkJCWlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHsNCgkJCQkJcmVzdWx0ID0gcmVzdWx0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJlc3VsdC5sZW5ndGgpXTsNCgkJCQl9DQoJCQkJaWYgKHJlc3VsdCA9PT0gbnVsbCkge2RlbGV0ZVBpeGVsKHBpeGVsLngscGl4ZWwueSk7cmV0dXJuIGZhbHNlfQ0KCQkJCWVsc2Ugew0KCQkJCQlpZiAoZWxlbWVudHNbcmVzdWx0XS5jdXN0b21Db2xvcikgew0KCQkJCQkJdmFyIHRlbXBDb2xvciA9IHBpeGVsLmNvbG9yOw0KCQkJCQkJY2hhbmdlUGl4ZWwocGl4ZWwscmVzdWx0LGZhbHNlKTsNCgkJCQkJCXBpeGVsLmNvbG9yID0gdGVtcENvbG9yOw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKGVsZW1lbnRJbmZvLnN0YXRlSGlnaENvbG9yKSB7DQoJCQkJCQljaGFuZ2VQaXhlbChwaXhlbCxyZXN1bHQsZmFsc2UpOw0KCQkJCQkJcGl4ZWwuY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbCxlbGVtZW50SW5mby5zdGF0ZUhpZ2hDb2xvcik7DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoZWxlbWVudEluZm8uc3RhdGVIaWdoQ29sb3JNdWx0aXBsaWVyKSB7DQoJCQkJCQl2YXIgY29sb3IgPSBwaXhlbC5jb2xvcjsNCgkJCQkJCWNoYW5nZVBpeGVsKHBpeGVsLHJlc3VsdCxmYWxzZSk7DQoJCQkJCQl2YXIgcmdiID0gY29sb3IubWF0Y2goL1xkKy9nKTsNCgkJCQkJCXZhciBtID0gZWxlbWVudEluZm8uc3RhdGVIaWdoQ29sb3JNdWx0aXBsaWVyOw0KCQkJCQkJaWYgKEFycmF5LmlzQXJyYXkobSkpIHsNCgkJCQkJCQltID0gbVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtLmxlbmd0aCldOw0KCQkJCQkJfQ0KCQkJCQkJdmFyIHIgPSBNYXRoLmZsb29yKHJnYlswXSAqIG0pOw0KCQkJCQkJdmFyIGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIG0pOw0KCQkJCQkJdmFyIGIgPSBNYXRoLmZsb29yKHJnYlsyXSAqIG0pOw0KCQkJCQkJLy8gTWFrZSBzdXJlIHRoZSBjb2xvciBpcyB3aXRoaW4gdGhlIFJHQiByYW5nZQ0KCQkJCQkJciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcikpOw0KCQkJCQkJZyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgZykpOw0KCQkJCQkJYiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgYikpOw0KCQkJCQkJcGl4ZWwuY29sb3IgPSAicmdiKCIrcisiLCIrZysiLCIrYisiKSI7DQoJCQkJCX0NCgkJCQkJZWxzZSB7IGNoYW5nZVBpeGVsKHBpeGVsLHJlc3VsdCxmYWxzZSk7IH0NCgkJCQkJaWYgKGVsZW1lbnRJbmZvLmZpcmVDb2xvciAmJiByZXN1bHQ9PT0iZmlyZSIpIHsNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsZWxlbWVudEluZm8uZmlyZUNvbG9yKTsNCgkJCQkJfQ0KCQkJCQlpZiAoZWxlbWVudEluZm8ub25TdGF0ZUhpZ2gpIHsNCgkJCQkJCWVsZW1lbnRJbmZvLm9uU3RhdGVIaWdoKHBpeGVsKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCS8vIElmIHRoZSBwaXhlbCdzIHRlbXAgPD0gdGhlIGVsZW1lbnRJbmZvIHRlbXBMb3csIGNoYW5nZSBwaXhlbC5lbGVtZW50IHRvIGVsZW1lbnRJbmZvLnN0YXRlTG93DQoJCQllbHNlIGlmIChwaXhlbC50ZW1wIDw9IGVsZW1lbnRJbmZvLnRlbXBMb3cpIHsNCgkJCQl2YXIgcmVzdWx0ID0gZWxlbWVudEluZm8uc3RhdGVMb3c7DQoJCQkJaWYgKGVsZW1lbnRJbmZvLmV4dHJhVGVtcExvdykgew0KCQkJCQlmb3IgKHZhciBleHRyYVRlbXAgaW4gZWxlbWVudEluZm8uZXh0cmFUZW1wTG93KSB7DQoJCQkJCQlpZiAocGl4ZWwudGVtcCA8PSBleHRyYVRlbXApIHsNCgkJCQkJCQlyZXN1bHQgPSBlbGVtZW50SW5mby5leHRyYVRlbXBMb3dbZXh0cmFUZW1wXTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQkvLyBJZiByZXN1bHQgaXMgYW4gYXJyYXksIGNob29zZSBhIHJhbmRvbSBpdGVtDQoJCQkJaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkgew0KCQkJCQlyZXN1bHQgPSByZXN1bHRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmVzdWx0Lmxlbmd0aCldOw0KCQkJCX0NCgkJCQlpZiAocmVzdWx0ID09PSBudWxsKSB7ZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTtyZXR1cm4gZmFsc2V9DQoJCQkJZWxzZSB7DQoJCQkJCWlmIChlbGVtZW50c1tyZXN1bHRdLmN1c3RvbUNvbG9yKSB7DQoJCQkJCQl2YXIgdGVtcENvbG9yID0gcGl4ZWwuY29sb3I7DQoJCQkJCQljaGFuZ2VQaXhlbChwaXhlbCxyZXN1bHQsZmFsc2UpOw0KCQkJCQkJcGl4ZWwuY29sb3IgPSB0ZW1wQ29sb3I7DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoZWxlbWVudEluZm8uc3RhdGVMb3dDb2xvcikgew0KCQkJCQkJY2hhbmdlUGl4ZWwocGl4ZWwscmVzdWx0LGZhbHNlKTsNCgkJCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsZWxlbWVudEluZm8uc3RhdGVMb3dDb2xvcik7DQoJCQkJCX0NCgkJCQkJZWxzZSBpZiAoZWxlbWVudEluZm8uc3RhdGVMb3dDb2xvck11bHRpcGxpZXIpIHsNCgkJCQkJCXZhciBjb2xvciA9IHBpeGVsLmNvbG9yOw0KCQkJCQkJY2hhbmdlUGl4ZWwocGl4ZWwscmVzdWx0LGZhbHNlKTsNCgkJCQkJCXZhciByZ2IgPSBjb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJCQkJdmFyIG0gPSBlbGVtZW50SW5mby5zdGF0ZUxvd0NvbG9yTXVsdGlwbGllcjsNCgkJCQkJCWlmIChBcnJheS5pc0FycmF5KG0pKSB7DQoJCQkJCQkJbSA9IG1bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbS5sZW5ndGgpXTsNCgkJCQkJCX0NCgkJCQkJCXZhciByID0gTWF0aC5mbG9vcihyZ2JbMF0gKiBtKTsNCgkJCQkJCXZhciBnID0gTWF0aC5mbG9vcihyZ2JbMV0gKiBtKTsNCgkJCQkJCXZhciBiID0gTWF0aC5mbG9vcihyZ2JbMl0gKiBtKTsNCgkJCQkJCS8vIE1ha2Ugc3VyZSB0aGUgY29sb3IgaXMgd2l0aGluIHRoZSBSR0IgcmFuZ2UNCgkJCQkJCXIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHIpKTsNCgkJCQkJCWcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIGcpKTsNCgkJCQkJCWIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIGIpKTsNCgkJCQkJCXBpeGVsLmNvbG9yID0gInJnYigiK3IrIiwiK2crIiwiK2IrIikiOw0KCQkJCQl9DQoJCQkJCWVsc2UgeyBjaGFuZ2VQaXhlbChwaXhlbCxyZXN1bHQsZmFsc2UpOyB9DQoJCQkJCWlmIChlbGVtZW50SW5mby5vblN0YXRlTG93KSB7DQoJCQkJCQllbGVtZW50SW5mby5vblN0YXRlTG93KHBpeGVsKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiB0cnVlOw0KCQl9DQoJCWZ1bmN0aW9uIGdldE5laWdoYm9ycyhwaXhlbCkgew0KCQkJdmFyIG5laWdoYm9ycyA9IFtdOw0KCQkJdmFyIHggPSBwaXhlbC54Ow0KCQkJdmFyIHkgPSBwaXhlbC55Ow0KCQkJaWYgKCFpc0VtcHR5KHgtMSx5LHRydWUpKSB7IG5laWdoYm9ycy5wdXNoKHBpeGVsTWFwW3gtMV1beV0pOyB9DQoJCQlpZiAoIWlzRW1wdHkoeCsxLHksdHJ1ZSkpIHsgbmVpZ2hib3JzLnB1c2gocGl4ZWxNYXBbeCsxXVt5XSk7IH0NCgkJCWlmICghaXNFbXB0eSh4LHktMSx0cnVlKSkgeyBuZWlnaGJvcnMucHVzaChwaXhlbE1hcFt4XVt5LTFdKTsgfQ0KCQkJaWYgKCFpc0VtcHR5KHgseSsxLHRydWUpKSB7IG5laWdoYm9ycy5wdXNoKHBpeGVsTWFwW3hdW3krMV0pOyB9DQoJCQlyZXR1cm4gbmVpZ2hib3JzOw0KCQl9DQoNCgkJZnVuY3Rpb24gY2lyY2xlQ29vcmRzKHgseSxyYWRpdXMpIHsNCgkJCXZhciBjb29yZHMgPSBbXTsNCgkJCWZvciAobGV0IGkgPSBNYXRoLm1heCgwLCB4IC0gcmFkaXVzKTsgaSA8PSBNYXRoLm1pbih3aWR0aCwgeCArIHJhZGl1cyk7IGkrKykgew0KCQkJCWZvciAobGV0IGogPSBNYXRoLm1heCgwLCB5IC0gcmFkaXVzKTsgaiA8PSBNYXRoLm1pbihoZWlnaHQsIHkgKyByYWRpdXMpOyBqKyspIHsNCgkJCQkJaWYgKE1hdGgucG93KGkgLSB4LCAyKSArIE1hdGgucG93KGogLSB5LCAyKSA8PSBNYXRoLnBvdyhyYWRpdXMsIDIpKSB7DQoJCQkJCQljb29yZHMucHVzaCh7eDogaSx5OiBqfSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gY29vcmRzOw0KCQl9DQoJCWZ1bmN0aW9uIGxpbmVDb29yZHMoeDEseTEseDIseTIsd2lkdGgpIHsNCgkJCS8vIHVzZSB0aGUgY29vcmRpbmF0ZXMgYW5kIHRoZSB3aWR0aCB0byByZXR1cm4gYSBsaXN0IG9mIGNvb3JkaW5hdGVzIGluIGEgcGl4ZWwgbGluZQ0KCQkJdmFyIGNvb3JkcyA9IFtdOw0KCQkJdmFyIHggPSB4MTsNCgkJCXZhciB5ID0geTE7DQoJCQl2YXIgZHggPSBNYXRoLmFicyh4Mi14MSk7DQoJCQl2YXIgZHkgPSBNYXRoLmFicyh5Mi15MSk7DQoJCQl2YXIgc3ggPSAoeDEgPCB4MikgPyAxIDogLTE7DQoJCQl2YXIgc3kgPSAoeTEgPCB5MikgPyAxIDogLTE7DQoJCQl2YXIgZXJyID0gZHgtZHk7DQoJCQl3aGlsZSAodHJ1ZSkgew0KCQkJCWNvb3Jkcy5wdXNoKFt4LHldKTsNCgkJCQlpZiAoeCA9PSB4MiAmJiB5ID09IHkyKSB7IGJyZWFrOyB9DQoJCQkJdmFyIGUyID0gMiplcnI7DQoJCQkJaWYgKGUyID4gLWR5KSB7IGVyciAtPSBkeTsgeCArPSBzeDsgfQ0KCQkJCWlmIChlMiA8IGR4KSB7IGVyciArPSBkeDsgeSArPSBzeTsgfQ0KCQkJfQ0KCQkJdmFyIG5ld2Nvb3JkcyA9IFtdOw0KCQkJdmFyIGRvbmUgPSB7fTsNCgkJCS8vIGxvb3AgdGhyb3VnaCBtb3VzZVJhbmdlKHgseSx3aWR0aCkgb2YgZWFjaCBjb29yZGluYXRlIGFuZCBhZGQgdG8gY29vcmRzIGlmIG5vdCBhbHJlYWR5IGluIGNvb3Jkcw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQl2YXIgeCA9IGNvb3Jkc1tpXVswXTsNCgkJCQl2YXIgeSA9IGNvb3Jkc1tpXVsxXTsNCgkJCQl2YXIgcmFuZ2UgPSBtb3VzZVJhbmdlKHgseSx3aWR0aCk7DQoJCQkJZm9yICh2YXIgaiA9IDA7IGogPCByYW5nZS5sZW5ndGg7IGorKykgew0KCQkJCQl2YXIgeDIgPSByYW5nZVtqXVswXTsNCgkJCQkJdmFyIHkyID0gcmFuZ2Vbal1bMV07DQoJCQkJCWlmICghZG9uZVt4Ml0pIHsgZG9uZVt4Ml0gPSB7fSB9DQoJCQkJCWlmICghZG9uZVt4Ml1beTJdKSB7DQoJCQkJCQlkb25lW3gyXVt5Ml0gPSB0cnVlOw0KCQkJCQkJbmV3Y29vcmRzLnB1c2goW3gyLHkyXSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gbmV3Y29vcmRzOw0KCQl9DQoJCWZ1bmN0aW9uIHJlY3RDb29yZHMoeDEseTEseDIseTIpIHsNCgkJCXZhciBjb29yZHMgPSBbXTsNCgkJCWZvciAodmFyIGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7DQoJCQkJZm9yICh2YXIgaiA9IHkxOyBqIDw9IHkyOyBqKyspIHsNCgkJCQkJY29vcmRzLnB1c2goe3g6aSx5Omp9KTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gY29vcmRzOw0KCQl9DQoJCWZ1bmN0aW9uIGRyYXdDaXJjbGVQaXhlbHMoeCx5LHJhZGl1cykgew0KCQkJdmFyIGNvb3JkcyA9IGNpcmNsZUNvb3Jkcyh4LHkscmFkaXVzKTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJaWYgKGlzRW1wdHkoY29vcmRzW2ldLngsY29vcmRzW2ldLnkpKSB7DQoJCQkJCWNyZWF0ZVBpeGVsKGN1cnJlbnRFbGVtZW50LGNvb3Jkc1tpXS54LGNvb3Jkc1tpXS55KTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkgICBmdW5jdGlvbiBzZWxlY3Rpb24oeDEseTEseDIseTIpIHsNCgkJCXZhciBzZWxlY3Rpb24gPSBbXTsNCgkJCWZvciAodmFyIGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7DQoJCQkJc2VsZWN0aW9uW2ldID0gW107DQoJCQkJZm9yICh2YXIgaiA9IHkxOyBqIDw9IHkyOyBqKyspIHsNCgkJCQkJc2VsZWN0aW9uW2ldW2pdID0gcGl4ZWxNYXBbaV1bal07DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIHNlbGVjdGlvbjsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGdlbmVyYXRlU2NyZWVuc2hvdCgpIHsNCgkJCS8vIGlmICghc2hpZnREb3duKSB7IGRyYXdMYXllcnModHJ1ZSk7IH0NCgkJCWRyYXdMYXllcnMoc2hpZnREb3duID8gZmFsc2UgOiB0cnVlKTsNCgkJCXJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZSIpLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7DQoJCX0NCg0KCQl1bmljb2RlU2tpcHMgPSB7DQoJCQkwOiA2NSwgLy8gbnVsbCAtPiBBDQoJCQk1ODogNjUsIC8vIDogLT4gQQ0KCQkJOTE6IDk3LCAvLyBbIC0+IGENCgkJCTEyMzogMTkyLCAvLyB7IC0+IMOADQoJCQkyMTU6IDIxNiwgLy8gw5cgLT4gw5gNCgkJCTI0NzogMjQ4LCAvLyDDtyAtPiDDuA0KCQkJNjg4OiA4ODAsDQoJCQk4ODQ6IDg4NiwNCgkJCTg4ODogODkxLA0KCQkJODk0OiA4OTUsDQoJCQk4OTY6IDkwMiwNCgkJCTkwMzogOTA0LA0KCQkJOTA3OiA5MDgsDQoJCQk5MDk6IDkxMCwNCgkJCTkzMDogOTMxLA0KCQkJMTE1NTogMTE2MiwNCgkJCTEzMjg6IDEzMjksDQoJCQkxMzY3OiAxMzc2LA0KCQkJMTQxNzogMTQ4OCwNCgkJCTE1MTQ6IDEyNDQ4LA0KCQkJMTI1NDQ6IDEzMzEyDQoJCX07DQoJCS8vIHZlcnNpb247Y29kZXM7cGl4ZWxzOw0KCQliYXNpY1Byb3BlcnRpZXMgPSBbIngiLCJ5IiwiY29sb3IiLCJzdGFydCIsIm9yaWdDb2xvciIsInRlbXAiXTsNCgkJdml0YWxTZXR0aW5ncyA9IFsiYWJzemVybyIsImFpcmRlbnNpdHkiLCJhaXJ0ZW1wIiwiYmciLCJidXJuIiwiY2xvdWRzIiwiZXZlbnRzIiwic3RhaW4iLCJsaW1pdGxlc3MiXTsNCgkJZnVuY3Rpb24gdXVpZHY0KCkgew0KCQkJcmV0dXJuICIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDAiLnJlcGxhY2UoL1swMThdL2csIGMgPT4NCgkJCQkoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KQ0KCQkJKTsNCgkJfQ0KCQlmdW5jdGlvbiBnZW5lcmF0ZVNhdmUocGl4ZWxhcnJheSxzYXZlT3B0aW9ucykgew0KCQkJaWYgKCFwaXhlbGFycmF5KSB7IHBpeGVsYXJyYXkgPSBwaXhlbE1hcDsgfQ0KCQkJaWYgKCFzYXZlT3B0aW9ucykgeyBzYXZlT3B0aW9ucyA9IHt9OyB9DQoJCQl2YXIgaWdub3JlUHJvcGVydGllcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYmFzaWNQcm9wZXJ0aWVzKSk7DQoJCQlpZiAoc2F2ZU9wdGlvbnMua2VlcCkgew0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc2F2ZU9wdGlvbnMua2VlcC5sZW5ndGg7IGkrKykgew0KCQkJCQlpZ25vcmVQcm9wZXJ0aWVzLnNwbGljZShpZ25vcmVQcm9wZXJ0aWVzLmluZGV4T2Yoc2F2ZU9wdGlvbnMua2VlcFtpXSksMSk7DQoJCQkJfQ0KCQkJfQ0KCQkJcGl4ZWxhcnJheSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGl4ZWxhcnJheSkpOw0KDQoJCQl2YXIgY29kZXMgPSB7fTsNCgkJCXZhciBjb2Rlc1JldmVyc2UgPSB7fTsNCgkJCXZhciBjb2RlTiA9IDY1Ow0KDQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVsYXJyYXkubGVuZ3RoOyBpKyspIHsNCgkJCQlmb3IgKHZhciBqID0gMDsgaiA8IHBpeGVsYXJyYXlbaV0ubGVuZ3RoOyBqKyspIHsNCgkJCQkJdmFyIHBpeGVsID0gcGl4ZWxhcnJheVtpXVtqXTsNCgkJCQkJaWYgKHBpeGVsKSB7DQoJCQkJCQl2YXIga2VlcENvbG9yID0gZmFsc2U7DQoJCQkJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uc2luZ2xlQ29sb3IgfHwgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY3VzdG9tQ29sb3IgfHwgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uZm9yY2VTYXZlQ29sb3IpIHsNCgkJCQkJCQlrZWVwQ29sb3IgPSBwaXhlbC5jb2xvcg0KCQkJCQkJfQ0KCQkJCQkJLy8gcmVtb3ZlIHVubmVlZGVkIHByb3BlcnRpZXMNCgkJCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgaWdub3JlUHJvcGVydGllcy5sZW5ndGg7IGsrKykgeyBkZWxldGUgcGl4ZWxbaWdub3JlUHJvcGVydGllc1trXV07IH0NCgkJCQkJCS8vIHJlbW92ZSB1bmRlZmluZWQgcHJvcGVydGllcw0KCQkJCQkJZm9yICh2YXIga2V5IGluIHBpeGVsKSB7IGlmIChwaXhlbFtrZXldID09PSB1bmRlZmluZWQpIHsgZGVsZXRlIHBpeGVsW2tleV07IH0gfQ0KCQkJCQkJaWYgKGtlZXBDb2xvciAhPT0gZmFsc2UpIHsgcGl4ZWwuY29sb3IgPSBrZWVwQ29sb3IgfQ0KCQkJCQkJaWYgKCFzYXZlT3B0aW9ucy5yYXcgJiYgcGl4ZWwuZWxlbWVudCkgew0KCQkJCQkJCWlmICghY29kZXNbcGl4ZWwuZWxlbWVudF0pIHsNCgkJCQkJCQkJdmFyIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVOKTsNCgkJCQkJCQkJY29kZXNbcGl4ZWwuZWxlbWVudF0gPSBjaGFyOw0KCQkJCQkJCQljb2Rlc1JldmVyc2VbY2hhcl0gPSBwaXhlbC5lbGVtZW50Ow0KCQkJCQkJCQljb2RlTisrOw0KCQkJCQkJCQlpZiAodW5pY29kZVNraXBzW2NvZGVOXSkgew0KCQkJCQkJCQkJY29kZU4gPSB1bmljb2RlU2tpcHNbY29kZU5dOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJCXBpeGVsLmVsZW1lbnQgPSBjb2Rlc1twaXhlbC5lbGVtZW50XTsNCgkJCQkJCX0NCgkJCQkJCWlmIChwaXhlbC50ZW1wICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJCQlwaXhlbC50ZW1wID0gTWF0aC5yb3VuZChwaXhlbC50ZW1wKTsNCgkJCQkJCQlpZiAocGl4ZWwudGVtcCA9PT0gYWlyVGVtcCkgeyBkZWxldGUgcGl4ZWwudGVtcDsgfQ0KCQkJCQkJfQ0KCQkJCQkJaWYgKCFzYXZlT3B0aW9ucy5yYXcpIHsNCgkJCQkJCQlmb3IgKHZhciBwcm9wIGluIHBpeGVsKSB7DQoJCQkJCQkJCWlmICghY29kZXNbcHJvcF0pIHsNCgkJCQkJCQkJCXZhciBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlTik7DQoJCQkJCQkJCQljb2Rlc1twcm9wXSA9IGNoYXI7DQoJCQkJCQkJCQljb2Rlc1JldmVyc2VbY2hhcl0gPSBwcm9wOw0KCQkJCQkJCQkJY29kZU4rKzsNCgkJCQkJCQkJCWlmICh1bmljb2RlU2tpcHNbY29kZU5dKSB7DQoJCQkJCQkJCQkJY29kZU4gPSB1bmljb2RlU2tpcHNbY29kZU5dOw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJCXBpeGVsW2NvZGVzW3Byb3BdXSA9IHBpeGVsW3Byb3BdOw0KCQkJCQkJCQlkZWxldGUgcGl4ZWxbcHJvcF07DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJcGl4ZWxhcnJheVtpXVtqXSA9IDA7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQl2YXIgdXNlclNldHRpbmdzID0ge307DQoJCQlpZiAoc2F2ZU9wdGlvbnMuc2V0dGluZ3MgIT09IGZhbHNlKSB7DQoJCQkJZm9yICh2YXIga2V5IGluIHNldHRpbmdzKSB7DQoJCQkJCWlmICh2aXRhbFNldHRpbmdzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHsNCgkJCQkJCXVzZXJTZXR0aW5nc1trZXldID0gc2V0dGluZ3Nba2V5XTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCWlmIChzYXZlT3B0aW9ucy5tb2RzID09PSBmYWxzZSkgeyB2YXIgbW9kcyA9IFtdOyB9DQoJCQllbHNlIHsgdmFyIG1vZHMgPSBlbmFibGVkTW9kcyB9DQoJCQlpZiAoc3RhbmRhbG9uZSkgew0KCQkJCXZhciB1cmwgPSBzdGFuZGFsb25lVHlwZSB8fCAic3RhbmRhbG9uZSI7DQoJCQl9DQoJCQllbHNlIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICJmaWxlOiIpIHsNCgkJCQl2YXIgdXJsID0gImxvY2FsIjsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsNCgkJCX0NCgkJCWlmICghc2F2ZU9wdGlvbnMucmF3KSB7IHZhciBjb21wcmVzc2VkTWFwID0gSlNPTi5zdHJpbmdpZnkocGl4ZWxhcnJheSkucmVwbGFjZSgvLDAvZywiw5ciKS5yZXBsYWNlKC8iOiIvZywiwrsiKS5yZXBsYWNlKC8sIi9nLCLCpyIpLnJlcGxhY2UoL2VsZW1lbnTCuy9nLCLCqSIpLnJlcGxhY2UoLyJcfSxceyIvZywiwrgiKS5yZXBsYWNlKC/Dl8OXw5cvZywiwrMiKS5yZXBsYWNlKC/CuMKpL2csIsKmIikucmVwbGFjZSgvIlx9XF0sXFsvZywiwq4iKS5yZXBsYWNlKC9ceyIvZywiwrYiKS5yZXBsYWNlKC86dHJ1ZS9nLCLCpSIpLnJlcGxhY2UoLzpmYWxzZS9nLCLCoSIpLnJlcGxhY2UoLyI6L2csIsK8IikucmVwbGFjZSgvXH0sL2csIsK9IikucmVwbGFjZSgvIsKlwqcvZywiwr4iKS5yZXBsYWNlKC/Cs8KzwrMvZywiwrAiKS5yZXBsYWNlKC9cXSxcWy9nLCLCpCIpLnJlcGxhY2UoL3JnYlwoL2csIsK6IikucmVwbGFjZSgvXCnCuC9nLCLCqiIpOyB9DQoJCQllbHNlIHsgdmFyIGNvbXByZXNzZWRNYXAgPSBwaXhlbGFycmF5OyB9DQoJCQl2YXIgc2VyaWVzSW5kZXggPSAwOw0KCQkJdmFyIGNyZWF0ZWRUaW1lID0gRGF0ZS5ub3coKTsNCgkJCXZhciBzZXJpZXNJZCA9IHV1aWR2NCgpOw0KCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5sb2FkZWQpIHsNCgkJCQlpZiAoY3VycmVudFNhdmVEYXRhLnNlcmllc0luZGV4ICE9PSB1bmRlZmluZWQpIHsNCgkJCQkJc2VyaWVzSW5kZXggPSBjdXJyZW50U2F2ZURhdGEuc2VyaWVzSW5kZXggKyAxOw0KCQkJCX0NCgkJCQlpZiAoY3VycmVudFNhdmVEYXRhLmNyZWF0ZWQpIHsNCgkJCQkJY3JlYXRlZFRpbWUgPSBjdXJyZW50U2F2ZURhdGEuY3JlYXRlZDsNCgkJCQl9DQoJCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5zZXJpZXNJZCkgew0KCQkJCQlzZXJpZXNJZCA9IGN1cnJlbnRTYXZlRGF0YS5zZXJpZXNJZDsNCgkJCQl9DQoJCQl9DQoJCQlsZXQgc2F2ZUNvbmZpZyA9IHsNCgkJCQkic2V0dGluZ3MiOnVzZXJTZXR0aW5ncywNCgkJCQkibW9kcyI6bW9kcywNCgkJCQkicGl4ZWxUaWNrcyI6cGl4ZWxUaWNrcywNCgkJCQkidHBzIjp0cHMsDQoJCQkJImN1cnJlbnRFbGVtZW50IjpjdXJyZW50RWxlbWVudCwNCgkJCQkiaGVpZ2h0IjpoZWlnaHQsDQoJCQkJIndpZHRoIjp3aWR0aCwNCgkJCQkicGl4ZWxTaXplIjpwaXhlbFNpemUsDQoJCQkJInZpZXciOnZpZXcsDQoJCQkJInBhdXNlZCI6cGF1c2VkLA0KCQkJCSJtb3VzZVNpemUiOm1vdXNlU2l6ZSwNCgkJCQkiYm9yZGVyIjpjdXJyZW50U2F2ZURhdGEuYm9yZGVyfHwwDQoJCQl9Ow0KCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS52b2lkWCkgc2F2ZUNvbmZpZy52b2lkWCA9IHRydWU7DQoJCQlpZiAoY3VycmVudFNhdmVEYXRhLnZvaWRZKSBzYXZlQ29uZmlnLnZvaWRZID0gdHJ1ZTsNCgkJCWlmIChjdXJyZW50U2F2ZURhdGEubG9vcFgpIHNhdmVDb25maWcubG9vcFggPSB0cnVlOw0KCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5sb29wWSkgc2F2ZUNvbmZpZy5sb29wWSA9IHRydWU7DQoJCQlyZXR1cm4gew0KCQkJCSJtZXRhIjp7DQoJCQkJCSJzYXZlVmVyc2lvbiI6InNiIitzYXZlVmVyc2lvbiwNCgkJCQkJImdhbWVWZXJzaW9uIjpjdXJyZW50dmVyc2lvbiwNCgkJCQkJIm5hbWUiOnNhdmVPcHRpb25zLm5hbWV8fCIiLA0KCQkJCQkiZGVzYyI6c2F2ZU9wdGlvbnMuZGVzY3x8IiIsDQoJCQkJCSJhdXRob3IiOnNhdmVPcHRpb25zLmF1dGhvcnx8IiIsDQoJCQkJCSJjcmVhdGVkIjpjcmVhdGVkVGltZSwNCgkJCQkJInVwZGF0ZWQiOkRhdGUubm93KCksDQoJCQkJCSJzZXJpZXNJbmRleCI6c2VyaWVzSW5kZXgsDQoJCQkJCSJ1dWlkIjp1dWlkdjQoKSwNCgkJCQkJInNlcmllc0lkIjpzZXJpZXNJZCwNCgkJCQkJInVybCI6dXJsLA0KCQkJCQkidGFncyI6c2F2ZU9wdGlvbnMudGFnc3x8W10NCgkJCQl9LA0KCQkJCSJzYXZlQ29uZmlnIjpzYXZlQ29uZmlnLA0KCQkJCSJjb2RlcyI6Y29kZXNSZXZlcnNlLA0KCQkJCSJwaXhlbE1hcCI6Y29tcHJlc3NlZE1hcA0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIGxvYWRTYXZlKHNhdmVKU09OLCBjb25maXJtZWQ9MCwgc2tpcD0wKSB7DQoJCQlpZiAoIXNhdmVKU09OLnBpeGVsTWFwKSB7IHJldHVybiB9DQoJCQl2YXIgY29tcHJlc3NlZE1hcCA9IHNhdmVKU09OLnBpeGVsTWFwOw0KCQkJaWYgKCFjb21wcmVzc2VkTWFwKSB7DQoJCQkJcHJvbXB0VGV4dCgiSW52YWxpZCBzYXZlIGZpbGUgLSBtaXNzaW5nIHBpeGVsTWFwLiIsIHVuZGVmaW5lZCwgIkVycm9yIik7IHJldHVybjsNCgkJCX0NCgkJCXZhciBzYXZlQ29uZmlnID0gc2F2ZUpTT04uc2F2ZUNvbmZpZyB8fCB7fTsNCgkJCXZhciBzYXZlUGl4ZWxTaXplID0gcGFyc2VJbnQoc2F2ZUNvbmZpZy5waXhlbFNpemUpfHw2Ow0KCQkJdmFyIHZlcnNpb24gPSBwYXJzZUludChzYXZlSlNPTi5tZXRhLnNhdmVWZXJzaW9uLnNwbGl0KCJzYiIpWzFdKTsNCgkJCWlmICghY29uZmlybWVkKSB7DQoJCQkJaWYgKHZlcnNpb24gPCAxIHx8ICF2ZXJzaW9uKSB7DQoJCQkJCXByb21wdENvbmZpcm0oIlRoaXMgc2F2ZSB3YXMgbWFkZSBpbiBhbiB1bmtub3duIHZlcnNpb24gb2YgU2FuZGJveGVscywgYW5kIG1heSBub3QgbG9hZCBjb3JyZWN0bHkuIiwgKHIpPT57IGlmICghcikgcmV0dXJuOyBsb2FkU2F2ZShzYXZlSlNPTiwxLHNraXApIH0sICJXYXJuaW5nIik7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJZWxzZSBpZiAodmVyc2lvbiA+IHNhdmVWZXJzaW9uKSB7DQoJCQkJCXByb21wdENvbmZpcm0oIlRoaXMgc2F2ZSB3YXMgbWFkZSBpbiBhIG5ld2VyIHZlcnNpb24gb2YgU2FuZGJveGVscywgYW5kIG1heSBub3QgbG9hZCBjb3JyZWN0bHkuIFBsZWFzZSB1c2UgdGhlIGxhdGVzdCB2ZXJzaW9uLiIsIChyKT0+eyBpZiAoIXIpIHJldHVybjsgbG9hZFNhdmUoc2F2ZUpTT04sMSxza2lwKSB9LCAiV2FybmluZyIpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJCWlmIChjb25maXJtZWQgPCAyICYmIHNhdmVDb25maWcuaGVpZ2h0KnNhdmVDb25maWcud2lkdGggPj0gMTAwMDAwMCkgew0KCQkJCQlwcm9tcHRDb25maXJtKCJUaGlzIHNhdmUgaXMgdmVyeSBsYXJnZS4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxvYWQgaXQ/IiwgKHIpPT57IGlmICghcikgcmV0dXJuOyBsb2FkU2F2ZShzYXZlSlNPTiwyLHNraXApIH0sICJXYXJuaW5nIik7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoc2F2ZUNvbmZpZy5tb2RzICYmIHNraXAgPCAzKSB7DQoJCQkJaWYgKGNvbmZpcm1lZCA8IDMpIHsNCgkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzYXZlQ29uZmlnLm1vZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJCWlmICghbW9kSXNFbmFibGVkKHNhdmVDb25maWcubW9kc1tpXSkpIHsNCgkJCQkJCQlwcm9tcHRDb25maXJtKCJJbnN0YWxsIGluY2x1ZGVkIG1vZHMgZm9yIHRoaXMgc2F2ZT8gT25seSBjb250aW51ZSBpZiB5b3UgdHJ1c3QgdGhpcyBmaWxlJ3Mgc291cmNlLiBUaGV5IG1heSBvciBtYXkgbm90IGJlIG5lY2Vzc2FyeS5cblxuIitzYXZlQ29uZmlnLm1vZHMuam9pbigiXG4iKSwgKHIpPT57IGlmICghcikgbG9hZFNhdmUoc2F2ZUpTT04sY29uZmlybWVkLDMpOyBlbHNlIGxvYWRTYXZlKHNhdmVKU09OLDMsc2tpcCk7IH0sICJXYXJuaW5nIik7DQoJCQkJCQkJcmV0dXJuOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQlsZXQgYWRkZWQgPSBbXTsNCgkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzYXZlQ29uZmlnLm1vZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJCWlmICghbW9kSXNFbmFibGVkKHNhdmVDb25maWcubW9kc1tpXSkpIHsNCgkJCQkJCQlsZXQgbW9kID0gYWRkTW9kKHNhdmVDb25maWcubW9kc1tpXSx0cnVlKTsNCgkJCQkJCQlpZiAobW9kKSBhZGRlZC5wdXNoKG1vZCk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJaWYgKGFkZGVkLmxlbmd0aCA9PT0gMCkgbG9hZFNhdmUoc2F2ZUpTT04sY29uZmlybWVkLDMpOw0KCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiU2FuZGJveGVsc1RlbXBTYXZlIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZUpTT04pKTsNCgkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oIlNhbmRib3hlbHNUZW1wTW9kcyIsIEpTT04uc3RyaW5naWZ5KGFkZGVkKSk7DQoJCQkJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCX0NCgkJCXJlc2l6ZUNhbnZhcyhzYXZlQ29uZmlnLmhlaWdodCpzYXZlUGl4ZWxTaXplK3NhdmVQaXhlbFNpemUsc2F2ZUNvbmZpZy53aWR0aCpzYXZlUGl4ZWxTaXplK3NhdmVQaXhlbFNpemUsc2F2ZVBpeGVsU2l6ZSk7DQoJCQljbGVhckFsbCh0cnVlKTsNCgkJCXRlbXBTZXR0aW5ncyA9IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKTsNCgkJCWlmIChzYXZlQ29uZmlnLnNldHRpbmdzKSB7DQoJCQkJZm9yICh2YXIga2V5IGluIHNhdmVDb25maWcuc2V0dGluZ3MpIHsNCgkJCQkJc2V0dGluZ3Nba2V5XSA9IHNhdmVDb25maWcuc2V0dGluZ3Nba2V5XTsNCgkJCQl9DQoJCQl9DQoJCQlsZXQgb2xkVHBzID0gdHBzOw0KCQkJdHBzID0gcGFyc2VJbnQoc2F2ZUNvbmZpZy50cHMpfHwzMDsNCgkJCXJlc2V0SW50ZXJ2YWwodHBzKTsNCgkJCS8vIGlmIChzYXZlQ29uZmlnLmN1cnJlbnRFbGVtZW50KSB7DQoJCQkvLwkgc2VsZWN0RWxlbWVudChzYXZlQ29uZmlnLmN1cnJlbnRFbGVtZW50fHxmaXJzdEVsZW1lbnQpOw0KCQkJLy8JIHNlbGVjdENhdGVnb3J5KGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jYXRlZ29yeSk7DQoJCQkvLyB9DQoJCQkvLyBpZiAoc2F2ZUNvbmZpZy5tb3VzZVNpemUpIHsgbW91c2VTaXplID0gc2F2ZUNvbmZpZy5tb3VzZVNpemUgfTsNCgkJCS8vIGlmIChzYXZlQ29uZmlnLnZpZXcpIHsgc2V0VmlldyhzYXZlQ29uZmlnLnZpZXcpIH07DQoJCQlpZiAoc2F2ZUNvbmZpZy5wYXVzZWQgJiYgIXBhdXNlZCkgeyB0b2dnbGVQYXVzZSgpOyB9DQoJCQlpZiAodHlwZW9mIGNvbXByZXNzZWRNYXAgIT09ICJvYmplY3QiKSB7DQoJCQkJaWYgKHZlcnNpb24gPj0gMikgew0KCQkJCQljb21wcmVzc2VkTWFwID0gY29tcHJlc3NlZE1hcC5yZXBsYWNlKC/Cqi9nLCIpwrgiKS5yZXBsYWNlKC/Cui9nLCJyZ2IoIik7DQoJCQkJfQ0KCQkJCWNvbXByZXNzZWRNYXAgPSBjb21wcmVzc2VkTWFwLnJlcGxhY2UoL8KkL2csIl0sWyIpLnJlcGxhY2UoL8KwL2csIsKzwrPCsyIpLnJlcGxhY2UoL8K+L2csJyLCpcKnJykucmVwbGFjZSgvwr0vZywnfSwnKS5yZXBsYWNlKC/CvC9nLCciOicpLnJlcGxhY2UoL8KhL2csIjpmYWxzZSIpLnJlcGxhY2UoL8KlL2csIjp0cnVlIikucmVwbGFjZSgvwrYvZywneyInKS5yZXBsYWNlKC/Cri9nLCcifV0sWycpLnJlcGxhY2UoL8KmL2csIsK4wqkiKS5yZXBsYWNlKC/Csy9nLCLDl8OXw5ciKS5yZXBsYWNlKC/CuC9nLCcifSx7IicpLnJlcGxhY2UoL8KpL2csImVsZW1lbnTCuyIpLnJlcGxhY2UoL8KnL2csJywiJykucmVwbGFjZSgvwrsvZywnIjoiJykucmVwbGFjZSgvw5cvZywiLDAiKTsNCgkJCQlwaXhlbGFycmF5ID0gSlNPTi5wYXJzZShjb21wcmVzc2VkTWFwKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXBpeGVsYXJyYXkgPSBjb21wcmVzc2VkTWFwOw0KCQkJfQ0KCQkJZm9yICh2YXIgeCA9IDA7IHggPCBwaXhlbGFycmF5Lmxlbmd0aDsgeCsrKSB7DQoJCQkJZm9yICh2YXIgeSA9IDA7IHkgPCBwaXhlbGFycmF5W3hdLmxlbmd0aDsgeSsrKSB7DQoJCQkJCXZhciBwaXhlbCA9IHBpeGVsYXJyYXlbeF1beV07DQoJCQkJCWlmIChwaXhlbCkgew0KCQkJCQkJZm9yICh2YXIgcHJvcCBpbiBwaXhlbCkgew0KCQkJCQkJCWlmIChzYXZlSlNPTi5jb2Rlc1twcm9wXSkgew0KCQkJCQkJCQlwaXhlbFtzYXZlSlNPTi5jb2Rlc1twcm9wXV0gPSBwaXhlbFtwcm9wXTsNCgkJCQkJCQkJZGVsZXRlIHBpeGVsW3Byb3BdOw0KCQkJCQkJCX0NCgkJCQkJCQlpZiAocGl4ZWwuZWxlbWVudCkgew0KCQkJCQkJCQlwaXhlbC5lbGVtZW50ID0gc2F2ZUpTT04uY29kZXNbcGl4ZWwuZWxlbWVudF18fHBpeGVsLmVsZW1lbnQ7DQoJCQkJCQkJCWlmICghZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0pIHsNCgkJCQkJCQkJCXBpeGVsLmVsZW1lbnQgPSAidW5rbm93biI7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCQljcmVhdGVQaXhlbChwaXhlbC5lbGVtZW50LHgseSk7DQoJCQkJCQkvLyBzZXQgdGhlIHByb3BlcnRpZXMNCgkJCQkJCWZvciAodmFyIHByb3AgaW4gcGl4ZWwpIHsNCgkJCQkJCQkvLyBpZiAoIXBpeGVsTWFwW3hdW3ldKSBjb250aW51ZTsNCgkJCQkJCQlwaXhlbE1hcFt4XVt5XVtwcm9wXSA9IHBpeGVsW3Byb3BdOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJcGl4ZWxhcnJheVt4XVt5XSA9IHVuZGVmaW5lZDsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXBpeGVsVGlja3MgPSBwYXJzZUludChzYXZlQ29uZmlnLnBpeGVsVGlja3MpfHwwOw0KCQkJaWYgKHNhdmVDb25maWcuYm9yZGVyID09PSB1bmRlZmluZWQpIHsNCgkJCQlzYXZlQ29uZmlnLmJvcmRlciA9IDE7DQoJCQl9DQoJCQljdXJyZW50U2F2ZURhdGEgPSB7DQoJCQkJImxvYWRlZCI6dHJ1ZSwNCgkJCQkic2VyaWVzSW5kZXgiOnNhdmVKU09OLm1ldGEuc2VyaWVzSW5kZXgsDQoJCQkJInV1aWQiOnNhdmVKU09OLm1ldGEudXVpZCwNCgkJCQkic2VyaWVzSWQiOnNhdmVKU09OLm1ldGEuc2VyaWVzSWQsDQoJCQkJImNyZWF0ZWQiOnNhdmVKU09OLm1ldGEuY3JlYXRlZCwNCgkJCQkibmFtZSI6c2F2ZUpTT04ubWV0YS5uYW1lLA0KCQkJCSJhdXRob3IiOnNhdmVKU09OLm1ldGEuYXV0aG9yLA0KCQkJCSJkZXNjIjpzYXZlSlNPTi5tZXRhLmRlc2MsDQoJCQkJInRhZ3MiOnNhdmVKU09OLm1ldGEudGFncywNCgkJCQkiYm9yZGVyIjpzYXZlQ29uZmlnLmJvcmRlciwNCgkJCQkidm9pZFgiOnNhdmVDb25maWcudm9pZFgsDQoJCQkJInZvaWRZIjpzYXZlQ29uZmlnLnZvaWRZLA0KCQkJCSJsb29wWCI6c2F2ZUNvbmZpZy5sb29wWCwNCgkJCQkibG9vcFkiOnNhdmVDb25maWcubG9vcFksDQoJCQkJIm9sZFRwcyI6b2xkVHBzDQoJCQl9DQoJCQlpZiAoc2F2ZUpTT04ubWV0YS5hdXRob3IpIHsNCgkJCQlsb2dNZXNzYWdlKCJDcmVhdGVkIGJ5ICIrc2F2ZUpTT04ubWV0YS5hdXRob3IpOw0KCQkJfQ0KCQkJaWYgKHNob3dpbmdNZW51KSBjbG9zZU1lbnUoKTsNCgkJCXJldHVybiBwaXhlbGFycmF5Ow0KCQl9DQoNCgkJZnVuY3Rpb24gZXhwbG9kZUF0KHgseSxyYWRpdXMsZmlyZT0iZmlyZSIpIHsNCgkJCS8vIGlmIGZpcmUgY29udGFpbnMgLCBzcGxpdCBpdCBpbnRvIGFuIGFycmF5DQoJCQlpZiAoZmlyZS5pbmRleE9mKCIsIikgIT09IC0xKSB7DQoJCQkJZmlyZSA9IGZpcmUuc3BsaXQoIiwiKTsNCgkJCX0NCgkJCXZhciBjb29yZHMgPSBjaXJjbGVDb29yZHMoeCx5LHJhZGl1cyk7DQoJCQl2YXIgcG93ZXIgPSByYWRpdXMvMTA7DQoJCQkvL2ZvciAodmFyIHAgPSAwOyBwIDwgTWF0aC5yb3VuZChyYWRpdXMvMTArMSk7IHArKykgew0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkvLyBkYW1hZ2UgdmFsdWUgaXMgYmFzZWQgb24gZGlzdGFuY2UgZnJvbSB4IGFuZCB5DQoJCQkJdmFyIGRhbWFnZSA9IE1hdGgucmFuZG9tKCkgKyAoTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3coY29vcmRzW2ldLngteCwyKSArIE1hdGgucG93KGNvb3Jkc1tpXS55LXksMikpKSkgLyByYWRpdXM7DQoJCQkJLy8gaW52ZXJ0DQoJCQkJZGFtYWdlID0gMSAtIGRhbWFnZTsNCgkJCQlpZiAoZGFtYWdlIDwgMCkgeyBkYW1hZ2UgPSAwOyB9DQoJCQkJZGFtYWdlICo9IHBvd2VyOw0KCQkJCWlmIChpc0VtcHR5KGNvb3Jkc1tpXS54LGNvb3Jkc1tpXS55KSkgew0KCQkJCQkvLyBjcmVhdGUgc21va2Ugb3IgZmlyZSBkZXBlbmRpbmcgb24gdGhlIGRhbWFnZSBpZiBlbXB0eQ0KCQkJCQlpZiAoZGFtYWdlIDwgMC4wMikgeyB9IC8vIGRvIG5vdGhpbmcNCgkJCQkJZWxzZSBpZiAoZGFtYWdlIDwgMC4yKSB7DQoJCQkJCQljcmVhdGVQaXhlbCgic21va2UiLGNvb3Jkc1tpXS54LGNvb3Jkc1tpXS55KTsNCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCS8vIGlmIGZpcmUgaXMgYW4gYXJyYXksIGNob29zZSBhIHJhbmRvbSBpdGVtDQoJCQkJCQlpZiAoQXJyYXkuaXNBcnJheShmaXJlKSkgew0KCQkJCQkJCWNyZWF0ZVBpeGVsKGZpcmVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmlyZS5sZW5ndGgpXSxjb29yZHNbaV0ueCxjb29yZHNbaV0ueSk7DQoJCQkJCQl9DQoJCQkJCQllbHNlIHsNCgkJCQkJCQljcmVhdGVQaXhlbChmaXJlLGNvb3Jkc1tpXS54LGNvb3Jkc1tpXS55KTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQllbHNlIGlmICghb3V0T2ZCb3VuZHMoY29vcmRzW2ldLngsY29vcmRzW2ldLnkpKSB7DQoJCQkJCS8vIGRhbWFnZSB0aGUgcGl4ZWwNCgkJCQkJdmFyIHBpeGVsID0gcGl4ZWxNYXBbY29vcmRzW2ldLnhdW2Nvb3Jkc1tpXS55XTsNCgkJCQkJdmFyIGluZm8gPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XTsNCgkJCQkJaWYgKGluZm8uaGFyZG5lc3MpIHsgLy8gbG93ZXIgZGFtYWdlIGRlcGVuZGluZyBvbiBoYXJkbmVzcygwLTEpDQoJCQkJCQlpZiAoaW5mby5oYXJkbmVzcyA8IDEpIHsNCgkJCQkJCQkvLyBtb3JlIGhhcmRuZXNzID0gbGVzcyBkYW1hZ2UsIGxvZ2FyaXRobWljDQoJCQkJCQkJZGFtYWdlICo9IE1hdGgucG93KCgxLWluZm8uaGFyZG5lc3MpLGluZm8uaGFyZG5lc3MpOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSB7IGRhbWFnZSA9IDA7IH0NCgkJCQkJfQ0KCQkJCQlpZiAoZGFtYWdlID4gMC45KSB7DQoJCQkJCQlpZiAoQXJyYXkuaXNBcnJheShmaXJlKSkgew0KCQkJCQkJCXZhciBuZXdmaXJlID0gZmlyZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBmaXJlLmxlbmd0aCldOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSB7DQoJCQkJCQkJdmFyIG5ld2ZpcmUgPSBmaXJlOw0KCQkJCQkJfQ0KCQkJCQkJY2hhbmdlUGl4ZWwocGl4ZWwsbmV3ZmlyZSk7DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChkYW1hZ2UgPiAwLjI1KSB7DQoJCQkJCQlpZiAoaXNCcmVha2FibGUocGl4ZWwpKSB7DQoJCQkJCQkJYnJlYWtQaXhlbChwaXhlbCk7DQoJCQkJCQkJY29udGludWU7DQoJCQkJCQl9DQoJCQkJCQllbHNlIHsNCgkJCQkJCQlpZiAoQXJyYXkuaXNBcnJheShmaXJlKSkgew0KCQkJCQkJCQl2YXIgbmV3ZmlyZSA9IGZpcmVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmlyZS5sZW5ndGgpXTsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSB7DQoJCQkJCQkJCXZhciBuZXdmaXJlID0gZmlyZTsNCgkJCQkJCQl9DQoJCQkJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm9uQnJlYWsgIT09IHVuZGVmaW5lZCkgew0KCQkJCQkJCQllbGVtZW50c1twaXhlbC5lbGVtZW50XS5vbkJyZWFrKHBpeGVsKTsNCgkJCQkJCQl9DQoJCQkJCQkJY2hhbmdlUGl4ZWwocGl4ZWwsbmV3ZmlyZSk7DQoJCQkJCQkJY29udGludWU7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJaWYgKGRhbWFnZSA+IDAuNzUgJiYgaW5mby5idXJuKSB7DQoJCQkJCQlwaXhlbC5idXJuaW5nID0gdHJ1ZTsNCgkJCQkJCXBpeGVsLmJ1cm5TdGFydCA9IHBpeGVsVGlja3M7DQoJCQkJCX0NCgkJCQkJcGl4ZWwudGVtcCArPSBkYW1hZ2UqcmFkaXVzKnBvd2VyOw0KCQkJCQlwaXhlbFRlbXBDaGVjayhwaXhlbCk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIGlzQnJlYWthYmxlKHBpeGVsKSB7DQoJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnJlYWtJbnRvICE9PSB1bmRlZmluZWQgfHwgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnJlYWtJbnRvQ29sb3IgIT09IHVuZGVmaW5lZCB8fCBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG9Db2xvck11bHRpcGxpZXIgIT09IHVuZGVmaW5lZCB8fCBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5vbkJyZWFrICE9PSB1bmRlZmluZWQpIHJldHVybiB0cnVlOw0KCQl9DQoJCWZ1bmN0aW9uIGJyZWFrUGl4ZWwocGl4ZWwpIHsNCgkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5vbkJyZWFrICE9PSB1bmRlZmluZWQpIHsNCgkJCQllbGVtZW50c1twaXhlbC5lbGVtZW50XS5vbkJyZWFrKHBpeGVsKTsNCgkJCX0NCgkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG8gPT09IHVuZGVmaW5lZCAmJiBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG9Db2xvciA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuO30NCgkJCS8vIGlmIGl0IGlzIGFuIGFycmF5LCBjaG9vc2UgYSByYW5kb20gaXRlbSwgZWxzZSBqdXN0IHVzZSB0aGUgdmFsdWUNCgkJCWxldCByZXN1bHQ7DQoJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnJlYWtJbnRvICE9PSB1bmRlZmluZWQpIHsNCgkJCQlpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG8pKSB7DQoJCQkJCXJlc3VsdCA9IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmJyZWFrSW50b1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG8ubGVuZ3RoKV07DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQlyZXN1bHQgPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5icmVha0ludG87DQoJCQkJfQ0KCQkJfQ0KCQkJLy8gY2hhbmdlIHRoZSBwaXhlbCB0byB0aGUgcmVzdWx0DQoJCQlpZiAocmVzdWx0ID09PSBudWxsKSB7DQoJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnJlYWtJbnRvQ29sb3IpIHsNCgkJCQl2YXIgb2xkZWxlbWVudCA9IHBpeGVsLmVsZW1lbnQ7DQoJCQkJaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSBjaGFuZ2VQaXhlbChwaXhlbCxyZXN1bHQpOw0KCQkJCXBpeGVsLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWwsIGVsZW1lbnRzW29sZGVsZW1lbnRdLmJyZWFrSW50b0NvbG9yKTsNCgkJCX0NCgkJCWVsc2UgaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmJyZWFrSW50b0NvbG9yTXVsdGlwbGllcikgew0KCQkJCXZhciBjb2xvciA9IHBpeGVsLmNvbG9yOw0KCQkJCXZhciByZ2IgPSBjb2xvci5tYXRjaCgvXGQrL2cpOw0KCQkJCXZhciBtID0gZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnJlYWtJbnRvQ29sb3JNdWx0aXBsaWVyOw0KCQkJCWlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgY2hhbmdlUGl4ZWwocGl4ZWwscmVzdWx0KTsNCgkJCQlpZiAoQXJyYXkuaXNBcnJheShtKSkgew0KCQkJCQltID0gbVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtLmxlbmd0aCldOw0KCQkJCX0NCgkJCQl2YXIgciA9IE1hdGguZmxvb3IocmdiWzBdICogbSk7DQoJCQkJdmFyIGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIG0pOw0KCQkJCXZhciBiID0gTWF0aC5mbG9vcihyZ2JbMl0gKiBtKTsNCgkJCQkvLyBNYWtlIHN1cmUgdGhlIGNvbG9yIGlzIHdpdGhpbiB0aGUgUkdCIHJhbmdlDQoJCQkJciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcikpOw0KCQkJCWcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIGcpKTsNCgkJCQliID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBiKSk7DQoJCQkJcGl4ZWwuY29sb3IgPSAicmdiKCIrcisiLCIrZysiLCIrYisiKSI7DQoJCQl9DQoJCQllbHNlIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgew0KCQkJCWNoYW5nZVBpeGVsKHBpeGVsLHJlc3VsdCk7DQoJCQl9DQoJCX0NCg0KCQlmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHsNCgkJCWZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7DQoJCQkJY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOw0KCQkJCVthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07DQoJCQl9DQoJCX0NCgkJY29uc3QgY2hlY2tGb3JFbXB0eVBpeGVscyA9IGZ1bmN0aW9uKHgseSkgew0KCQkJY29uc3QgZW1wdHkgPSBbXTsNCgkJCWZvciAobGV0IGEgb2YgWy0xLCAwLCAxXSkgew0KCQkJCWZvciAobGV0IGIgb2YgWy0xLCAwLCAxXSkgew0KCQkJCQlpZiAoYSA9PSAwICYmIGIgPT0gMCkgY29udGludWU7DQoJCQkJCWlmIChvdXRPZkJvdW5kcyh4ICsgYSwgeSArIGIpKSBjb250aW51ZTsNCgkJCQkJaWYgKCFwaXhlbE1hcFt4ICsgYV1beSArIGJdKSBlbXB0eS5wdXNoKFthLCBiXSk7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIGVtcHR5Ow0KCQl9DQoJCWFkamFjZW50Q29vcmRzID0gWw0KCQkJWzAsMV0sDQoJCQlbMCwtMV0sDQoJCQlbMSwwXSwNCgkJCVstMSwwXQ0KCQldOw0KCQlzcXVhcmVDb29yZHMgPSBbDQoJCQlbMCwtMV0sDQoJCQlbMCwxXSwNCgkJCVsxLDBdLA0KCQkJWy0xLDBdLA0KCQkJWzEsMV0sDQoJCQlbMSwtMV0sDQoJCQlbLTEsMV0sDQoJCQlbLTEsLTFdDQoJCV07DQoJCWRpYWdvbmFsQ29vcmRzID0gWw0KCQkJWy0xLCAxXSwNCgkJCVsxLCAxXSwNCgkJCVsxLCAtMV0sDQoJCQlbLTEsIC0xXSwNCgkJXQ0KCQliaUNvb3JkcyA9IFsNCgkJCVswLDFdLA0KCQkJWzEsMF0NCgkJXTsNCgkJaW50ZXJhY3RDb29yZHMgPSBbDQoJCQlbMCwtMV0sDQoJCQlbMSwwXSwNCgkJCVstMSwwXSwNCgkJCVsxLDFdLA0KCQkJWy0xLDFdDQoJCV07DQoJCXNxdWFyZUNvb3Jkc1NodWZmbGUgPSBzcXVhcmVDb29yZHMuc2xpY2UoKTsNCgkJYWRqYWNlbnRDb29yZHNTaHVmZmxlID0gYWRqYWNlbnRDb29yZHMuc2xpY2UoKTsNCgkJaW50ZXJhY3RDb29yZHNTaHVmZmxlID0gaW50ZXJhY3RDb29yZHMuc2xpY2UoKTsNCgkJZnVuY3Rpb24gY2xlYXJMYXllcnMoKSB7DQoJCQljb25zdCBjYW52YXNMYXllcktleXMgPSBPYmplY3Qua2V5cyhjYW52YXNMYXllcnMpOw0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBjYW52YXNMYXllcktleXMubGVuZ3RoOyBpKyspIHsNCgkJCQljb25zdCBsYXllckNhbnZhcyA9IGNhbnZhc0xheWVyc1tjYW52YXNMYXllcktleXNbaV1dOw0KCQkJCWlmIChsYXllckNhbnZhcyA9PT0gY2FudmFzTGF5ZXJzLnBpeGVscykgew0KCQkJCQlpZiAodmlld0luZm9bdmlld10uY2xlYXIgPT09IGZhbHNlKSBjb250aW51ZTsNCgkJCQkJaWYgKCFwYXVzZWQgJiYgcGl4ZWxUaWNrcyA9PT0gbGFzdFBpeGVsRHJhdykgY29udGludWU7DQoJCQkJfQ0KCQkJCWNvbnN0IGxheWVyQ3R4ID0gbGF5ZXJDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCgkJCQlsYXllckN0eC5jbGVhclJlY3QoMCwgMCwgbGF5ZXJDYW52YXMud2lkdGgsIGxheWVyQ2FudmFzLmhlaWdodCk7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gY2xlYXJMYXllcihsYXllcikgew0KCQkJY29uc3QgbGF5ZXJDYW52YXMgPSBjYW52YXNMYXllcnNbbGF5ZXJdOw0KCQkJY29uc3QgbGF5ZXJDdHggPSBsYXllckNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KCQkJbGF5ZXJDdHguY2xlYXJSZWN0KDAsIDAsIGxheWVyQ2FudmFzLndpZHRoLCBsYXllckNhbnZhcy5oZWlnaHQpOw0KCQl9DQoJCWZ1bmN0aW9uIGRyYXdMYXllcnMoaW5jbHVkZUJhY2tncm91bmQpIHsNCgkJCWlmIChjdHggPT09IG51bGwpIHJldHVybg0KCQkJY2xlYXJMYXllcnMoKTsNCgkJCWN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsNCgkJCWlmIChzZXR0aW5ncy5iZykgeyAvLyBTZXQgYmFja2dyb3VuZCBjb2xvcg0KCQkJCWlmIChjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSBzZXR0aW5ncy5iZykgew0KCQkJCQljYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2V0dGluZ3MuYmc7DQoJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0cyIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNldHRpbmdzLmJnOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChpbmNsdWRlQmFja2dyb3VuZCkgew0KCQkJCWN0eC5maWxsU3R5bGUgPSBzZXR0aW5ncy5iZyB8fCAiIzAwMDAwMCI7DQoJCQkJY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQoJCQl9DQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGNhbnZhc0xheWVyc1ByZS5sZW5ndGg7IGkrKykgew0KCQkJCWNvbnN0IGxheWVyQ2FudmFzID0gY2FudmFzTGF5ZXJzUHJlW2ldOw0KCQkJCWN0eC5kcmF3SW1hZ2UobGF5ZXJDYW52YXMsIDAsIDApOw0KCQkJfQ0KCQkJaWYgKHBhdXNlZCB8fCBwaXhlbFRpY2tzICE9PSBsYXN0UGl4ZWxEcmF3KSB7DQoJCQkJaWYgKCFkcmF3UGl4ZWxzKCkgJiYgIXBhdXNlZCkgew0KCQkJCQlsb2dNZXNzYWdlKCJPbmUgb3IgbW9yZSBvZiB5b3VyIG1vZHMgYXJlIG91dGRhdGVkIGFuZCBjYW5ub3QgcmVuZGVyIHByb3Blcmx5LiIpOw0KCQkJCQl0b2dnbGVQYXVzZSgpOw0KCQkJCX0NCgkJCQlsYXN0UGl4ZWxEcmF3ID0gcGl4ZWxUaWNrczsNCgkJCX0NCgkJCWlmICghaW5jbHVkZUJhY2tncm91bmQpIGRyYXdDdXJzb3IoKTsNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgY2FudmFzTGF5ZXJzUG9zdC5sZW5ndGg7IGkrKykgew0KCQkJCWNvbnN0IGxheWVyQ2FudmFzID0gY2FudmFzTGF5ZXJzUG9zdFtpXTsNCgkJCQljdHguZHJhd0ltYWdlKGxheWVyQ2FudmFzLCAwLCAwKTsNCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiBkcmF3Q3Vyc29yKCkgew0KCQkJdmFyIGxheWVyQ3R4ID0gY2FudmFzTGF5ZXJzLmd1aS5nZXRDb250ZXh0KCcyZCcpOw0KCQkJdmFyIG1vdXNlT2Zmc2V0ID0gTWF0aC50cnVuYyhtb3VzZVNpemUvMik7DQoJCQl2YXIgdG9wTGVmdCA9IFttb3VzZVBvcy54LW1vdXNlT2Zmc2V0LG1vdXNlUG9zLnktbW91c2VPZmZzZXRdOw0KCQkJdmFyIGJvdHRvbVJpZ2h0ID0gW21vdXNlUG9zLngrbW91c2VPZmZzZXQsbW91c2VQb3MueSttb3VzZU9mZnNldF07DQoJCQkvLyBEcmF3IGEgc3F1YXJlIGFyb3VuZCB0aGUgbW91c2UNCgkJCWxheWVyQ3R4Lmdsb2JhbEFscGhhID0gbW91c2VBbHBoYTsNCgkJCWxheWVyQ3R4LmxpbmVXaWR0aCA9IDI7DQoJCQlsYXllckN0eC5zdHJva2VTdHlsZSA9IHNldHRpbmdzLm1vdXNlQ29sb3J8fG1vdXNlQ29sb3J8fCJ3aGl0ZSI7DQoJCQlsYXllckN0eC5zdHJva2VSZWN0KHRvcExlZnRbMF0qcGl4ZWxTaXplLHRvcExlZnRbMV0qcGl4ZWxTaXplLChib3R0b21SaWdodFswXS10b3BMZWZ0WzBdKzEpKnBpeGVsU2l6ZSwoYm90dG9tUmlnaHRbMV0tdG9wTGVmdFsxXSsxKSpwaXhlbFNpemUpOw0KCQkJLy8gZHJhdyBvbmUgdHJhbnNwYXJlbnQgcGl4ZWwgaW4gdGhlIGNlbnRlcg0KCQkJaWYgKHNldHRpbmdzLnByZWNpc2lvbikgew0KCQkJCWxheWVyQ3R4LmZpbGxTdHlsZSA9IG1vdXNlQ29sb3I7DQoJCQkJbGF5ZXJDdHguZmlsbFJlY3QobW91c2VQb3MueCpwaXhlbFNpemUsbW91c2VQb3MueSpwaXhlbFNpemUscGl4ZWxTaXplLHBpeGVsU2l6ZSk7DQoJCQl9DQoJCQlpZiAoc2hhcGluZykgew0KCQkJCWlmIChzaGFwaW5nID09PSAxKSB7IC8vIERyYXcgYSB3aGl0ZSBsaW5lIGZyb20gc2hhcGVTdGFydC54IHRvIHNoYXBlU3RhcnQueQ0KCQkJCQlsZXQgY29vcmRzID0gbGluZUNvb3JkcyhzaGFwZVN0YXJ0Lngsc2hhcGVTdGFydC55LG1vdXNlUG9zLngsbW91c2VQb3MueSk7DQoJCQkJCWNvb3Jkcy5mb3JFYWNoKChjb29yZCkgPT4gew0KCQkJCQkJaWYgKG91dE9mQm91bmRzKGNvb3JkWzBdLGNvb3JkWzFdKSkgcmV0dXJuOw0KCQkJCQkJZHJhd1NxdWFyZShsYXllckN0eCxtb3VzZUNvbG9yLGNvb3JkWzBdLGNvb3JkWzFdLHVuZGVmaW5lZCxtb3VzZUFscGhhKQ0KCQkJCQl9KQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiB0aWNrUGl4ZWxzKCkgew0KCQkJdGlja3RlbXAgPSB7fTsNCg0KCQkJdmFyIG5ld0N1cnJlbnRQaXhlbHMgPSBjdXJyZW50UGl4ZWxzLnNsaWNlKCk7DQoJCQlzaHVmZmxlQXJyYXkobmV3Q3VycmVudFBpeGVscyk7DQoNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q3VycmVudFBpeGVscy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBwaXhlbCA9IG5ld0N1cnJlbnRQaXhlbHNbaV07DQoJCQkJaWYgKHBpeGVsLnNraXAgPT09IHRydWUpIGNvbnRpbnVlOw0KCQkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5tb3ZhYmxlKSB7DQoJCQkJCWlmIChjdXJyZW50U2F2ZURhdGEudm9pZFggPT09IHRydWUgJiYgb25Cb3JkZXJYKHBpeGVsLngpKSB7DQoJCQkJCQlkZWxldGVQaXhlbChwaXhlbC54LHBpeGVsLnkpOyBjb250aW51ZTsNCgkJCQkJfQ0KCQkJCQlpZiAoY3VycmVudFNhdmVEYXRhLnZvaWRZID09PSB0cnVlICYmIG9uQm9yZGVyWShwaXhlbC55KSkgew0KCQkJCQkJZGVsZXRlUGl4ZWwocGl4ZWwueCxwaXhlbC55KTsgY29udGludWU7DQoJCQkJCX0NCgkJCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5sb29wWCA9PT0gdHJ1ZSkgew0KCQkJCQkJaWYgKHBpeGVsLnggPT09IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXIpIHRyeU1vdmUocGl4ZWwsd2lkdGgtY3VycmVudFNhdmVEYXRhLmJvcmRlci0xLHBpeGVsLnkpOw0KCQkJCQkJZWxzZSBpZiAocGl4ZWwueCA9PT0gd2lkdGgtY3VycmVudFNhdmVEYXRhLmJvcmRlcikgdHJ5TW92ZShwaXhlbCxjdXJyZW50U2F2ZURhdGEuYm9yZGVyKzEscGl4ZWwueSk7DQoJCQkJCX0NCgkJCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5sb29wWSA9PT0gdHJ1ZSkgew0KCQkJCQkJaWYgKHBpeGVsLnkgPT09IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXIpIHRyeU1vdmUocGl4ZWwscGl4ZWwueCxoZWlnaHQtY3VycmVudFNhdmVEYXRhLmJvcmRlci0xKTsNCgkJCQkJCWVsc2UgaWYgKHBpeGVsLnkgPT09IGhlaWdodC1jdXJyZW50U2F2ZURhdGEuYm9yZGVyKSB0cnlNb3ZlKHBpeGVsLHBpeGVsLngsY3VycmVudFNhdmVEYXRhLmJvcmRlcisxKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAocGl4ZWwuZGVsKSB7Y29udGludWV9DQoJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnRpY2spIHsgLy8gUnVuIHRpY2sgZnVuY3Rpb24gaWYgaXQgZXhpc3RzDQoJCQkJCWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnRpY2socGl4ZWwpOw0KCQkJCX0NCgkJCQlpZiAocGl4ZWwuZGVsKSB7Y29udGludWV9DQoJCQkJaWYgKHJ1blBlclBpeGVsTGlzdC5sZW5ndGgpIHsNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBydW5QZXJQaXhlbExpc3QubGVuZ3RoOyBpKyspIHsNCgkJCQkJCXJ1blBlclBpeGVsTGlzdFtpXShwaXhlbCk7DQoJCQkJCQlpZiAocGl4ZWwuZGVsKSB7Y29udGludWV9DQoJCQkJCX0NCgkJCQkJaWYgKHBpeGVsLmRlbCkge2NvbnRpbnVlfQ0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYmVoYXZpb3IpIHsgLy8gUGFyc2UgYmVoYXZpb3IgaWYgaXQgZXhpc3RzDQoJCQkJCXBpeGVsVGljayhwaXhlbCk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQlwaXhlbFRpY2tzKysNCgkJfQ0KCQl2aWV3S2V5ID0gey8qREVQUkVDQVRFRCovfQ0KCQl0aGVybWFsTWF4ID0gMTAwOw0KCQl0aGVybWFsTWluID0gMDsNCgkJdmlld0luZm8gPSB7DQoJCQkxOiB7IC8vIE5vcm1hbCBWaWV3IChEZWZhdWx0KQ0KCQkJCW5hbWU6ICIiLA0KCQkJCWVmZmVjdHM6IHRydWUsDQoJCQkJY29sb3JFZmZlY3RzOiB0cnVlLA0KCQkJCXBpeGVsOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJCQkJdmFyIGEgPSAoc2V0dGluZ3MudGV4dHVyZXMgIT09IDApID8gcGl4ZWwuYWxwaGEgOiB1bmRlZmluZWQ7DQoJCQkJCWlmICgoKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmlzR2FzICYmIGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmdsb3cgIT09IGZhbHNlKSB8fCBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5nbG93IHx8IHBpeGVsLmdsb3cpICYmIHBpeGVsLmdsb3cgIT09IGZhbHNlKSB7DQoJCQkJCQlkcmF3UGx1cyhjdHgscGl4ZWwuY29sb3IscGl4ZWwueCxwaXhlbC55LHVuZGVmaW5lZCxhKQ0KCQkJCQkJLy8gaWYgKGlzRW1wdHkocGl4ZWwueCsxLHBpeGVsLnkpIHx8IGlzRW1wdHkocGl4ZWwueC0xLHBpeGVsLnkpIHx8IGlzRW1wdHkocGl4ZWwueCxwaXhlbC55KzEpIHx8IGlzRW1wdHkocGl4ZWwueCxwaXhlbC55LTEpKSB7fQ0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJZHJhd1NxdWFyZShjdHgscGl4ZWwuY29sb3IscGl4ZWwueCxwaXhlbC55LHVuZGVmaW5lZCxhKQ0KCQkJCQl9DQoJCQkJCWlmIChwaXhlbC5jaGFyZ2UgJiYgdmlldyAhPT0gMikgeyAvLyBZZWxsb3cgZ2xvdyBvbiBjaGFyZ2UNCgkJCQkJCWlmICghZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY29sb3JPbikgew0KCQkJCQkJCWRyYXdTcXVhcmUoY3R4LCJyZ2JhKDI1NSwyNTUsMCwwLjUpIixwaXhlbC54LHBpeGVsLnkpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfSwNCgkJCTI6IHsgLy8gVGhlcm1hbCBWaWV3DQoJCQkJbmFtZTogInRoZXJtYWwiLA0KCQkJCW9uU2VsZWN0OiBmdW5jdGlvbihjdHgpIHsNCgkJCQkJdGhlcm1hbE1pbiA9IDA7DQoJCQkJCXRoZXJtYWxNYXggPSAxMDA7DQoNCgkJCQkJY3VycmVudFBpeGVscy5mb3JFYWNoKChwKSA9PiB7DQoJCQkJCQlpZiAoZWxlbWVudHNbcC5lbGVtZW50XS5pbnN1bGF0ZSkgcmV0dXJuOw0KCQkJCQkJaWYgKHAudGVtcCA+IHRoZXJtYWxNYXgpIHRoZXJtYWxNYXggPSAocC50ZW1wICsgdGhlcm1hbE1heCkvMjsNCgkJCQkJCWlmIChwLnRlbXAgPCB0aGVybWFsTWluKSB0aGVybWFsTWluID0gKHAudGVtcCArIHRoZXJtYWxNaW4pLzI7DQoJCQkJCX0pDQoJCQkJfSwNCgkJCQlwaXhlbDogZnVuY3Rpb24ocGl4ZWwsY3R4KSB7DQoJCQkJCXZhciB0ZW1wID0gcGl4ZWwudGVtcDsNCgkJCQkJdmFyIGh1ZSA9IDI1NSAtIE1hdGgucm91bmQoKHRlbXAgLSB0aGVybWFsTWluKSAvICh0aGVybWFsTWF4IC0gdGhlcm1hbE1pbikgKiAyNTUpOw0KCQkJCQlpZiAoaHVlIDwgMCkge2h1ZSA9IDB9DQoJCQkJCWlmIChodWUgPiAyMjUpIHtodWUgPSAyMjV9DQoJCQkJCWRyYXdTcXVhcmUoY3R4LCJoc2woIitodWUrIiwxMDAlLDUwJSkiLHBpeGVsLngscGl4ZWwueSkNCgkJCQl9DQoJCQl9LA0KCQkJMzogeyAvLyBCYXNpYyBWaWV3DQoJCQkJbmFtZTogImJhc2ljIiwNCgkJCQljb2xvckVmZmVjdHM6IHRydWUsDQoJCQkJcGl4ZWw6IGZ1bmN0aW9uKHBpeGVsLGN0eCkgew0KCQkJCQlpZiAocGl4ZWwuYWxwaGEgIT09IDApIHsgZHJhd1NxdWFyZShjdHgscGl4ZWwuY29sb3IscGl4ZWwueCxwaXhlbC55KSB9DQoJCQkJCWlmIChwaXhlbC5jaGFyZ2UgJiYgdmlldyAhPT0gMikgeyAvLyBZZWxsb3cgZ2xvdyBvbiBjaGFyZ2UNCgkJCQkJCWlmICghZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uY29sb3JPbikgew0KCQkJCQkJCWRyYXdTcXVhcmUoY3R4LCJyZ2JhKDI1NSwyNTUsMCwwLjUpIixwaXhlbC54LHBpeGVsLnkpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfSwNCgkJCTQ6IHsgLy8gU3RyZWFrIFZpZXcNCgkJCQluYW1lOiAic3RyZWFrIiwNCgkJCQljbGVhcjogZmFsc2UsDQoJCQkJZWZmZWN0czogdHJ1ZSwNCgkJCQljb2xvckVmZmVjdHM6IHRydWUsDQoJCQkJcHJlOiBmdW5jdGlvbihjdHgpIHsNCgkJCQkJY29uc3QgY2FudmFzID0gY3R4LmNhbnZhczsNCg0KCQkJCQljdHguZmlsbFN0eWxlID0gc2V0dGluZ3MuYmd8fCIjMDAwMDAwIjsNCgkJCQkJY3R4Lmdsb2JhbEFscGhhID0gMC4xOw0KCQkJCQljdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsNCgkJCQl9LA0KCQkJCXBpeGVsOiBmdW5jdGlvbihwaXhlbCxjdHgpIHsNCgkJCQkJdmlld0luZm9bMV0ucGl4ZWwocGl4ZWwsY3R4KTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gY2FudmFzQ29vcmQobikgew0KCQkJcmV0dXJuIG4qcGl4ZWxTaXplOw0KCQl9DQoJCWZ1bmN0aW9uIGRyYXdEZWZhdWx0KGN0eCxwaXhlbCkgew0KCQkJaWYgKCF2aWV3SW5mb1t2aWV3XSkgew0KCQkJCXNldFZpZXcoMSk7DQoJCQl9DQoJCQlpZiAodmlld0luZm9bdmlld10ucGl4ZWwpIHsNCgkJCQl2aWV3SW5mb1t2aWV3XS5waXhlbChwaXhlbCxjdHgpDQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gZHJhd1NxdWFyZShjdHgsY29sb3IseCx5LHNjYWxlPTEsb3BhY2l0eT0xKSB7DQoJCQlpZiAoY29sb3IpIHsgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOyB9DQoJCQlpZiAoY3R4Lmdsb2JhbEFscGhhICE9PSBvcGFjaXR5KSB7IGN0eC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7IH0NCgkJCWN0eC5maWxsUmVjdChjYW52YXNDb29yZCh4KSwgY2FudmFzQ29vcmQoeSksIHBpeGVsU2l6ZSpzY2FsZSwgcGl4ZWxTaXplKnNjYWxlKTsNCgkJfQ0KCQlmdW5jdGlvbiBkcmF3UGx1cyhjdHgsY29sb3IseCx5LHNjYWxlPTEsb3BhY2l0eT0xKSB7DQoJCQlpZiAoY29sb3IpIHsgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOyB9DQoJCQlvcGFjaXR5ID0gMC41Km9wYWNpdHk7DQoJCQlpZiAoY3R4Lmdsb2JhbEFscGhhIT09b3BhY2l0eSkgeyBjdHguZ2xvYmFsQWxwaGEgPSBvcGFjaXR5OyB9DQoJCQljdHguZmlsbFJlY3QoY2FudmFzQ29vcmQoeC0xKSwgY2FudmFzQ29vcmQoeSksIHBpeGVsU2l6ZTMsIHBpeGVsU2l6ZSk7DQoJCQljdHguZmlsbFJlY3QoY2FudmFzQ29vcmQoeCksIGNhbnZhc0Nvb3JkKHktMSksIHBpeGVsU2l6ZSwgcGl4ZWxTaXplMyk7DQoJCX0NCgkJZnVuY3Rpb24gZHJhd1BpeGVscyhmb3JjZVRpY2s9ZmFsc2UpIHsNCgkJCWNvbnN0IGNhbnZhcyA9IGNhbnZhc0xheWVycy5waXhlbHM7DQoJCQljb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCgkJCWxldCBwaXhlbHNGaXJzdCA9IFtdOw0KCQkJbGV0IHBpeGVsc0xhc3QgPSBbXTsNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFBpeGVscy5sZW5ndGg7IGkrKykgew0KCQkJCWxldCBwaXhlbCA9IGN1cnJlbnRQaXhlbHNbaV07DQoJCQkJaWYgKHBpeGVsLmRlbCkgew0KCQkJCQlpZiAocGl4ZWxNYXBbcGl4ZWwueF1bcGl4ZWwueV0pIHsgZGVsZXRlIHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnldOyB9DQoJCQkJCWN1cnJlbnRQaXhlbHMuc3BsaWNlKGksMSk7DQoJCQkJCWktLTsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCWlmIChwaXhlbC5jb24pIHsgcGl4ZWwgPSBwaXhlbC5jb24gfQ0KCQkJCWlmIChlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pc0dhcyB8fCBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5nbG93KSB7DQoJCQkJCXBpeGVsc0xhc3QucHVzaChwaXhlbCk7DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQlwaXhlbHNGaXJzdC5wdXNoKHBpeGVsKTsNCgkJCQl9DQoJCQl9DQoJCQkvLyBEcmF3IHRoZSBjdXJyZW50IHBpeGVscw0KCQkJaWYgKCFoaWRpbmcpIHsNCgkJCQlsZXQgcGl4ZWxEcmF3TGlzdCA9IHBpeGVsc0ZpcnN0LmNvbmNhdChwaXhlbHNMYXN0KTsNCgkJCQlpZiAoIXZpZXdJbmZvW3ZpZXddKSB7DQoJCQkJCXNldFZpZXcoMSk7DQoJCQkJfQ0KCQkJCWlmIChyZW5kZXJQcmVQaXhlbExpc3QubGVuZ3RoKSB7DQoJCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyUHJlUGl4ZWxMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJCQlyZW5kZXJQcmVQaXhlbExpc3RbaV0oY3R4KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAodmlld0luZm9bdmlld10ucHJlKSB7DQoJCQkJCXZpZXdJbmZvW3ZpZXddLnByZShjdHgpOw0KCQkJCX0NCgkJCQlpZiAodmlld0luZm9bdmlld10ucGl4ZWwpIHsNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBwaXhlbERyYXdMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJCQlsZXQgcGl4ZWwgPSBwaXhlbERyYXdMaXN0W2ldOw0KCQkJCQkJaWYgKHBpeGVsTWFwW3BpeGVsLnhdW3BpeGVsLnldID09PSB1bmRlZmluZWQpIHtjb250aW51ZX0NCgkJCQkJCWlmIChwaXhlbC5jb24pIHsgcGl4ZWwgPSBwaXhlbC5jb24gfQ0KCQkJCQkJaWYgKGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnJlbmRlcmVyICYmIChzZXR0aW5ncy50ZXh0dXJlcyAhPT0gMCB8fCB2aWV3SW5mb1t2aWV3XS5mYW5jeSA9PT0gZmFsc2UpKSB7DQoJCQkJCQkJZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0ucmVuZGVyZXIocGl4ZWwsY3R4KTsNCgkJCQkJCX0NCgkJCQkJCWVsc2Ugew0KCQkJCQkJCXZpZXdJbmZvW3ZpZXddLnBpeGVsKHBpeGVsLGN0eCk7DQoJCQkJCQl9DQoJCQkJCQlpZiAocmVuZGVyRWFjaFBpeGVsTGlzdC5sZW5ndGgpIHsNCgkJCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlckVhY2hQaXhlbExpc3QubGVuZ3RoOyBpKyspIHsNCgkJCQkJCQkJcmVuZGVyRWFjaFBpeGVsTGlzdFtpXShwaXhlbCxjdHgpOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZiAocmVuZGVyUG9zdFBpeGVsTGlzdC5sZW5ndGgpIHsNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJQb3N0UGl4ZWxMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJCQlyZW5kZXJQb3N0UGl4ZWxMaXN0W2ldKGN0eCk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJaWYgKHZpZXdJbmZvW3ZpZXddLnBvc3QpIHsNCgkJCQkJdmlld0luZm9bdmlld10ucG9zdChjdHgpOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChjdHguZ2xvYmFsQWxwaGEgPCAxKSB7DQoJCQkJY3R4Lmdsb2JhbEFscGhhID0gMTsNCgkJCX0NCgkJCXJldHVybiB0cnVlOw0KCQl9DQoJCWhlaWdodCA9IHVuZGVmaW5lZDsNCgkJd2lkdGggPSB1bmRlZmluZWQ7DQoJCWZ1bmN0aW9uIHRpY2soKSB7DQoJCQlpZiAobW91c2VJc0Rvd24gJiYgIXNoYXBpbmcpIHsNCgkJCQltb3VzZUFjdGlvbihudWxsLG1vdXNlUG9zLngsbW91c2VQb3MueSk7DQoJCQl9DQoNCgkJCWlmICghcGF1c2VkKSB7DQoJCQkJaWYgKHNldHRpbmdzLmV2ZW50cykgew0KCQkJCQlkb1JhbmRvbUV2ZW50cygpOw0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLnBlclRpY2spIHsNCgkJCQkJZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLnBlclRpY2soKTsNCgkJCQl9DQoJCQkJDQoJCQkJdGlja1BpeGVscygpOw0KDQoJCQkJaWYgKHJ1bkV2ZXJ5VGlja0xpc3QubGVuZ3RoKSB7DQoJCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgcnVuRXZlcnlUaWNrTGlzdC5sZW5ndGg7IGkrKykgew0KCQkJCQkJcnVuRXZlcnlUaWNrTGlzdFtpXSgpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCQl1cGRhdGVTdGF0cygpOw0KCQl9DQoJDQoJCWN1cnJlbnRFbGVtZW50ID0gInVua25vd24iOw0KCQlmaXJzdEVsZW1lbnQgPSAidW5rbm93biI7DQoJCWN1cnJlbnRDb2xvciA9ICIjZmYwMDAwIjsNCgkJY3VycmVudENvbG9yTWFwID0ge307DQoJCWN1cnJlbnRQcm9wID0gdW5kZWZpbmVkOw0KCQljdXJyZW50UHJvcFZhbHVlID0gdW5kZWZpbmVkOw0KCQljdXJyZW50RWxlbWVudFByb3AgPSBudWxsOw0KCQlzdG9yZWRFbGVtZW50ID0gbnVsbDsNCgkJcHJldkVsZW1lbnQgPSBudWxsOw0KCQlmdW5jdGlvbiBkZWZhdWx0U2F2ZURhdGEoKSB7DQoJCQlyZXR1cm4gew0KCQkJCWxvYWRlZDogZmFsc2UsDQoJCQkJYm9yZGVyOiAwLA0KCQkJCXV1aWQ6IHV1aWR2NCgpLA0KCQkJCXZvaWRYOiBzZXR0aW5ncy52b2lkWCwNCgkJCQl2b2lkWTogc2V0dGluZ3Mudm9pZFksDQoJCQkJbG9vcFg6IHNldHRpbmdzLmxvb3BYLA0KCQkJCWxvb3BZOiBzZXR0aW5ncy5sb29wWQ0KCQkJfQ0KCQl9DQoJCWN1cnJlbnRTYXZlRGF0YSA9IGRlZmF1bHRTYXZlRGF0YSgpOw0KCQl1cGRhdGVCb3JkZXIoKTsNCgkJc2F2aW5nU3RhdGUgPSBudWxsOw0KCQlsYXN0U2F2ZUpTT04gPSBudWxsOw0KCQl0ZW1wU2V0dGluZ3MgPSBudWxsOw0KCQlwcm9tcHRTdGF0ZSA9IG51bGw7DQoJCW1vdXNlSXNEb3duID0gZmFsc2U7DQoJCWlzTW9iaWxlID0gZmFsc2U7DQoJCWdlbmVyaWNNZW51SGFuZGxlciA9IG51bGw7DQoJCWNoYW5nZWRNb2RzID0gZmFsc2U7DQoJCWZvcmNlUmVsb2FkID0gZmFsc2U7DQoJCW5leHRFbGVtSUQgPSAxOw0KCQkvLyBkZXRlY3QgaWYgbW9iaWxlDQoJCWlmICgobmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC93ZWJPUy9pKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSkgfHwNCgkJCW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSkgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpIHx8DQoJCQluYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lL2kpKSkgfHwNCgkJCShuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMiAmJiAvTWFjSW50ZWwvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSkgfHwNCgkJCS9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgfHwNCgkJCSgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKQ0KCQkpIHsNCgkJCWlzTW9iaWxlID0gdHJ1ZTsNCgkJfQ0KCQkvLyBkZXRlY3QgaWYgbWFjT1MNCgkJaWYgKHNldHRpbmdzLmludmVydHNjcm9sbCA9PT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ01BQycpPj0wKSB7DQoJCQlzZXR0aW5ncy5pbnZlcnRzY3JvbGwgPSB0cnVlOw0KCQl9DQoJCW1vdXNlVHlwZSA9IG51bGw7DQoJCWZ1bmN0aW9uIG1vdXNlQ2xpY2soZSkgew0KCQkJaWYgKHNob3dpbmdNZW51ICYmIGN1cnJlbnRFbGVtZW50ICE9PSAibG9va3VwIikgew0KCQkJCWNsb3NlTWVudSgpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCW1vdXNlSXNEb3duID0gdHJ1ZTsNCgkJCWxhc3RQbGFjZSA9IC0xMDA7DQoJCQlpZiAoZS5idXR0b24gPT09IDApIHsNCgkJCQltb3VzZVR5cGUgPSAibGVmdCI7DQoJCQl9DQoJCQllbHNlIGlmIChlLmJ1dHRvbiA9PT0gMikgew0KCQkJCW1vdXNlVHlwZSA9ICJyaWdodCI7DQoJCQl9DQoJCQllbHNlIGlmIChlLmJ1dHRvbiA9PT0gMSkgew0KCQkJCW1vdXNlVHlwZSA9ICJtaWRkbGUiOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJbW91c2VUeXBlID0gImxlZnQiOw0KCQkJfQ0KCQkJaWYgKChlLmJ1dHRvbiA9PT0gMCB8fCBlLnRvdWNoZXMpICYmIHBsYWNpbmdJbWFnZSkgew0KCQkJCWlmIChlLnRvdWNoZXMpIHsgbW91c2VNb3ZlKGUpOyB9DQoJCQkJcGxhY2VJbWFnZSgpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWVsc2UgaWYgKHNoaWZ0RG93biAmJiBlLmJ1dHRvbiAhPT0gMSAmJiAhKChlbGVtZW50c1tjdXJyZW50RWxlbWVudF0udG9vbCB8fCBlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uY2F0ZWdvcnk9PT0idG9vbHMiKSAmJiBtb3VzZVR5cGU9PT0ibGVmdCIgJiYgIWVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jYW5QbGFjZSAmJiBjdXJyZW50RWxlbWVudCAhPT0gImVyYXNlIikpIHsNCgkJCQlzaGFwaW5nID0gMTsNCgkJCQlzaGFwZVN0YXJ0ID0gbW91c2VQb3M7DQoJCQl9DQoJCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLnNpbmdsZUNvbG9yKSB7DQoJCQkJLy8gY2hvb3NlIHJhbmRvbSBpdGVtIGZyb20gLmNvbG9yDQoJCQkJaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLmNvbG9yKSkgew0KCQkJCQljdXJyZW50Q29sb3JNYXBbY3VycmVudEVsZW1lbnRdID0gZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLmNvbG9yW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jb2xvci5sZW5ndGgpXTsNCgkJCQl9DQoJCQkJZWxzZSB7IGN1cnJlbnRDb2xvck1hcFtjdXJyZW50RWxlbWVudF0gPSBlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uY29sb3I7fQ0KCQkJCS8vIGNvbnZlcnQgZnJvbSByZ2IocixnLGIpIHRvICNycmdnYmINCgkJCQkvLyBSR0JUb0hleCB0YWtlcyBhbiBhcnJheSBvZiBpbnRlZ2Vycw0KCQkJCWlmIChjdXJyZW50Q29sb3JNYXBbY3VycmVudEVsZW1lbnRdLmluZGV4T2YoInJnYiIpICE9PSAtMSkgew0KCQkJCQl2YXIgcmdiID0gY3VycmVudENvbG9yTWFwW2N1cnJlbnRFbGVtZW50XS5tYXRjaCgvXGQrL2cpOw0KCQkJCQljdXJyZW50Q29sb3JNYXBbY3VycmVudEVsZW1lbnRdID0gUkdCVG9IZXgoW3BhcnNlSW50KHJnYlswXSkscGFyc2VJbnQocmdiWzFdKSxwYXJzZUludChyZ2JbMl0pXSk7DQoJCQkJfQ0KCQkJfQ0KCQkJbW91c2VNb3ZlKGUpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJCWZ1bmN0aW9uIHBsYWNlSW1hZ2UocGxhY2VtZW50WCxwbGFjZW1lbnRZLHNjYWxlKSB7DQoJCQlpZiAoIXNjYWxlKSB7IHNjYWxlID0gbW91c2VTaXplIH0NCgkJCS8vIGRvd25zY2FsZSB0aGUgPGltZyB0byBtb3VzZVNpemUgeCBtb3VzZVNpemUgYW5kIGRyYXcgaXQNCgkJCXZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsNCgkJCS8vIHNldCB3aWR0aCBvciBoZWlnaHQgcHJvcG9ydGlvbmFsIHRvIG1vdXNlU2l6ZQ0KCQkJaWYgKHBsYWNpbmdJbWFnZS53aWR0aCA+IHBsYWNpbmdJbWFnZS5oZWlnaHQpIHsNCgkJCQljYW52YXMud2lkdGggPSBtb3VzZVNpemU7DQoJCQkJY2FudmFzLmhlaWdodCA9IE1hdGgucm91bmQocGxhY2luZ0ltYWdlLmhlaWdodC9wbGFjaW5nSW1hZ2Uud2lkdGgqbW91c2VTaXplKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWNhbnZhcy5oZWlnaHQgPSBtb3VzZVNpemU7DQoJCQkJY2FudmFzLndpZHRoID0gTWF0aC5yb3VuZChwbGFjaW5nSW1hZ2Uud2lkdGgvcGxhY2luZ0ltYWdlLmhlaWdodCptb3VzZVNpemUpOw0KCQkJfQ0KCQkJdmFyIG5ld1dpZHRoID0gY2FudmFzLndpZHRoOw0KCQkJdmFyIG5ld0hlaWdodCA9IGNhbnZhcy5oZWlnaHQ7DQoJCQl2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7DQoJCQlpZiAoc2V0dGluZ3MuaW1hZ2VzbW9vdGggPT09IDApIHsNCgkJCQljdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7DQoJCQkJY3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlOw0KCQkJCWN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTsNCgkJCX0NCgkJCWN0eC5kcmF3SW1hZ2UocGxhY2luZ0ltYWdlLDAsMCxuZXdXaWR0aCxuZXdIZWlnaHQpOw0KCQkJdmFyIG5ld0ltYWdlID0gY3R4LmdldEltYWdlRGF0YSgwLDAsbmV3V2lkdGgsbmV3SGVpZ2h0KTsNCgkJCXZhciBlbGVtID0gKHNldHRpbmdzLmltYWdlZWxlbSB8fCAid29vZCIpOw0KCQkJaWYgKCghZWxlbWVudHNbZWxlbV0gfHwgZWxlbWVudHNbZWxlbV0udG9vbCB8fCBlbGVtZW50c1tlbGVtXS5jYW5QbGFjZT09PWZhbHNlKSAmJiBlbGVtICE9PSAicGFpbnQiICYmICFlbGVtZW50c1tlbGVtXS5jYW5QbGFjZSkgeyBlbGVtID0gIndvb2QiO30NCgkJCS8vIGxvb3AgdGhyb3VnaCBlYWNoIHBpeGVsIGluIHRoZSBJbWFnZURhdGENCgkJCWZvciAodmFyIHggPSAwOyB4IDwgbmV3V2lkdGg7IHgrKykgew0KCQkJCWZvciAodmFyIHkgPSAwOyB5IDwgbmV3SGVpZ2h0OyB5KyspIHsNCgkJCQkJdmFyIGkgPSAoeSpuZXdXaWR0aCt4KSo0Ow0KCQkJCQl2YXIgciA9IG5ld0ltYWdlLmRhdGFbaV07DQoJCQkJCXZhciBnID0gbmV3SW1hZ2UuZGF0YVtpKzFdOw0KCQkJCQl2YXIgYiA9IG5ld0ltYWdlLmRhdGFbaSsyXTsNCgkJCQkJdmFyIGEgPSBuZXdJbWFnZS5kYXRhW2krM107DQoJCQkJCWlmIChhID4gMC4zMykgew0KCQkJCQkJLy8gbW91c2VQb3MgaXMgdGhlIGNlbnRlciBvZiB0aGUgaW1hZ2UNCgkJCQkJCXZhciBwaXhlbFggPSAocGxhY2VtZW50WHx8bW91c2VQb3MueCkgLSBNYXRoLnJvdW5kKG5ld1dpZHRoLzIpICsgeCsxOw0KCQkJCQkJdmFyIHBpeGVsWSA9IChwbGFjZW1lbnRZfHxtb3VzZVBvcy55KSAtIE1hdGgucm91bmQobmV3SGVpZ2h0LzIpICsgeSsxOw0KCQkJCQkJaWYgKGlzRW1wdHkocGl4ZWxYLHBpeGVsWSkpIHsNCgkJCQkJCQlpZiAoZWxlbSA9PT0gInBhaW50IikgeyBjb250aW51ZSB9DQoJCQkJCQkJY3JlYXRlUGl4ZWwoZWxlbSxwaXhlbFgscGl4ZWxZKTsNCgkJCQkJCQlwaXhlbE1hcFtwaXhlbFhdW3BpeGVsWV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFtwaXhlbFhdW3BpeGVsWV0sIFJHQlRvSGV4KFtyLGcsYl0pKTsNCgkJCQkJCX0NCgkJCQkJCWVsc2UgaWYgKCFvdXRPZkJvdW5kcyhwaXhlbFgscGl4ZWxZKSkgew0KCQkJCQkJCWlmIChzaGlmdERvd24gfHwgbW9kZSA9PT0gInJlcGxhY2UiKSB7DQoJCQkJCQkJCWNoYW5nZVBpeGVsKHBpeGVsTWFwW3BpeGVsWF1bcGl4ZWxZXSxlbGVtKTsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSBpZiAoZWxlbSAhPT0gInBhaW50Iikgew0KCQkJCQkJCQljb250aW51ZTsNCgkJCQkJCQl9DQoJCQkJCQkJcGl4ZWxNYXBbcGl4ZWxYXVtwaXhlbFldLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbcGl4ZWxYXVtwaXhlbFldLCBSR0JUb0hleChbcixnLGJdKSk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gbW91c2VVcChlKSB7DQoJCQltb3VzZUlzRG93biA9IGZhbHNlOw0KCQkJaWYgKHNoYXBpbmcpIHsNCgkJCQlpZiAoc2hhcGluZyA9PT0gMSkgeyAvLyBEcmF3IGEgbGluZQ0KCQkJCQltb3VzZUFjdGlvbihudWxsLG1vdXNlUG9zLngsbW91c2VQb3MueSxzaGFwZVN0YXJ0KTsNCgkJCQl9DQoJCQkJc2hhcGluZyA9IDA7DQoJCQkJc2hhcGVTdGFydCA9IG51bGw7DQoJCQl9DQoJCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdICYmIGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5vbk1vdXNlVXApIHsNCgkJCQllbGVtZW50c1tjdXJyZW50RWxlbWVudF0ub25Nb3VzZVVwKGUpOw0KCQkJfQ0KCQl9DQoNCgkJZnVuY3Rpb24gZ2V0TW91c2VQb3MoY2FudmFzLCBldnQpIHsNCgkJCS8vIElmIGV2dC50b3VjaGVzIGlzIGRlZmluZWQsIHVzZSB0aGUgZmlyc3QgdG91Y2gNCgkJCWlmIChldnQudG91Y2hlcykgew0KCQkJCWV2dC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCWV2dCA9IGV2dC50b3VjaGVzWzBdOw0KCQkJCWlzTW9iaWxlID0gdHJ1ZTsNCgkJCX0NCgkJCWNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQoNCgkJCWxldCB4ID0gZXZ0LmNsaWVudFggLSByZWN0LmxlZnQ7DQoJCQlsZXQgeSA9IGV2dC5jbGllbnRZIC0gcmVjdC50b3A7DQoNCgkJCXggPSBNYXRoLmZsb29yKCh4IC8gY2FudmFzLmNsaWVudFdpZHRoKSAqICh3aWR0aCsxKSk7DQoJCQl5ID0gTWF0aC5mbG9vcigoeSAvIGNhbnZhcy5jbGllbnRIZWlnaHQpICogKGhlaWdodCsxKSk7DQoNCgkJCXJldHVybiB7eDp4LCB5Onl9Ow0KCQl9DQoJCWZ1bmN0aW9uIG1vdXNlTW92ZShlKSB7DQoJCQl1cGRhdGVTdGF0cygpOw0KCQkJaWYgKG1vdXNlSXNEb3duICYmICFzaGFwaW5nICYmICFwbGFjaW5nSW1hZ2UpIHsNCgkJCQltb3VzZUFjdGlvbihlKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZSIpOw0KCQkJCWxhc3RQb3MgPSBtb3VzZVBvczsNCgkJCQltb3VzZVBvcyA9IGdldE1vdXNlUG9zKGNhbnZhcywgZSk7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gbW91c2VBY3Rpb24oZSxtb3VzZVgsbW91c2VZLHN0YXJ0UG9zKSB7DQoJCQlpZiAobW91c2VUeXBlID09PSAibGVmdCIpIHsgbW91c2UxQWN0aW9uKGUsbW91c2VYLG1vdXNlWSxzdGFydFBvcyk7IH0NCgkJCWVsc2UgaWYgKG1vdXNlVHlwZSA9PT0gInJpZ2h0IikgeyBtb3VzZTJBY3Rpb24oZSxtb3VzZVgsbW91c2VZLHN0YXJ0UG9zKTsgfQ0KCQkJZWxzZSBpZiAobW91c2VUeXBlID09PSAibWlkZGxlIikgeyBtb3VzZU1pZGRsZUFjdGlvbihlLG1vdXNlWCxtb3VzZVkpOyB9DQoJCX0NCgkJbW91c2VTaXplID0gNTsNCgkJbGFzdE1vdXNlU2l6ZSA9IG1vdXNlU2l6ZTsNCgkJbW91c2VQb3MgPSB7eDowLHk6MH07DQoJCWxhc3RQb3MgPSBtb3VzZVBvczsNCgkJbGFzdFBsYWNlID0gLTEwMDsNCgkJaWYgKHR5cGVvZiBzZXR0aW5ncy5tb3VzZUNvbG9yICE9PSAic3RyaW5nIikgeyBkZWxldGUgc2V0dGluZ3MubW91c2VDb2xvciB9DQoJCW1vdXNlQ29sb3IgPSBzZXR0aW5ncy5tb3VzZUNvbG9yfHwicmdiYSgyNTUsMjU1LDI1NSkiOw0KCQltb3VzZUFscGhhID0gMC41Ow0KCQlmdW5jdGlvbiBtb3VzZVJhbmdlKG1vdXNlWCxtb3VzZVksc2l6ZSkgew0KCQkJdmFyIGNvb3JkcyA9IFtdOw0KCQkJc2l6ZSA9IHNpemUgfHwgbW91c2VTaXplOw0KCQkJdmFyIG1vdXNlT2Zmc2V0ID0gTWF0aC50cnVuYyhzaXplLzIpOw0KCQkJdmFyIHRvcExlZnQgPSBbbW91c2VYLW1vdXNlT2Zmc2V0LG1vdXNlWS1tb3VzZU9mZnNldF07DQoJCQl2YXIgYm90dG9tUmlnaHQgPSBbbW91c2VYK21vdXNlT2Zmc2V0LG1vdXNlWSttb3VzZU9mZnNldF07DQoJCQkvLyBTdGFydGluZyBhdCB0aGUgdG9wIGxlZnQsIGdvIHRocm91Z2ggZWFjaCBwaXhlbA0KCQkJZm9yICh2YXIgeCA9IHRvcExlZnRbMF07IHggPD0gYm90dG9tUmlnaHRbMF07IHgrKykgew0KCQkJCWZvciAodmFyIHkgPSB0b3BMZWZ0WzFdOyB5IDw9IGJvdHRvbVJpZ2h0WzFdOyB5KyspIHsNCgkJCQkJLy8gSWYgdGhlIHBpeGVsIGlzIGVtcHR5LCBhZGQgaXQgdG8gY29vcmRzDQoJCQkJCWNvb3Jkcy5wdXNoKFt4LHldKTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gY29vcmRzOw0KCQl9DQoJCWZ1bmN0aW9uIG1vdXNlMUFjdGlvbihlLG1vdXNlWD11bmRlZmluZWQsbW91c2VZPXVuZGVmaW5lZCxzdGFydFBvcykgew0KCQkJLy8gSWYgeCBhbmQgeSBhcmUgdW5kZWZpbmVkLCBnZXQgdGhlIG1vdXNlIHBvc2l0aW9uDQoJCQlpZiAobW91c2VYID09PSB1bmRlZmluZWQgJiYgbW91c2VZID09PSB1bmRlZmluZWQpIHsNCgkJCQkvLyB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhbWUiKTsNCgkJCQkvLyB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7DQoJCQkJbGFzdFBvcyA9IG1vdXNlUG9zOw0KCQkJCW1vdXNlUG9zID0gZ2V0TW91c2VQb3MoY2FudmFzLCBlKTsNCgkJCQl2YXIgbW91c2VYID0gbW91c2VQb3MueDsNCgkJCQl2YXIgbW91c2VZID0gbW91c2VQb3MueTsNCgkJCX0NCgkJCXZhciBjb29sZG93bmVkID0gZmFsc2U7DQoJCQlpZiAobW91c2VTaXplPT09MSAmJiBlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uY29vbGRvd24gJiYgIXBhdXNlZCkgew0KCQkJCWlmIChwaXhlbFRpY2tzLWxhc3RQbGFjZSA8IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jb29sZG93bikgew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJCWNvb2xkb3duZWQgPSB0cnVlOw0KCQkJfQ0KCQkJbGFzdFBsYWNlID0gcGl4ZWxUaWNrczsNCgkJCWlmIChjb29sZG93bmVkICYmICFzdGFydFBvcykgew0KCQkJCXZhciBjb29yZHMgPSBtb3VzZVJhbmdlKG1vdXNlWCxtb3VzZVkpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJc3RhcnRQb3MgPSBzdGFydFBvcyB8fCBsYXN0UG9zDQoJCQkJdmFyIGNvb3JkcyA9IGxpbmVDb29yZHMoc3RhcnRQb3MueCxzdGFydFBvcy55LG1vdXNlWCxtb3VzZVkpOw0KCQkJfQ0KCQkJLy8gaWYgKCEoKGNvb2xkb3duZWQgJiYgc3RhcnRQb3MueD09PWxhc3RQb3MueCAmJiBzdGFydFBvcy55PT09bGFzdFBvcy55KSB8fCAoKGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS50b29sIHx8IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jYXRlZ29yeT09PSJ0b29scyIpICYmICFlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uY2FuUGxhY2UpKSkgew0KCQkJLy8gfQ0KCQkJLy8gZWxzZSB7IHZhciBjb29yZHMgPSBtb3VzZVJhbmdlKG1vdXNlWCxtb3VzZVkpOyB9DQoJCQl2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XTsNCgkJCXZhciBtaXhMaXN0ID0gW107DQoJCQkvLyBGb3IgZWFjaCB4LHkgaW4gY29vcmRzDQoJCQl2YXIgZG9uZSA9IHt9Ow0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQl2YXIgeCA9IGNvb3Jkc1tpXVswXTsNCgkJCQl2YXIgeSA9IGNvb3Jkc1tpXVsxXTsNCgkJCQlpZiAoIWRvbmVbeF0pIHsNCgkJCQkJZG9uZVt4XSA9IHt9DQoJCQkJfQ0KCQkJCWlmIChkb25lW3hdW3ldKSB7IGNvbnRpbnVlOyB9DQoJCQkJZG9uZVt4XVt5XSA9IHRydWU7DQoNCgkJCQlpZiAob3V0T2ZTaWdodCh4LHkpKSB7IGNvbnRpbnVlOyB9DQoJCQkJDQoJCQkJdmFyIGV4aXN0aW5nUGl4ZWwgPSBudWxsOw0KCQkJCWlmICghaXNFbXB0eSh4LHksdHJ1ZSkpIHsgZXhpc3RpbmdQaXhlbCA9IHBpeGVsTWFwW3hdW3ldIH0NCg0KDQoJCQkJaWYgKG1vZGUgPT09ICJyZXBsYWNlIiAmJiAoIWVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS50b29sIHx8IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jYW5QbGFjZSkpIHsNCgkJCQkJaWYgKG91dE9mQm91bmRzKHgseSkpIHsNCgkJCQkJCWNvbnRpbnVlOw0KCQkJCQl9DQoJCQkJCS8vIFJlbW92ZSBwaXhlbCBhdCBwb3NpdGlvbiBmcm9tIGN1cnJlbnRQaXhlbHMNCgkJCQkJaWYgKGV4aXN0aW5nUGl4ZWwgIT09IG51bGwpIHsNCgkJCQkJCWlmICghKGN1cnJlbnRFbGVtZW50ID09PSBleGlzdGluZ1BpeGVsLmVsZW1lbnQgJiYgZXhpc3RpbmdQaXhlbC5zdGFydCA9PT0gcGl4ZWxUaWNrcy0xKSkgew0KCQkJCQkJCWRlbGV0ZVBpeGVsKHgseSk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZiAoZXhpc3RpbmdQaXhlbCAhPT0gbnVsbCAmJiBlbGVtZW50c1tleGlzdGluZ1BpeGVsLmVsZW1lbnRdLm9uQ2xpY2tlZCAmJiBjdXJyZW50RWxlbWVudCAhPT0gZXhpc3RpbmdQaXhlbC5lbGVtZW50KSB7DQoJCQkJCWVsZW1lbnRzW2V4aXN0aW5nUGl4ZWwuZWxlbWVudF0ub25DbGlja2VkKGV4aXN0aW5nUGl4ZWwsY3VycmVudEVsZW1lbnQpOw0KCQkJCX0NCg0KCQkJCWlmIChjdXJyZW50RWxlbWVudCA9PT0gIm1peCIpIHsNCgkJCQkJaWYgKGV4aXN0aW5nUGl4ZWwgIT09IG51bGwpIHsNCgkJCQkJCXZhciBwaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQkJaWYgKHBpeGVsLmRlbCkgY29udGludWU7DQoJCQkJCQlpZiAoIShlbGVtZW50c1twaXhlbC5lbGVtZW50XS5tb3ZhYmxlICE9PSB0cnVlIHx8IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLm5vTWl4ID09PSB0cnVlKSB8fCBzaGlmdERvd24pIHsNCgkJCQkJCQltaXhMaXN0LnB1c2gocGl4ZWwpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCgkJCQllbHNlIGlmIChlbGVtZW50c1tjdXJyZW50RWxlbWVudF0udG9vbCAmJiAhKGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jYW5QbGFjZSAmJiBpc0VtcHR5KHgseSkpKSB7DQoJCQkJCS8vIHJ1biB0aGUgdG9vbCBmdW5jdGlvbiBvbiB0aGUgcGl4ZWwNCgkJCQkJaWYgKGV4aXN0aW5nUGl4ZWwgIT09IG51bGwpIHsNCgkJCQkJCXZhciBwaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQkJLy8gaWYgdGhlIGN1cnJlbnQgZWxlbWVudCBoYXMgYW4gaWdub3JlIHByb3BlcnR5IGFuZCB0aGUgcGl4ZWwncyBlbGVtZW50IGlzIGluIHRoZSBpZ25vcmUgcHJvcGVydHksIGRvbid0IGRvIGFueXRoaW5nDQoJCQkJCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLmlnbm9yZSAmJiBlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uaWdub3JlLmluZGV4T2YocGl4ZWwuZWxlbWVudCkgIT09IC0xKSB7DQoJCQkJCQkJY29udGludWU7DQoJCQkJCQl9DQoJCQkJCQllbGVtZW50c1tjdXJyZW50RWxlbWVudF0udG9vbChwaXhlbCk7DQoJCQkJCX0NCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCWlmIChpc0VtcHR5KHgsIHkpKSB7DQoJCQkJCWlmIChjdXJyZW50UGl4ZWxzLmxlbmd0aCA8IG1heFBpeGVsQ291bnQpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKGN1cnJlbnRFbGVtZW50LHgseSk7DQoJCQkJCQlpZiAocGl4ZWxNYXBbeF1beV0gJiYgY3VycmVudEVsZW1lbnQgPT09IHBpeGVsTWFwW3hdW3ldLmVsZW1lbnQgJiYgKGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5jdXN0b21Db2xvciB8fCBlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uc2luZ2xlQ29sb3IpKSB7DQoJCQkJCQkJcGl4ZWxNYXBbeF1beV0uY29sb3IgPSBwaXhlbENvbG9yUGljayhwaXhlbE1hcFt4XVt5XSxjdXJyZW50Q29sb3JNYXBbY3VycmVudEVsZW1lbnRdKTsNCgkJCQkJCX0NCgkJCQkJCWlmIChjdXJyZW50RWxlbWVudFByb3ApIHsNCgkJCQkJCQlmb3IgKHZhciBrZXkgaW4gY3VycmVudEVsZW1lbnRQcm9wKSB7DQoJCQkJCQkJCXBpeGVsTWFwW3hdW3ldW2tleV0gPSBjdXJyZW50RWxlbWVudFByb3Bba2V5XQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQllbHNlIGlmICghb3V0T2ZCb3VuZHMoeCx5KSkgew0KCQkJCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLmV4dGluZ3Vpc2gpIHsNCgkJCQkJCXZhciBwaXhlbCA9IHBpeGVsTWFwW3hdW3ldOw0KCQkJCQkJaWYgKHBpeGVsLmJ1cm5pbmcgJiYgZWxlbWVudHNbcGl4ZWwuZWxlbWVudF0uYnVybmluZyAhPT0gdHJ1ZSkgew0KCQkJCQkJCWRlbGV0ZSBwaXhlbC5idXJuaW5nOw0KCQkJCQkJCWRlbGV0ZSBwaXhlbC5idXJuU3RhcnQ7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlpZiAoY3VycmVudEVsZW1lbnQgPT09ICJtaXgiKSB7DQoJCQkJLy8gMS4gcmVwZWF0IGZvciBlYWNoIHBpeGVsIGluIG1peExpc3QNCgkJCQkvLyAyLiBjaG9vc2UgMiByYW5kb20gcGl4ZWxzIGFuZCBzd2FwIHRoZWlyIHggYW5kIHkNCgkJCQkvLyAzLiByZW1vdmUgcGl4ZWwgZnJvbSBtaXhMaXN0DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhMaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCQkJCXZhciBwaXhlbDEgPSBtaXhMaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSptaXhMaXN0Lmxlbmd0aCldOw0KCQkJCQl2YXIgcGl4ZWwyID0gbWl4TGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbWl4TGlzdC5sZW5ndGgpXTsNCgkJCQkJc3dhcFBpeGVscyhwaXhlbDEscGl4ZWwyKTsNCgkJCQkJbWl4TGlzdC5zcGxpY2UobWl4TGlzdC5pbmRleE9mKHBpeGVsMSksMSk7DQoJCQkJCW1peExpc3Quc3BsaWNlKG1peExpc3QuaW5kZXhPZihwaXhlbDIpLDEpOw0KCQkJCQlpZiAoZWxlbWVudHNbcGl4ZWwxLmVsZW1lbnRdLm9uTWl4KSB7DQoJCQkJCQllbGVtZW50c1twaXhlbDEuZWxlbWVudF0ub25NaXgocGl4ZWwxLHBpeGVsMik7DQoJCQkJCX0NCgkJCQkJaWYgKGVsZW1lbnRzW3BpeGVsMi5lbGVtZW50XS5vbk1peCkgew0KCQkJCQkJZWxlbWVudHNbcGl4ZWwyLmVsZW1lbnRdLm9uTWl4KHBpeGVsMixwaXhlbDEpOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gbW91c2UyQWN0aW9uKGUsbW91c2VYPXVuZGVmaW5lZCxtb3VzZVk9dW5kZWZpbmVkLHN0YXJ0UG9zKSB7DQoJCQkvLyBFcmFzZSBwaXhlbCBhdCBtb3VzZSBwb3NpdGlvbg0KCQkJaWYgKG1vdXNlWCA9PT0gdW5kZWZpbmVkICYmIG1vdXNlWSA9PT0gdW5kZWZpbmVkKSB7DQoJCQkJbGFzdFBvcyA9IG1vdXNlUG9zOw0KCQkJCW1vdXNlUG9zID0gZ2V0TW91c2VQb3MoY2FudmFzLCBlKTsNCgkJCQl2YXIgbW91c2VYID0gbW91c2VQb3MueDsNCgkJCQl2YXIgbW91c2VZID0gbW91c2VQb3MueTsNCgkJCX0NCgkJCWlmIChkcmFnU3RhcnQgIT09IG51bGwpIHsNCgkJCQlkcmFnU3RhcnQgPSBudWxsOw0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgZHJhZ2dpbmdQaXhlbHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJdmFyIHBpeGVsID0gZHJhZ2dpbmdQaXhlbHNbaV07DQoJCQkJCWRlbGV0ZSBwaXhlbC5kcmFnOw0KCQkJCX0NCgkJCQlkcmFnZ2luZ1BpeGVscyA9IG51bGw7DQoJCQl9DQoJCQlzdGFydFBvcyA9IHN0YXJ0UG9zIHx8IGxhc3RQb3MNCgkJCXZhciBjb29yZHMgPSBsaW5lQ29vcmRzKHN0YXJ0UG9zLngsc3RhcnRQb3MueSxtb3VzZVgsbW91c2VZKTsNCgkJCS8vIEZvciBlYWNoIHgseSBpbiBjb29yZHMNCgkJCXZhciBkb25lID0ge307DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciB4ID0gY29vcmRzW2ldWzBdOw0KCQkJCXZhciB5ID0gY29vcmRzW2ldWzFdOw0KCQkJCWlmICghZG9uZVt4XSkgew0KCQkJCQlkb25lW3hdID0ge30NCgkJCQl9DQoJCQkJaWYgKGRvbmVbeF1beV0pIHsgY29udGludWU7IH0NCgkJCQlkb25lW3hdW3ldID0gdHJ1ZTsNCg0KCQkJCWlmICghaXNFbXB0eSh4LCB5KSkgew0KCQkJCQlpZiAob3V0T2ZCb3VuZHMoeCx5KSkgew0KCQkJCQkJY29udGludWUNCgkJCQkJfQ0KCQkJCQlpZiAoZWxlbWVudHMuZXJhc2UpIGVsZW1lbnRzLmVyYXNlLnRvb2wocGl4ZWxNYXBbeF1beV0pDQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIG1vdXNlTWlkZGxlQWN0aW9uKGUsIG1vdXNlWCwgbW91c2VZKSB7DQoJCQlpZiAoZSkgew0KCQkJCWlmIChtb3VzZVggPT09IHVuZGVmaW5lZCAmJiBtb3VzZVkgPT09IHVuZGVmaW5lZCkgew0KCQkJCQlsYXN0UG9zID0gbW91c2VQb3M7DQoJCQkJCW1vdXNlUG9zID0gZ2V0TW91c2VQb3MoY2FudmFzLCBlKTsNCgkJCQkJdmFyIG1vdXNlWCA9IG1vdXNlUG9zLng7DQoJCQkJCXZhciBtb3VzZVkgPSBtb3VzZVBvcy55Ow0KCQkJCX0NCgkJCQlpZiAoIW91dE9mQm91bmRzKG1vdXNlWCwgbW91c2VZKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH0NCgkJCX0NCgkJCWlmICghaXNFbXB0eShtb3VzZVgsIG1vdXNlWSx0cnVlKSkgew0KCQkJCXZhciBwaXhlbCA9IHBpeGVsTWFwW21vdXNlWF1bbW91c2VZXTsNCgkJCQlpZiAoZWxlbWVudHMucGljayAmJiBlbGVtZW50cy5waWNrLnRvb2wpIGVsZW1lbnRzLnBpY2sudG9vbChwaXhlbCk7DQoJCQl9DQoJCX0NCgkJbGFzdFNjcm9sbCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KCQlmdW5jdGlvbiB3aGVlbEhhbmRsZShlKSB7DQoJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkvLyBjaGVjayBpZiBzY3JvbGwgaXMgd2l0aGluIHRoZSBsYXN0IDI1bXMNCgkJCWlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxhc3RTY3JvbGwgPCAyNSkgew0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWxhc3RTY3JvbGwgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsNCgkJCXZhciBkZWx0YVkgPSBlLmRlbHRhWTsNCgkJCWlmIChzZXR0aW5ncy5pbnZlcnRzY3JvbGwpIHsNCgkJCQlpZiAoZGVsdGFZID4gMCkgeyBkZWx0YVkgPSAxOyB9DQoJCQkJZWxzZSB7IGRlbHRhWSA9IC0xLjU7IH0NCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWlmIChkZWx0YVkgPCAwKSB7IGRlbHRhWSA9IDE7IH0NCgkJCQllbHNlIHsgZGVsdGFZID0gLTEuNTsgfQ0KCQkJfQ0KCQkJbW91c2VTaXplICs9IE1hdGgucm91bmQoZGVsdGFZKjEuNSk7DQoJCQljaGVja01vdXNlU2l6ZSh0cnVlKTsNCgkJfQ0KCQlmdW5jdGlvbiBjaG9vc2VFbGVtZW50UHJvbXB0KCkgew0KCQkJcHJvbXB0SW5wdXQoIkVudGVyIHRoZSBlbGVtZW50J3MgSUQuIiwNCgkJCQkoZSkgPT4gew0KCQkJCQlpZiAoIWUpIHsgcmV0dXJuOyB9DQoJCQkJCS8vIHJlcGxhY2Ugc3BhY2VzIHdpdGggdW5kZXJzY29yZXMNCgkJCQkJZSA9IGUucmVwbGFjZSgvIC9nLCAiXyIpOw0KCQkJCQllcyA9IG1vc3RTaW1pbGFyRWxlbWVudChlKTsNCgkJCQkJaWYgKGVzICE9PSBudWxsKSB7DQoJCQkJCQlzZWxlY3RFbGVtZW50KGVzKTsNCgkJCQkJCXNlbGVjdENhdGVnb3J5KGVsZW1lbnRzW2VzXS5jYXRlZ29yeSk7DQoJCQkJCX0NCgkJCQkJZWxzZSB7DQoJCQkJCQlsb2dNZXNzYWdlKCJFbGVtZW50IFwiIiArIGUgKyAiXCIgbm90IGZvdW5kIik7DQoJCQkJCX0NCgkJCQkJZm9jdXNHYW1lKCk7DQoJCQkJfSwNCgkJCQkiU2VsZWN0IEVsZW1lbnQiDQoJCQkpDQoJCX0NCgkJZnVuY3Rpb24gdG9nZ2xlUGF1c2UoKSB7DQoJCQlwYXVzZWQgPSAhcGF1c2VkOw0KCQkJaWYgKHBhdXNlZCkgew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXVzZUJ1dHRvbiIpLnNldEF0dHJpYnV0ZSgib24iLCJ0cnVlIik7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGF1c2VCdXR0b24iKS5zZXRBdHRyaWJ1dGUoIm9uIiwiZmFsc2UiKTsNCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiB0b2dnbGVTaGlmdCgpIHsNCgkJCWlmIChzaGlmdERvd24pIHsNCgkJCQlzaGlmdERvd24gPSAwOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaGlmdEJ1dHRvbiIpLnNldEF0dHJpYnV0ZSgib24iLCJmYWxzZSIpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJc2hpZnREb3duID0gMTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2hpZnRCdXR0b24iKS5zZXRBdHRyaWJ1dGUoIm9uIiwidHJ1ZSIpOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIHJlc2V0UHJvbXB0KGNvbmZpcm1lZD1mYWxzZSkgew0KCQkJaWYgKGNvbmZpcm1lZCB8fCBzZXR0aW5ncy5yZXNldHdhcm5pbmcgPT09IDAgfHwgY3VycmVudFBpeGVscy5sZW5ndGg9PT0wKSB7DQoJCQkJaWYgKGNoYW5nZWRNb2RzKSB7DQoJCQkJCWZvcmNlUmVsb2FkID0gdHJ1ZTsNCgkJCQkJbG9jYXRpb24ucmVsb2FkKCk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJYXV0b1Jlc2l6ZUNhbnZhcygpOw0KCQkJCWZvY3VzR2FtZSgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWxldCBwYXVzZSA9IGZhbHNlOw0KCQkJaWYgKHByb21wdFN0YXRlKSB7IHBhdXNlID0gcHJvbXB0U3RhdGUud2FzUGF1c2VkIH0NCgkJCWVsc2UgaWYgKHBhdXNlZCkgeyBwYXVzZSA9IHRydWUgfQ0KCQkJcHJvbXB0U3RhdGUgPSB7DQoJCQkJdGV4dDogIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbGVhciB0aGUgd2hvbGUgc2NlbmU/IiwNCgkJCQl0aXRsZTogIkNsZWFyIENhbnZhcyIsDQoJCQkJaGFuZGxlcjogKHIpID0+IHsNCgkJCQkJaWYgKHIpIHJlc2V0UHJvbXB0KHRydWUpOw0KCQkJCQlmb2N1c0dhbWUoKTsNCgkJCQl9LA0KCQkJCWh0bWw6IChzdGFuZGFsb25lIHx8ICFpc09uU2l0ZSkgPyBudWxsIDogYDxicj48YnI+PHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48aW5wdXQgaWQ9InBsYXlsaWdodEJ1dHRvbiIgY2xhc3M9ImJ1dHRvbiIgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJsb2FkUGxheWxpZ2h0KCk7IiB2YWx1ZT0iUGxheSBNb3JlIEdhbWVzIiBzdHlsZT0iIj48L2lucHV0PjwvcD5gLA0KCQkJCXR5cGU6ICJjb25maXJtIiwNCgkJCQl3YXNQYXVzZWQ6IHBhdXNlDQoJCQl9DQoJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCX0NCgkJZnVuY3Rpb24gc2V0VFBTKG5ld3Rwcykgew0KCQkJdHBzID0gcGFyc2VJbnQobmV3dHBzKSB8fCAzMDsNCgkJCXJlc2V0SW50ZXJ2YWwodHBzKTsNCgkJfQ0KCQlmdW5jdGlvbiB0cHNQcm9tcHQoKSB7DQoJCQlwcm9tcHRJbnB1dCgiRW50ZXIgdGhlIG5ldyBzaW11bGF0aW9uIFRpY2tzIFBlciBTZWNvbmQgKFRQUykgYmV0d2VlbiAxIGFuZCAxMDAwLiBUaGlzIGlzIGhvdyBtYW55IHVwZGF0ZXMgcGVyIHNlY29uZCB0aGUgc2ltdWxhdGlvbiB3aWxsIHJ1bi5cblxuVGhlIGRlZmF1bHQgaXMgMzAuXG5cblRoZSBjdXJyZW50IFRQUyBpcyAiICsgdHBzICsgIi4iLA0KCQkJCShyKSA9PiB7DQoJCQkJCXZhciBuZXd0cHMgPSBwYXJzZUludChyKTsNCgkJCQkJaWYgKHIgIT09IG51bGwpIHsNCgkJCQkJCWlmIChpc05hTihuZXd0cHMpIHx8IG5ld3RwcyA9PSAiIikgbG9nTWVzc2FnZSgiWW91IGRpZCBub3QgZW50ZXIgYSB2YWxpZCBUUFMuIik7DQoJCQkJCQllbHNlIGlmIChuZXd0cHMgPiAxMDAwKSB7DQoJCQkJCQkJbG9nTWVzc2FnZSgiWW91IGVudGVyZWQgYSBUUFMgdGhhdCBpcyB0b28gaGlnaC4gVGhlIFRQUyB3aWxsIGJlIHNldCB0byB0aGUgbWF4aW11bSwgMTAwMC4iKTsNCgkJCQkJCQl0cHMgPSAxMDAwOw0KCQkJCQkJCWRlbGV0ZSBjdXJyZW50U2F2ZURhdGEub2xkVHBzOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSB7DQoJCQkJCQkJbmV3dHBzID0gcGFyc2VJbnQobmV3dHBzKTsNCgkJCQkJCQlpZiAoaXNOYU4obmV3dHBzKSB8fCBuZXd0cHMgPD0gMCkgew0KCQkJCQkJCQlsb2dNZXNzYWdlKCJZb3UgZGlkIG5vdCBlbnRlciBhIHZhbGlkIFRQUy4iKTsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSB7DQoJCQkJCQkJCXRwcyA9IG5ld3RwczsNCgkJCQkJCQkJZGVsZXRlIGN1cnJlbnRTYXZlRGF0YS5vbGRUcHM7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJcmVzZXRJbnRlcnZhbCh0cHMpOw0KCQkJCQl9DQoJCQkJCWZvY3VzR2FtZSgpOw0KCQkJCX0sDQoJCQkJIkNoYW5nZSBUUFMiDQoJCQkpDQoJCX0NCgkJZnVuY3Rpb24gZG9GcmFtZSgpIHsNCgkJCWlmIChwYXVzZWQpIHsNCgkJCQl0b2dnbGVQYXVzZSgpOw0KCQkJfQ0KDQoJCQl0aWNrKCk7DQoNCgkJCWlmICghcGF1c2VkKSB7DQoJCQkJdG9nZ2xlUGF1c2UoKTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIHNlbGVjdEVsZW1lbnQoZWxlbWVudCkgew0KCQkJaWYgKCFlbGVtZW50c1tlbGVtZW50XSkgeyBlbGVtZW50ID0gInVua25vd24iIH0NCgkJCWlmIChzaG93aW5nTWVudSA9PSAicHJvbXB0Iikgew0KCQkJCWNsb3NlTWVudSgpOw0KCQkJfQ0KCQkJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmxvY2tlZCA9PT0gdHJ1ZSkgew0KCQkJCWxvZ01lc3NhZ2UoIlRoaXMgZWxlbWVudCBpcyBsb2NrZWQuIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5vblVuc2VsZWN0KSB7DQoJCQkJZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLm9uVW5zZWxlY3QoKTsNCgkJCX0NCgkJCXZhciBlMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbGVtZW50QnV0dG9uLSIrY3VycmVudEVsZW1lbnQpOw0KCQkJaWYgKGUxICE9PSBudWxsKSB7IGUxLnNldEF0dHJpYnV0ZSgiY3VycmVudCIsImZhbHNlIik7IH0NCgkJCXByZXZFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7DQoJCQljdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7DQoJCQljdXJyZW50RWxlbWVudFByb3AgPSBudWxsOw0KCQkJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmN1c3RvbUNvbG9yKSB7DQoJCQkJLy8gc2hvdyB0aGUgY29sb3JTZWxlY3Rvcg0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2xvclNlbGVjdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJY3VycmVudENvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbG9yU2VsZWN0b3IiKS52YWx1ZTsNCgkJCQlpZiAoIWN1cnJlbnRDb2xvck1hcFtjdXJyZW50RWxlbWVudF0pIHsgY3VycmVudENvbG9yTWFwW2N1cnJlbnRFbGVtZW50XSA9IGN1cnJlbnRDb2xvcjsgfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2xvclNlbGVjdG9yIikudmFsdWUgPSBjdXJyZW50Q29sb3JNYXBbY3VycmVudEVsZW1lbnRdOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJLy8gaGlkZSB0aGUgY29sb3JTZWxlY3Rvcg0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2xvclNlbGVjdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCX0NCgkJCXZhciBlMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbGVtZW50QnV0dG9uLSIrZWxlbWVudCk7DQoJCQlpZiAoZTIpIHsNCgkJCQllMi5zZXRBdHRyaWJ1dGUoImN1cnJlbnQiLCJ0cnVlIik7DQoJCQkJLy8gaWYgZTIgaGFzIHRoZSBjbGFzcyAibm90aWZ5IiwgcmVtb3ZlIGl0DQoJCQkJaWYgKGUyLmNsYXNzTGlzdC5jb250YWlucygibm90aWZ5IikpIHsNCgkJCQkJZTIuY2xhc3NMaXN0LnJlbW92ZSgibm90aWZ5Iik7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLm9uU2VsZWN0KSB7DQoJCQkJZWxlbWVudHNbZWxlbWVudF0ub25TZWxlY3QoKTsNCgkJCX0NCgkJCWNoZWNrTW91c2VTaXplKCk7DQoJCX0NCgkJZnVuY3Rpb24gZWRpdERpc3RhbmNlKHMxLCBzMikge3MxID0gczEudG9Mb3dlckNhc2UoKTtzMiA9IHMyLnRvTG93ZXJDYXNlKCk7dmFyIGNvc3RzID0gbmV3IEFycmF5KCk7Zm9yICh2YXIgaSA9IDA7IGkgPD0gczEubGVuZ3RoOyBpKyspIHt2YXIgbGFzdFZhbHVlID0gaTtmb3IgKHZhciBqID0gMDsgaiA8PSBzMi5sZW5ndGg7IGorKykge2lmIChpID09IDApY29zdHNbal0gPSBqO2Vsc2Uge2lmIChqID4gMCkge3ZhciBuZXdWYWx1ZSA9IGNvc3RzW2ogLSAxXTtpZiAoczEuY2hhckF0KGkgLSAxKSAhPT0gczIuY2hhckF0KGogLSAxKSluZXdWYWx1ZSA9IE1hdGgubWluKE1hdGgubWluKG5ld1ZhbHVlLCBsYXN0VmFsdWUpLGNvc3RzW2pdKSArIDE7Y29zdHNbaiAtIDFdID0gbGFzdFZhbHVlO2xhc3RWYWx1ZSA9IG5ld1ZhbHVlO319fWlmIChpID4gMCljb3N0c1tzMi5sZW5ndGhdID0gbGFzdFZhbHVlO31yZXR1cm4gY29zdHNbczIubGVuZ3RoXTt9DQoJCWZ1bmN0aW9uIHNpbWlsYXJpdHkoczEsIHMyKSB7dmFyIGxvbmdlciA9IHMxO3ZhciBzaG9ydGVyID0gczI7aWYgKHMxLmxlbmd0aCA8IHMyLmxlbmd0aCkge2xvbmdlciA9IHMyO3Nob3J0ZXIgPSBzMTt9dmFyIGxvbmdlckxlbmd0aCA9IGxvbmdlci5sZW5ndGg7aWYgKGxvbmdlckxlbmd0aCA9PSAwKSB7cmV0dXJuIDEuMDt9cmV0dXJuIChsb25nZXJMZW5ndGggLSBlZGl0RGlzdGFuY2UobG9uZ2VyLCBzaG9ydGVyKSkgLyBwYXJzZUZsb2F0KGxvbmdlckxlbmd0aCk7fQ0KCQlmdW5jdGlvbiBtb3N0U2ltaWxhckVsZW1lbnQocykgew0KCQkJdmFyIG1heCA9IDA7DQoJCQl2YXIgbWF4RWxlbWVudCA9ICIiOw0KCQkJZm9yICh2YXIgZSBpbiBlbGVtZW50cykgew0KCQkJCWlmIChlbGVtZW50c1tlXS5sb2NrZWQgPT09IHRydWUpIGNvbnRpbnVlOw0KCQkJCXZhciBzaW0gPSBzaW1pbGFyaXR5KGUscyk7DQoJCQkJaWYgKHNpbSA+IG1heCkgew0KCQkJCQltYXggPSBzaW07DQoJCQkJCW1heEVsZW1lbnQgPSBlOw0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudHNbZV0uYWxpYXMpIHsNCgkJCQkJaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudHNbZV0uYWxpYXMpKSB7DQoJCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzW2VdLmFsaWFzLmxlbmd0aDsgaSsrKSB7DQoJCQkJCQkJY29uc3QgYWxpYXMgPSBlbGVtZW50c1tlXS5hbGlhc1tpXS5yZXBsYWNlKC8gL2csIl8iKS50b0xvd2VyQ2FzZSgpOw0KCQkJCQkJCWlmIChhbGlhcyA9PT0gcykgew0KCQkJCQkJCQltYXggPSAwLjk5Ow0KCQkJCQkJCQltYXhFbGVtZW50ID0gZTsNCgkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKGVsZW1lbnRzW2VdLmFsaWFzLnJlcGxhY2UoLyAvZywiXyIpLnRvTG93ZXJDYXNlKCkgPT09IHMpIHsNCgkJCQkJCW1heCA9IDAuOTk7DQoJCQkJCQltYXhFbGVtZW50ID0gZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCWlmIChtYXggPCAwLjUpIHsgcmV0dXJuIG51bGwgfQ0KCQkJcmV0dXJuIG1heEVsZW1lbnQ7DQoJCX0NCgkJZnVuY3Rpb24gc2VsZWN0Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsNCgkJCWlmICghY2F0ZWdvcnkpIHsgcmV0dXJuOyB9DQoJCQl2YXIgY2F0ZWdvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnlCdXR0b24tIitjYXRlZ29yeSk7DQoJCQlpZiAoIWNhdGVnb3J5QnV0dG9uKSB7cmV0dXJufQ0KCQkJLy8gaWYgY2F0ZWdvcnlCdXR0b24gaGFzIHRoZSBjbGFzcyAibm90aWZ5IiwgcmVtb3ZlIGl0DQoJCQlpZiAoY2F0ZWdvcnlCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCJub3RpZnkiKSkgew0KCQkJCWNhdGVnb3J5QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm5vdGlmeSIpOw0KCQkJfQ0KCQkJdmFyIGNhdGVnb3J5RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5LSIrY2F0ZWdvcnkpOw0KCQkJLy8gU2hvdyB0aGlzIGNhdGVnb3J5RGl2IGFuZCBoaWRlIGFsbCBvdGhlcnMNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgY2F0ZWdvcnlCdXR0b24ucGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBlID0gY2F0ZWdvcnlEaXYucGFyZW50Tm9kZS5jaGlsZHJlbltpXTsNCgkJCQllLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJLy8gU2V0IHRoZSBjYXRlZ29yeUJ1dHRvbiBvZiBjYXRlZ29yeURpdidzIGNhdGVnb3J5IGF0dHJpYnV0ZSB0byBjdXJyZW50PWZhbHNlDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5QnV0dG9uLSIrZS5nZXRBdHRyaWJ1dGUoImNhdGVnb3J5IikpLnNldEF0dHJpYnV0ZSgiY3VycmVudCIsZmFsc2UpOw0KCQkJfQ0KCQkJY2F0ZWdvcnlEaXYuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsNCgkJCWNhdGVnb3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgiY3VycmVudCIsIHRydWUpOw0KCQl9DQoJCWZ1bmN0aW9uIHNldFZpZXcobikgew0KCQkJaWYgKHZpZXdJbmZvW3ZpZXddICYmIHZpZXdJbmZvW3ZpZXddLm9uVW5zZWxlY3QpIHsNCgkJCQljb25zdCBjYW52YXMgPSBjYW52YXNMYXllcnMucGl4ZWxzOw0KCQkJCWNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KCQkJCXZpZXdJbmZvW3ZpZXddLm9uVW5zZWxlY3QoY3R4KTsNCgkJCX0NCgkJCWlmICghdmlld0luZm9bbl0pIHsgLy8gcmVzZXQgdmlldw0KCQkJCW4gPSAxOw0KCQkJfQ0KCQkJaWYgKHZpZXdJbmZvW25dLm9uU2VsZWN0KSB7DQoJCQkJY29uc3QgY2FudmFzID0gY2FudmFzTGF5ZXJzLnBpeGVsczsNCgkJCQljb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCgkJCQl2aWV3SW5mb1tuXS5vblNlbGVjdChjdHgpOw0KCQkJfQ0KCQkJdmlldyA9IG47DQoJCX0NCgkJZnVuY3Rpb24gY2VudGVyTW91c2UoKSB7DQoJCQltb3VzZVBvcyA9IHt4OndpZHRoLzIseTpoZWlnaHQvMn07DQoJCX0NCg0KCQlmdW5jdGlvbiBoYW5kbGVFbGVtZW50QnV0dG9uQ2xpY2soKSB7DQoJCQlpZiAoY3VycmVudEVsZW1lbnQgPT09IHRoaXMuZ2V0QXR0cmlidXRlKCJlbGVtZW50IikpIHsNCgkJCQlzZWxlY3RFbGVtZW50KCJ1bmtub3duIik7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlzZWxlY3RFbGVtZW50KHRoaXMuZ2V0QXR0cmlidXRlKCJlbGVtZW50IikpOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIGVsZW1UaXRsZUNhc2Uoc3RyaW5nKSB7DQoJCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXy4vZywgZnVuY3Rpb24gKG1hdGNoKSB7cmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7fSkucmVwbGFjZSgvXy9nLCAnJyk7DQoJCQlyZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpOw0KCQl9DQoJCWZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRCdXR0b24oZWxlbWVudCkgew0KCQkJdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOw0KCQkJLy8gaWYgdGhlIGVsZW1lbnQgaGFzIHRoZSBhdHRyaWJ1dGUgIm5hbWUiLCB1c2UgdGhhdCBhcyB0aGUgYnV0dG9uJ3MgdGV4dCwgb3RoZXJ3aXNlIHVzZSB0aGUgZWxlbWVudCB3aXRoIHVuZGVyc2NvcmVzIHJlcGxhY2VkIGJ5IHNwYWNlcw0KCQkJdmFyIG5hbWUgPSBlbGVtZW50c1tlbGVtZW50XS5uYW1lIHx8IGVsZW1lbnQ7DQoJCQl2YXIgc3RyID0gZWxlbVRpdGxlQ2FzZShuYW1lKTsNCgkJCWJ1dHRvbi5pbm5lclRleHQgPSBzdHI7DQoJCQkvL3NldCBhdHRyaWJ1dGUgb2YgZWxlbWVudCB0byB0aGUgZWxlbWVudA0KCQkJYnV0dG9uLnNldEF0dHJpYnV0ZSgiZWxlbWVudCIsIGVsZW1lbnQpOw0KCQkJYnV0dG9uLnNldEF0dHJpYnV0ZSgiY3VycmVudCIsICJmYWxzZSIpOw0KCQkJYnV0dG9uLmNsYXNzTmFtZSA9ICJlbGVtZW50QnV0dG9uIjsNCgkJCS8vY29sb3Igb2YgdGhlIGVsZW1lbnQNCgkJCS8vIGlmIHRoZSBlbGVtZW50IGNvbG9yIGlzIGFuIGFycmF5LCBtYWtlIGEgZ3JhZGllbnQgYmFja2dyb3VuZCBjb2xvciwgb3RoZXJ3aXNlLCBzZXQgdGhlIGJhY2tncm91bmQgY29sb3IgdG8gdGhlIGVsZW1lbnQgY29sb3INCgkJCWxldCBidXR0b25Db2xvciA9IGVsZW1lbnRzW2VsZW1lbnRdLmJ1dHRvbkNvbG9yIHx8IGVsZW1lbnRzW2VsZW1lbnRdLmNvbG9yOw0KDQoJCQlsZXQgY29sb3JPYmplY3RzID0gZWxlbWVudHNbZWxlbWVudF0uY29sb3JPYmplY3Q7DQoJCQlpZiAoIUFycmF5LmlzQXJyYXkoY29sb3JPYmplY3RzKSkgew0KCQkJCWNvbG9yT2JqZWN0cyA9IFtjb2xvck9iamVjdHNdOw0KCQkJfQ0KCQkJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmJ1dHRvbkNvbG9yKSB7DQoJCQkJaWYgKEFycmF5LmlzQXJyYXkoYnV0dG9uQ29sb3IpKSB7DQoJCQkJCWNvbG9yT2JqZWN0cyA9IFtdOw0KCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGJ1dHRvbkNvbG9yLmxlbmd0aDsgaSsrKSB7DQoJCQkJCQljb25zdCBoZXggPSBidXR0b25Db2xvcltpXTsNCgkJCQkJCWNvbG9yT2JqZWN0cy5wdXNoKGhleFRvUkdCKGhleCkpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCWVsc2UgY29sb3JPYmplY3RzID0gW2hleFRvUkdCKGJ1dHRvbkNvbG9yKV07DQoJCQl9DQoNCgkJCWlmIChjb2xvck9iamVjdHMubGVuZ3RoID09PSAxKSB7DQoJCQkJYnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSBidXR0b25Db2xvcjsNCgkJCQl2YXIgY29sb3JPYmplY3QgPSBlbGVtZW50c1tlbGVtZW50XS5jb2xvck9iamVjdDsNCgkJCQlpZiAoZWxlbWVudHNbZWxlbWVudF0uZGFya1RleHQgIT09IGZhbHNlICYmIChlbGVtZW50c1tlbGVtZW50XS5kYXJrVGV4dCB8fCAoY29sb3JPYmplY3Qucitjb2xvck9iamVjdC5nK2NvbG9yT2JqZWN0LmIpLzMgPiAyMDApKSB7DQoJCQkJCWJ1dHRvbi5jbGFzc05hbWUgKz0gIiBicmlnaHQiDQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJYnV0dG9uLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tIHJpZ2h0LCAiK2J1dHRvbkNvbG9yLmpvaW4oIiwgIikrIikiOw0KCQkJCXZhciBjb2xvck9iamVjdCA9IGNvbG9yT2JqZWN0c1tNYXRoLmZsb29yKGNvbG9yT2JqZWN0cy5sZW5ndGgvMildOw0KCQkJCWlmIChlbGVtZW50c1tlbGVtZW50XS5kYXJrVGV4dCAhPT0gZmFsc2UgJiYgKGVsZW1lbnRzW2VsZW1lbnRdLmRhcmtUZXh0IHx8IChjb2xvck9iamVjdC5yK2NvbG9yT2JqZWN0LmcrY29sb3JPYmplY3QuYikvMyA+IDIwMCkpIHsNCgkJCQkJYnV0dG9uLmNsYXNzTmFtZSArPSAiIGJyaWdodCINCgkJCQl9DQoJCQl9DQoNCgkJCWlmIChlbGVtZW50c1tlbGVtZW50XS5idXR0b25HbG93KSB7DQoJCQkJYnV0dG9uLnN0eWxlLmJveFNoYWRvdyA9ICIwcHggMHB4IDIwcHggIitlbGVtZW50c1tlbGVtZW50XS5idXR0b25HbG93DQoJCQl9DQoJCQlidXR0b24uaWQgPSAiZWxlbWVudEJ1dHRvbi0iICsgZWxlbWVudDsNCgkJCWlmIChlbGVtZW50c1tlbGVtZW50XS5sb2NrZWQpIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJkaXNhYmxlZCIpOw0KCQkJYnV0dG9uLm9uY2xpY2sgPSBoYW5kbGVFbGVtZW50QnV0dG9uQ2xpY2s7DQoJCQkvLyBvbiByaWdodCBjbGljaywgc2hvdyB0aGUgZWxlbWVudCdzIGluZm8NCgkJCWJ1dHRvbi5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oZSkgew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQljbG9zZU1lbnUoKTsNCgkJCQlzaG93SW5mbyh0aGlzLmdldEF0dHJpYnV0ZSgiZWxlbWVudCIpKTsNCgkJCX0NCgkJCWlmICghZWxlbWVudHNbZWxlbWVudF0uY2F0ZWdvcnkpIHsNCgkJCQllbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSA9ICJvdGhlciI7DQoJCQl9DQoJCQl2YXIgY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnktIitlbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSk7DQoJCQlpZiAoY2F0ZWdvcnlEaXYgPT09IG51bGwpIHsNCgkJCQljcmVhdGVDYXRlZ29yeURpdihlbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSk7DQoJCQkJY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnktIitlbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSk7DQoJCQkJY2F0ZWdvcnlEaXYuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCX0NCgkJCWNhdGVnb3J5RGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7DQoJCX0NCgkJZnVuY3Rpb24gY3JlYXRlQ2F0ZWdvcnlEaXYoY2F0ZWdvcnkpIHsNCgkJCWNhdGVnb3J5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7DQoJCQljYXRlZ29yeUJ1dHRvbi5pZCA9ICJjYXRlZ29yeUJ1dHRvbi0iK2NhdGVnb3J5Ow0KCQkJY2F0ZWdvcnlCdXR0b24uaW5uZXJUZXh0ID0gKGxhbmdbY2F0ZWdvcnldIHx8IGNhdGVnb3J5KS5yZXBsYWNlKCIuIiwiICAgIikucmVwbGFjZSgvXy9nLCIgIikucmVwbGFjZSgvXHdcUyovZywgZnVuY3Rpb24odHh0KXtyZXR1cm4gdHh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO30pLnJlcGxhY2UoIiAgICIsIi4iKS5yZXBsYWNlKC8gL2csICIiKTsNCgkJCWNhdGVnb3J5QnV0dG9uLmNsYXNzTmFtZSA9ICJjYXRlZ29yeUJ1dHRvbiI7DQoJCQljYXRlZ29yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImNhdGVnb3J5IixjYXRlZ29yeSk7DQoJCQljYXRlZ29yeUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7DQoJCQkJc2VsZWN0Q2F0ZWdvcnkodGhpcy5nZXRBdHRyaWJ1dGUoImNhdGVnb3J5IikpOw0KCQkJfQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5Q29udHJvbHMiKS5hcHBlbmRDaGlsZChjYXRlZ29yeUJ1dHRvbik7DQoJCQl2YXIgY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJCWNhdGVnb3J5RGl2LnNldEF0dHJpYnV0ZSgiaWQiLCJjYXRlZ29yeS0iK2NhdGVnb3J5KTsNCgkJCWNhdGVnb3J5RGl2LnNldEF0dHJpYnV0ZSgiY2F0ZWdvcnkiLGNhdGVnb3J5KTsNCgkJCWNhdGVnb3J5RGl2LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJjYXRlZ29yeSIpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVsZW1lbnRDb250cm9scyIpLmFwcGVuZENoaWxkKGNhdGVnb3J5RGl2KTsNCgkJfQ0KCQlmdW5jdGlvbiBjaGVja1VubG9jayhlbGVtZW50KSB7DQoJCQlpZiAoZWxlbWVudHNbZWxlbWVudF0gJiYgZWxlbWVudHNbZWxlbWVudF0uaGlkZGVuICYmICFzZXR0aW5ncy51bmxvY2tlZFtlbGVtZW50XSkgew0KCQkJCXNldHRpbmdzLnVubG9ja2VkW2VsZW1lbnRdID0gdHJ1ZTsNCgkJCQlpZiAoc2V0dGluZ3MudW5oaWRlID09PSAyKSB7DQoJCQkJCWNyZWF0ZUVsZW1lbnRCdXR0b24oZWxlbWVudCkNCgkJCQkJdmFyIGNhdGVnb3J5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNhdGVnb3J5QnV0dG9uW2N1cnJlbnQ9J3RydWUnXSIpOw0KCQkJCQl2YXIgY3VycmVudENhdGVnb3J5ID0gY2F0ZWdvcnlCdXR0b24uZ2V0QXR0cmlidXRlKCJjYXRlZ29yeSIpOw0KCQkJCQlpZiAoY3VycmVudENhdGVnb3J5ICE9PSBlbGVtZW50c1tlbGVtZW50XS5jYXRlZ29yeSkgew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5QnV0dG9uLSIrZWxlbWVudHNbZWxlbWVudF0uY2F0ZWdvcnkpLmNsYXNzTGlzdC5hZGQoIm5vdGlmeSIpOw0KCQkJCQl9DQoJCQkJCS8vIGFkZCBub3RpZnkgdG8gdGhlIGVsZW1lbnRCdXR0b24gb2YgdGhlIGVsZW1lbnQNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVsZW1lbnRCdXR0b24tIitlbGVtZW50KS5jbGFzc0xpc3QuYWRkKCJub3RpZnkiKTsNCgkJCQkJaGlkZGVuQ291bnQtLTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhpZGRlbkNvdW50IikuaW5uZXJUZXh0ID0gaGlkZGVuQ291bnQ7DQoJCQkJfQ0KCQkJCXNhdmVTZXR0aW5ncygpOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIHNldFRoZW1lRWxlbWVudChlbGVtZW50KSB7DQoJCQlpZiAoIWVsZW1lbnQpIHsNCgkJCQlzZXRUaGVtZSgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWxldCBjb2xvciA9IGVsZW1lbnRzW2VsZW1lbnRdLmNvbG9yT2JqZWN0Ow0KCQkJaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSBjb2xvciA9IGNvbG9yWzBdOw0KCQkJc2V0VGhlbWUoY29sb3IpOw0KCQl9DQoJCWZ1bmN0aW9uIHNldFRoZW1lKGhleCkgew0KCQkJaWYgKCFoZXgpIHsNCgkJCQlsZXQgc3R5bGVUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGhlbWVTdHlsZSIpOw0KCQkJCWlmIChzdHlsZVRhZykgc3R5bGVUYWcucmVtb3ZlKCk7DQoJCQkJbW91c2VDb2xvciA9IHNldHRpbmdzLm1vdXNlQ29sb3J8fCJyZ2JhKDI1NSwyNTUsMjU1KSI7DQoJCQkJbW91c2VBbHBoYSA9IDAuNTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlsZXQgcmdiOw0KCQkJaWYgKHR5cGVvZiBoZXggPT09ICJzdHJpbmciKSByZ2IgPSBoZXhUb1JHQihoZXgpOw0KCQkJZWxzZSByZ2IgPSBoZXg7DQoJCQlsZXQgciA9IHJnYi5yOyBsZXQgZyA9IHJnYi5nOyBsZXQgYiA9IHJnYi5iOw0KCQkJcmdiID0gYCR7cn0sICR7Z30sICR7Yn1gOw0KCQkJbGV0IHN0eWxlID0gYDpyb290IHsNCgktLXRoZW1lOiByZ2IoJHtyZ2J9KTsNCg0KCS0tdGhlbWUtZGFyazogcmdiKCR7ci8yfSwgJHtnLzJ9LCAke2IvMn0pOyAvKiBjb2xvci8yICovDQoNCgktLXRoZW1lLWRhcmtlcjogcmdiKCR7ci81fSwgJHtnLzV9LCAke2IvNX0pOyAvKiBjb2xvci81ICovDQoJLS10aGVtZS1kYXJrZXItb3BhYzg1OiByZ2JhKCR7ci81fSwgJHtnLzV9LCAke2IvNX0sIDAuODUpOw0KDQoJLS10aGVtZS1kYXJrZXN0OiByZ2IoJHtNYXRoLm1heCgwLHItMTI3KX0sICR7TWF0aC5tYXgoMCxnLTEyNyl9LCAke01hdGgubWF4KDAsYi0xMjcpfSk7IC8qIGNvbG9yLTEyNyAqLw0KCS0tdGhlbWUtZGFya2VzdDI6IHJnYigke01hdGgubWF4KDAsci0xOTEpfSwgJHtNYXRoLm1heCgwLGctMTkxKX0sICR7TWF0aC5tYXgoMCxiLTE5MSl9KTsgLyogY29sb3ItMTkxICovDQoNCgktLXRoZW1lLW9wYWM4NTogcmdiYSgke3JnYn0sIDAuODUpOw0KCS0tdGhlbWUtb3BhYzc1OiByZ2JhKCR7cmdifSwgMC43NSk7DQoJLS10aGVtZS1vcGFjNTA6IHJnYmEoJHtyZ2J9LCAwLjUpOw0KCS0tdGhlbWUtb3BhYzI1OiByZ2JhKCR7cmdifSwgMC4yNSk7DQoJLS10aGVtZS1vcGFjMTA6IHJnYmEoJHtyZ2J9LCAwLjEpOw0KfWA7DQoJCQlsZXQgc3R5bGVUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGhlbWVTdHlsZSIpOw0KCQkJaWYgKCFzdHlsZVRhZykgew0KCQkJCXN0eWxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsNCgkJCQlzdHlsZVRhZy5pZCA9ICJ0aGVtZVN0eWxlIjsNCgkJCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWxlVGFnKTsNCgkJCX0NCgkJCXN0eWxlVGFnLmlubmVySFRNTCA9IHN0eWxlOw0KCQkJbW91c2VDb2xvciA9IGByZ2IoJHtyZ2J9KWA7DQoJCQltb3VzZUFscGhhID0gMTsNCgkJfQ0KDQoJCXdvcmxkZ2VudHlwZXMgPSB7DQoJCQkvLyBsYXllcnM6IFttaW5pbXVtIHkgZnJvbSBib3R0b20sIGVsZW1lbnQsIGNoYW5jZSBwZXIgcGl4ZWxdDQoJCQkiZ3Jhc3MiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjg1LCAiZ3Jhc3MiXSwNCgkJCQkJWzAuNTAsICJkaXJ0Il0sDQoJCQkJCVswLjA1LCAicm9jayJdLA0KCQkJCQlbMCwgImJhc2FsdCJdLA0KCQkJCV0NCgkJCX0sDQoJCQkiZmxvd2VyX2ZpZWxkIjogew0KCQkJCWxheWVyczogWw0KCQkJCQlbMC45MCwgImdyYXNzIl0sDQoJCQkJCVswLjUwLCAiZGlydCJdLA0KCQkJCQlbMC4wNSwgInJvY2siXSwNCgkJCQkJWzAsICJiYXNhbHQiXSwNCgkJCQldLA0KCQkJCWRlY29yOiBbDQoJCQkJCVsiZmxvd2VyX3NlZWQiLCAwLjFdDQoJCQkJXQ0KCQkJfSwNCgkJCSJ3aGVhdF9maWVsZCI6IHsNCgkJCQlsYXllcnM6IFsNCgkJCQkJWzAuNTAsICJtdWQiXSwNCgkJCQkJWzAuMjUsICJyb2NrIl0sDQoJCQkJCVswLCAiYmFzYWx0Il0sDQoJCQkJXSwNCgkJCQlkZWNvcjogWw0KCQkJCQlbIndoZWF0X3NlZWQiLCAwLjI1XQ0KCQkJCV0sDQoJCQkJYmFzZUhlaWdodDogMC4zNQ0KCQkJfSwNCgkJCSJ0aWRlX3Bvb2wiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjk4LCAicHJpbW9yZGlhbF9zb3VwIl0sDQoJCQkJCVswLjkyLCAid2F0ZXIiXSwNCgkJCQkJWzAuNTAsICJzYW5kIl0sDQoJCQkJCVswLjI1LCAicm9jayJdLA0KCQkJCQlbMCwgImJhc2FsdCJdLA0KCQkJCV0sDQoJCQkJZGVjb3I6IFsNCgkJCQkJWyJtZXRoYW5lIiwgMC4xXSwNCgkJCQkJWyJyYWluX2Nsb3VkIiwgMC43NV0NCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMzUsDQoJCQkJdGVtcGVyYXR1cmU6IDMwDQoJCQl9LA0KCQkJImRpcnQiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjUwLCAiZGlydCJdLA0KCQkJCQlbMC4wNSwgInJvY2siXSwNCgkJCQkJWzAsICJiYXNhbHQiXSwNCgkJCQldDQoJCQl9LA0KCQkJInNub3ciOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjg1LCAic25vdyJdLA0KCQkJCQlbMC41MCwgImRpcnQiXSwNCgkJCQkJWzAuMDUsICJyb2NrIl0sDQoJCQkJCVswLCAiYmFzYWx0Il0sDQoJCQkJXSwNCgkJCQlkZWNvcjogWw0KCQkJCQlbInBpbmVjb25lIiwgMC4wNV0sDQoJCQkJCVsic25vd19jbG91ZCIsIDAuNzVdDQoJCQkJXSwNCgkJCQliYXNlSGVpZ2h0OiAwLjI1LA0KCQkJCXRlbXBlcmF0dXJlOiAtNQ0KCQkJfSwNCgkJCSJyYWluIjogew0KCQkJCWxheWVyczogWw0KCQkJCQlbMC44NSwgImRpcnQiXSwNCgkJCQkJWzAuMDUsICJyb2NrIl0sDQoJCQkJCVswLCAiYmFzYWx0Il0sDQoJCQkJXSwNCgkJCQlkZWNvcjogWw0KCQkJCQlbImNsb3VkIiwgMSwgMl0sDQoJCQkJCVsicmFpbl9jbG91ZCIsIDEsIDddLA0KCQkJCQlbInJhaW5fY2xvdWQiLCAxLCAxMF0sDQoJCQkJCVsicmFpbl9jbG91ZCIsIDEsIDEzXSwNCgkJCQkJWyJyYWluX2Nsb3VkIiwgMSwgMTVdLA0KCQkJCV0sDQoJCQkJYmFzZUhlaWdodDogMC4yNQ0KCQkJfSwNCgkJCSJmb3Jlc3QiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjk1LCAiZ3Jhc3MiXSwNCgkJCQkJWzAuNTAsICJkaXJ0Il0sDQoJCQkJCVswLjA1LCAicm9jayJdLA0KCQkJCQlbMCwgImJhc2FsdCJdLA0KCQkJCV0sDQoJCQkJZGVjb3I6IFsgLy8gW2VsZW1lbnQsIGNoYW5jZSwgZGlzdGFuY2UgZnJvbSB0b3BdDQoJCQkJCVsic2FwbGluZyIsIDAuMDc1XSwNCgkJCQkJWyJiaXJkIiwgMC4wMjUsIDEwXSwNCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMjUNCgkJCX0sDQoJCQkianVuZ2xlIjogew0KCQkJCWxheWVyczogWw0KCQkJCQlbMC45NSwgImdyYXNzIl0sDQoJCQkJCVswLjUwLCAibXVkIl0sDQoJCQkJCVswLjA1LCAiZ3JhdmVsIl0sDQoJCQkJCVswLCAiYmFzYWx0Il0sDQoJCQkJXSwNCgkJCQlkZWNvcjogWw0KCQkJCQlbInNhcGxpbmciLCAwLjA3NV0sDQoJCQkJCVsiYmFtYm9vX3BsYW50IiwgMC4wNV0sDQoJCQkJCVsiZnJvZyIsIDAuMDUsIDEwXSwNCgkJCQkJWyJiaXJkIiwgMC4wNSwgNSwgWyIjZmYwMDAwIiwiIzAwZmYwMCIsIiMwMGZmZmYiLCIjMDAwMGZmIl1dLA0KCQkJCV0sDQoJCQkJYmFzZUhlaWdodDogMC4yNQ0KCQkJfSwNCgkJCSJ0YWlnYSI6IHsNCgkJCQlsYXllcnM6IFsNCgkJCQkJWzAuOTUsICJtdWQiXSwNCgkJCQkJWzAuNTAsICJkaXJ0Il0sDQoJCQkJCVswLjA1LCAicm9jayJdLA0KCQkJCQlbMCwgImJhc2FsdCJdLA0KCQkJCV0sDQoJCQkJZGVjb3I6IFsNCgkJCQkJWyJwaW5lY29uZSIsIDAuMDc1XSwNCgkJCQkJWyJzbm93X2Nsb3VkIiwgMC43NV0NCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMjUsDQoJCQkJdGVtcGVyYXR1cmU6IC01DQoJCQl9LA0KCQkJIm11c2hyb29tcyI6IHsNCgkJCQlsYXllcnM6IFsNCgkJCQkJWzAuNTAsICJkaXJ0Il0sDQoJCQkJCVswLjA1LCAicm9jayJdLA0KCQkJCQlbMCwgImJhc2FsdCJdLA0KCQkJCV0sDQoJCQkJZGVjb3I6IFsNCgkJCQkJWyJtdXNocm9vbV9zcG9yZSIsIDAuMDc1XSwNCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMjUNCgkJCX0sDQoJCQkiYW50X2Zhcm0iOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjEwLCAiZGlydCJdLA0KCQkJCQlbMC4wMiwgInJvY2siXSwNCgkJCQkJWzAsICJiYXNhbHQiXSwNCgkJCQldLA0KCQkJCWRlY29yOiBbDQoJCQkJCVsiYW50IiwgMC4yXSwNCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuNQ0KCQkJfSwNCgkJCSJzdW4iOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjUwLCAibWFnbWEiXSwNCgkJCQldLA0KCQkJCWRlY29yOiBbDQoJCQkJCVsiY2xvbmVyIiwgMC4xXSwNCgkJCQkJWyJwbGFzbWEiLCAwLjNdLA0KCQkJCQlbImxpZ2h0IiwgMC41XSwNCgkJCQkJWyJoeWRyb2dlbiIsIDAuNV0sDQoJCQkJCVsiaGVsaXVtIiwgMC41XSwNCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMjUsDQoJCQkJdGVtcGVyYXR1cmU6IDU0OTguODUNCgkJCX0sDQoJCQkib2NlYW4iOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjI1LCAic2FsdF93YXRlciJdLA0KCQkJCQlbMC4xLCAiY2xheSIsIDAuMV0sDQoJCQkJCVswLjEsICJncmF2ZWwiLCAwLjJdLA0KCQkJCQlbMC4xLCAid2V0X3NhbmQiXSwNCgkJCQkJWzAuMDMsICJncmF2ZWwiLCAwLjVdLA0KCQkJCQlbMC4wMywgInJvY2siXSwNCgkJCQkJWzAsICJiYXNhbHQiXSwNCgkJCQldLA0KCQkJCWRlY29yOiBbDQoJCQkJCVsiZmlzaCIsIDAuMSwgMTBdLA0KCQkJCQlbInNuYWlsIiwgMC4wMSwgMTBdLA0KCQkJCQlbImFsZ2FlIiwgMC40LCAxMF0sDQoJCQkJCVsia2VscCIsIDAuMiwgMTBdLA0KCQkJCQlbImNvcmFsIiwgMC4yLCAxMF0sDQoJCQkJXQ0KCQkJfSwNCgkJCSJyb2NrIjogew0KCQkJCWxheWVyczogWw0KCQkJCQlbMCwgInJvY2siXSwNCgkJCQldLA0KCQkJCWJhc2VIZWlnaHQ6IDAuMzMNCgkJCX0sDQoJCQkidm9sY2FuaWMiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjMsICJiYXNhbHQiXSwNCgkJCQkJWzAuMiwgImJhc2FsdCIsIDAuNV0sDQoJCQkJCVswLCAibWFnbWEiXQ0KCQkJCV0sDQoJCQkJZGVjb3I6IFsNCgkJCQkJWyJweXJvY3VtdWx1cyIsIDAuNzVdDQoJCQkJXSwNCgkJCQliYXNlSGVpZ2h0OiAwLjQsDQoJCQkJdGVtcGVyYXR1cmU6IDk1MA0KCQkJfSwNCgkJCSJkZXNlcnQiOiB7DQoJCQkJbGF5ZXJzOiBbDQoJCQkJCVswLjU1LCAic2FuZCJdLA0KCQkJCQlbMC4zNSwgImJvbmUiLCAwLjAzXSwNCgkJCQkJWzAuMzUsICJjaGFyY29hbCIsIDAuMDNdLA0KCQkJCQlbMC4zMCwgImRpcnQiXSwNCgkJCQkJWzAuMDUsICJyb2NrIl0sDQoJCQkJCVswLCAiYmFzYWx0Il0sDQoJCQkJXSwNCgkJCQlkZWNvcjogWyAvLyBbZWxlbWVudCwgY2hhbmNlLCBkaXN0YW5jZSBmcm9tIHRvcF0NCgkJCQkJWyJjYWN0dXMiLCAwLjA1XSwNCgkJCQldLA0KCQkJCXRlbXBlcmF0dXJlOiAzOA0KCQkJfQ0KCQl9Ow0KCQlmdW5jdGlvbiBjbGVhckFsbChza2lwd29ybGRnZW4pIHsNCgkJCW1vdXNlSXNEb3duID0gZmFsc2U7DQoJCQljdXJyZW50UGl4ZWxzID0gW107DQoJCQlwaXhlbE1hcCA9IFtdOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPD0gd2lkdGg7IGkrKykgew0KCQkJCXBpeGVsTWFwW2ldID0gW107DQoJCQkJZm9yICh2YXIgaiA9IDA7IGogPD0gaGVpZ2h0OyBqKyspIHsNCgkJCQkJcGl4ZWxNYXBbaV1bal0gPSB1bmRlZmluZWQ7DQoJCQkJfQ0KCQkJfQ0KCQkJdXBkYXRlQm9yZGVyKCk7DQoJCQlwaXhlbFRpY2tzID0gMDsNCgkJCWlmICghc2tpcHdvcmxkZ2VuICYmIHNldHRpbmdzWyJ3b3JsZGdlbiJdICYmIHNldHRpbmdzWyJ3b3JsZGdlbiJdICE9PSAib2ZmIikgew0KCQkJCXdvcmxkR2VuKHdvcmxkZ2VudHlwZXNbc2V0dGluZ3NbIndvcmxkZ2VuIl1dKTsNCgkJCX0NCgkJCWlmICh0ZW1wU2V0dGluZ3MpIHsNCgkJCQlzZXR0aW5ncyA9IEpTT04ucGFyc2UodGVtcFNldHRpbmdzKTsNCgkJCQl0ZW1wU2V0dGluZ3MgPSBudWxsOw0KCQkJfQ0KCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5vbGRUcHMpIHNldFRQUyhjdXJyZW50U2F2ZURhdGEub2xkVHBzKTsNCgkJCWlmIChjdXJyZW50U2F2ZURhdGEubG9hZGVkICYmIGxvY2F0aW9uLnNlYXJjaCkgew0KCQkJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCI/IilbMF0pOw0KCQkJfQ0KCQkJY3VycmVudFNhdmVEYXRhID0gZGVmYXVsdFNhdmVEYXRhKCk7DQoJCQljbGVhckxvZygpOw0KCQkJaWYgKHJ1bkFmdGVyUmVzZXRMaXN0Lmxlbmd0aCkgew0KCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgcnVuQWZ0ZXJSZXNldExpc3QubGVuZ3RoOyBpKyspIHsNCgkJCQkJcnVuQWZ0ZXJSZXNldExpc3RbaV0oc2tpcHdvcmxkZ2VuKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gbWVhbihhcnIpIHsNCgkJCXZhciBzdW0gPSAwOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsNCgkJCQlzdW0gKz0gYXJyW2ldOw0KCQkJfQ0KCQkJcmV0dXJuIHN1bS9hcnIubGVuZ3RoOw0KCQl9DQoJCWZ1bmN0aW9uIGdlbmVyYXRlVGVycmFpbkhlaWdodHMod2lkdGgsaGVpZ2h0VmFyaWFuY2UsY29tcGxleGl0eSkgew0KCQkJLy8gYXJyYXkgb2YgKHdpZHRoKSAwcw0KCQkJdmFyIG5ld0hlaWdodHMgPSBbXTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDw9IHdpZHRoOyBpKyspIHsNCgkJCQluZXdIZWlnaHRzW2ldID0gMDsNCgkJCX0NCgkJCS8vIGRvIG1pZHBvaW50IGRpc3BsYWNlbWVudCAoY29tcGxleGl0eSkgdGltZXMgb24gbmV3SGVpZ2h0cw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wbGV4aXR5OyBpKyspIHsNCgkJCQl2YXIgbmV3SGVpZ2h0czIgPSBbXTsNCgkJCQlmb3IgKHZhciBqID0gMDsgaiA8PSB3aWR0aDsgaisrKSB7DQoJCQkJCW5ld0hlaWdodHMyW2pdID0gMDsNCgkJCQl9DQoJCQkJZm9yICh2YXIgaiA9IDA7IGogPD0gd2lkdGg7IGorKykgew0KCQkJCQl2YXIgeCA9IGo7DQoJCQkJCXZhciB5ID0gbmV3SGVpZ2h0c1tqXTsNCgkJCQkJdmFyIHkyID0geSArIE1hdGgucmFuZG9tKCkqaGVpZ2h0VmFyaWFuY2UgLSBoZWlnaHRWYXJpYW5jZS8yOw0KCQkJCQluZXdIZWlnaHRzMlt4XSA9IHkyOw0KCQkJCX0NCgkJCQluZXdIZWlnaHRzID0gbmV3SGVpZ2h0czI7DQoJCQl9DQoJCQlyZXR1cm4gbmV3SGVpZ2h0czsNCgkJfQ0KCQlmdW5jdGlvbiB3b3JsZEdlbih3b3JsZHR5cGUpIHsNCgkJCXZhciBjb21wbGV4aXR5ID0gd29ybGR0eXBlLmNvbXBsZXhpdHkgfHwgMjA7DQoJCQl2YXIgaGVpZ2h0VmFyaWFuY2UgPSB3b3JsZHR5cGUuaGVpZ2h0VmFyaWFuY2UgfHwgMC41Ow0KCQkJdmFyIGJhc2VIZWlnaHQgPSBoZWlnaHQtKGhlaWdodCood29ybGR0eXBlLmJhc2VIZWlnaHQgfHwgMC41KSk7DQoJCQl2YXIgbGF5ZXJzID0gd29ybGR0eXBlLmxheWVycyB8fCB7MDoicm9jayJ9Ow0KCQkJdmFyIHlvZmZzZXRzID0gZ2VuZXJhdGVUZXJyYWluSGVpZ2h0cyh3aWR0aCxoZWlnaHRWYXJpYW5jZSxjb21wbGV4aXR5KTsNCgkJCS8vIDJEIHdvcmxkIHZlcnRpY2FsIGdlbmVyYXRvcg0KCQkJZm9yICh2YXIgeCA9IDA7IHggPD0gd2lkdGg7IHgrKykgew0KCQkJCXZhciB5b2Zmc2V0ID0geW9mZnNldHNbeF07DQoJCQkJdmFyIHdvcmxkSGVpZ2h0ID0gYmFzZUhlaWdodCt5b2Zmc2V0Ow0KCQkJCWZvciAodmFyIHkgPSAwOyB5IDw9IGhlaWdodDsgeSsrKSB7DQoJCQkJCS8vIENoYW5nZSBlbGVtZW50IHR5cGUgYmFzZWQgb24geSwgZnJvbSBncmFzcyA+IGRpcnQgPiByb2NrID4gYmFzYWx0DQoJCQkJCWlmICh5ID4gd29ybGRIZWlnaHQpIHsNCgkJCQkJCS8vIGRpc3RhbmNlIGZyb20gdGhlIGJvdHRvbSBvZiB3b3JsZEhlaWdodA0KCQkJCQkJdmFyIGZyb21ib3R0b20gPSB3b3JsZEhlaWdodC0oeS13b3JsZEhlaWdodCk7DQoJCQkJCQl2YXIgZWxlbWVudCA9IG51bGw7DQoJCQkJCQlmb3IgKHZhciBpIGluIGxheWVycykgew0KCQkJCQkJCXZhciBsYXllciA9IGxheWVyc1tpXTsNCgkJCQkJCQlpZiAobGF5ZXJbMF0gPT0gMCAmJiB5b2Zmc2V0IDwgMCkgew0KCQkJCQkJCQlsYXllclswXSA9IHlvZmZzZXQ7DQoJCQkJCQkJfQ0KCQkJCQkJCWlmIChmcm9tYm90dG9tID4gd29ybGRIZWlnaHQqbGF5ZXJbMF0gJiYgTWF0aC5yYW5kb20oKSA8IChsYXllclsyXSB8fCAxKSkgew0KCQkJCQkJCQlpZiAoZWxlbWVudHNbbGF5ZXJbMV1dKSB7DQoJCQkJCQkJCQllbGVtZW50ID0gbGF5ZXJbMV07DQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJaWYgKHkgPj0gaGVpZ2h0ICYmIChjdXJyZW50U2F2ZURhdGEudm9pZFkgfHwgY3VycmVudFNhdmVEYXRhLmxvb3BZKSkgew0KCQkJCQkJCWVsZW1lbnQgPSBjdXJyZW50U2F2ZURhdGEuYm9yZGVyRWxlbSA/IG51bGwgOiAid2FsbCI7DQoJCQkJCQl9DQoJCQkJCQlpZiAoKHggPj0gd2lkdGggfHwgeCA9PT0gMCkgJiYgKGN1cnJlbnRTYXZlRGF0YS52b2lkWCB8fCBjdXJyZW50U2F2ZURhdGEubG9vcFgpKSB7DQoJCQkJCQkJZWxlbWVudCA9IGN1cnJlbnRTYXZlRGF0YS5ib3JkZXJFbGVtID8gbnVsbCA6ICJ3YWxsIjsNCgkJCQkJCX0NCgkJCQkJCWlmIChlbGVtZW50KSB7DQoJCQkJCQkJY3JlYXRlUGl4ZWwoZWxlbWVudCx4LHkpOw0KCQkJCQkJCWlmICh3b3JsZHR5cGUudGVtcGVyYXR1cmUpIHsNCgkJCQkJCQkJcGl4ZWxNYXBbeF1beV0udGVtcCA9IHdvcmxkdHlwZS50ZW1wZXJhdHVyZTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkvLyBkZWNvcg0KCQkJaWYgKHdvcmxkdHlwZS5kZWNvcikgew0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgd29ybGR0eXBlLmRlY29yLmxlbmd0aDsgaSsrKSB7DQoJCQkJCXZhciBkZWNvciA9IHdvcmxkdHlwZS5kZWNvcltpXTsNCgkJCQkJdmFyIGVsZW1lbnQgPSBkZWNvclswXTsNCgkJCQkJdmFyIGNoYW5jZSA9IGRlY29yWzFdOw0KCQkJCQlmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoOyB4KyspIHsNCgkJCQkJCXZhciB5ID0gZGVjb3JbMl0gfHwgNTsNCgkJCQkJCS8vIGFkZCBvciBzdWJ0cmFjdCB3b3JsZHR5cGUuZGVjb3JWYXJpYW5jZSBmcm9tIHkNCgkJCQkJCXkgKz0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKih3b3JsZHR5cGUuZGVjb3JWYXJpYW5jZXx8MikgLSAod29ybGR0eXBlLmRlY29yVmFyaWFuY2V8fDIpLzIpOw0KCQkJCQkJaWYgKE1hdGgucmFuZG9tKCkgPCBjaGFuY2UgJiYgaXNFbXB0eSh4LHkpKSB7DQoJCQkJCQkJY3JlYXRlUGl4ZWwoZWxlbWVudCx4LHkpOw0KCQkJCQkJCWlmICh3b3JsZHR5cGUudGVtcGVyYXR1cmUpIHsNCgkJCQkJCQkJcGl4ZWxNYXBbeF1beV0udGVtcCA9IHdvcmxkdHlwZS50ZW1wZXJhdHVyZTsNCgkJCQkJCQl9DQoJCQkJCQkJaWYgKGRlY29yWzNdKSB7DQoJCQkJCQkJCXBpeGVsTWFwW3hdW3ldLmNvbG9yID0gcGl4ZWxDb2xvclBpY2socGl4ZWxNYXBbeF1beV0sZGVjb3JbM10pDQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJcmFuZG9tRXZlbnRzID0gew0KCQkJImZhbGxpbmdfcGl4ZWwiOiBmdW5jdGlvbigpIHsNCgkJCQkvLyByYW5kb20geCBiZXR3ZWVuIDEgYW5kIHdpZHRoLTENCgkJCQl2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSood2lkdGgtMSkpKzE7DQoJCQkJLy8gcmFuZG9tIHkgYmV0d2VlbiAxIGFuZCA2DQoJCQkJdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNikrMTsNCgkJCQlpZiAoaXNFbXB0eSh4LHkpKSB7DQoJCQkJCS8vIHJhbmRvbSBlbGVtZW50IGZyb20gcmFuZG9tRXZlbnRDaG9pY2VzLmZhbGxpbmdfcGl4ZWwNCgkJCQkJdmFyIGVsZW1lbnQgPSByYW5kb21FdmVudENob2ljZXMuZmFsbGluZ19waXhlbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcmFuZG9tRXZlbnRDaG9pY2VzLmZhbGxpbmdfcGl4ZWwubGVuZ3RoKV07DQoJCQkJCS8vIGlmIGVsZW1lbnQgaXMgYW4gYXJyYXksIGNob29zZSBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGFycmF5DQoJCQkJCWlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7DQoJCQkJCQllbGVtZW50ID0gZWxlbWVudFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZWxlbWVudC5sZW5ndGgpXTsNCgkJCQkJfQ0KCQkJCQljcmVhdGVQaXhlbChlbGVtZW50LHgseSk7DQoJCQkJfQ0KCQkJfSwNCgkJCSJlbGVtZW50X2NpcmNsZSI6IGZ1bmN0aW9uKCkgew0KCQkJCS8vIHJhbmRvbSB4IGJldHdlZW4gMSBhbmQgd2lkdGgtMQ0KCQkJCXZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKih3aWR0aC0xKSkrMTsNCgkJCQkvLyByYW5kb20geSBiZXR3ZWVuIDEgYW5kIGhlaWdodC0xDQoJCQkJdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGhlaWdodC0xKSkrMTsNCgkJCQkvLyByYW5kb20gcmFkaXVzIGJldHdlZW4gMyBhbmQgNw0KCQkJCXZhciByYWRpdXMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNCkrMzsNCgkJCQkvLyByYW5kb20gZWxlbWVudCBmcm9tIHJhbmRvbUV2ZW50Q2hvaWNlcy5lbGVtZW50X2NpcmNsZQ0KCQkJCXZhciBlbGVtZW50ID0gcmFuZG9tRXZlbnRDaG9pY2VzLmVsZW1lbnRfY2lyY2xlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpyYW5kb21FdmVudENob2ljZXMuZWxlbWVudF9jaXJjbGUubGVuZ3RoKV07DQoJCQkJdmFyIGNvb3JkcyA9IGNpcmNsZUNvb3Jkcyh4LHkscmFkaXVzKTsNCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCQl2YXIgY29vcmQgPSBjb29yZHNbaV07DQoJCQkJCWlmIChpc0VtcHR5KGNvb3JkLngsY29vcmQueSkpIHsNCgkJCQkJCWNyZWF0ZVBpeGVsKGVsZW1lbnQsY29vcmQueCxjb29yZC55KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoJCQkiZXhwbG9zaW9uIjogZnVuY3Rpb24oKSB7DQoJCQkJLy8gc2ltaWxhciBidXQgZG8gZXhwbG9kZUF0KHgseSxyYWRpdXMsZWxlbWVudCkNCgkJCQl2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSood2lkdGgtMSkpKzE7DQoJCQkJdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGhlaWdodC0xKSkrMTsNCgkJCQl2YXIgcmFkaXVzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjQpKzM7DQoJCQkJdmFyIGVsZW1lbnQgPSByYW5kb21FdmVudENob2ljZXMuZXhwbG9zaW9uW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpyYW5kb21FdmVudENob2ljZXMuZXhwbG9zaW9uLmxlbmd0aCldOw0KCQkJCWV4cGxvZGVBdCh4LHkscmFkaXVzLGVsZW1lbnQpOw0KCQkJfSwNCgkJCSJ0ZW1wZXJhdHVyZSI6IGZ1bmN0aW9uKCkgew0KCQkJCS8vIHNldCB0aGUgdGVtcGVyYXR1cmUgaW4gYSByYW5kb20gY2lyY2xlIHRvIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gLTIwMCBhbmQgMjAwDQoJCQkJdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHdpZHRoLTEpKSsxOw0KCQkJCXZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihoZWlnaHQtMSkpKzE7DQoJCQkJdmFyIHJhZGl1cyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo0KSszOw0KCQkJCXZhciB0ZW1wID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjQwMCktMjAwOw0KCQkJCXZhciBjb29yZHMgPSBjaXJjbGVDb29yZHMoeCx5LHJhZGl1cyk7DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJdmFyIGNvb3JkID0gY29vcmRzW2ldOw0KCQkJCQlpZiAoIW91dE9mQm91bmRzKGNvb3JkLngsY29vcmQueSkgJiYgIWlzRW1wdHkoY29vcmQueCxjb29yZC55KSkgew0KCQkJCQkJcGl4ZWxNYXBbY29vcmQueF1bY29vcmQueV0udGVtcCArPSB0ZW1wOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCXJhbmRvbUV2ZW50Q2hvaWNlcyA9IHsNCgkJCSJmYWxsaW5nX3BpeGVsIjogWyJmaXJlYmFsbCIsImZhbGxvdXQiLCJzZWVkcyIsWyJib21iIiwiY29sZF9ib21iIl0sImh1bWFuIiwiZ29sZF9jb2luIiwiZmVhdGhlciIsImdsaXR0ZXIiLCJob211bmN1bHVzIiwiZWdnIiwiZnJvemVuX2Zyb2ciLCJzYXBsaW5nIiwic21va2VfZ3JlbmFkZSIsInBhcnR5X3BvcHBlciIsImxpZ2h0bmluZyIsImZyb3plbl93b3JtIiwicGluZWNvbmUiLCJjYWN0dXMiLCJlYXJ0aHF1YWtlIiwidG9ybmFkbyJdLA0KCQkJImVsZW1lbnRfY2lyY2xlIjogWyJjYXJib25fZGlveGlkZSIsInByaW1vcmRpYWxfc291cCIsImZseSIsInN0ZWFtIiwib3h5Z2VuIiwic3VnYXIiLCJiZWUiLCJmaXJlZmx5IiwidGFkcG9sZSIsImZsYXNoIiwiZm9hbSIsImJsZXNzIiwibGlxdWlkX2xpZ2h0Iiwic3BpZGVyIl0sDQoJCQkiZXhwbG9zaW9uIjogWyJmaXJlIiwiY29sZF9maXJlIiwibWV0aGFuZSIsImVsZWN0cmljIiwibGlnaHQiLCJsYXNlciIsInJhZGlhdGlvbiIsInBsYXNtYSIsImxpcXVpZF9uaXRyb2dlbiIsImxpcXVpZF9oZWxpdW0iLCJsaXF1aWRfbmVvbiIsImFjaWRfZ2FzIiwiZndfZW1iZXIiLCJtYWx3YXJlIixbInN0ZW5jaCIsInBsYWd1ZSJdLFsiZmlyZXdvcmsiLCJmaXJlIiwiZmlyZSJdLCJidWJibGUiLCJjb25mZXR0aSIsImJhbGxvb24iLCJkeWUiLCJibGVzcyJdDQoJCX0NCgkJZnVuY3Rpb24gZG9SYW5kb21FdmVudHMoKSB7DQoJCQl2YXIgY2hhbmNlID0gc2V0dGluZ3MuZXZlbnRzOw0KCQkJaWYgKE1hdGgucmFuZG9tKCkgPCBjaGFuY2UpIHsNCgkJCQkvLyBydW4gYSByYW5kb20gZnVuY3Rpb24gZnJvbSByYW5kb21FdmVudHMNCgkJCQl2YXIgZXZlbnQgPSByYW5kb21FdmVudHNbT2JqZWN0LmtleXMocmFuZG9tRXZlbnRzKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqT2JqZWN0LmtleXMocmFuZG9tRXZlbnRzKS5sZW5ndGgpXV07DQoJCQkJZXZlbnQoKTsNCgkJCX0NCgkJfQ0KDQoJCXNoaWZ0RG93blR5cGVzID0gew0KCQkJMTogIlvihpEgXSIsDQoJCQkyOiAiW0EgXSIsDQoJCQkzOiAiWyDihpFdIiwNCgkJCTQ6ICJbIEFdIg0KCQl9DQoJCS8vIFVwZGF0ZSBzdGF0cw0KCQlmdW5jdGlvbiB1cGRhdGVTdGF0cygpIHsNCgkJCXZhciBzdGF0c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0cyIpOw0KCQkJdmFyIHN0YXRzID0gIjxzcGFuIGlkPSdzdGF0LXBvcycgY2xhc3M9J3N0YXQnPngiK21vdXNlUG9zLngrIix5Iittb3VzZVBvcy55KyI8L3NwYW4+IjsNCgkJCXN0YXRzICs9ICI8c3BhbiBpZD0nc3RhdC1waXhlbHMnIGNsYXNzPSdzdGF0IisgKGN1cnJlbnRQaXhlbHMubGVuZ3RoID49IE1hdGgubWluKG1heFBpeGVsQ291bnQsKGhlaWdodCsxKSood2lkdGgrMSkpID8gIiByZWRUZXh0IiA6ICIiKSArIic+UHhsczoiICsgY3VycmVudFBpeGVscy5sZW5ndGgrIjwvc3Bhbj4iOw0KCQkJc3RhdHMgKz0gIjxzcGFuIGlkPSdzdGF0LXRwcycgY2xhc3M9J3N0YXQnPiIgKyB0cHMrInRwczwvc3Bhbj4iOw0KCQkJc3RhdHMgKz0gIjxzcGFuIGlkPSdzdGF0LXRpY2tzJyBjbGFzcz0nc3RhdCc+IiArIHBpeGVsVGlja3MrIjwvc3Bhbj4iOw0KCQkJaWYgKCh0eXBlb2YgcGl4ZWxNYXApLmxlbmd0aCA9PT0gOSkgeyByZXR1cm47IH0NCgkJCWlmIChwaXhlbE1hcFttb3VzZVBvcy54XSAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJdmFyIGN1cnJlbnRQaXhlbCA9IHBpeGVsTWFwW21vdXNlUG9zLnhdW21vdXNlUG9zLnldOw0KCQkJCWlmIChjdXJyZW50UGl4ZWwgIT09IHVuZGVmaW5lZCkgew0KCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtZWxlbWVudCcgY2xhc3M9J3N0YXQnPiIrbGFuZ0tleSgiZ3VpLnN0YXRzLmVsZW0iLCJFbGVtIikrIjo8c3Bhbj4iKyhlbGVtZW50c1tjdXJyZW50UGl4ZWwuZWxlbWVudF0ubmFtZSB8fCBjdXJyZW50UGl4ZWwuZWxlbWVudCkudG9VcHBlckNhc2UoKSsiPC9zcGFuPjwvc3Bhbj4iOw0KCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtdGVtcGVyYXR1cmUnIGNsYXNzPSdzdGF0Jz4iK2xhbmdLZXkoImd1aS5zdGF0cy50ZW1wIiwiVGVtcCIpKyI6Iitmb3JtYXRUZW1wKGN1cnJlbnRQaXhlbC50ZW1wKSsiPC9zcGFuPiI7DQoJCQkJCWlmIChjdXJyZW50UGl4ZWwuY2hhcmdlKSB7DQoJCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtY2hhcmdlJyBjbGFzcz0nc3RhdCc+QyIrcGFyc2VGbG9hdChjdXJyZW50UGl4ZWwuY2hhcmdlKSsiPC9zcGFuPiI7DQoJCQkJCX0NCgkJCQkJaWYgKGN1cnJlbnRQaXhlbC5idXJuaW5nKSB7DQoJCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtYnVybmluZycgY2xhc3M9J3N0YXQnPiIrbGFuZ0tleSgiZ3VpLnN0YXRzLmJ1cm5pbmciLCJCdXJuaW5nIikrIjwvc3Bhbj4iOw0KCQkJCQl9DQoJCQkJCWlmIChlbGVtZW50c1tjdXJyZW50UGl4ZWwuZWxlbWVudF0uaG92ZXJTdGF0KSB7DQoJCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtaG92ZXInIGNsYXNzPSdzdGF0Jz4iK2VsZW1lbnRzW2N1cnJlbnRQaXhlbC5lbGVtZW50XS5ob3ZlclN0YXQoY3VycmVudFBpeGVsKS50b1N0cmluZygpLnJlcGxhY2VBbGwoIjwiLCImbHQ7IikrIjwvc3Bhbj4iOw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS50b29sSG92ZXJTdGF0KSB7DQoJCQkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtaG92ZXInIGNsYXNzPSdzdGF0Jz4iK2VsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS50b29sSG92ZXJTdGF0KGN1cnJlbnRQaXhlbCkudG9TdHJpbmcoKS5yZXBsYWNlQWxsKCI8IiwiJmx0OyIpKyI8L3NwYW4+IjsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChjdXJyZW50UGl4ZWwuY2xvbmUpIHsNCgkJCQkJCXN0YXRzICs9ICI8c3BhbiBpZD0nc3RhdC1jbG9uZScgY2xhc3M9J3N0YXQnPiIrY3VycmVudFBpeGVsLmNsb25lLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKS5yZXBsYWNlQWxsKCI8IiwiJmx0OyIpKyI8L3NwYW4+IjsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChjdXJyZW50UGl4ZWwuY29uICYmIGN1cnJlbnRQaXhlbC5jb24uZWxlbWVudCkgew0KCQkJCQkJc3RhdHMgKz0gIjxzcGFuIGlkPSdzdGF0LWNsb25lJyBjbGFzcz0nc3RhdCc+IitjdXJyZW50UGl4ZWwuY29uLmVsZW1lbnQudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLnJlcGxhY2VBbGwoIjwiLCImbHQ7IikrIjwvc3Bhbj4iOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKHNoaWZ0RG93bikgew0KCQkJCXN0YXRzICs9ICI8c3BhbiBpZD0nc3RhdC1zaGlmdCcgY2xhc3M9J3N0YXQnPiIrc2hpZnREb3duVHlwZXNbc2hpZnREb3duXSsiPC9zcGFuPiI7DQoJCQl9DQoJCQkvLyBJZiB0aGUgdmlldyBpcyBub3QgbnVsbCwgc2hvdyB0aGUgdmlldyBpbiBhbGwgY2Fwcw0KCQkJaWYgKHZpZXcgIT09IG51bGwpIHsNCgkJCQlzdGF0cyArPSAiPHNwYW4gaWQ9J3N0YXQtdmlldycgY2xhc3M9J3N0YXQnPiIrKHZpZXdJbmZvW3ZpZXddID8gdmlld0luZm9bdmlld10ubmFtZSA6IHZpZXcpKyI8L3NwYW4+IjsNCgkJCX0NCgkJCXN0YXRzRGl2LmlubmVySFRNTCA9IHN0YXRzOw0KCQl9DQoNCgkJZnVuY3Rpb24gZm9ybWF0VGVtcCh0ZW1wKSB7IC8vIHRlbXAgaXMgQ2VsY2l1cw0KCQkJaWYgKCFzZXR0aW5nc1sidW5pdHMiXSB8fCBzZXR0aW5nc1sidW5pdHMiXSA9PT0gIm0iKSB7IC8vIENlbHNpdXMNCgkJCQlyZXR1cm4gTWF0aC5yb3VuZCh0ZW1wKSsiwrBDIg0KCQkJfQ0KCQkJZWxzZSBpZiAoc2V0dGluZ3NbInVuaXRzIl0gPT09ICJpIikgeyAvLyBGYWhyZW5oZWl0DQoJCQkJcmV0dXJuIE1hdGgucm91bmQodGVtcCoxLjgrMzIpKyLCsEYiDQoJCQl9DQoJCQllbHNlIGlmIChzZXR0aW5nc1sidW5pdHMiXSA9PT0gInMiKSB7IC8vIEtlbHZpbg0KCQkJCXJldHVybiBNYXRoLnJvdW5kKHRlbXArMjczLjE1KSsiSyINCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiBmb3JtYXREZW5zaXR5KGRlbnNpdHkpIHsgLy8gdGVtcCBpcyBrZy9tMw0KCQkJdmFyIGRpZ2l0cyA9IDI7DQoJCQkvLyBpZiB0aGUgbnVtYmVyIGlzIG1vcmUgdGhhbiAyIGRpZ2l0cyBsb25nLCByb3VuZCB0byAwIGRpZ2l0cw0KCQkJaWYgKGRlbnNpdHkgPiAxMDApIHsgZGlnaXRzID0gMDsgfQ0KCQkJZWxzZSBpZiAoZGVuc2l0eSA+IDEwKSB7IGRpZ2l0cyA9IDE7IH0NCgkJCS8vIGRlZmF1bHQvbWV0cmljID0ga2cvbTMsIGltcGVyaWFsID0gbGIvZnQzLCBzaSA9IGcvY20zDQoJCQlpZiAoIXNldHRpbmdzWyJ1bml0cyJdIHx8IHNldHRpbmdzWyJ1bml0cyJdID09PSAibSIpIHsgLy8ga2cvbTMNCgkJCQlyZXR1cm4gZGVuc2l0eS50b0ZpeGVkKGRpZ2l0cykrIiBrZ+KBhG08c3VwPjM8L3N1cD4iDQoJCQl9DQoJCQllbHNlIGlmIChzZXR0aW5nc1sidW5pdHMiXSA9PT0gImkiKSB7IC8vIGxiL2Z0Mw0KCQkJCXJldHVybiAoZGVuc2l0eS8xNi4wMTgpLnRvRml4ZWQoZGlnaXRzKSsiIGxi4oGEZnQ8c3VwPjM8L3N1cD4iDQoJCQl9DQoJCQllbHNlIGlmIChzZXR0aW5nc1sidW5pdHMiXSA9PT0gInMiKSB7IC8vIGcvY20zDQoJCQkJLy8gcm91bmQgdG8gMiBkZWNpbWFsIHBsYWNlcw0KCQkJCXJldHVybiAoKGRlbnNpdHkvMTApLzEwMCkudG9GaXhlZChkaWdpdHMpKyIgZ+KBhGNtPHN1cD4zPC9zdXA+Ig0KCQkJfQ0KCQl9DQoNCgkJc2hvd2luZ01lbnUgPSBmYWxzZTsNCgkJZnVuY3Rpb24gaW5mb0xpbmsobCkgew0KCQkJaWYgKGwgaW5zdGFuY2VvZiBBcnJheSkgew0KCQkJCXZhciBuZXd0ZXh0ID0gIiI7DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7DQoJCQkJCXZhciBlbGVtZW50ID0gbFtpXTsNCgkJCQkJaWYgKCFlbGVtZW50KSB7IGNvbnRpbnVlIH0NCgkJCQkJLy8gYWRkIHRvIG5ld3RleHQgYSBzcGFuIHdpdGggdGhlIGVsZW1lbnQncyBuYW1lIGFuZCBpdHMgb25jbGljayB0byBzaG93SW5mbyhlbGVtZW50KQ0KCQkJCQlpZiAoZWxlbWVudD09InBpeGVscyIgfHwgZWxlbWVudD09Iml0c2VsZiIpIHsgbmV3dGV4dCArPSBlbGVtZW50KyIsICJ9DQoJCQkJCWVsc2UgaWYgKCFlbGVtZW50c1tlbGVtZW50XSkgeyBjb250aW51ZSB9DQoJCQkJCWVsc2UgeyBuZXd0ZXh0ICs9ICI8c3BhbiBjbGFzcz0naW5mb0xpbmsnIG9uY2xpY2s9J3Nob3dJbmZvKFwiIitlbGVtZW50KyJcIiknPiIrKGVsZW1lbnRzW2VsZW1lbnRdLm5hbWUgfHwgZWxlbWVudCkudG9VcHBlckNhc2UoKS5yZXBsYWNlKC9fL2csIiAiKSsiPC9zcGFuPiwgIjt9DQoJCQkJfQ0KCQkJCS8vIHJlbW92ZSB0aGUgbGFzdCBjb21tYSBhbmQgc3BhY2UNCgkJCQluZXd0ZXh0ID0gbmV3dGV4dC5zdWJzdHJpbmcoMCwgbmV3dGV4dC5sZW5ndGgtMik7DQoJCQkJcmV0dXJuIG5ld3RleHQNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWlmIChsID09PSBudWxsKSB7IHJldHVybiAiYWlyIiB9DQoJCQkJaWYgKGwgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gIls/Pz9dIiB9DQoJCQkJaWYgKGw9PSJwaXhlbHMiIHx8IGw9PSJbPz8/XSIgfHwgbD09Iml0c2VsZiIpIHtyZXR1cm4gbH0NCgkJCQllbHNlIHtyZXR1cm4gIjxzcGFuIGNsYXNzPSdpbmZvTGluaycgb25jbGljaz0nc2hvd0luZm8oXCIiK2wrIlwiKSc+IitsLnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvXy9nLCIgIikrIjwvc3Bhbj4iO30NCgkJCX0NCgkJfQ0KZnVuY3Rpb24gc2hvd0luZm8oZWxlbWVudCxiYWNrPWZhbHNlKSB7IC8vIHRoaXMgaXMgc3VjaCBhIG1lc3MgcGxlYXNlIGRvbid0IGxvb2sgYXQgaXQNCglzaG93aW5nTWVudSA9ICJpbmZvIjsNCgl2YXIgaW5mb1BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmZvUGFyZW50Iik7DQoJaW5mb1BhcmVudC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgl2YXIgaW5mb1NlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmZvU2VhcmNoIik7DQoJaW5mb1NlYXJjaC5mb2N1cygpOw0KCXZhciBpbmZvVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mb1RpdGxlIik7DQoJdmFyIGluZm9UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluZm9UZXh0Iik7DQoJdmFyIGVycm9yID0gZmFsc2U7DQoJaWYgKGVsZW1lbnQgIT09IHVuZGVmaW5lZCkgew0KCQkvLyByZXBsYWNlIGFsbCBzcGFjZXMgd2l0aCB1bmRlcnNjb3Jlcw0KCQllbGVtZW50ID0gZWxlbWVudC5yZXBsYWNlKC8gL2csIl8iKS50b0xvd2VyQ2FzZSgpOw0KCQlpbmZvU2VhcmNoLnZhbHVlID0gZWxlbWVudC50b1VwcGVyQ2FzZSgpOw0KCQlsZXQgaW5mbyA9IGVsZW1lbnRzW2VsZW1lbnRdOw0KCQlpZiAoaW5mbykgew0KCQkJaW5mb1RpdGxlLmlubmVySFRNTCA9IGluZm8ubmFtZSB8fCBlbGVtZW50LnJlcGxhY2UoL18vZywiICIpOw0KCQkJaW5mb1RpdGxlLmlubmVySFRNTCA9IGluZm9UaXRsZS5pbm5lckhUTUwucmVwbGFjZSgvXHdcUyovZywgZnVuY3Rpb24odHh0KXtyZXR1cm4gdHh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO30pOw0KCQkJaW5mb1RleHQuaW5uZXJIVE1MID0gIiI7DQoJCQlpZiAoaW5mby5oaWRkZW4gJiYgIXNldHRpbmdzLnVubG9ja2VkW2VsZW1lbnRdKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5Zb3UgaGF2ZW4ndCBkaXNjb3ZlcmVkIHRoaXMgeWV0LlxuIiB9DQoJCQlpZiAoaW5mby5jb2xvcikgew0KCQkJCWlmICghKGluZm8uY29sb3IgaW5zdGFuY2VvZiBBcnJheSkpIHsNCgkJCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkNvbG9yOiA8c3BhbiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjoiK2luZm8uY29sb3IrIic+CSA8L3NwYW4+IjsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCS8vZ3JhZGllbnQNCgkJCQkJdmFyIGdyYWRpZW50ID0gaW5mby5jb2xvcjsNCgkJCQkJdmFyIGdyYWRpZW50U3RyaW5nID0gImxpbmVhci1ncmFkaWVudCh0byByaWdodCI7DQoJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgZ3JhZGllbnQubGVuZ3RoOyBpKyspIHsNCgkJCQkJCWdyYWRpZW50U3RyaW5nICs9ICIsICIrZ3JhZGllbnRbaV0rIiAiKyhpKjEwMC9ncmFkaWVudC5sZW5ndGgpKyIlIjsNCgkJCQkJfQ0KCQkJCQlncmFkaWVudFN0cmluZyArPSAiKSI7DQoJCQkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG5Db2xvcjogPHNwYW4gc3R5bGU9J2JhY2tncm91bmQ6IitncmFkaWVudFN0cmluZysiJz4JIDwvc3Bhbj4iOw0KCQkJCX0NCgkJCX0NCgkJCWlmIChpbmZvLmRlc2MpIHsNCgkJCQlpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuIitpbmZvLmRlc2M7DQoJCQl9DQoJCQllbHNlIGlmIChpbmZvLmV4dHJhSW5mbykgew0KCQkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG4iK2luZm8uZXh0cmFJbmZvOw0KCQkJfQ0KDQoJCQl2YXIgbW92ZXMgPSBmYWxzZTsNCgkJCXZhciBkZWxldGVzID0gW107DQoJCQl2YXIgc3dhcHMgPSBbXTsNCgkJCXZhciBjcmVhdGVzID0gW107DQoJCQl2YXIgaGVhdHMgPSBmYWxzZTsNCgkJCXZhciBjb29scyA9IGZhbHNlOw0KCQkJdmFyIGNsb25lcyA9IGZhbHNlOw0KCQkJdmFyIGV4cGxvZGVzID0gZmFsc2U7DQoJCQl2YXIgc3RpY2tzID0gW107DQoJCQlpZiAoaW5mby5iZWhhdmlvcikgew0KLy8gZm9yIHggYW5kIHkgaW4gYmVoYXZpb3IgYXJyYXkNCmZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5iZWhhdmlvci5sZW5ndGg7IGkrKykgew0KZm9yICh2YXIgaiA9IDA7IGogPCBpbmZvLmJlaGF2aW9yW2ldWzFdLmxlbmd0aDsgaisrKSB7DQp2YXIgYjAgPSBpbmZvLmJlaGF2aW9yW2ldW2pdOw0KaWYgKCFiMCkgeyBjb250aW51ZTsgfQ0KZm9yICh2YXIgayA9IDA7IGsgPCBiMC5zcGxpdCgiIEFORCAiKS5sZW5ndGg7IGsrKykgew0KCXZhciBiID0gYjAuc3BsaXQoIiBBTkQgIilba107DQoJLy8gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgJQ0KCWIgPSBiLnNwbGl0KCIlIilbMF07DQoJaWYgKGIuaW5kZXhPZigiOiIpICE9PSAtMSkgew0KCQl2YXIgYXJnID0gYi5zcGxpdCgiOiIpWzFdOw0KCX0NCgllbHNlIHsgdmFyIGFyZyA9IHVuZGVmaW5lZCB9DQoJdmFyIGIgPSBiLnNwbGl0KCI6IilbMF07DQoJaWYgKGIgPT0gIk0xIiB8fCBiID09ICJNMiIpIHsNCgkJbW92ZXMgPSB0cnVlOw0KCX0NCgllbHNlIGlmIChiID09ICJETCIpIHsNCgkJaWYgKGk9PTEgJiYgaj09MSkgeyBhcmcgPSAiaXRzZWxmIiB9DQoJCWVsc2UgaWYgKCFhcmcpIHsgYXJnID0gInBpeGVscyIgfQ0KCQlpZiAoZGVsZXRlcy5pbmRleE9mKGFyZykgPT0gLTEpIHsgZGVsZXRlcyA9IGRlbGV0ZXMuY29uY2F0KGFyZy5zcGxpdCgiLCIpKTsgfQ0KCX0NCgllbHNlIGlmIChiID09ICJTVyIpIHsNCgkJaWYgKCFhcmcpIHsgYXJnID0gInBpeGVscyIgfQ0KCQlpZiAoc3dhcHMuaW5kZXhPZihhcmcpID09IC0xKSB7IHN3YXBzID0gc3dhcHMuY29uY2F0KGFyZy5zcGxpdCgiLCIpKTsgfQ0KCX0NCgllbHNlIGlmIChiID09ICJDTCIpIHsNCgkJY2xvbmVzID0gdHJ1ZTsNCgl9DQoJZWxzZSBpZiAoYiA9PSAiQ1IiIHx8IGIgPT0gIkNIIiB8fCBiID09ICJMQiIgfHwgYiA9PSAiTDEiIHx8IGIgPT0gIkwyIikgew0KCQlpZiAoIWFyZykgeyBhcmcgPSAiWz8/P10iIH0NCgkJZWxzZSBpZiAoYXJnLmluZGV4T2YoIj4iKSAhPT0gLTEpIHsgYXJnID0gYXJnLnNwbGl0KCI+IilbMV07IH0NCgkJaWYgKGNyZWF0ZXMuaW5kZXhPZihhcmcpID09IC0xKSB7IGNyZWF0ZXMgPSBjcmVhdGVzLmNvbmNhdChhcmcuc3BsaXQoIiwiKSk7IH0NCgl9DQoJZWxzZSBpZiAoYiA9PSAiSFQiKSB7DQoJCWhlYXRzID0gdHJ1ZTsNCgl9DQoJZWxzZSBpZiAoYiA9PSAiQ08iKSB7DQoJCWNvb2xzID0gdHJ1ZTsNCgl9DQoJZWxzZSBpZiAoYiA9PSAiU1QiKSB7DQoJCWlmICghYXJnKSB7IGFyZyA9ICJwaXhlbHMiIH0NCgkJaWYgKHN0aWNrcy5pbmRleE9mKGFyZykgPT0gLTEpIHsgc3RpY2tzID0gc3RpY2tzLmNvbmNhdChhcmcuc3BsaXQoIiwiKSk7IH0NCgl9DQoJZWxzZSBpZiAoYiA9PSAiRVgiKSB7DQoJCWV4cGxvZGVzID0gdHJ1ZTsNCgl9DQoNCg0KfX19fQ0KCQkvLyBtYWtlIHN1cmUgZGVsZXRlcywgc3dhcHMsIGNyZWF0ZXMsIGFuZCBzdGlja3MgaGF2ZSBubyBkdXBsaWNhdGUgaXRlbXMNCgkJZGVsZXRlcyA9IGRlbGV0ZXMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIHBvcykge3JldHVybiBkZWxldGVzLmluZGV4T2YoaXRlbSkgPT0gcG9zO30pOw0KCQlzd2FwcyA9IHN3YXBzLmZpbHRlcihmdW5jdGlvbihpdGVtLCBwb3MpIHtyZXR1cm4gc3dhcHMuaW5kZXhPZihpdGVtKSA9PSBwb3M7fSk7DQoJCWNyZWF0ZXMgPSBjcmVhdGVzLmZpbHRlcihmdW5jdGlvbihpdGVtLCBwb3MpIHtyZXR1cm4gY3JlYXRlcy5pbmRleE9mKGl0ZW0pID09IHBvczt9KTsNCgkJc3RpY2tzID0gc3RpY2tzLmZpbHRlcihmdW5jdGlvbihpdGVtLCBwb3MpIHtyZXR1cm4gc3RpY2tzLmluZGV4T2YoaXRlbSkgPT0gcG9zO30pOw0KCQlpZiAoKGluZm8uY2F0ZWdvcnkgPT0gInRvb2xzIiB8fCBpbmZvLnRvb2wpICYmICFpbmZvLmNhblBsYWNlKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5Ub29sLiJ9DQoJCWVsc2Ugew0KCQkJaWYgKCFtb3ZlcyAmJiBpbmZvLmJlaGF2aW9yKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5TdGF0aW9uYXJ5LiI7IH0NCgkJCWlmIChpbmZvLmNhdGVnb3J5KSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5DYXRlZ29yeTogIitpbmZvTGluayhpbmZvLmNhdGVnb3J5KSsiLiI7IH0NCgkJaWYgKGluZm8ubm9NaXgpIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbldvbid0IG1peCB3aXRob3V0IFNoaWZ0LiI7IH0NCgkJaWYgKGluZm8uY29uZHVjdCkgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuQ29uZHVjdHMgZWxlY3RyaWNpdHkuIjsgfQ0KCQlpZiAoc3dhcHMubGVuZ3RoID4gMCkgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuTW92ZXMgdGhyb3VnaCAiK2luZm9MaW5rKHN3YXBzKSsiLiI7IH0NCgkJaWYgKGNyZWF0ZXMubGVuZ3RoID4gMCkgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuTWFrZXMgIitpbmZvTGluayhjcmVhdGVzKSsiLiI7IH0NCgkJaWYgKGNsb25lcykgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuQ2xvbmVzIHNlbGYuIiB9DQoJCWlmIChkZWxldGVzLmxlbmd0aCA+IDApIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkRlbGV0ZXMgIitpbmZvTGluayhkZWxldGVzKSsiLiI7IH0NCgkJaWYgKGhlYXRzKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5IZWF0cyBwaXhlbHMuIiB9DQoJCWlmIChjb29scykgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuQ29vbHMgcGl4ZWxzLiIgfQ0KCQlpZiAoc3RpY2tzLmxlbmd0aCA+IDApIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblN0aWNrcyB0byAiK2luZm9MaW5rKHN0aWNrcykrIi4iOyB9DQoJCWlmIChleHBsb2RlcykgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuRXhwbG9kZXMuIiB9DQoJCWlmIChpbmZvLmhhcmRuZXNzID49IDEpIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblVuYnJlYWthYmxlLiIgfQ0KCQlpZiAoc2V0dGluZ3NbInVuaGlkZSJdIT09MSAmJiBpbmZvLmhpZGRlbikgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuSGlkZGVuIGJ5IGRlZmF1bHQuIjsgfQ0KCQlpZiAoaW5mby5kZW5zaXR5ICE9IHVuZGVmaW5lZCkgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuRGVuc2l0eTogIitmb3JtYXREZW5zaXR5KGluZm8uZGVuc2l0eSkrIi4iOyB9DQoJCWlmIChpbmZvLnRlbXBIaWdoICE9IHVuZGVmaW5lZCkgew0KCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblR1cm5zIGludG8gIitpbmZvTGluayhpbmZvLnN0YXRlSGlnaCkrIiBhYm92ZSAiK2Zvcm1hdFRlbXAoaW5mby50ZW1wSGlnaCkrIi4iOw0KCQl9DQoJCWlmIChpbmZvLnRlbXBMb3cgIT0gdW5kZWZpbmVkKSB7DQoJCQlpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuVHVybnMgaW50byAiK2luZm9MaW5rKGluZm8uc3RhdGVMb3cpKyIgYmVsb3cgIitmb3JtYXRUZW1wKGluZm8udGVtcExvdykrIi4iOw0KCQl9DQoJCWlmIChpbmZvLmJyZWFrSW50byA9PT0gbnVsbCkgew0KCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkRpc2FwcGVhcnMgd2hlbiBicm9rZW4uIjsNCgkJfQ0KCQllbHNlIGlmIChpbmZvLmJyZWFrSW50byAhPSB1bmRlZmluZWQpIHsNCgkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG5CcmVha3MgaW50byAiK2luZm9MaW5rKGluZm8uYnJlYWtJbnRvKSsiLiI7DQoJCX0NCgkJZWxzZSBpZiAoaW5mby5icmVha0ludG9Db2xvciAhPSB1bmRlZmluZWQpIHsNCgkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG5DaGFuZ2VzIGNvbG9yIHdoZW4gYnJva2VuLiI7DQoJCX0NCgkJaWYgKGluZm8uYnVybiAhPSB1bmRlZmluZWQpIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkZsYW1tYWJpbGl0eTogIitpbmZvLmJ1cm4rIiUuIjsgfQ0KCQlpZiAoaW5mby5idXJuVGltZSAhPSB1bmRlZmluZWQpIHsNCgkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG5CdXJucyBmb3IgIitpbmZvLmJ1cm5UaW1lKyIgdGljayI7DQoJCQlpZiAoaW5mby5idXJuVGltZSAhPSAxKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAicyI7IH0NCgkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiLiI7DQoJCX0NCgkJaWYgKGluZm8uYnVybkludG8pIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkJ1cm5zIGludG8gIitpbmZvTGluayhpbmZvLmJ1cm5JbnRvKSsiLiI7IH0NCgkJaWYgKGluZm8uZmlyZUNvbG9yKSB7DQoJCQlpZiAoIShpbmZvLmZpcmVDb2xvciBpbnN0YW5jZW9mIEFycmF5KSkgew0KCQkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiXG5GbGFtZSBDb2xvcjogPHNwYW4gc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IitpbmZvLmZpcmVDb2xvcisiJz4JIDwvc3Bhbj4iOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJLy9ncmFkaWVudA0KCQkJCXZhciBncmFkaWVudCA9IGluZm8uZmlyZUNvbG9yOw0KCQkJCXZhciBncmFkaWVudFN0cmluZyA9ICJsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQiOw0KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgZ3JhZGllbnQubGVuZ3RoOyBpKyspIHsNCgkJCQkJZ3JhZGllbnRTdHJpbmcgKz0gIiwgIitncmFkaWVudFtpXSsiICIrKGkqMTAwL2dyYWRpZW50Lmxlbmd0aCkrIiUiOw0KCQkJCX0NCgkJCQlncmFkaWVudFN0cmluZyArPSAiKSI7DQoJCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcbkZsYW1lIENvbG9yOiA8c3BhbiBzdHlsZT0nYmFja2dyb3VuZDoiK2dyYWRpZW50U3RyaW5nKyInPgkgPC9zcGFuPiI7DQoJCQl9DQoJCX0NCgkJaWYgKGluZm8uc3RhaW4pIHsNCgkJCWlmIChpbmZvLnN0YWluIDwgMCkgeyBpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuQ2xlYW5zIHN0YWlucy4iOyB9DQoJCQllbHNlIHsgaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblN0YWlucyBzb2xpZHMuIjsgfQ0KCQl9DQoJCWlmIChpbmZvLmN1c3RvbUNvbG9yKSB7IGluZm9UZXh0LmlubmVySFRNTCArPSAiXG5Db2xvciBpcyBjdXN0b21pemFibGUuIjsgfQ0KCQl9DQoNCgkJaWYgKGluZm8ucmVhY3Rpb25zKSB7DQoJCQlpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlxuUmVhY3RzIHdpdGggIiArIGluZm9MaW5rKE9iamVjdC5rZXlzKGluZm8ucmVhY3Rpb25zKSkgKyAiLiI7DQoJCX0NCgkJaWYgKGluZm8ucmVsYXRlZCkgew0KCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblxuIjsNCgkJCXZhciByZWxhdGVkID0gaW5mby5yZWxhdGVkOw0KCQkJaWYgKHR5cGVvZiByZWxhdGVkID09ICJzdHJpbmciKSB7cmVsYXRlZCA9IFtyZWxhdGVkXTt9DQoJCQlpbmZvVGV4dC5pbm5lckhUTUwgKz0gIlNlZSBBbHNvOiAiK2luZm9MaW5rKHJlbGF0ZWQpKyIuIjsNCgkJfQ0KCQlpZiAoaW5mby5hbGlhcykgew0KCQkJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblxuIjsNCgkJCXZhciBhbGlhcyA9IGluZm8uYWxpYXM7DQoJCQlpZiAodHlwZW9mIGFsaWFzID09ICJzdHJpbmciKSB7YWxpYXMgPSBbYWxpYXNdO30NCgkJCWluZm9UZXh0LmlubmVySFRNTCArPSAiQWxzbyBrbm93biBhcyAiK2FsaWFzLmpvaW4oIiwgIikudG9VcHBlckNhc2UoKSsiLiI7DQoJCX0NCgl9DQoJZWxzZSBpZiAoY2F0ZWdvcnlMaXN0LmluZGV4T2YoZWxlbWVudCkgIT09IC0xKSB7DQoJCWluZm9UaXRsZS5pbm5lckhUTUwgPSBlbGVtZW50Ow0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gaW5mb1RpdGxlLmlubmVySFRNTC5yZXBsYWNlKC9cd1xTKi9nLCBmdW5jdGlvbih0eHQpe3JldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7fSk7DQoJCXZhciBtYXRjaGluZ0NhdGVnb3J5ID0gW107DQoJCS8vIGxvb3AgdGhyb3VnaCBhbGwgZWxlbWVudHMsIGFuZCBhZGQgdG8gbWF0Y2hpbmdDYXRlZ29yeSBpZiBpdCBtYXRjaGVzIHRoZSBjYXRlZ29yeQ0KCQlmb3IgKGUgaW4gZWxlbWVudHMpIHsNCgkJCWlmIChlbGVtZW50c1tlXS5jYXRlZ29yeSA9PT0gZWxlbWVudCkgew0KCQkJCW1hdGNoaW5nQ2F0ZWdvcnkucHVzaChlKTsNCgkJCX0NCgkJfQ0KCQlpbmZvVGV4dC5pbm5lckhUTUwgPSAiXG5DYXRlZ29yeSBvZiAiK21hdGNoaW5nQ2F0ZWdvcnkubGVuZ3RoKyIuXG5cbiI7DQoJCS8vIGluZm9MaW5rIG9mIGVhY2ggaXRlbSBpbiBtYXRjaGluZ0NhdGVnb3J5IG9uIG5ldyBsaW5lcw0KCQl2YXIgdGVtcHRleHQgPSAiIjsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGluZ0NhdGVnb3J5Lmxlbmd0aDsgaSsrKSB7DQoJCQl0ZW1wdGV4dCArPSBpbmZvTGluayhtYXRjaGluZ0NhdGVnb3J5W2ldKSArICJcbiI7DQoJCX0NCgkJaW5mb1RleHQuaW5uZXJIVE1MICs9IHRlbXB0ZXh0Ow0KCX0NCgllbHNlIGlmIChlbGVtZW50LmluZGV4T2YoIiwiKSAhPT0gLTEpIHsNCgkJaW5mb1RpdGxlLmlubmVySFRNTCA9ICJMb29rdXAiOw0KCQkvLyBzcGxpdCBieSAsIGFuZCBhZGQgYW4gaW5mb0xpbmsgb2YgZWFjaCB0byBpbmZvVGV4dC5pbm5lckhUTUwNCgkJdmFyIHNwbGl0ID0gZWxlbWVudC5zcGxpdCgiLCIpOw0KCQl2YXIgdGVtcHRleHQgPSAiIjsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGg7IGkrKykgew0KCQkJdGVtcHRleHQgKz0gIlxuIiArIGluZm9MaW5rKHNwbGl0W2ldKTsNCgkJfQ0KCQlpbmZvVGV4dC5pbm5lckhUTUwgPSB0ZW1wdGV4dDsNCgkJaW5mb1NlYXJjaC52YWx1ZSA9ICIiOw0KCX0NCgllbHNlIGlmIChlbGVtZW50ID09PSAiIikgew0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gIkJyb3dzZSI7DQoJCWluZm9UZXh0LmlubmVySFRNTCA9ICJcbiIraW5mb0xpbmsoImFsbCIpKyIg4oCiICIraW5mb0xpbmsoInVuZGlzY292ZXJlZCIpKyIg4oCiICIraW5mb0xpbmsoImRpc2NvdmVyZWQiKSsiXG5cbiI7DQoJCXZhciB0ZW1wdGV4dCA9ICIiOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGNhdGVnb3J5TGlzdC5sZW5ndGg7IGkrKykgew0KCQkJdGVtcHRleHQgKz0gaW5mb0xpbmsoY2F0ZWdvcnlMaXN0W2ldKSArICJcbiI7DQoJCX0NCgkJaW5mb1RleHQuaW5uZXJIVE1MICs9IHRlbXB0ZXh0K2luZm9MaW5rKCJoaWRkZW4iKTsNCgl9DQoJZWxzZSBpZiAoZWxlbWVudCA9PT0gInVuZGlzY292ZXJlZCIpIHsNCgkJaW5mb1RpdGxlLmlubmVySFRNTCA9ICJVbmRpc2NvdmVyZWQiOw0KCQl2YXIgdGVtcHRleHQgPSAiIjsNCgkJdmFyIG4gPSAwOw0KCQlmb3IgKGUgaW4gZWxlbWVudHMpIHsNCgkJCWlmIChlbGVtZW50c1tlXS5oaWRkZW4gJiYgIXNldHRpbmdzLnVubG9ja2VkW2VdKSB7DQoJCQkJdGVtcHRleHQgKz0gaW5mb0xpbmsoZSkgKyAiXG4iOw0KCQkJCW4rKzsNCgkJCX0NCgkJfQ0KCQkvLyBzb3J0IHRlbXB0ZXh0IGxpbmVzIGFscGhhYmV0aWNhbGx5DQoJCXRlbXB0ZXh0ID0gdGVtcHRleHQuc3BsaXQoIlxuIik7IHRlbXB0ZXh0LnNvcnQoKTsgdGVtcHRleHQgPSB0ZW1wdGV4dC5qb2luKCJcbiIpOw0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MICs9ICIgKCIrbisiKSI7DQoJCWlmICh0ZW1wdGV4dCA9PT0gIiIpIHsgdGVtcHRleHQgPSAiWW91IGRpc2NvdmVyZWQgZXZlcnl0aGluZyFcblxuSm9pbiBvdXIgPGEgaHJlZj0naHR0cHM6Ly9kaXNjb3JkLmdnL2VqVWM2WVBRdVMnPkRpc2NvcmQ8L2E+IHRvIHN0YXkgdXAgdG8gZGF0ZSB3aXRoIHVwZGF0ZXMuIjsgfQ0KCQlpbmZvVGV4dC5pbm5lckhUTUwgPSB0ZW1wdGV4dDsNCgl9DQoJZWxzZSBpZiAoZWxlbWVudCA9PT0gImFsbCIpIHsNCgkJaW5mb1RpdGxlLmlubmVySFRNTCA9ICJBbGwgKCIrZWxlbWVudENvdW50KyIpIjsNCgkJdmFyIHRlbXB0ZXh0ID0gIiI7DQoJCWZvciAoZSBpbiBlbGVtZW50cykgeyB0ZW1wdGV4dCArPSBpbmZvTGluayhlKSArICJcbiI7IH0NCgkJLy8gc29ydCB0ZW1wdGV4dCBsaW5lcyBhbHBoYWJldGljYWxseQ0KCQl0ZW1wdGV4dCA9IHRlbXB0ZXh0LnNwbGl0KCJcbiIpOyB0ZW1wdGV4dC5zb3J0KCk7IHRlbXB0ZXh0ID0gdGVtcHRleHQuam9pbigiXG4iKTsNCgkJaW5mb1RleHQuaW5uZXJIVE1MID0gdGVtcHRleHQ7DQoJfQ0KCWVsc2UgaWYgKGVsZW1lbnQgPT09ICJkaXNjb3ZlcmVkIikgew0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gIkRpc2NvdmVyZWQiOw0KCQl2YXIgdGVtcHRleHQgPSAiIjsNCgkJdmFyIG4gPSAwOw0KCQlmb3IgKGUgaW4gZWxlbWVudHMpIHsNCgkJCWlmICghZWxlbWVudHNbZV0uaGlkZGVuIHx8IHNldHRpbmdzLnVubG9ja2VkW2VdKSB7DQoJCQkJdGVtcHRleHQgKz0gaW5mb0xpbmsoZSkgKyAiXG4iOw0KCQkJCW4rKzsNCgkJCX0NCgkJfQ0KCQkvLyBzb3J0IHRlbXB0ZXh0IGxpbmVzIGFscGhhYmV0aWNhbGx5DQoJCXRlbXB0ZXh0ID0gdGVtcHRleHQuc3BsaXQoIlxuIik7IHRlbXB0ZXh0LnNvcnQoKTsgdGVtcHRleHQgPSB0ZW1wdGV4dC5qb2luKCJcbiIpOw0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MICs9ICIgKCIrbisiKSI7DQoJCWluZm9UZXh0LmlubmVySFRNTCA9IHRlbXB0ZXh0Ow0KCX0NCgllbHNlIGlmIChlbGVtZW50ID09PSAiaGlkZGVuIikgew0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gIkhpZGRlbiAoIitoaWRkZW5Db3VudCsiKSI7DQoJCXZhciB0ZW1wdGV4dCA9ICIiOw0KCQlmb3IgKGUgaW4gZWxlbWVudHMpIHsNCgkJCWlmIChlbGVtZW50c1tlXS5oaWRkZW4pIHsgdGVtcHRleHQgKz0gaW5mb0xpbmsoZSkgKyAiXG4iOyB9DQoJCX0NCgkJLy8gc29ydCB0ZW1wdGV4dCBsaW5lcyBhbHBoYWJldGljYWxseQ0KCQl0ZW1wdGV4dCA9IHRlbXB0ZXh0LnNwbGl0KCJcbiIpOyB0ZW1wdGV4dC5zb3J0KCk7IHRlbXB0ZXh0ID0gdGVtcHRleHQuam9pbigiXG4iKTsNCgkJaWYgKHRlbXB0ZXh0ID09PSAiIikgeyB0ZW1wdGV4dCA9ICJZb3UgZGlzY292ZXJlZCBldmVyeXRoaW5nIVxuXG5Kb2luIG91ciA8YSBocmVmPSdodHRwczovL2Rpc2NvcmQuZ2cvZWpVYzZZUFF1Uyc+RGlzY29yZDwvYT4gdG8gc3RheSB1cCB0byBkYXRlIHdpdGggdXBkYXRlcy4iOyB9DQoJCWluZm9UZXh0LmlubmVySFRNTCA9IHRlbXB0ZXh0Ow0KCX0NCgllbHNlIGlmIChlbGVtZW50ID09PSAiYWlyIikgew0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gIkFpciI7DQoJCWluZm9UZXh0LmlubmVySFRNTCA9ICJcbkNvbG9yOiA8c3Bhbj4JIDwvc3Bhbj5cbkNhdGVnb3J5OiAiK2luZm9MaW5rKCJnYXNlcyIpKyIuXG5EZW5zaXR5OiAiK2Zvcm1hdERlbnNpdHkoYWlyRGVuc2l0eSkrIi4iDQoJfQ0KCWVsc2Ugew0KCQlpbmZvVGl0bGUuaW5uZXJIVE1MID0gIiI7DQoJCWluZm9UZXh0LmlubmVySFRNTCA9ICIiOw0KCQllcnJvciA9IHRydWU7DQoJfQ0KCX0NCgllbHNlIHsNCgkJaW5mb1RpdGxlLmlubmVySFRNTCA9ICIiOw0KCQlpbmZvVGV4dC5pbm5lckhUTUwgPSAiIjsNCgl9DQoJaW5mb1RleHQuaW5uZXJIVE1MICs9ICJcblxuXG5cbiI7DQoJaWYgKGVycm9yKSB7IGluZm9TZWFyY2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gInJnYigxMDAsIDMzLCAzMykiOyB9DQoJZWxzZSB7DQoJCWluZm9TZWFyY2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7DQoJCWlmICghYmFjayAmJiBpbmZvSGlzdG9yeVtpbmZvSGlzdG9yeS5sZW5ndGgtMV0gIT09IGVsZW1lbnQpIHtpbmZvSGlzdG9yeS5wdXNoKGVsZW1lbnQpO30NCgl9DQoJaWYgKGluZm9IaXN0b3J5Lmxlbmd0aCA+IDEpIHsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluZm9CYWNrQnV0dG9uIikuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOw0KCX0NCgllbHNlIHsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluZm9CYWNrQnV0dG9uIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgl9DQp9DQoJCWluZm9IaXN0b3J5ID0gW107DQoJCWZ1bmN0aW9uIGluZm9CYWNrKCkgew0KCQkJaWYgKGluZm9IaXN0b3J5Lmxlbmd0aCA+IDApIHsNCgkJCQlpbmZvSGlzdG9yeS5wb3AoKQ0KCQkJCXNob3dJbmZvKGluZm9IaXN0b3J5W2luZm9IaXN0b3J5Lmxlbmd0aC0xXSwgdHJ1ZSk7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gY2xvc2VNZW51KG5leHRNZW51KSB7DQoJCQlpZiAoIXNob3dpbmdNZW51KSB7IHJldHVybjsgfQ0KCQkJaWYgKHNob3dpbmdNZW51ID09ICJwcm9tcHQiKSB7DQoJCQkJaWYgKHNob3dpbmdNZW51ID09PSBuZXh0TWVudSkgcmV0dXJuOw0KCQkJCXZhciBwcm9tcHRQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0UGFyZW50Iik7DQoJCQkJcHJvbXB0UGFyZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJc2hvd2luZ01lbnUgPSBmYWxzZTsNCgkJCQlpZiAocHJvbXB0U3RhdGUgJiYgIXByb21wdFN0YXRlLndhc1BhdXNlZCAmJiBwYXVzZWQpIHRvZ2dsZVBhdXNlKCk7DQoJCQkJLy8gcHJvbXB0U3RhdGUgPSBudWxsOw0KCQkJfQ0KCQkJZWxzZSBpZiAoc2hvd2luZ01lbnUgPT0gImluZm8iKSB7DQoJCQkJdmFyIGluZm9QYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mb1BhcmVudCIpOw0KCQkJCXZhciBpbmZvU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluZm9TZWFyY2giKTsNCgkJCQlpbmZvUGFyZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJaW5mb1NlYXJjaC52YWx1ZSA9ICIiOw0KCQkJCXNob3dpbmdNZW51ID0gZmFsc2U7DQoJCQkJaW5mb0hpc3RvcnkgPSBbXTsNCgkJCX0NCgkJCWVsc2UgaWYgKHNob3dpbmdNZW51ID09ICJtb2RzIikgew0KCQkJCXZhciBtb2RQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kUGFyZW50Iik7DQoJCQkJdmFyIG1vZE1hbmFnZXJVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kTWFuYWdlclVybCIpOw0KCQkJCW1vZFBhcmVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJCW1vZE1hbmFnZXJVcmwudmFsdWUgPSAiIjsNCgkJCQlzaG93aW5nTWVudSA9IGZhbHNlOw0KCQkJfQ0KCQkJZWxzZSBpZiAoc2hvd2luZ01lbnUgPT0gInNhdmVzIikgew0KCQkJCXZhciBzYXZlc1BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlc1BhcmVudCIpOw0KCQkJCXNhdmVzUGFyZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJc2hvd2luZ01lbnUgPSBmYWxzZTsNCgkJCX0NCgkJCWVsc2UgaWYgKHNob3dpbmdNZW51ID09ICJzYXZlUHJvbXB0Iikgew0KCQkJCXZhciBzYXZlUHJvbXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9tcHRQYXJlbnQiKTsNCgkJCQlzYXZlUHJvbXB0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJc2hvd2luZ01lbnUgPSBmYWxzZTsNCgkJCQlzYXZpbmdTdGF0ZSA9IG51bGw7DQoJCQl9DQoJCQllbHNlIGlmIChzaG93aW5nTWVudSA9PSAic2V0dGluZ3MiKSB7DQoJCQkJdmFyIHNldHRpbmdzUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNldHRpbmdzUGFyZW50Iik7DQoJCQkJc2V0dGluZ3NQYXJlbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCQlzaG93aW5nTWVudSA9IGZhbHNlOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJLy8gZG8gaXQgdG8gYWxsIGVsZW1lbnRzIHdpdGggdGhlIGNsYXNzICJtZW51UGFyZW50Ig0KCQkJCXZhciBtZW51UGFyZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1lbnVQYXJlbnQiKTsNCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVQYXJlbnRzLmxlbmd0aDsgaSsrKSB7DQoJCQkJCW1lbnVQYXJlbnRzW2ldLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJfQ0KCQkJCXNob3dpbmdNZW51ID0gZmFsc2U7DQoJCQkJZ2VuZXJpY01lbnVIYW5kbGVyPW51bGw7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gc2hvd01vZE1hbmFnZXIoKSB7DQoJCQl2YXIgbW9kUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZFBhcmVudCIpOw0KCQkJdmFyIG1vZE1hbmFnZXJVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kTWFuYWdlclVybCIpOw0KCQkJbW9kUGFyZW50LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJbW9kTWFuYWdlclVybC5mb2N1cygpOw0KCQkJc2hvd2luZ01lbnUgPSAibW9kcyI7DQoJCX0NCgkJZnVuY3Rpb24gaGFuZGxlVGFiKGVsZW0pIHsNCgkJCWxldCB0YWJJRCA9IGVsZW0uZ2V0QXR0cmlidXRlKCJkYXRhLXRhYiIpOw0KCQkJbGV0IHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Ow0KCQkJbGV0IGN1cnJlbnRUYWIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignZGl2Lm1lbnVUYWIuc2VsZWN0ZWQnKTsNCgkJCWxldCBuZXdUYWIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignZGl2Lm1lbnVUYWJbZGF0YS10YWI9Jyt0YWJJRCsnXScpOw0KCQkJDQoJCQlpZiAobmV3VGFiID09IGN1cnJlbnRUYWIpIHJldHVybjsNCg0KCQkJbGV0IGN1cnJlbnRCdXR0b24gPSBwYXJlbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLm1lbnVUYWJbZGF0YS10YWI9JytjdXJyZW50VGFiLmdldEF0dHJpYnV0ZSgiZGF0YS10YWIiKSsnXScpOw0KCQkJaWYgKGN1cnJlbnRCdXR0b24pIGN1cnJlbnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiKTsNCg0KCQkJaWYgKG5ld1RhYikgew0KCQkJCW5ld1RhYi5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOw0KCQkJCWVsZW0uY2xhc3NMaXN0LmFkZCgic2VsZWN0ZWQiKTsNCgkJCX0NCgkJCWVsc2UgcmV0dXJuOw0KCQkJaWYgKGN1cnJlbnRUYWIpIGN1cnJlbnRUYWIuY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiKQ0KCQl9DQoJCWZ1bmN0aW9uIGFkZE1vZCh1cmwsbm9NZXNzYWdlKSB7DQoJCQlsZXQgc3BsaXQgPSB1cmwuc3BsaXQoLyA/OyA/L2cpOw0KCQkJaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHsNCgkJCQlzcGxpdC5mb3JFYWNoKGFkZE1vZCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJLy8gcmVtb3ZlIHRyYWlsaW5nIHNsYXNoZXMNCgkJCXdoaWxlICh1cmwuY2hhckF0KHVybC5sZW5ndGgtMSkgPT0gIi8iKSB7IHVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aC0xKTsgfQ0KCQkJdXJsID0gdXJsLnJlcGxhY2VBbGwoL1sn4oCY4oCZ4oCc4oCdIlwkXHtcfVxcXS9nLCIiKTsNCgkJCS8vIGlmIHRoZSB1cmwgZG9lc24ndCBoYXZlIGEgc2xhc2ggb3IgYSBkb3QsIGFsZXJ0DQoJCQlpZiAodXJsLmluZGV4T2YoIi8iKSA9PSAtMSAmJiB1cmwuaW5kZXhPZigiLiIpID09IC0xICYmICFub01lc3NhZ2UpIHsNCgkJCQlwcm9tcHRUZXh0KCJJbnZhbGlkIG1vZCBVUkwuXG5cbllvdSB1c3VhbGx5IHdhbnQgc29tZXRoaW5nIGxpa2UgJ3N1cnZpdmFsLmpzJyAod2l0aG91dCB0aGUgcXVvdGVzKSIsIHNob3dNb2RNYW5hZ2VyLCAiRXJyb3IiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkvLyBpZiB0aGUgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBodHRwLCBhZGQgIm1vZHMvIiB0byB0aGUgYmVnaW5uaW5nDQoJCQlpZiAodXJsLmluZGV4T2YoImh0dHAiKSA9PSAtMSAmJiB1cmwuaW5kZXhPZigibW9kcy8iKSA9PSAtMSkgew0KCQkJCXVybCA9ICJtb2RzLyIrdXJsOw0KCQkJCWlmIChzdGFuZGFsb25lKSB1cmwgPSAiaHR0cHM6Ly9zYW5kYm94ZWxzLnI3NG4uY29tLyIgKyB1cmw7DQoJCQl9DQoJCQllbHNlIGlmIChzdGFuZGFsb25lICYmIHVybC5zdGFydHNXaXRoKCJtb2RzLyIpKSB7DQoJCQkJdXJsID0gImh0dHBzOi8vc2FuZGJveGVscy5yNzRuLmNvbS8iICsgdXJsOw0KCQkJfQ0KCQkJLy8gaWYgdGhlIG1vZCBpcyBpbiBlbmFibGVkTW9kcywgcmV0dXJuDQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGVuYWJsZWRNb2RzLmxlbmd0aDsgaSsrKSB7DQoJCQkJaWYgKGVuYWJsZWRNb2RzW2ldID09IHVybCkgeyByZXR1cm47IH0NCgkJCX0NCgkJCS8vIGFkZCBpdCB0byBlbmFibGVkTW9kcyBhbmQgc2V0IHRoZSBsb2NhbFN0b3JhZ2UNCgkJCWVuYWJsZWRNb2RzLnB1c2godXJsKTsNCgkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbmFibGVkTW9kcyIsIEpTT04uc3RyaW5naWZ5KGVuYWJsZWRNb2RzKSk7DQoJCQkvLyBhZGQgdG8gbW9kTWFuYWdlckxpc3QNCgkJCXZhciBtb2RNYW5hZ2VyTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RNYW5hZ2VyTGlzdCIpOw0KCQkJdmFyIG1vZE5hbWUgPSB1cmwuc3BsaXQoIi8iKS5wb3AoKTsNCgkJCW1vZE1hbmFnZXJMaXN0LmlubmVySFRNTCArPSBgPGxpPjxhIGhyZWY9IiR7dXJsLnJlcGxhY2VBbGwoJyInLCcnKX0iIHRhcmdldD0iX2JsYW5rIj4ke21vZE5hbWV9PC9hPiA8c3BhbiBjbGFzcz0icmVtb3ZlTW9kWCIgb25jbGljaz0ncmVtb3ZlTW9kKCIke3VybC5yZXBsYWNlQWxsKCciJywnXFxcIicpfSIpJz5YPC9zcGFuPjwvbGk+YA0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vTW9kcyIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kTWFuYWdlclJlZnJlc2giKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCWlmICghbm9NZXNzYWdlKSB7DQoJCQkJY2hhbmdlZE1vZHMgPSB0cnVlOw0KCQkJCXByb21wdFRleHQoKHN0YW5kYWxvbmUgPyAiUmVzZXQgdGhlIGNhbnZhcyIgOiAiUmVmcmVzaCB0aGUgcGFnZSIpKyIgdG8gYXBwbHkgY2hhbmdlcy4iLCBzaG93TW9kTWFuYWdlciwgIkFkZGVkIE1vZCIpOw0KCQkJfQ0KCQkJcmV0dXJuIHVybDsNCgkJfQ0KCQlmdW5jdGlvbiByZW1vdmVNb2QodXJsLG5vTWVzc2FnZSkgew0KCQkJLy8gcmVtb3ZlIHVybCBmcm9tIGVuYWJsZWRNb2RzIGFuZCBzZXQgdGhlIGxvY2FsU3RvcmFnZQ0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlbmFibGVkTW9kcy5sZW5ndGg7IGkrKykgew0KCQkJCWlmIChlbmFibGVkTW9kc1tpXSA9PSB1cmwpIHsNCgkJCQkJZW5hYmxlZE1vZHMuc3BsaWNlKGksIDEpOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoZW5hYmxlZE1vZHMubGVuZ3RoID09PSAwKSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vTW9kcyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJfQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZE1hbmFnZXJSZWZyZXNoIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW5hYmxlZE1vZHMiLCBKU09OLnN0cmluZ2lmeShlbmFibGVkTW9kcykpOw0KCQkJLy8gcmVtb3ZlIGZyb20gbW9kTWFuYWdlckxpc3QgYnkgaHJlZg0KCQkJdmFyIG1vZE1hbmFnZXJMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZE1hbmFnZXJMaXN0Iik7DQoJCQl2YXIgbW9kTWFuYWdlckxpc3RMaW5rcyA9IG1vZE1hbmFnZXJMaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7DQoJCQl1cmwgPSB1cmwucmVwbGFjZUFsbCgnIicsJycpOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBtb2RNYW5hZ2VyTGlzdExpbmtzLmxlbmd0aDsgaSsrKSB7DQoJCQkJaWYgKG1vZE1hbmFnZXJMaXN0TGlua3NbaV0uaHJlZi5lbmRzV2l0aCh1cmwpKSB7DQoJCQkJCW1vZE1hbmFnZXJMaXN0TGlua3NbaV0ucGFyZW50Tm9kZS5yZW1vdmUoKTsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKCFub01lc3NhZ2UpIHsNCgkJCQljaGFuZ2VkTW9kcyA9IHRydWU7DQoJCQkJcHJvbXB0VGV4dCgoc3RhbmRhbG9uZSA/ICJSZXNldCB0aGUgY2FudmFzIiA6ICJSZWZyZXNoIHRoZSBwYWdlIikrIiB0byBhcHBseSBjaGFuZ2VzLiIsIHNob3dNb2RNYW5hZ2VyLCAiUmVtb3ZlZCBNb2QiKTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGVzY2FwZUhUTUwodW5zYWZlKSB7cmV0dXJuIHVuc2FmZS5yZXBsYWNlKC8mL2csICImYW1wOyIpLnJlcGxhY2UoLzwvZywgIiZsdDsiKS5yZXBsYWNlKC8+L2csICImZ3Q7IikucmVwbGFjZSgvIi9nLCAiJnF1b3Q7IikucmVwbGFjZSgvJy9nLCAiJiMwMzk7Iik7fQ0KDQoJCXJ0ZiA9IG51bGw7DQoJCXRyeSB7DQoJCQlydGYgPSBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobGFuZ0NvZGV8fCJlbiIsIHsgc3R5bGU6InNob3J0IiwgbnVtZXJpYzoiYXV0byIgfSk7DQoJCX0NCgkJY2F0Y2ggew0KCQkJcnRmID0gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KCJlbiIsIHsgc3R5bGU6InNob3J0IiwgbnVtZXJpYzoiYXV0byIgfSk7DQoJCX0NCg0KCQlmdW5jdGlvbiBzYXZlTWVudU9wdGlvbnMoaXRlbSkgew0KCQkJaWYgKGl0ZW0ud29ya3Nob3AgJiYgc3RhbmRhbG9uZSAmJiAhaXRlbS5sb2NhbEZpbGUpIHsNCgkJCQlyZXR1cm4gYA0KCQkJCTxzcGFuIGNsYXNzPSJzYXZlU2xvdE9wdGlvbnMiPg0KCQkJCQk8c3BhbiBvbmNsaWNrPSJoYW5kbGVXb3Jrc2hvcEFkZENsaWNrKHRoaXMpOyIgZGF0YS13b3Jrc2hvcD0iJHtpdGVtLndvcmtzaG9wfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvblNhdmUiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLmFkZCIsIkFkZCIpfTwvc3Bhbj4NCgkJCQk8L3NwYW4+YA0KCQkJfQ0KCQkJaWYgKGl0ZW0udXJsICYmICFpdGVtLmxvY2FsRmlsZSkgew0KCQkJCWNvbnN0IHVybCA9IGl0ZW0udXJsLnJlcGxhY2UoLyIvZywgIiUyMiIpOw0KCQkJCXJldHVybiBgDQoJCQkJPHNwYW4gY2xhc3M9InNhdmVTbG90T3B0aW9ucyI+DQoJCQkJCTxzcGFuIG9uY2xpY2s9ImxvYWRTYXZlVVJMKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpKSIgZGF0YS11cmw9IiR7dXJsfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvbkxvYWQiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLmxvYWQiLCJMb2FkIil9PC9zcGFuPg0KCQkJCTwvc3Bhbj5gDQoJCQl9DQoJCQlpZiAoaXRlbS5sb2NhbEZpbGUgJiYgc3RhbmRhbG9uZSkgew0KCQkJCWNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgaXRlbS5uYW1lKS5yZXBsYWNlKC8iL2csIiIpOw0KCQkJCWlmIChpdGVtLndvcmtzaG9wKSB7DQoJCQkJCWlmIChpdGVtLnB1Ymxpc2hlZCkgew0KCQkJCQkJcmV0dXJuIGANCgkJCQkJCTxzcGFuIGNsYXNzPSJzYXZlU2xvdE9wdGlvbnMiPg0KCQkJCQkJCTxzcGFuIG9uY2xpY2s9ImxvYWRTYXZlRmlsZSh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlbmFtZScpKSIgZGF0YS1maWxlbmFtZT0iJHtmaWxlbmFtZX0iIGNsYXNzPSJzYXZlT3B0aW9uIHNhdmVPcHRpb25Mb2FkIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5sb2FkIiwiTG9hZCIpfTwvc3Bhbj4NCgkJCQkJCQk8c3BhbiAke2N1cnJlbnRTYXZlRGF0YS5maWxlbmFtZSAhPT0gaXRlbS5maWxlbmFtZSA/ICJkaXNhYmxlZD10cnVlIiA6ICIifSBvbmNsaWNrPSJpZiAoIXRoaXMuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7b3ZlcndyaXRlU2F2ZUZpbGUodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsZW5hbWUnKSl9IGVsc2Uge211c3RCZUxvYWRlZCgnb3ZlcndyaXRlJyl9IiBkYXRhLWZpbGVuYW1lPSIke2ZpbGVuYW1lfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvblNhdmUiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLnNhdmUiLCJTYXZlIil9PC9zcGFuPg0KCQkJCQkJCTxzcGFuIG9uY2xpY2s9InVucHVibGlzaFNhdmVGaWxlKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJyksIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXdvcmtzaG9wJykpIiBkYXRhLWZpbGVuYW1lPSIke2ZpbGVuYW1lfSIgZGF0YS13b3Jrc2hvcD0iJHtpdGVtLndvcmtzaG9wfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvbkNsZWFyIj4ke2xhbmdLZXkoImd1aS5zYXZlcy51bnB1Ymxpc2giLCJVblB1Ymxpc2giKX08L3NwYW4+DQoJCQkJCQkJPHNwYW4gJHtjdXJyZW50U2F2ZURhdGEuZmlsZW5hbWUgIT09IGl0ZW0uZmlsZW5hbWUgPyAiZGlzYWJsZWQ9dHJ1ZSIgOiAiIn0gb25jbGljaz0iaWYgKCF0aGlzLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge3JlcHVibGlzaFNhdmVGaWxlKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJyksIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXdvcmtzaG9wJykpfSBlbHNlIHttdXN0QmVMb2FkZWQoJ3B1Ymxpc2gnKX0iIGRhdGEtZmlsZW5hbWU9IiR7ZmlsZW5hbWV9IiBkYXRhLXdvcmtzaG9wPSIke2l0ZW0ud29ya3Nob3B9IiBjbGFzcz0ic2F2ZU9wdGlvbiBzYXZlT3B0aW9uU2F2ZSI+JHtsYW5nS2V5KCJndWkuc2F2ZXMucmVwdWJsaXNoIiwiUmVQdWJsaXNoIil9PC9zcGFuPg0KCQkJCQkJPC9zcGFuPmANCgkJCQkJfQ0KCQkJCQlyZXR1cm4gYA0KCQkJCQk8c3BhbiBjbGFzcz0ic2F2ZVNsb3RPcHRpb25zIj4NCgkJCQkJCTxzcGFuIG9uY2xpY2s9ImxvYWRXb3Jrc2hvcCh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS13b3Jrc2hvcCcpLCB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlbmFtZScpKSIgZGF0YS1maWxlbmFtZT0iJHtmaWxlbmFtZX0iIGRhdGEtd29ya3Nob3A9IiR7aXRlbS53b3Jrc2hvcH0iIGNsYXNzPSJzYXZlT3B0aW9uIHNhdmVPcHRpb25Mb2FkIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5sb2FkIiwiTG9hZCIpfTwvc3Bhbj4NCgkJCQkJCTxzcGFuIG9uY2xpY2s9ImRlbGV0ZVdvcmtzaG9wKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXdvcmtzaG9wJyksIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJykpIiBkYXRhLWZpbGVuYW1lPSIke2ZpbGVuYW1lfSIgZGF0YS13b3Jrc2hvcD0iJHtpdGVtLndvcmtzaG9wfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvbkNsZWFyIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5kZWxldGUiLCJEZWxldGUiKX08L3NwYW4+DQoJCQkJCTwvc3Bhbj5gDQoJCQkJfQ0KCQkJCXJldHVybiBgDQoJCQkJPHNwYW4gY2xhc3M9InNhdmVTbG90T3B0aW9ucyI+DQoJCQkJCTxzcGFuIG9uY2xpY2s9ImxvYWRTYXZlRmlsZSh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlbmFtZScpKSIgZGF0YS1maWxlbmFtZT0iJHtmaWxlbmFtZX0iIGNsYXNzPSJzYXZlT3B0aW9uIHNhdmVPcHRpb25Mb2FkIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5sb2FkIiwiTG9hZCIpfTwvc3Bhbj4NCgkJCQkJPHNwYW4gJHtjdXJyZW50U2F2ZURhdGEuZmlsZW5hbWUgIT09IGl0ZW0uZmlsZW5hbWUgPyAiZGlzYWJsZWQ9dHJ1ZSIgOiAiIn0gb25jbGljaz0iaWYgKCF0aGlzLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge292ZXJ3cml0ZVNhdmVGaWxlKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGVuYW1lJykpfSBlbHNlIHttdXN0QmVMb2FkZWQoJ292ZXJ3cml0ZScpfSIgZGF0YS1maWxlbmFtZT0iJHtmaWxlbmFtZX0iIGNsYXNzPSJzYXZlT3B0aW9uIHNhdmVPcHRpb25TYXZlIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5zYXZlIiwiU2F2ZSIpfTwvc3Bhbj4NCgkJCQkJPHNwYW4gb25jbGljaz0iZGVsZXRlU2F2ZUZpbGUodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsZW5hbWUnKSkiIGRhdGEtZmlsZW5hbWU9IiR7ZmlsZW5hbWV9IiBjbGFzcz0ic2F2ZU9wdGlvbiBzYXZlT3B0aW9uQ2xlYXIiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLmRlbGV0ZSIsIkRlbGV0ZSIpfTwvc3Bhbj4NCgkJCQkJPHNwYW4gJHtjdXJyZW50U2F2ZURhdGEuZmlsZW5hbWUgIT09IGl0ZW0uZmlsZW5hbWUgPyAiZGlzYWJsZWQ9dHJ1ZSIgOiAiIn0gb25jbGljaz0iaWYgKCF0aGlzLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge3B1Ymxpc2hTYXZlRmlsZSh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlbmFtZScpKX0gZWxzZSB7bXVzdEJlTG9hZGVkKCdwdWJsaXNoJyl9IiBkYXRhLWZpbGVuYW1lPSIke2ZpbGVuYW1lfSIgY2xhc3M9InNhdmVPcHRpb24gc2F2ZU9wdGlvblNhdmUiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLnB1Ymxpc2giLCJQdWJsaXNoIil9PC9zcGFuPg0KCQkJCTwvc3Bhbj5gDQoJCQl9DQoNCgkJCXJldHVybiBgDQoJCQkJPHNwYW4gY2xhc3M9InNhdmVTbG90T3B0aW9ucyI+DQoJCQkJCTxzcGFuICR7aXRlbS5lbXB0eSA/ICJkaXNhYmxlZD10cnVlIiA6ICdvbmNsaWNrPSJsb2FkU2xvdCgnK2l0ZW0uc2xvdCsnKSInfSBjbGFzcz0ic2F2ZU9wdGlvbiBzYXZlT3B0aW9uTG9hZCI+JHtsYW5nS2V5KCJndWkuc2F2ZXMubG9hZCIsIkxvYWQiKX08L3NwYW4+DQoJCQkJCTxzcGFuIG9uY2xpY2s9InNhdmVTbG90KCR7aXRlbS5zbG90fSkiIGNsYXNzPSJzYXZlT3B0aW9uIHNhdmVPcHRpb25TYXZlIj4ke2xhbmdLZXkoImd1aS5zYXZlcy5zYXZlIiwiU2F2ZSIpfTwvc3Bhbj4NCgkJCQkJPHNwYW4gJHtpdGVtLmVtcHR5ID8gImRpc2FibGVkPXRydWUiIDogJ29uY2xpY2s9ImNsZWFyU2xvdCgnK2l0ZW0uc2xvdCsnKSInfSBjbGFzcz0ic2F2ZU9wdGlvbiBzYXZlT3B0aW9uQ2xlYXIiPiR7bGFuZ0tleSgiZ3VpLnNhdmVzLmNsZWFyIiwiQ2xlYXIiKX08L3NwYW4+DQoJCQkJPC9zcGFuPmANCgkJfQ0KCQlmdW5jdGlvbiBzaG93U2F2ZXMoKSB7DQoJCQl2YXIgc2F2ZXNQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZXNQYXJlbnQiKTsNCgkJCXZhciBzYXZlU2xvdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVNsb3RMaXN0Iik7DQoJCQlzYXZlU2xvdExpc3QuaW5uZXJIVE1MID0gIiI7DQoJCQkvLyBsb29wIDEyIHRpbWVzLCBjaGVja2luZyBpZiBsb2NhbCBzdG9yYWdlIFNhbmRib3hlbHNTYXZlcy94IGV4aXN0cw0KCQkJdmFyIHNhdmVJdGVtcyA9IFtdOw0KCQkJZm9yICh2YXIgaSA9IDE7IGkgPCAxMzsgaSsrKSB7DQoJCQkJbGV0IHNhdmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiU2FuZGJveGVsc1NhdmVzLyIraSk7DQoJCQkJLy8gdmFyIG5hbWUgPSAiU2xvdCAiK2k7DQoJCQkJbGV0IG5hbWUgPSBsYW5nS2V5KCJndWl0ZW1wbGF0ZS5zYXZlcy5zbG90IiwiU2xvdCAkMSIsezE6aX0pDQoJCQkJbGV0IHRpbWUgPSBudWxsOw0KCQkJCWlmIChzYXZlKSB7DQoJCQkJCWxldCBwYXJzZWQgPSBKU09OLnBhcnNlKHNhdmUpOw0KCQkJCQluYW1lID0gcGFyc2VkLm1ldGEubmFtZSB8fCBsYW5nS2V5KCJndWkuc2F2ZXMudW5uYW1lZCIsIlVubmFtZWQiKTsNCgkJCQkJdGltZSA9IHBhcnNlZC5tZXRhLnVwZGF0ZWQgfHwgcGFyc2VkLm1ldGEuY3JlYXRlZCB8fCBudWxsOw0KCQkJCX0NCg0KCQkJCXNhdmVJdGVtcy5wdXNoKHsNCgkJCQkJbmFtZTogbmFtZSwNCgkJCQkJc2xvdDogaSwNCgkJCQkJZW1wdHk6IHNhdmUgPT0gbnVsbCwNCgkJCQkJdGltZTogdGltZQ0KCQkJCX0pDQoJCQl9DQoJCQlkaXNwbGF5U2F2ZXNMaXN0KCJzYXZlU2xvdExpc3QiLCBzYXZlSXRlbXMsIHRydWUpOw0KCQkJc2F2ZXNQYXJlbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQlzaG93aW5nTWVudSA9ICJzYXZlcyI7DQoJCX0NCgkJZnVuY3Rpb24gc2hvd09ubGluZVdhcm5pbmcoY2FsbGJhY2spIHsNCgkJCWlmIChzZXR0aW5ncy5vbmxpbmVXYXJuaW5nKSB7DQoJCQkJY2FsbGJhY2soKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlwcm9tcHRDb25maXJtKCJDb21tdW5pdHktbWFkZSBzYXZlcyBhcmUgbW9kZXJhdGVkLCBidXQgc29tZSBtYXkgbm90IGJlIGFwcHJvcHJpYXRlIGZvciBldmVyeW9uZS4gWW91IG11c3QgYmUgMTMgeWVhcnMgb2xkIG9yIG9sZGVyIHRvIHZpZXcgdGhpcyBjb250ZW50LlxuXG5Db25maXJtIGlmIHlvdSBhcmUgYXQgbGVhc3QgMTMgeWVhcnMgb2xkLiIsIChyKSA9PiB7DQoJCQkJaWYgKHIpIHsNCgkJCQkJc2V0dGluZ3Mub25saW5lV2FybmluZyA9IHRydWU7DQoJCQkJCXNhdmVTZXR0aW5ncygpOw0KCQkJCQljYWxsYmFjaygpOw0KCQkJCX0NCgkJCX0sDQoJCQkJIldhcm5pbmciLA0KCQkJCXRydWUNCgkJCSk7DQoJCX0NCgkJZnVuY3Rpb24gc2hvd0ZlYXR1cmVkU2F2ZXMoKSB7DQoJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVGZWF0dXJlZExpc3QiKS5nZXRBdHRyaWJ1dGUoImRvbmUiKSkgcmV0dXJuOw0KCQkJdmFyIHNhdmVJdGVtcyA9IFtdOw0KDQoJCQkvLyBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vUjc0bkNvbS9TYW5kYm94ZWxzLUZlYXR1cmVkLVNhdmVzL3JlZnMvaGVhZHMvbWFpbi9tZXRhLmpzb24NCg0KCQkJZmV0Y2goImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9SNzRuQ29tL1NhbmRib3hlbHMtRmVhdHVyZWQtU2F2ZXMvcmVmcy9oZWFkcy9tYWluL21ldGEuanNvbiIpLnRoZW4ocmVzID0+IHJlcy50ZXh0KCkpDQoJCQkudGhlbihyZXMgPT4gew0KCQkJCUpTT04ucGFyc2UocmVzKS5mb3JFYWNoKGluZm8gPT4gew0KCQkJCQlzYXZlSXRlbXMucHVzaCh7DQoJCQkJCQluYW1lOiBpbmZvLmZpbGUucmVwbGFjZSgvXC5zYnhscyQvLCIiKSwNCgkJCQkJCWF1dGhvcjogaW5mby5hdXRob3IsDQoJCQkJCQlmaWxlbmFtZTogaW5mby5maWxlLA0KCQkJCQkJdXJsOiAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1I3NG5Db20vU2FuZGJveGVscy1GZWF0dXJlZC1TYXZlcy9yZWZzL2hlYWRzL21haW4vc2F2ZXMvIitpbmZvLmZpbGUNCgkJCQkJfSkNCgkJCQl9KQ0KDQoJCQkJZGlzcGxheVNhdmVzTGlzdCgic2F2ZUZlYXR1cmVkTGlzdCIsIHNhdmVJdGVtcywgdHJ1ZSk7DQoJCQl9KQ0KCQkJLmNhdGNoKGVycm9yID0+IHsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZUZlYXR1cmVkTGlzdCIpLmlubmVyVGV4dCA9ICJFUlJPUjogQ291bGQgbm90IGNvbm5lY3QiOw0KCQkJfSk7DQoNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlRmVhdHVyZWRMaXN0Iikuc2V0QXR0cmlidXRlKCJkb25lIiwidHJ1ZSIpOw0KCQl9DQoJCWFzeW5jIGZ1bmN0aW9uIGdldERpc2NvcmRTYXZlcyhjbGVhcikgew0KCQkJY29uc3Qgc2F2ZURpc2NvcmRMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVEaXNjb3JkTGlzdCIpOw0KCQkJaWYgKGNsZWFyKSB7DQoJCQkJc2F2ZURpc2NvcmRMaXN0LnNldEF0dHJpYnV0ZSgiZGF0YS1wYWdlIiwiMSIpOw0KCQkJCXNhdmVEaXNjb3JkTGlzdC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtZG9uZSIpOw0KCQkJfQ0KCQkJZWxzZSBpZiAoc2F2ZURpc2NvcmRMaXN0LmdldEF0dHJpYnV0ZSgiZGF0YS1kb25lIikpIHJldHVybjsNCgkJCWNvbnN0IGRpc2NvcmRTZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGlzY29yZFNlYXJjaCIpOw0KCQkJbGV0IHNlYXJjaCA9IGRpc2NvcmRTZWFyY2gudmFsdWUudHJpbSgpIHx8IHVuZGVmaW5lZDsNCgkJCWNvbnN0IGRpc2NvcmRGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGlzY29yZEZpbHRlciIpOw0KCQkJbGV0IHRhZyA9IGRpc2NvcmRGaWx0ZXIudmFsdWUgfHwgdW5kZWZpbmVkOw0KCQkJbGV0IHBhZ2UgPSBwYXJzZUludChzYXZlRGlzY29yZExpc3QuZ2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UiKSkgfHwgMTsNCgkJCWxldCBzb3J0ID0gImxpa2VzRGVzYyI7DQoJCQlpZiAodGFnID09PSAiUmVjZW50Iikgew0KCQkJCXNvcnQgPSAibmV3ZXN0IjsNCgkJCQl0YWcgPSB1bmRlZmluZWQ7DQoJCQl9DQoJCQllbHNlIGlmICh0YWcgPT09ICJQb3B1bGFyIikgew0KCQkJCXNvcnQgPSAibGlrZXNEZXNjIjsNCgkJCQl0YWcgPSB1bmRlZmluZWQ7DQoJCQl9DQoJCQlzYXZlRGlzY29yZExpc3Quc2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UiLHBhZ2UudG9TdHJpbmcoKSk7DQoNCgkJCWxldCB1cmwgPSAoc3RhbmRhbG9uZVR5cGUgPT09ICJkaXNjb3JkIiA/ICIvLnByb3h5L2FwaSIgOiAiaHR0cHM6Ly9zYW5kYm94ZWxzLmxpdmUvYnJvd3Nlci9hcGkiKSArICIvdGhyZWFkcz9saW1pdD0xMCYiOw0KCQkJdXJsICs9ICJwYWdlPSIrcGFnZSsiJiI7DQoJCQlpZiAoc29ydCkgdXJsICs9ICJzb3J0PSIrc29ydCsiJiI7DQoJCQlpZiAodGFnKSB1cmwgKz0gInRhZ3M9Iit0YWcrIiYiOw0KCQkJaWYgKHNlYXJjaCkgdXJsICs9ICJzZWFyY2g9IitzZWFyY2grIiYiOw0KCQkJdXJsID0gdXJsLnN1YnN0cmluZygwLHVybC5sZW5ndGgtMSk7DQoNCgkJCWxldCBzYXZlSXRlbXMgPSBbXTsNCg0KCQkJbGV0IHJlc3BvbnNlOw0KCQkJbGV0IGpzb247DQoJCQl0cnkgew0KCQkJCXJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IG1ldGhvZDogJ0dFVCcgfSk7DQoJCQkJanNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsNCgkJCX0NCgkJCWNhdGNoIChlKSB7DQoJCQkJc2F2ZURpc2NvcmRMaXN0LmlubmVyVGV4dCA9ICJFUlJPUjogQ291bGQgbm90IGNvbm5lY3QiOw0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJaWYgKGpzb24udGhyZWFkcy5sZW5ndGgpIHsNCgkJCQlzYXZlRGlzY29yZExpc3Quc2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UiLHBhZ2UgKyAxKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCXNhdmVEaXNjb3JkTGlzdC5zZXRBdHRyaWJ1dGUoImRhdGEtZG9uZSIsInRydWUiKTsNCgkJCX0NCg0KCQkJanNvbi50aHJlYWRzLmZvckVhY2goKGl0ZW0pID0+IHsNCgkJCQlpZiAoIWl0ZW0pIHJldHVybjsNCgkJCQlpZiAoIXRhZyAmJiAhc2VhcmNoICYmIHNvcnQgIT09ICJuZXdlc3QiICYmIGl0ZW0udGFncyAmJiBpdGVtLnRhZ3MuaW5jbHVkZXMoIk1vZGRlZCIpKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJc2F2ZUl0ZW1zLnB1c2goew0KCQkJCQluYW1lOiBpdGVtLm5hbWUsDQoJCQkJCXRpbWU6IGl0ZW0udGltZXN0YW1wLA0KCQkJCQl0YWdzOiAoaXRlbS50YWdzICYmIGl0ZW0udGFnc1swXSkgPyBpdGVtLnRhZ3MgOiB1bmRlZmluZWQsDQoJCQkJCW1vZGRlZDogaXRlbS50YWdzICYmIGl0ZW0udGFncy5pbmNsdWRlcygiTW9kZGVkIiksDQoJCQkJCXVybDogaXRlbS5zYXZlVVJMLA0KCQkJCQl2aWV3TGluazogaXRlbS5saW5rLA0KCQkJCQlhdXRob3I6IGl0ZW0uYXV0aG9yLA0KCQkJCQlpbWFnZTogImh0dHBzOi8vc2FuZGJveGVscy5saXZlL2Jyb3dzZXIvYXBpL2ltYWdlcy8iK2l0ZW0uaWQNCgkJCQl9KQ0KCQkJfSk7DQoNCgkJCWRpc3BsYXlTYXZlc0xpc3QoInNhdmVEaXNjb3JkTGlzdCIsIHNhdmVJdGVtcywgY2xlYXIpOw0KCQkJd2luZG93LmlzTG9hZGluZ0Rpc2NvcmQgPSBmYWxzZTsNCgkJfQ0KCQlmdW5jdGlvbiBzaG93RGlzY29yZFNhdmVzKCkgew0KCQkJY29uc3QgZGlzY29yZEZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaXNjb3JkRmlsdGVyIik7DQoJCQlpZiAoIWRpc2NvcmRGaWx0ZXIuZ2V0QXR0cmlidXRlKCJkYXRhLWxvYWRlZCIpKSB7DQoJCQkJZm9yIChsZXQgdGFnSUQgaW4gc2F2ZVRhZ3MpIHsNCgkJCQkJbGV0IHRhZ05hbWUgPSB0YWdJRCA9PSAiNiIgPyAiQ29va2luZyIgOiBzYXZlVGFnc1t0YWdJRF07DQoJCQkJCXRhZ0lEID0gcGFyc2VJbnQodGFnSUQpOw0KCQkJCQlpZiAodGFnSUQgPT09IDEwIHx8IHRhZ0lEID09PSAxMyB8fCB0YWdJRCA9PT0gMTQpIGNvbnRpbnVlOw0KCQkJCQlkaXNjb3JkRmlsdGVyLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwNCgkJCQkJCWA8b3B0aW9uIHZhbHVlPSIke3RhZ05hbWV9Ij4ke3RhZ05hbWV9PC9vcHRpb24+YA0KCQkJCQkpOw0KCQkJCX0NCgkJCQlkaXNjb3JkRmlsdGVyLnNldEF0dHJpYnV0ZSgiZGF0YS1sb2FkZWQiLCAidHJ1ZSIpOw0KCQkJfQ0KDQoJCQlnZXREaXNjb3JkU2F2ZXModHJ1ZSk7DQoJCX0NCg0KCQlmdW5jdGlvbiBoYW5kbGVEaXNjb3JkU2Nyb2xsKGVsZW0pIHsNCgkJCWlmIChlbGVtLnNjcm9sbFRvcCA+PSAoZWxlbS5zY3JvbGxIZWlnaHQgLSBlbGVtLm9mZnNldEhlaWdodCAtIDEwMCkpIHsNCgkJCQlpZiAod2luZG93LmlzTG9hZGluZ0Rpc2NvcmQpIHJldHVybjsNCgkJCQl3aW5kb3cuaXNMb2FkaW5nRGlzY29yZCA9IHRydWU7DQoNCgkJCQkvLyBjb25zdCBzYXZlRGlzY29yZExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZURpc2NvcmRMaXN0Iik7DQoJCQkJLy8gbGV0IHBhZ2UgPSBwYXJzZUludChzYXZlRGlzY29yZExpc3QuZ2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UiKSkgKyAxOw0KCQkJCS8vIHNhdmVEaXNjb3JkTGlzdC5zZXRBdHRyaWJ1dGUoImRhdGEtcGFnZSIscGFnZS50b1N0cmluZygpKTsNCg0KCQkJCWdldERpc2NvcmRTYXZlcygpOw0KCQkJfQ0KCQl9DQoJCXdpbmRvdy5kaXNjb3JkU2VhcmNoVGltZW91dCA9IG51bGw7DQoJCXdpbmRvdy5kaXNjb3JkU2VhcmNoQ2hhbmdlID0gZnVuY3Rpb24oKSB7DQoJCQlpZiAoZGlzY29yZFNlYXJjaFRpbWVvdXQpIGNsZWFyVGltZW91dChkaXNjb3JkU2VhcmNoVGltZW91dCk7DQoNCgkJCWRpc2NvcmRTZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dChkaXNjb3JkU2VhcmNoQ29tcGxldGUsIDUwMCk7DQoJCX0NCgkJd2luZG93LmRpc2NvcmRTZWFyY2hDb21wbGV0ZSA9IGZ1bmN0aW9uKCkgew0KCQkJc2hvd0Rpc2NvcmRTYXZlcygpOw0KCQl9DQoNCgkJZnVuY3Rpb24gZGlzcGxheVNhdmVzTGlzdChlbGVtaWQsZGF0YSxjbGVhcikgew0KCQkJdmFyIHNhdmVMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWlkKTsNCgkJCWlmIChjbGVhcikgc2F2ZUxpc3QuaW5uZXJIVE1MID0gIiI7DQoJCQlsZXQgbm93ID0gRGF0ZS5ub3coKTsNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgew0KCQkJCWNvbnN0IGl0ZW0gPSBkYXRhW2ldOw0KCQkJCWlmICghaXRlbSkgY29udGludWU7DQoNCgkJCQlsZXQgbmFtZSA9IGl0ZW0ubmFtZSB8fCBsYW5nS2V5KCJndWkuc2F2ZXMudW5uYW1lZCIsIlVubmFtZWQiKTsNCgkJCQkvLyB0cnVuY2F0ZQ0KCQkJCWlmIChuYW1lLmxlbmd0aCA+IDMyKSB7IG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLDMyKSsiLi4uIjsgfQ0KCQkJCWxldCBzbG90ID0gaXRlbS5zbG90IHx8IG51bGw7DQoJCQkJbGV0IHVybCA9IGl0ZW0udXJsIHx8IG51bGw7DQoJCQkJbGV0IGF1dGhvcjsNCgkJCQlpZiAoaXRlbS5hdXRob3IpIGF1dGhvciA9ICJieSAiK2l0ZW0uYXV0aG9yOw0KDQoJCQkJbGV0IHRpbWUgPSBpdGVtLnRpbWUgfHwgbnVsbDsNCgkJCQlsZXQgZGF5cyA9IG51bGw7DQoJCQkJaWYgKHRpbWUpIHsNCgkJCQkJbGV0IGVsYXBzZWQgPSBub3cgLSB0aW1lOw0KCQkJCQlkYXlzID0gcnRmLmZvcm1hdCgtTWF0aC5yb3VuZChlbGFwc2VkLzEwMDAvMjQvNjAvNjApLCAiZGF5Iik7DQoJCQkJfQ0KDQoJCQkJbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQoJCQkJc3Bhbi5jbGFzc05hbWUgPSAic2F2ZVNsb3QiOw0KCQkJCWlmIChzbG90KSBzcGFuLnNldEF0dHJpYnV0ZSgiaWQiLCJzYXZlU2xvdCIrc2xvdCk7DQoJCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5maWxlbmFtZSAmJiBjdXJyZW50U2F2ZURhdGEuZmlsZW5hbWUgPT09IGl0ZW0uZmlsZW5hbWUpIHNwYW4uY2xhc3NMaXN0LmFkZCgiY3VycmVudCIpDQoJCQkJZWxzZSBpZiAoY3VycmVudFNhdmVEYXRhLnNsb3QgJiYgY3VycmVudFNhdmVEYXRhLnNsb3QgPT09IGl0ZW0uc2xvdCkgc3Bhbi5jbGFzc0xpc3QuYWRkKCJjdXJyZW50IikNCgkJCQlzcGFuLnNldEF0dHJpYnV0ZSgiZGF0YS1uYW1lIixuYW1lKTsNCgkJCQkNCgkJCQlsZXQgbmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQoJCQkJbmFtZVNwYW4uY2xhc3NOYW1lID0gInNhdmVTbG90TmFtZSI7DQoJCQkJbmFtZVNwYW4uaW5uZXJUZXh0ID0gbmFtZTsNCg0KCQkJCWlmIChpdGVtLmltYWdlKSB7DQoJCQkJCWxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKQ0KCQkJCQlpbWcuY2xhc3NOYW1lID0gInNhdmVTbG90SW1hZ2UiOw0KCQkJCQlpbWcuc3JjID0gaXRlbS5pbWFnZTsNCgkJCQkJc3Bhbi5hcHBlbmRDaGlsZChpbWcpOw0KCQkJCX0NCg0KCQkJCWlmIChpdGVtLnVybCB8fCBpdGVtLnZpZXdMaW5rKSB7DQoJCQkJCWxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOw0KCQkJCQlsaW5rLmlubmVyVGV4dCA9ICJWaWV3IjsNCgkJCQkJbGluay5jbGFzc05hbWUgPSAidGV4dGljb24iOw0KCQkJCQlpZiAoc3RhbmRhbG9uZSAmJiBpdGVtLndvcmtzaG9wKSB7DQoJCQkJCQlsaW5rLnNldEF0dHJpYnV0ZSgiaHJlZiIsaXRlbS52aWV3TGluayB8fCBpdGVtLnVybCk7DQoJCQkJCQlsaW5rLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwiX2JsYW5rIik7DQoJCQkJCQlsaW5rLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpPT57DQoJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJCXdpbmRvdy52aWV3V29ya3Nob3AoaXRlbS53b3Jrc2hvcCk7DQoJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJfSkNCgkJCQkJCWxpbmsuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk9wZW4gV29ya3Nob3AiKTsNCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCWxpbmsuc2V0QXR0cmlidXRlKCJocmVmIixpdGVtLnZpZXdMaW5rIHx8IGl0ZW0udXJsKTsNCgkJCQkJCWxpbmsuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCJfYmxhbmsiKTsNCgkJCQkJCWxpbmsuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk9wZW4gZXh0ZXJuYWwgbGluayIpOw0KCQkJCQl9DQoJCQkJCW5hbWVTcGFuLmluc2VydEFkamFjZW50VGV4dCgiYmVmb3JlZW5kIiwgIiAiKQ0KCQkJCQluYW1lU3Bhbi5hcHBlbmRDaGlsZChsaW5rKTsNCgkJCQl9DQoNCgkJCQlzcGFuLmFwcGVuZENoaWxkKG5hbWVTcGFuKTsNCg0KCQkJCWxldCBzdWJzID0gW107DQoJCQkJDQoJCQkJaWYgKGF1dGhvcikgew0KCQkJCQlzdWJzLnB1c2goYXV0aG9yKTsNCgkJCQl9DQoJCQkJaWYgKGl0ZW0ubW9kZGVkKSB7DQoJCQkJCXN1YnMucHVzaCgiTW9kZGVkIikNCgkJCQl9DQoJCQkJaWYgKGRheXMpIHsNCgkJCQkJc3Vicy5wdXNoKGRheXMpDQoJCQkJfQ0KDQoJCQkJaWYgKHN1YnMpIHsNCgkJCQkJbGV0IHN1YlNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQoJCQkJCXN1YlNwYW4uY2xhc3NOYW1lID0gInNhdmVTbG90U3ViIjsNCgkJCQkJc3ViU3Bhbi5pbm5lclRleHQgPSBzdWJzLmpvaW4oIiDigKIgIik7DQoJCQkJCXNwYW4uYXBwZW5kQ2hpbGQoc3ViU3Bhbik7DQoJCQkJfQ0KDQoJCQkJc3Bhbi5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsc2F2ZU1lbnVPcHRpb25zKGl0ZW0pKTsNCg0KCQkJCXNhdmVMaXN0LmFwcGVuZENoaWxkKHNwYW4pOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIGxvYWRTYXZlVVJMKHVybCkgew0KCQkJcHJvbXB0VGV4dCgiUGxlYXNlIGhvbGQgOikiLHVuZGVmaW5lZCwiTG9hZGluZyBTYXZlLi4uIik7DQoJCQlmZXRjaCh1cmwpLnRoZW4ocmVzID0+IHJlcy50ZXh0KCkpDQoJCQkudGhlbihyZXMgPT4gew0KCQkJCWxvYWRTYXZlKEpTT04ucGFyc2UocmVzKSk7DQoJCQkJY3VycmVudFNhdmVEYXRhLmZpbGVuYW1lID0gdXJsLm1hdGNoKC9cL1teXC9dKyQvZylbMF0uc3Vic3RyaW5nKDEpOw0KDQoJCQkJLy8gY2xvc2VNZW51KCk7DQoJCQl9KQ0KCQkJLmNhdGNoKGVycm9yID0+IHsNCgkJCQlwcm9tcHRUZXh0KCJUaGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyB0aGlzIHNhdmU6XG5cbiIrZXJyb3IsdW5kZWZpbmVkLCJFcnJvciEiKTsNCgkJCX0pOw0KCQl9DQoJCWZ1bmN0aW9uIHNhdmVTbG90KGkpIHsNCgkJCXNhdmluZ1N0YXRlID0ge3Nsb3Q6aX07DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZU5hbWUiKS52YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlU2xvdCIraSkuZ2V0QXR0cmlidXRlKCJkYXRhLW5hbWUiKSB8fCAiU2xvdCAiK2k7DQoJCQlzaG93U2F2ZVByb21wdCgpOw0KCQl9DQoJCWZ1bmN0aW9uIGxvYWRTbG90KGkpIHsNCgkJCXZhciBzYXZlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlNhbmRib3hlbHNTYXZlcy8iK2kpOw0KCQkJaWYgKHNhdmUpIHsNCgkJCQlsYXN0U2F2ZUpTT04gPSBzYXZlOw0KCQkJCWxvYWRTYXZlKEpTT04ucGFyc2Uoc2F2ZSkpOw0KCQkJCWN1cnJlbnRTYXZlRGF0YS5zbG90ID0gcGFyc2VJbnQoaSk7DQoJCQkJY2xvc2VNZW51KCk7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gY2xlYXJTbG90KGkpIHsNCgkJCXByb21wdENvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBlcmFzZSBzYXZlIHNsb3QgIitpKyI/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4iLA0KCQkJCShyKSA9PiB7DQoJCQkJCWlmIChyKSBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiU2FuZGJveGVsc1NhdmVzLyIraSk7DQoJCQkJCXNob3dTYXZlcygpOw0KCQkJCX0sDQoJCQkJIkNsZWFyIFNsb3QiLA0KCQkJCXRydWUNCgkJCSkNCgkJfQ0KCQlmdW5jdGlvbiBjb25maXJtU2F2ZShjb25maXJtZWQ9MCkgew0KCQkJaWYgKCFzYXZpbmdTdGF0ZSkgeyByZXR1cm4gfQ0KCQkJY29uc29sZS5sb2coY29uZmlybWVkKTsNCgkJCWlmIChjb25maXJtZWQgPCAxICYmIHNhdmluZ1N0YXRlLnNsb3QgJiYgc2V0dGluZ3MucmVzZXR3YXJuaW5nIT09MCAmJiBsb2NhbFN0b3JhZ2VbIlNhbmRib3hlbHNTYXZlcy8iK3NhdmluZ1N0YXRlLnNsb3RdKSB7DQoJCQkJbGV0IHRlbXBTdGF0ZSA9IHNhdmluZ1N0YXRlOw0KCQkJCXByb21wdENvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGN1cnJlbnQgc2F2ZSBpbiBzbG90ICIrc2F2aW5nU3RhdGUuc2xvdCsiPyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIiwNCgkJCQkJKHIpID0+IHsNCgkJCQkJCXNhdmluZ1N0YXRlID0gdGVtcFN0YXRlOw0KCQkJCQkJaWYgKHIpIGNvbmZpcm1TYXZlKDEpOw0KCQkJCQl9LA0KCQkJCQkiT3ZlcndyaXRlIFNsb3QiDQoJCQkJKQ0KCQkJCXJldHVybjsNCgkJCX0NCgkJCXZhciBzYXZlTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlTmFtZSIpLnZhbHVlIHx8ICJVbm5hbWVkIjsNCgkJCXZhciBzYXZlVGVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlVGVtcCIpLmdldEF0dHJpYnV0ZSgic3RhdGUiKSA9PT0gIjEiOw0KCQkJdmFyIHNhdmVDb2xvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZUNvbG9ycyIpLmdldEF0dHJpYnV0ZSgic3RhdGUiKSA9PT0gIjEiOw0KCQkJdmFyIHNhdmVNb2RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVNb2RzIikuZ2V0QXR0cmlidXRlKCJzdGF0ZSIpID09PSAiMSI7DQoJCQl2YXIgc2F2ZVNldHRpbmdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVTZXR0aW5ncyIpLmdldEF0dHJpYnV0ZSgic3RhdGUiKSA9PT0gIjEiOw0KCQkJdmFyIHNhdmVSYXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVJhdyIpLmdldEF0dHJpYnV0ZSgic3RhdGUiKSA9PT0gIjEiOw0KCQkJdmFyIHNhdmVBdXRob3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZUF1dGhvciIpLnZhbHVlIHx8ICIiOw0KCQkJaWYgKHNhdmVBdXRob3IgJiYgIWN1cnJlbnRTYXZlRGF0YS5sb2FkZWQpIHsNCgkJCQlzZXRTZXR0aW5nKCJhdXRob3JOYW1lIixzYXZlQXV0aG9yKQ0KCQkJfQ0KCQkJdmFyIHNhdmVEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVEZXNjIikudmFsdWUgfHwgIiI7DQoJCQl2YXIgY29uZmlnID0ge25hbWU6c2F2ZU5hbWUsdGVtcDpzYXZlVGVtcCxtb2RzOnNhdmVNb2RzLHNldHRpbmdzOnNhdmVTZXR0aW5ncyxyYXc6c2F2ZVJhdyxrZWVwOltdLGF1dGhvcjpzYXZlQXV0aG9yLGRlc2M6c2F2ZURlc2MsdGFnczpbXX07DQoJCQlpZiAoc2F2ZVRlbXApIHsgY29uZmlnLmtlZXAucHVzaCgidGVtcCIpIH0NCgkJCWlmIChzYXZlQ29sb3JzKSB7IGNvbmZpZy5rZWVwLnB1c2goImNvbG9yIikgfQ0KCQkJdmFyIHNhdmVUYWdzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlVGFncyIpOw0KCQkJdmFyIGVuYWJsZWRUYWdzID0gc2F2ZVRhZ3NMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3N0YXRlPSIxIl0nKTsNCgkJCWVuYWJsZWRUYWdzLmZvckVhY2goKHRhZ0VsZW0pID0+IHsNCgkJCQljb25maWcudGFncy5wdXNoKHBhcnNlSW50KHRhZ0VsZW0uZ2V0QXR0cmlidXRlKCJkYXRhLXRhZyIpKSk7DQoJCQl9KQ0KCQkJaWYgKHN0YW5kYWxvbmVUeXBlID09PSAic3RlYW0iKSB7DQoJCQkJaWYgKHNhdmluZ1N0YXRlLm92ZXJ3cml0ZSkgew0KCQkJCQlvdmVyd3JpdGVTYXZlRmlsZUNvbmZpcm0oc2F2aW5nU3RhdGUub3ZlcndyaXRlLGdlbmVyYXRlU2F2ZSh1bmRlZmluZWQsY29uZmlnKSkNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCXdyaXRlU2F2ZUZpbGUoZ2VuZXJhdGVTYXZlKHVuZGVmaW5lZCxjb25maWcpKTsNCgkJCQl9DQoJCQkJY2xvc2VNZW51KCk7DQoJCQl9DQoJCQllbHNlIGlmIChzYXZpbmdTdGF0ZS5zbG90KSB7DQoJCQkJLy8gc2F2ZSBzdHJpbmdpZmllZCBnZW5lcmF0ZVNhdmUoKSB0byBsb2NhbFN0b3JhZ2UgU2FuZGJveGVsc1NhdmVzL2kNCgkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiU2FuZGJveGVsc1NhdmVzLyIrc2F2aW5nU3RhdGUuc2xvdCwgSlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGVTYXZlKHVuZGVmaW5lZCxjb25maWcpKSk7DQoJCQkJY2xvc2VNZW51KCk7DQoJCQkJc2hvd1NhdmVzKCk7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQkvLyBzYXZlIHRvIDxuYW1lPi5zYnhscw0KCQkJCXZhciBzYXZlID0gZ2VuZXJhdGVTYXZlKHVuZGVmaW5lZCxjb25maWcpOw0KCQkJCXZhciBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHNhdmUpXSwge3R5cGU6ICJhcHBsaWNhdGlvbi9qc29uIn0pOw0KCQkJCXZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOw0KCQkJCXZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOw0KCQkJCWEuaHJlZiA9IHVybDsNCgkJCQlhLmRvd25sb2FkID0gc2F2ZU5hbWUrIi5zYnhscyI7DQoJCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsNCgkJCQlhLmNsaWNrKCk7DQoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsNCgkJCQkJZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsNCgkJCQkJd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsNCgkJCQl9LCAwKTsNCgkJCQljbG9zZU1lbnUoKTsNCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiBzYXZlVG9GaWxlKCkgew0KCQkJc2F2aW5nU3RhdGUgPSB7c2xvdDpudWxsfTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlTmFtZSIpLnZhbHVlID0gIiI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZUF1dGhvciIpLnZhbHVlID0gIiI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZURlc2MiKS52YWx1ZSA9ICIiOw0KCQkJc2hvd1NhdmVQcm9tcHQoKTsNCgkJfQ0KCQlmdW5jdGlvbiBsb2FkRnJvbUZpbGUoKSB7DQoJCQl2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOw0KCQkJaW5wdXQudHlwZSA9ICJmaWxlIjsNCgkJCS8vIGlucHV0LmFjY2VwdCA9ICIuc2J4bHMsLmpzb24sLnR4dCx0ZXh0LyosYXBwbGljYXRpb24vanNvbiI7DQoJCQlpbnB1dC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7DQoJCQkJdmFyIGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsNCgkJCQl2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCgkJCQlyZWFkZXIucmVhZEFzVGV4dChmaWxlLCJVVEYtOCIpOw0KCQkJCXJlYWRlci5vbmxvYWQgPSByZWFkZXJFdmVudCA9PiB7DQoJCQkJCXZhciBjb250ZW50ID0gcmVhZGVyRXZlbnQudGFyZ2V0LnJlc3VsdDsNCgkJCQkJbGFzdFNhdmVKU09OID0gY29udGVudDsNCgkJCQkJbG9hZFNhdmUoSlNPTi5wYXJzZShjb250ZW50KSk7DQoJCQkJCWN1cnJlbnRTYXZlRGF0YS5maWxlbmFtZSA9IGZpbGUubmFtZTsNCgkJCQl9DQoJCQkJY2xvc2VNZW51KCk7DQoJCQl9KTsNCgkJCWlucHV0LmNsaWNrKCk7DQoJCX0NCgkJZnVuY3Rpb24gc2hvd1NhdmVQcm9tcHQoKSB7DQoJCQljbG9zZU1lbnUoKTsNCgkJCWlmICghc2F2aW5nU3RhdGUpIHJldHVybjsNCgkJCXZhciBzYXZlUHJvbXB0UGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9tcHRQYXJlbnQiKTsNCgkJCXZhciBzYXZlV2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlV2FybmluZyIpOw0KCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS5sb2FkZWQpIHsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZU5hbWUiKS52YWx1ZSA9IGN1cnJlbnRTYXZlRGF0YS5uYW1lIHx8ICIiOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlQXV0aG9yIikudmFsdWUgPSBjdXJyZW50U2F2ZURhdGEuYXV0aG9yIHx8ICIiOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlRGVzYyIpLnZhbHVlID0gY3VycmVudFNhdmVEYXRhLmRlc2MgfHwgIiI7DQoJCQl9DQoJCQllbHNlIGlmIChzZXR0aW5ncy5hdXRob3JOYW1lKSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVBdXRob3IiKS52YWx1ZSA9IHNldHRpbmdzLmF1dGhvck5hbWU7DQoJCQl9DQoJCQlzYXZlV2FybmluZy5pbm5lckhUTUwgPSAiPGJyPiINCgkJCXZhciBtZW51VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2F2ZVByb21wdE1lbnUgLm1lbnVUaXRsZSIpOw0KCQkJaWYgKHNhdmluZ1N0YXRlLnNsb3QgPT09IG51bGwpIHsNCgkJCQltZW51VGl0bGUuaW5uZXJIVE1MID0gbGFuZ0tleSgiZ3VpLnNhdmVQcm9tcHRUaXRsZS5maWxlIiwiU2F2ZSB0byBGaWxlIik7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQltZW51VGl0bGUuaW5uZXJIVE1MID0gbGFuZ0tleSgiZ3VpLnNhdmVQcm9tcHRUaXRsZS5zbG90IiwiU2F2ZSB0byBTbG90Iik7DQoJCQkJaWYgKGxvY2FsU3RvcmFnZVsiU2FuZGJveGVsc1NhdmVzLyIrc2F2aW5nU3RhdGUuc2xvdF0pIHsNCgkJCQkJc2F2ZVdhcm5pbmcuaW5uZXJIVE1MICs9ICI8YnI+PHNwYW4gc3R5bGU9J2NvbG9yOnJlZCc+IitsYW5nS2V5KCJndWl0ZW1wbGF0ZS5zYXZlcy5vdmVyd3JpdGUiLCJUaGlzIHdpbGwgb3ZlcndyaXRlIHRoZSBzYXZlIGluIHNsb3QgJDEhIix7MTpzYXZpbmdTdGF0ZS5zbG90fSkrIjwvc3Bhbj48YnI+PGJyPiI7DQoJCQkJfQ0KCQkJfQ0KCQkJdmFyIHNhdmVNb2RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVNb2RzIik7DQoJCQlpZiAoZW5hYmxlZE1vZHMubGVuZ3RoICE9PSAwKSB7DQoJCQkJc2F2ZU1vZHMuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOw0KCQkJCXNhdmVXYXJuaW5nLmlubmVySFRNTCArPSAiPGJyPiIrbGFuZ0tleSgiZ3VpLm1vZFdhcm5pbmciLCJNb2RzIG1pZ2h0IG5vdCBiZSBuZWNlc3NhcnkgdG8gaW5jbHVkZSwgYW5kIG1heSBhbm5veSB0aGUgdXNlciEiKSsiPGJyPjxicj4iOw0KCQkJfQ0KCQkJZWxzZSB7IHNhdmVNb2RzLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7IH0NCgkJCXZhciBzYXZlVGFnc1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVRhZ3NTcGFuIik7DQoJCQlpZiAoc2F2ZVRhZ3NTcGFuLnN0eWxlLmRpc3BsYXkgIT09ICJub25lIikgew0KCQkJCXZhciBzYXZlVGFnc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVRhZ3MiKTsNCgkJCQlzYXZlVGFnc0xpc3QuaW5uZXJIVE1MID0gIiI7DQoJCQkJLy8gPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlN0cnVjdHVyZS9DaXR5IiBkYXRhLXRhZz0iMSIgY2xhc3M9InRvZ2dsZUlucHV0IiBvbmNsaWNrPSJ0b2dnbGVJbnB1dCh0aGlzLHVuZGVmaW5lZCxmYWxzZSkiIHN0YXRlPSIwIj4NCgkJCQlmb3IgKGxldCB0YWdJRCBpbiBzYXZlVGFncykgew0KCQkJCQl0YWdJRCA9IHBhcnNlSW50KHRhZ0lEKTsNCgkJCQkJaWYgKHRhZ0lEID49IDkwKSBjb250aW51ZTsNCgkJCQkJbGV0IHRhZ05hbWUgPSBzYXZlVGFnc1t0YWdJRF07DQoJCQkJCXNhdmVUYWdzTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsYDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSIke3RhZ05hbWV9IiBkYXRhLXRhZz0iJHt0YWdJRH0iIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcyx1bmRlZmluZWQsZmFsc2UpIiBzdGF0ZT0iMCI+YCkNCgkJCQl9DQoJCQkJaWYgKGN1cnJlbnRTYXZlRGF0YS50YWdzKSB7DQoJCQkJCWN1cnJlbnRTYXZlRGF0YS50YWdzLmZvckVhY2goKHRhZ0lEKSA9PiB7DQoJCQkJCQlsZXQgdGFnRWxlbSA9IHNhdmVUYWdzTGlzdC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXRhZz0iJyt0YWdJRCsnIl0nKTsNCgkJCQkJCWlmICh0YWdFbGVtKSB0YWdFbGVtLnNldEF0dHJpYnV0ZSgic3RhdGUiLCIxIik7DQoJCQkJCX0pDQoJCQkJfQ0KCQkJfQ0KCQkJc2F2ZVByb21wdFBhcmVudC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCXNob3dpbmdNZW51ID0gInNhdmVQcm9tcHQiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVOYW1lIikuZm9jdXMoKTsNCgkJfQ0KCQlmdW5jdGlvbiBzaG93UHJvbXB0U2NyZWVuKCkgew0KCQkJaWYgKCFwcm9tcHRTdGF0ZSkgcmV0dXJuOw0KCQkJY2xvc2VNZW51KCJwcm9tcHQiKTsNCgkJCWlmICghcGF1c2VkKSB0b2dnbGVQYXVzZSgpOw0KCQkJdmFyIHByb21wdFBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9tcHRQYXJlbnQiKTsNCgkJCXZhciBtZW51VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcHJvbXB0TWVudSAubWVudVRpdGxlIik7DQoJCQltZW51VGl0bGUuaW5uZXJUZXh0ID0gcHJvbXB0U3RhdGUudGl0bGUgfHwgIk5vdGljZSI7DQoJCQltZW51VGl0bGUuc3R5bGUuY29sb3IgPSBwcm9tcHRTdGF0ZS50aXRsZUNvbG9yIHx8ICJ1bnNldCI7DQoJCQl2YXIgcHJvbXB0TWVudVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0TWVudVRleHQiKTsNCgkJCXByb21wdE1lbnVUZXh0LmlubmVyVGV4dCA9IHByb21wdFN0YXRlLnRleHQgfHwgIiI7DQoJCQlpZiAocHJvbXB0U3RhdGUuaHRtbCkgew0KCQkJCXByb21wdE1lbnVUZXh0Lmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIixwcm9tcHRTdGF0ZS5odG1sKTsNCgkJCX0NCgkJCWxldCBwcm9tcHRPSyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9tcHRPSyIpOw0KCQkJbGV0IHByb21wdENhbmNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9tcHRDYW5jZWwiKTsNCgkJCWxldCBwcm9tcHRDb25maXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb21wdENvbmZpcm0iKTsNCgkJCWxldCBwcm9tcHRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9tcHRJbnB1dCIpOw0KCQkJbGV0IHByb21wdENob2ljZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0Q2hvaWNlcyIpOw0KCQkJbGV0IHByb21wdERpcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0RGlycyIpOw0KCQkJcHJvbXB0T0suc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCXByb21wdENhbmNlbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJcHJvbXB0Q29uZmlybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJcHJvbXB0SW5wdXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCXByb21wdENob2ljZXMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCXByb21wdERpcnMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCXByb21wdENvbmZpcm0uY2xhc3NMaXN0LnJlbW92ZSgiZGFuZ2VyIik7DQoJCQlpZiAocHJvbXB0U3RhdGUudHlwZSA9PT0gInRleHQiKSB7DQoJCQkJcHJvbXB0T0suc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQl9DQoJCQllbHNlIGlmIChwcm9tcHRTdGF0ZS50eXBlID09PSAiY29uZmlybSIpIHsNCgkJCQlwcm9tcHRDYW5jZWwuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJcHJvbXB0Q29uZmlybS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCQlpZiAocHJvbXB0U3RhdGUuZGFuZ2VyKSBwcm9tcHRDb25maXJtLmNsYXNzTGlzdC5hZGQoImRhbmdlciIpOw0KCQkJfQ0KCQkJZWxzZSBpZiAocHJvbXB0U3RhdGUudHlwZSA9PT0gImlucHV0Iikgew0KCQkJCXByb21wdElucHV0LnZhbHVlID0gIiI7DQoJCQkJcHJvbXB0SW5wdXQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJaWYgKHByb21wdFN0YXRlLmRlZmF1bHRJbnB1dCAhPT0gdW5kZWZpbmVkKSB7DQoJCQkJCXByb21wdElucHV0LnZhbHVlID0gIiIrcHJvbXB0U3RhdGUuZGVmYXVsdElucHV0Ow0KCQkJCX0NCgkJCX0NCgkJCWVsc2UgaWYgKHByb21wdFN0YXRlLnR5cGUgPT09ICJjaG9vc2UiICYmIHByb21wdFN0YXRlLmNob2ljZXMpIHsNCgkJCQlwcm9tcHRDaG9pY2VzLmlubmVySFRNTCA9ICIiOw0KCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgcHJvbXB0U3RhdGUuY2hvaWNlcy5sZW5ndGg7IGkrKykgew0KCQkJCQljb25zdCBjaG9pY2UgPSBwcm9tcHRTdGF0ZS5jaG9pY2VzW2ldOw0KCQkJCQlsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsNCgkJCQkJc3Bhbi5jbGFzc05hbWUgPSAicHJvbXB0Q2hvaWNlIjsNCgkJCQkJc3Bhbi5vbmNsaWNrID0gZnVuY3Rpb24oKXsgaGFuZGxlUHJvbXB0KGNob2ljZSkgfTsNCgkJCQkJc3Bhbi5pbm5lclRleHQgPSBjaG9pY2U7DQoJCQkJCXByb21wdENob2ljZXMuYXBwZW5kQ2hpbGQoc3Bhbik7DQoJCQkJfQ0KCQkJCXByb21wdENob2ljZXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQl9DQoJCQllbHNlIGlmIChwcm9tcHRTdGF0ZS50eXBlID09PSAiZGlyIikgew0KCQkJCXByb21wdERpcnMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQl9DQoJCQlwcm9tcHRQYXJlbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQlzaG93aW5nTWVudSA9ICJwcm9tcHQiOw0KCQkJaWYgKHByb21wdFN0YXRlLnR5cGUgPT09ICJpbnB1dCIpIHsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0SW5wdXQiKS5mb2N1cygpOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9tcHRJbnB1dCIpLnNlbGVjdCgpOw0KCQkJfQ0KCQl9DQoJCWZ1bmN0aW9uIHNob3dTZXR0aW5ncygpIHsNCgkJCXZhciBzZXR0aW5nc1BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZXR0aW5nc1BhcmVudCIpOw0KCQkJc2V0dGluZ3NQYXJlbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQlzaG93aW5nTWVudSA9ICJzZXR0aW5ncyI7DQoJCX0NCgkJZnVuY3Rpb24gc2V0U2V0dGluZyhzZXR0aW5nLHZhbHVlKSB7DQoJCQlzZXR0aW5nc1tzZXR0aW5nXSA9IHZhbHVlOw0KCQkJc2F2ZVNldHRpbmdzKCk7DQoJCX0NCgkJZnVuY3Rpb24gdG9nZ2xlSW5wdXQoaW5wdXQsc2V0dGluZyx1cGRhdGVUZXh0KSB7DQoJCQlpZiAoaW5wdXQuZ2V0QXR0cmlidXRlKCJzdGF0ZSIpID09PSAiMCIpIHsNCgkJCQlpbnB1dC5zZXRBdHRyaWJ1dGUoInN0YXRlIiwiMSIpOw0KCQkJCWlmICh1cGRhdGVUZXh0ICE9PSBmYWxzZSkgeyBpbnB1dC52YWx1ZSA9ICJPTiI7IH0NCgkJCQlpZiAoc2V0dGluZykgeyBzZXRTZXR0aW5nKHNldHRpbmcsMSk7IH0NCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWlucHV0LnNldEF0dHJpYnV0ZSgic3RhdGUiLCIwIik7DQoJCQkJaWYgKHVwZGF0ZVRleHQgIT09IGZhbHNlKSB7IGlucHV0LnZhbHVlID0gIk9GRiI7IH0NCgkJCQlpZiAoc2V0dGluZykgeyBzZXRTZXR0aW5nKHNldHRpbmcsMCk7IH0NCgkJCX0NCgkJfQ0KCQlmdW5jdGlvbiBjaGVja01vdXNlU2l6ZShjaGFuZ2VkKSB7DQoJCQlpZiAoY2hhbmdlZCkgeyBsYXN0TW91c2VTaXplID0gbW91c2VTaXplIH0NCgkJCWVsc2UgaWYgKGxhc3RNb3VzZVNpemUpIHsgbW91c2VTaXplID0gbGFzdE1vdXNlU2l6ZSB9DQoJCQlpZiAobW91c2VTaXplIDwgMSkgeyBtb3VzZVNpemUgPSAxOyB9DQoJCQlpZiAoc2V0dGluZ3MubGltaXRsZXNzICYmICFlbGVtZW50c1tjdXJyZW50RWxlbWVudF0udG9vbCkgeyByZXR1cm4gfQ0KCQkJaWYgKG1vdXNlU2l6ZSA+IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5tYXhTaXplKSB7IG1vdXNlU2l6ZSA9IGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5tYXhTaXplOyB9DQoJCQlpZiAobW91c2VTaXplID4gKGhlaWdodCA+IHdpZHRoID8gKGhlaWdodCArIGhlaWdodCAlIDIpIDogKHdpZHRoICsgd2lkdGggJSAyKSkpIHsgbW91c2VTaXplID0gKGhlaWdodCA+IHdpZHRoID8gKGhlaWdodCArIGhlaWdodCAlIDIpIDogKHdpZHRoICsgd2lkdGggJSAyKSk7IH0NCgkJfQ0KCQlmdW5jdGlvbiBjbGVhckFsbFN0YWlucygpIHsNCgkJCWN1cnJlbnRQaXhlbHMuZm9yRWFjaCgocGl4ZWwpID0+IHsNCgkJCQlpZiAocGl4ZWwub3JpZ0NvbG9yKSBwaXhlbC5jb2xvciA9ICJyZ2IoIitwaXhlbC5vcmlnQ29sb3JbMF0rIiwiK3BpeGVsLm9yaWdDb2xvclsxXSsiLCIrcGl4ZWwub3JpZ0NvbG9yWzJdKyIpIjsNCgkJCX0pDQoJCX0NCgkJZnVuY3Rpb24gZ2VuZXJhdGVCb3JkZXIoZWxlbWVudCkgew0KCQkJbGV0IGNvb3JkcyA9IFtdOw0KCQkJZm9yIChsZXQgeCA9IDA7IHggPD0gd2lkdGg7IHgrKykgew0KCQkJCWNvb3Jkcy5wdXNoKFt4LDBdKTsNCgkJCQljb29yZHMucHVzaChbeCxoZWlnaHRdKTsNCgkJCX0NCgkJCWZvciAobGV0IHkgPSAwOyB5IDw9IGhlaWdodDsgeSsrKSB7DQoJCQkJY29vcmRzLnB1c2goWzAseV0pOw0KCQkJCWNvb3Jkcy5wdXNoKFt3aWR0aCx5XSk7DQoJCQl9DQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgew0KCQkJCWNvbnN0IGNvb3JkID0gY29vcmRzW2ldOw0KCQkJCWNvbnN0IHggPSBjb29yZFswXTsNCgkJCQljb25zdCB5ID0gY29vcmRbMV07DQoJCQkJaWYgKCFpc0VtcHR5KHgseSx0cnVlKSkgew0KCQkJCQlkZWxldGVQaXhlbCh4LHkpOw0KCQkJCX0NCgkJCQlpZiAoZWxlbWVudCAhPT0gbnVsbCkgY3JlYXRlUGl4ZWwoZWxlbWVudCwgeCwgeSk7DQoJCQl9DQoJCX0NCgkJZnVuY3Rpb24gdXBkYXRlQm9yZGVyKCkgew0KCQkJbGV0IGQgPSBjdXJyZW50U2F2ZURhdGE7DQoJCQlkLnZvaWRYID0gZmFsc2U7IGQudm9pZFkgPSBmYWxzZTsgZC5sb29wWCA9IGZhbHNlOyBkLmxvb3BZID0gZmFsc2U7DQoJCQlpZiAoc2V0dGluZ3MuYm9yZGVyICYmIGlzTmFOKHNldHRpbmdzLmJvcmRlcikpIHsNCgkJCQlkLnZvaWRYID0gdHJ1ZTsgZC52b2lkWSA9IHRydWU7DQoJCQkJZ2VuZXJhdGVCb3JkZXIoc2V0dGluZ3MuYm9yZGVyKTsNCgkJCQljdXJyZW50U2F2ZURhdGEuYm9yZGVyRWxlbSA9IHRydWU7DQoJCQl9DQoJCQllbHNlIGlmIChjdXJyZW50U2F2ZURhdGEuYm9yZGVyRWxlbSkgew0KCQkJCWN1cnJlbnRTYXZlRGF0YS5ib3JkZXJFbGVtID0gZmFsc2U7DQoJCQkJZ2VuZXJhdGVCb3JkZXIobnVsbCk7DQoJCQl9DQoJCQlpZiAoc2V0dGluZ3MuYm9yZGVyID09PSAxKSB7IGQudm9pZFggPSB0cnVlOyBkLnZvaWRZID0gdHJ1ZTsgfQ0KCQkJZWxzZSBpZiAoc2V0dGluZ3MuYm9yZGVyID09PSAyKSB7IGQubG9vcFggPSB0cnVlOyBkLmxvb3BZID0gdHJ1ZTsgfQ0KCQkJZWxzZSBpZiAoc2V0dGluZ3MuYm9yZGVyID09PSAzKSB7IGQubG9vcFggPSB0cnVlOyB9DQoJCX0NCgkJZnVuY3Rpb24gcHJvbXB0VGV4dCh0ZXh0LCBoYW5kbGVyLCB0aXRsZSkgew0KCQkJbGV0IHBhdXNlID0gZmFsc2U7DQoJCQlpZiAocHJvbXB0U3RhdGUpIHsgcGF1c2UgPSBwcm9tcHRTdGF0ZS53YXNQYXVzZWQgfQ0KCQkJZWxzZSBpZiAocGF1c2VkKSB7IHBhdXNlID0gdHJ1ZSB9DQoJCQlwcm9tcHRTdGF0ZSA9IHsNCgkJCQl0eXBlOiAidGV4dCIsDQoJCQkJdGV4dDogdGV4dCwNCgkJCQloYW5kbGVyOiBoYW5kbGVyLA0KCQkJCXRpdGxlOiB0aXRsZSB8fCAiTm90aWNlIiwNCgkJCQl3YXNQYXVzZWQ6IHBhdXNlDQoJCQl9DQoJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCX0NCgkJZnVuY3Rpb24gcHJvbXB0Q29uZmlybSh0ZXh0LCBoYW5kbGVyLCB0aXRsZSwgZGFuZ2VyKSB7DQoJCQlsZXQgcGF1c2UgPSBmYWxzZTsNCgkJCWlmIChwcm9tcHRTdGF0ZSkgeyBwYXVzZSA9IHByb21wdFN0YXRlLndhc1BhdXNlZCB9DQoJCQllbHNlIGlmIChwYXVzZWQpIHsgcGF1c2UgPSB0cnVlIH0NCgkJCXByb21wdFN0YXRlID0gew0KCQkJCXR5cGU6ICJjb25maXJtIiwNCgkJCQl0ZXh0OiB0ZXh0LA0KCQkJCWhhbmRsZXI6IGhhbmRsZXIsDQoJCQkJdGl0bGU6IHRpdGxlIHx8ICJBcmUgeW91IHN1cmU/IiwNCgkJCQl3YXNQYXVzZWQ6IHBhdXNlLA0KCQkJCWRhbmdlcjogZGFuZ2VyDQoJCQl9DQoJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCX0NCgkJZnVuY3Rpb24gcHJvbXB0SW5wdXQodGV4dCwgaGFuZGxlciwgdGl0bGUsIGRlZmF1bHRJbnB1dCkgew0KCQkJbGV0IHBhdXNlID0gZmFsc2U7DQoJCQlpZiAocHJvbXB0U3RhdGUpIHsgcGF1c2UgPSBwcm9tcHRTdGF0ZS53YXNQYXVzZWQgfQ0KCQkJZWxzZSBpZiAocGF1c2VkKSB7IHBhdXNlID0gdHJ1ZSB9DQoJCQlwcm9tcHRTdGF0ZSA9IHsNCgkJCQl0eXBlOiAiaW5wdXQiLA0KCQkJCXRleHQ6IHRleHQsDQoJCQkJaGFuZGxlcjogaGFuZGxlciwNCgkJCQl0aXRsZTogdGl0bGUgfHwgIklucHV0IiwNCgkJCQl3YXNQYXVzZWQ6IHBhdXNlLA0KCQkJCWRlZmF1bHRJbnB1dDogZGVmYXVsdElucHV0DQoJCQl9DQoJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCX0NCgkJZnVuY3Rpb24gcHJvbXB0Q2hvb3NlKHRleHQsIGNob2ljZXMsIGhhbmRsZXIsIHRpdGxlKSB7DQoJCQlsZXQgcGF1c2UgPSBmYWxzZTsNCgkJCWlmIChwcm9tcHRTdGF0ZSkgeyBwYXVzZSA9IHByb21wdFN0YXRlLndhc1BhdXNlZCB9DQoJCQllbHNlIGlmIChwYXVzZWQpIHsgcGF1c2UgPSB0cnVlIH0NCgkJCXByb21wdFN0YXRlID0gew0KCQkJCXR5cGU6ICJjaG9vc2UiLA0KCQkJCXRleHQ6IHRleHQsDQoJCQkJY2hvaWNlczogY2hvaWNlcywNCgkJCQloYW5kbGVyOiBoYW5kbGVyLA0KCQkJCXRpdGxlOiB0aXRsZSB8fCAiQ2hvb3NlIiwNCgkJCQl3YXNQYXVzZWQ6IHBhdXNlDQoJCQl9DQoJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCX0NCgkJZnVuY3Rpb24gcHJvbXB0RGlyKHRleHQsIGhhbmRsZXIsIHRpdGxlKSB7DQoJCQlsZXQgcGF1c2UgPSBmYWxzZTsNCgkJCWlmIChwcm9tcHRTdGF0ZSkgeyBwYXVzZSA9IHByb21wdFN0YXRlLndhc1BhdXNlZCB9DQoJCQllbHNlIGlmIChwYXVzZWQpIHsgcGF1c2UgPSB0cnVlIH0NCgkJCXByb21wdFN0YXRlID0gew0KCQkJCXR5cGU6ICJkaXIiLA0KCQkJCXRleHQ6IHRleHQsDQoJCQkJaGFuZGxlcjogaGFuZGxlciwNCgkJCQl0aXRsZTogdGl0bGUgfHwgIkRpcmVjdGlvbiIsDQoJCQkJd2FzUGF1c2VkOiBwYXVzZQ0KCQkJfQ0KCQkJc2hvd1Byb21wdFNjcmVlbigpOw0KCQl9DQoJCWZ1bmN0aW9uIGhhbmRsZVByb21wdChyZXN1bHQpIHsNCgkJCWlmICghcHJvbXB0U3RhdGUpIHJldHVybjsNCgkJCWlmICghcHJvbXB0U3RhdGUud2FzUGF1c2VkICYmIHBhdXNlZCkgdG9nZ2xlUGF1c2UoKTsNCgkJCWxldCBoYW5kbGVyID0gcHJvbXB0U3RhdGUuaGFuZGxlcjsNCgkJCWNsb3NlTWVudSgpOw0KCQkJcHJvbXB0U3RhdGUgPSBudWxsOw0KCQkJaWYgKGhhbmRsZXIpIGhhbmRsZXIocmVzdWx0KTsNCgkJCWlmIChwcm9tcHRTdGF0ZSAmJiBzaG93aW5nTWVudSAhPT0gInByb21wdCIpIHsNCgkJCQlzaG93UHJvbXB0U2NyZWVuKCk7DQoJCQl9DQoJCX0NCgkJLy8gaWYgKHByb21wdFN0YXRlICYmIChuZXcgRGF0ZSgpIC0gcHJvbXB0U3RhdGUuc3RhcnQpIDwgMTAwKSByZXR1cm4gZmFsc2U7DQoNCgkJc2hpZnREb3duID0gMDsNCgkJc2hhcGluZyA9IDA7DQoJCXNoYXBlU3RhcnQgPSBudWxsOw0KCQlwbGFjaW5nSW1hZ2UgPSBudWxsOw0KCQlkcmFnU3RhcnQgPSBudWxsOw0KCQlkcmFnZ2luZ1BpeGVscyA9IG51bGw7DQoJCWxvb2t1cFRlbXBFbGVtZW50cyA9IHt9Ow0KCQloaWRpbmcgPSBmYWxzZTsNCgkJLy8gT24gd2luZG93IGxvYWQsIHJ1biB0aWNrKCkgMzAgdGltZXMgcGVyIHNlY29uZA0KCQl0cHMgPSAzMDsNCgkJdGlja0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDAvdHBzKTsNCgkJZnVuY3Rpb24gcmVzZXRJbnRlcnZhbChuZXd0cHM9MzApIHsNCgkJCXdpbmRvdy5jbGVhckludGVydmFsKHRpY2tJbnRlcnZhbCk7DQoJCQl0aWNrSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGljaywgMTAwMC9uZXd0cHMpOw0KCQl9DQoJCXJlbmRlckludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGRyYXdMYXllcnMsIDEwMDAvNjApOw0KCQlsYXN0UGl4ZWxEcmF3ID0gLTEwOw0KCQlwaXhlbFRpY2tzID0gMDsNCg0KCQltb2RlID0gbnVsbDsNCgkJdmlldyA9IDE7DQoJCWlmIChzZXR0aW5ncy52aWV3KSB7DQoJCQlzZXRWaWV3KHNldHRpbmdzLnZpZXcpDQoJCX0NCgkJcGF1c2VkID0gdHJ1ZTsNCgkJZnVuY3Rpb24gZm9jdXNHYW1lKCkgeyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZSIpLmZvY3VzKCk7IGlmKHNob3dpbmdNZW51KSB7IGNsb3NlTWVudSgpOyB9IH0NCg0KCQlhdXRvRWxlbWVudHMgPSB7DQoJCSJtb2x0ZW4iOiB7IC8vIFNvbGlkIC0+IExpcXVpZA0KCQkJcmdiOiBbIFsyLDEuMjUsMC41XSwgWzIsMSwwLjVdLCBbMiwwLjc1LDBdIF0sDQoJCQliZWhhdmlvcjogYmVoYXZpb3JzLk1PTFRFTiwNCgkJCXR5cGU6ICJoaWdoIiwNCgkJCXZpc2Nvc2l0eTogMTAwMDAsDQoJCQloaWRkZW46IHRydWUsDQoJCQlzdGF0ZTogImxpcXVpZCIsDQoJCQl0ZW1wRGlmZjogLTEwMA0KCQl9LA0KCQkiZnJvemVuIjogeyAvLyBMaXF1aWQgLT4gU29saWQNCgkJCXJnYjogWyBbMS4yLDEuMiwxLjNdIF0sDQoJCQliZWhhdmlvcjogYmVoYXZpb3JzLldBTEwsDQoJCQl0eXBlOiAibG93IiwNCgkJCWhpZGRlbjogdHJ1ZSwNCgkJCXN0YXRlOiAic29saWQiDQoJCX0sDQoJCSJjb25kZW5zZSI6IHsgLy8gR2FzIC0+IExpcXVpZA0KCQkJcmdiOiBbIFswLjUsMC41LDAuNV0gXSwNCgkJCWJlaGF2aW9yOiBiZWhhdmlvcnMuTElRVUlELA0KCQkJdHlwZTogImxvdyIsDQoJCQloaWRkZW46IHRydWUsDQoJCQlzdGF0ZTogImxpcXVpZCINCgkJfSwNCgkJInZhcG9yaXplIjogeyAvLyBMaXF1aWQgLT4gR2FzDQoJCQlyZ2I6IFsgWzEuNSwxLjUsMS41XSBdLA0KCQkJYmVoYXZpb3I6IGJlaGF2aW9ycy5HQVMsDQoJCQl0eXBlOiAiaGlnaCIsDQoJCQloaWRkZW46IHRydWUsDQoJCQlzdGF0ZTogImdhcyINCgkJfQ0KCX0NCg0KLy8gQXV0b21hdGljIG1vbHRlbiBlbGVtZW50IGdlbmVyYXRpb24NCmZ1bmN0aW9uIGF1dG9HZW4obmV3bmFtZSxlbGVtZW50LGF1dG9UeXBlKSB7DQoJdmFyIGF1dG9JbmZvID0gYXV0b0VsZW1lbnRzW2F1dG9UeXBlXTsNCgl2YXIgbmV3Y29sb3IgPSBlbGVtZW50c1tlbGVtZW50XS5jb2xvck9iamVjdDsNCglpZiAoIW5ld2NvbG9yKSB7IG5ld2NvbG9yID0ge3I6MjU1LGc6MjU1LGI6MjU1fSB9Ow0KCXZhciBjb2xvckxpc3QgPSBbXTsNCgl2YXIgY29sb3JPYmplY3RMaXN0ID0gW107DQoJLy8gaWYgbmV3Y29sb3IgaXMgbm90IGFuIGFycmF5LCBwdXQgaXQgaW4gYW4gYXJyYXkNCglpZiAoIShuZXdjb2xvciBpbnN0YW5jZW9mIEFycmF5KSkgeyBuZXdjb2xvciA9IFtuZXdjb2xvcl07IH0NCgkvLyBmb3IgZXZlcnkgY29sb3IgaW4gdGhlIG5ld2NvbG9yIGFycmF5LCBhZGQgYSBuZXcgY29sb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgYnV0IHdpdGggdGhlIHIgYW5kIGcgdmFsdWVzIGluY3JlYXNlZA0KCWZvciAodmFyIGkgPSAwOyBpIDwgbmV3Y29sb3IubGVuZ3RoOyBpKyspIHsNCgkJdmFyIGMgPSBuZXdjb2xvcltpXTsNCgkJZm9yICh2YXIgaiA9IDA7IGogPCBhdXRvSW5mby5yZ2IubGVuZ3RoOyBqKyspIHsNCgkJCXZhciBuZXdjID0gYXV0b0luZm8ucmdiW2pdOw0KCQkJciA9IE1hdGguZmxvb3IoYy5yICogbmV3Y1swXSk7DQoJCQlnID0gTWF0aC5mbG9vcihjLmcgKiBuZXdjWzFdKTsNCgkJCWIgPSBNYXRoLmZsb29yKGMuYiAqIG5ld2NbMl0pOw0KCQkJaWYgKHIgPiAyNTUpIHtyID0gMjU1O30gaWYgKGcgPiAyNTUpIHtnID0gMjU1O30NCgkJCWNvbG9yTGlzdC5wdXNoKCJyZ2IoIityKyIsIitnKyIsIitiKyIpIik7DQoJCQljb2xvck9iamVjdExpc3QucHVzaCh7cjpyLGc6ZyxiOmJ9KTsNCgkJfQ0KCX0NCgl2YXIgbmV3ZWxlbSA9IHsNCgkJLy8ibmFtZSI6IG5ld25hbWUucmVwbGFjZUFsbCgiXyIsIiAiKSwNCgkJYmVoYXZpb3I6IGF1dG9JbmZvLmJlaGF2aW9yLA0KCQloaWRkZW46IGF1dG9JbmZvLmhpZGRlbiB8fCBmYWxzZSwNCgkJc3RhdGU6IGF1dG9JbmZvLnN0YXRlIHx8ICJzb2xpZCIsDQoJCWNhdGVnb3J5OiBhdXRvSW5mby5jYXRlZ29yeSB8fCAic3RhdGVzIg0KCX0NCglpZiAoY29sb3JMaXN0Lmxlbmd0aCA8PSAxKSB7IGNvbG9yTGlzdCA9IGNvbG9yTGlzdFswXTsgfQ0KCWlmIChjb2xvck9iamVjdExpc3QubGVuZ3RoIDw9IDEpIHsgY29sb3JPYmplY3RMaXN0ID0gY29sb3JPYmplY3RMaXN0WzBdOyB9DQoJbmV3ZWxlbS5jb2xvciA9IGNvbG9yTGlzdDsNCgluZXdlbGVtLmNvbG9yT2JqZWN0ID0gY29sb3JPYmplY3RMaXN0Ow0KCXZhciBtdWx0aXBsaWVyID0gMS4xOw0KCWlmIChhdXRvSW5mby50eXBlID09PSAiaGlnaCIpIHsNCgkJaWYgKCFlbGVtZW50c1tlbGVtZW50XS5zdGF0ZUhpZ2gpIHtlbGVtZW50c1tlbGVtZW50XS5zdGF0ZUhpZ2ggPSBuZXduYW1lO30NCgkJbmV3ZWxlbS50ZW1wID0gZWxlbWVudHNbZWxlbWVudF0udGVtcEhpZ2g7DQoJCW5ld2VsZW0udGVtcExvdyA9IGVsZW1lbnRzW2VsZW1lbnRdLnRlbXBIaWdoKyhhdXRvSW5mby50ZW1wRGlmZiB8fCAwKTsNCgkJbmV3ZWxlbS5zdGF0ZUxvdyA9IGVsZW1lbnQ7DQoJCS8vIENoYW5nZSBkZW5zaXR5IGJ5ICowLjkNCgkJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmRlbnNpdHkpIHsgbmV3ZWxlbS5kZW5zaXR5ID0gTWF0aC5yb3VuZChlbGVtZW50c1tlbGVtZW50XS5kZW5zaXR5ICogMC45ICogMTApIC8gMTA7IH0NCgl9DQoJZWxzZSBpZiAoYXV0b0luZm8udHlwZSA9PT0gImxvdyIpIHsNCgkJaWYgKCFlbGVtZW50c1tlbGVtZW50XS5zdGF0ZUxvdykge2VsZW1lbnRzW2VsZW1lbnRdLnN0YXRlTG93ID0gbmV3bmFtZTt9DQoJCW5ld2VsZW0udGVtcCA9IGVsZW1lbnRzW2VsZW1lbnRdLnRlbXBMb3c7DQoJCW5ld2VsZW0udGVtcEhpZ2ggPSBlbGVtZW50c1tlbGVtZW50XS50ZW1wTG93KyhhdXRvSW5mby50ZW1wRGlmZiB8fCAwKTsNCgkJbmV3ZWxlbS5zdGF0ZUhpZ2ggPSBlbGVtZW50Ow0KCQltdWx0aXBsaWVyID0gMC41Ow0KCQkvLyBDaGFuZ2UgZGVuc2l0eSBieSAqMS4xDQoJCWlmIChlbGVtZW50c1tlbGVtZW50XS5kZW5zaXR5KSB7IG5ld2VsZW0uZGVuc2l0eSA9IE1hdGgucm91bmQoZWxlbWVudHNbZWxlbWVudF0uZGVuc2l0eSAqIDEuMSAqIDEwKSAvIDEwOyB9DQoJfQ0KCWlmICghZWxlbWVudHNbZWxlbWVudF0uaWdub3JlKSB7IGVsZW1lbnRzW2VsZW1lbnRdLmlnbm9yZSA9IFtdIH0NCgllbGVtZW50c1tlbGVtZW50XS5pZ25vcmUucHVzaChuZXduYW1lKTsNCglpZiAoZWxlbWVudHNbZWxlbWVudF0udmlzY29zaXR5IHx8IGF1dG9JbmZvLnZpc2Nvc2l0eSkgew0KCQluZXdlbGVtLnZpc2Nvc2l0eSA9IGVsZW1lbnRzW2VsZW1lbnRdLnZpc2Nvc2l0eSB8fCBhdXRvSW5mby52aXNjb3NpdHk7DQoJfQ0KCS8vIENoYW5nZSBieSAqbXVsdGlwbGllcg0KCWlmIChlbGVtZW50c1tlbGVtZW50XS5jb25kdWN0KSB7IG5ld2VsZW0uY29uZHVjdCA9IE1hdGgucm91bmQoZWxlbWVudHNbZWxlbWVudF0uY29uZHVjdCAqIG11bHRpcGxpZXIgKiAxMCkgLyAxMDsgfQ0KCWlmIChlbGVtZW50c1tlbGVtZW50XS5idXJuKSB7IG5ld2VsZW0uYnVybiA9IE1hdGgubWluKDEwMCxNYXRoLnJvdW5kKGVsZW1lbnRzW2VsZW1lbnRdLmJ1cm4gKiBtdWx0aXBsaWVyICogMTApIC8gMTApOyB9DQoJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmJ1cm5UaW1lKSB7IG5ld2VsZW0uYnVyblRpbWUgPSBNYXRoLnJvdW5kKGVsZW1lbnRzW2VsZW1lbnRdLmJ1cm5UaW1lICogbXVsdGlwbGllciAqIDEwKSAvIDEwOyB9DQoJaWYgKGVsZW1lbnRzW2VsZW1lbnRdLmJ1cm5JbnRvKSB7IG5ld2VsZW0uYnVybkludG8gPSBlbGVtZW50c1tlbGVtZW50XS5idXJuSW50bzsgfQ0KCWlmIChlbGVtZW50c1tlbGVtZW50XS5maXJlQ29sb3IpIHsgbmV3ZWxlbS5maXJlQ29sb3IgPSBlbGVtZW50c1tlbGVtZW50XS5maXJlQ29sb3I7IH0NCgkvLyBJZiB0aGUgbmV3IGVsZW1lbnQgZG9lc24ndCBleGlzdCwgYWRkIGl0DQoJaWYgKCFlbGVtZW50c1tuZXduYW1lXSkgeyBlbGVtZW50c1tuZXduYW1lXSA9IG5ld2VsZW07IH0NCgllbHNlIHsNCgkJaWYgKGVsZW1lbnRzW25ld25hbWVdLmNvbG9yKSB7DQoJCQlkZWxldGUgbmV3ZWxlbS5jb2xvcjsNCgkJCWRlbGV0ZSBuZXdlbGVtLmNvbG9yT2JqZWN0Ow0KCQl9DQoJCS8vIExvb3AgdGhyb3VnaCBuZXdlbGVtJ3Mga2V5cyBhbmQgdmFsdWVzLCBjb3B5IHRoZW0gdG8gdGhlIG5ldyBlbGVtZW50IGlmIHRoZXkgYXJlIG5vdCBhbHJlYWR5IGRlZmluZWQNCgkJZm9yICh2YXIga2V5IGluIG5ld2VsZW0pIHsNCgkJCWlmIChlbGVtZW50c1tuZXduYW1lXVtrZXldID09PSB1bmRlZmluZWQpIHsgZWxlbWVudHNbbmV3bmFtZV1ba2V5XSA9IG5ld2VsZW1ba2V5XTsgfQ0KCQl9DQoJfQ0KDQoJaWYgKGF1dG9UeXBlID09PSAibW9sdGVuIiAmJiAoZWxlbWVudHMubW9sdGVuX3NsYWcgJiYgZWxlbWVudHMubW9sdGVuX3NsYWcuaWdub3JlICYmIGVsZW1lbnRzLm1vbHRlbl9zbGFnLmlnbm9yZS5pbmRleE9mKGVsZW1lbnQpID09PSAtMSkpIHsgLy8gU2xhZyByZWFjdGlvbnMNCgkJaWYgKG5ld25hbWUgIT09ICJtb2x0ZW5fc2xhZyIpIHsNCgkJCWlmICghZWxlbWVudHNbbmV3bmFtZV0ucmVhY3Rpb25zKSB7IGVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucyA9IHt9OyB9DQoJCQllbGVtZW50c1tuZXduYW1lXS5yZWFjdGlvbnMuYXNoID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH07DQoJCQllbGVtZW50c1tuZXduYW1lXS5yZWFjdGlvbnMuZHVzdCA9IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im1vbHRlbl9zbGFnIiB9Ow0KCQkJZWxlbWVudHNbbmV3bmFtZV0ucmVhY3Rpb25zLm1hZ21hID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH0NCgkJCWVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucy5zbW9nID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH0NCgkJCWVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucy5weXJvY3VtdWx1cyA9IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im1vbHRlbl9zbGFnIiB9DQoJCQllbGVtZW50c1tuZXduYW1lXS5yZWFjdGlvbnMuZGlveGluID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH0NCgkJCWVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucy5wb2lzb25fZ2FzID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH0NCgkJCWVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucy5kaXJ0ID0geyBlbGVtMTpudWxsLCBlbGVtMjoibW9sdGVuX3NsYWciIH0NCgkJCWVsZW1lbnRzW25ld25hbWVdLnJlYWN0aW9ucy5tb2x0ZW5fZGlydCA9IHsgZWxlbTE6bnVsbCwgZWxlbTI6Im1vbHRlbl9zbGFnIiB9DQoJCX07DQoJfQ0KDQoJZmluYWxpemVFbGVtZW50KG5ld25hbWUsZWxlbWVudHNbbmV3bmFtZV0pOw0KfQ0KZnVuY3Rpb24gY2hlY2tBdXRvR2VuKGtleSxvYmopIHsNCglpZiAob2JqLnRlbXBIaWdoIT09dW5kZWZpbmVkICYmIChvYmouc3RhdGVIaWdoPT09dW5kZWZpbmVkfHxvYmouZm9yY2VBdXRvR2VuKSkgew0KCQl2YXIgbmV3bmFtZSA9IG9iai5zdGF0ZUhpZ2hOYW1lOw0KCQlpZiAoKG9iai5zdGF0ZT09PSJzb2xpZCIgfHwgIW9iai5zdGF0ZSkpIHsgLy8gTWVsdGluZw0KCQkJaWYgKCFuZXduYW1lKSB7IG5ld25hbWUgPSAibW9sdGVuXyIra2V5IH0NCgkJCWF1dG9HZW4obmV3bmFtZSxrZXksIm1vbHRlbiIpOw0KCQl9DQoJCWVsc2UgaWYgKG9iai5zdGF0ZT09PSJsaXF1aWQiKSB7IC8vIEV2YXBvcmF0aW5nDQoJCQlpZiAoIW5ld25hbWUpIHsNCgkJCQluZXduYW1lID0ga2V5Ow0KCQkJCWlmIChuZXduYW1lLnN0YXJ0c1dpdGgoImxpcXVpZF8iKSkgeyBuZXduYW1lID0gbmV3bmFtZS5zdWJzdHJpbmcoNyk7IH0NCgkJCQlpZiAobmV3bmFtZS5zdGFydHNXaXRoKCJtb2x0ZW5fIikpIHsgbmV3bmFtZSA9IG5ld25hbWUuc3Vic3RyaW5nKDcpOyB9DQoJCQkJbmV3bmFtZSArPSAiX2dhcyI7DQoJCQl9DQoJCQlhdXRvR2VuKG5ld25hbWUsa2V5LCJ2YXBvcml6ZSIpOw0KCQl9DQoJfQ0KCWlmIChvYmoudGVtcExvdyE9PXVuZGVmaW5lZCAmJiAob2JqLnN0YXRlTG93PT09dW5kZWZpbmVkfHxvYmouZm9yY2VBdXRvR2VuKSkgew0KCQl2YXIgbmV3bmFtZSA9IG9iai5zdGF0ZUxvd05hbWU7DQoJCWlmIChvYmouc3RhdGU9PT0ibGlxdWlkIiB8fCAhb2JqLnN0YXRlKSB7IC8vIEZyZWV6aW5nDQoJCQlpZiAoIW5ld25hbWUpIHsNCgkJCQluZXduYW1lID0ga2V5Ow0KCQkJCWlmIChuZXduYW1lLnN0YXJ0c1dpdGgoImxpcXVpZF8iKSkgeyBuZXduYW1lID0gbmV3bmFtZS5zdWJzdHJpbmcoNyk7IH0NCgkJCQlpZiAobmV3bmFtZS5lbmRzV2l0aCgiX3dhdGVyIikpIHsgbmV3bmFtZSA9IG5ld25hbWUuc3Vic3RyaW5nKDAsbmV3bmFtZS5sZW5ndGgtNik7IH0NCgkJCQluZXduYW1lICs9ICJfaWNlIjsNCgkJCX0NCgkJCWF1dG9HZW4obmV3bmFtZSxrZXksImZyb3plbiIpOw0KCQl9DQoJCWVsc2UgaWYgKG9iai5zdGF0ZT09PSJnYXMiKSB7IC8vIENvbmRlbnNpbmcNCgkJCWlmICghbmV3bmFtZSkgew0KCQkJCW5ld25hbWUgPSBrZXk7DQoJCQkJaWYgKG5ld25hbWUuZW5kc1dpdGgoIl9nYXMiKSkgeyBuZXduYW1lID0gbmV3bmFtZS5zdWJzdHJpbmcoMCxuZXduYW1lLmxlbmd0aC00KTsgfQ0KCQkJCW5ld25hbWUgPSAibGlxdWlkXyIrbmV3bmFtZTsNCgkJCX0NCgkJCWF1dG9HZW4obmV3bmFtZSxrZXksImNvbmRlbnNlIik7DQoJCX0NCgl9DQoJaWYgKG9iai5iZWhhdmlvciAmJiB0eXBlb2Ygb2JqLmJlaGF2aW9yWzBdID09PSAic3RyaW5nIikgew0KCQl2YXIgbmV3YmVoYXZpb3IgPSBbXTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouYmVoYXZpb3IubGVuZ3RoOyBpKyspIHsNCgkJCW5ld2JlaGF2aW9yLnB1c2gob2JqLmJlaGF2aW9yW2ldLnNwbGl0KCJ8IikpOw0KCQl9DQoJCW9iai5iZWhhdmlvciA9IG5ld2JlaGF2aW9yOw0KCX0NCglpZiAob2JqLmJlaGF2aW9yT24gJiYgdHlwZW9mIG9iai5iZWhhdmlvck9uWzBdID09PSAic3RyaW5nIikgew0KCQl2YXIgbmV3YmVoYXZpb3IgPSBbXTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouYmVoYXZpb3JPbi5sZW5ndGg7IGkrKykgew0KCQkJbmV3YmVoYXZpb3IucHVzaChvYmouYmVoYXZpb3JPbltpXS5zcGxpdCgifCIpKTsNCgkJfQ0KCQlvYmouYmVoYXZpb3JPbiA9IG5ld2JlaGF2aW9yOw0KCX0NCn0NCmZ1bmN0aW9uIGZpbmFsaXplQ29sb3Iob2JqKSB7DQoJLy8gaWYgdGhlIGVsZW1lbnQgaGFzIG5vIGNvbG9yLCBza2lwIGl0DQoJaWYgKG9iai5jb2xvciA9PT0gdW5kZWZpbmVkIHx8IG9iai5jb2xvck9iamVjdCAhPT0gdW5kZWZpbmVkKSB7DQoJCXJldHVybjsNCgl9DQoJLy8gaWYgdGhlIGNvbG9yIGlzIGFuIGFycmF5LCBsb29wIG92ZXIgZWFjaCBvbmUNCglpZiAob2JqLmNvbG9yIGluc3RhbmNlb2YgQXJyYXkpIHsNCgkJdmFyIHJnYnMgPSBbXTsNCgkJdmFyIHJnYm9zID0gW107DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmNvbG9yLmxlbmd0aDsgaSsrKSB7DQoJCQl2YXIgYyA9IG9iai5jb2xvcltpXTsNCgkJCWlmIChjLnN0YXJ0c1dpdGgoIiMiKSkgew0KCQkJCXZhciByZ2IgPSBoZXhUb1JHQihjKTsNCgkJCQlyZ2JzLnB1c2goInJnYigiK3JnYi5yKyIsIityZ2IuZysiLCIrcmdiLmIrIikiKTsNCgkJCQlyZ2Jvcy5wdXNoKHJnYik7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlyZ2JzLnB1c2goYyk7DQoJCQl9DQoJCX0NCgkJb2JqLmNvbG9yID0gcmdiczsNCgkJb2JqLmNvbG9yT2JqZWN0ID0gcmdib3M7DQoJfSBlbHNlIHsNCgkJLy8gaWYgb2JqLmNvbG9yIHN0YXJ0cyB3aXRoICMNCgkJaWYgKG9iai5jb2xvci5zdGFydHNXaXRoKCIjIikpIHsNCgkJCXZhciByZ2IgPSBoZXhUb1JHQihvYmouY29sb3IpOw0KCQkJb2JqLmNvbG9yID0gInJnYigiK3JnYi5yKyIsIityZ2IuZysiLCIrcmdiLmIrIikiOw0KCQkJb2JqLmNvbG9yT2JqZWN0ID0gcmdiOw0KCQl9DQoJfQ0KfQ0KZnVuY3Rpb24gZmluYWxpemVFbGVtZW50QWZ0ZXIoa2V5KSB7DQoJZWxlbWVudHNba2V5XS5pZCA9IG5leHRFbGVtSUQ7DQoJbmV4dEVsZW1JRCsrOw0KDQoJLy8gTGFuZ3VhZ2UgTG9hZGVyIFBhcnQgMg0KCWlmIChsYW5nW2tleV0gIT09IHVuZGVmaW5lZCkgew0KCQllbGVtZW50c1trZXldLm5hbWUgPSBsYW5nW2tleV0NCgl9DQoNCgkvLyBJZiB0aGUgZWxlbWVudCBoYXMgbm8gYmVoYXZpb3IsIHNldCBpdCB0byBiZWhhdmlvcnMuV0FMTA0KCWlmICghZWxlbWVudHNba2V5XS5iZWhhdmlvciAmJiAhZWxlbWVudHNba2V5XS50aWNrKSB7DQoJCWVsZW1lbnRzW2tleV0udGljayA9IGZ1bmN0aW9uKHBpeGVsKSB7fTsNCgl9DQoJLy8gSWYgdGhlIGJlaGF2aW9yIGlzIGEgZnVuY3Rpb24sIGRlbGV0ZSBpdCBhbmQgc2V0IHRpY2sgdG8gaXQgaW5zdGVhZA0KCWlmICh0eXBlb2YgZWxlbWVudHNba2V5XS5iZWhhdmlvciA9PT0gImZ1bmN0aW9uIikgew0KCQlpZiAoZWxlbWVudHNba2V5XS50aWNrKSB7DQoJCQllbGVtZW50c1trZXldLnRpY2sxID0gZWxlbWVudHNba2V5XS50aWNrOw0KCQkJZWxlbWVudHNba2V5XS50aWNrMiA9IGVsZW1lbnRzW2tleV0uYmVoYXZpb3I7DQoJCQllbGVtZW50c1trZXldLnRpY2sgPSBmdW5jdGlvbihwaXhlbCkgew0KCQkJCWlmIChwaXhlbC5zdGFydCA9PT0gcGl4ZWxUaWNrcykge3JldHVybn0NCgkJCQl2YXIgaWQgPSBlbGVtZW50c1twaXhlbC5lbGVtZW50XS5pZDsNCgkJCQllbGVtZW50c1twaXhlbC5lbGVtZW50XS50aWNrMShwaXhlbCk7DQoJCQkJaWYgKCFwaXhlbC5kZWwgJiYgaWQgPT09IGVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLmlkKSB7DQoJCQkJCWVsZW1lbnRzW3BpeGVsLmVsZW1lbnRdLnRpY2syKHBpeGVsKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZWxzZSB7DQoJCQllbGVtZW50c1trZXldLnRpY2sgPSBlbGVtZW50c1trZXldLmJlaGF2aW9yOw0KCQl9DQoJCWRlbGV0ZSBlbGVtZW50c1trZXldLmJlaGF2aW9yOw0KCX0NCgkvLyBJZiB0aGUgZWxlbWVudCBoYXMgbm8gY29sb3IsIHNldCBpdCB0byB3aGl0ZQ0KCWlmIChlbGVtZW50c1trZXldLmNvbG9yID09PSB1bmRlZmluZWQpIHsNCgkJZWxlbWVudHNba2V5XS5jb2xvciA9ICJyZ2IoMjU1LDI1NSwyNTUpIjsNCgkJZWxlbWVudHNba2V5XS5jb2xvck9iamVjdCA9IHtyOjI1NSxnOjI1NSxiOjI1NX07DQoJfQ0KCWlmIChlbGVtZW50c1trZXldLm1vdmFibGUgPT09IGZhbHNlKSB7IGRlbGV0ZSBlbGVtZW50c1trZXldLm1vdmFibGUgfQ0KCWVsc2UgaWYgKGVsZW1lbnRzW2tleV0ubW92YWJsZSA9PT0gdW5kZWZpbmVkKSB7DQoJCS8vIElmIHRoZSBlbGVtZW50J3MgYmVoYXZpb3IgaXMgYW4gYXJyYXkgYW5kIGNvbnRhaW5zIE0xIG9yIE0yLCBzZXQgaXRzIG1vdmFibGUgdG8gdHJ1ZQ0KCQlpZiAoZWxlbWVudHNba2V5XS5iZWhhdmlvciAmJiB0eXBlb2YgZWxlbWVudHNba2V5XS5iZWhhdmlvclswXSA9PT0gIm9iamVjdCIpIHsNCgkJCXZhciBic3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZWxlbWVudHNba2V5XS5iZWhhdmlvcik7DQoJCQlpZiAoYnN0cmluZy5pbmRleE9mKCJNMSIpIT09LTEgfHwgYnN0cmluZy5pbmRleE9mKCJNMiIpIT09LTEpIHsgZWxlbWVudHNba2V5XS5tb3ZhYmxlID0gdHJ1ZTsgfQ0KCQl9DQoJCWlmIChlbGVtZW50c1trZXldLnRpY2spIHsgZWxlbWVudHNba2V5XS5tb3ZhYmxlID0gdHJ1ZTsgfQ0KCX0NCglpZiAoZWxlbWVudHNba2V5XS5iZWhhdmlvcikgew0KCQl2YXIgYmVoYXZpb3IgPSBlbGVtZW50c1trZXldLmJlaGF2aW9yOw0KCQl2YXIgYmVoYXZpb3JDZW50ZXJZID0gYmVoYXZpb3JbTWF0aC5mbG9vcihiZWhhdmlvci5sZW5ndGgvMildDQoJCXZhciBiZWhhdmlvckNlbnRlciA9IGJlaGF2aW9yQ2VudGVyWVtNYXRoLmZsb29yKGJlaGF2aW9yQ2VudGVyWS5sZW5ndGgvMildDQoJCS8vIElmIHRoZSBlbGVtZW50J3MgYmVoYXZpb3JbMV1bMV0gaW5jbHVkZXMgIkZYIiwgc2V0IGl0J3MgZmxpcHBhYmxlWCB0byB0cnVlDQoJCWlmIChiZWhhdmlvckNlbnRlci5pbmRleE9mKCJGWCIpICE9PSAtMSkgew0KCQkJZWxlbWVudHNba2V5XS5mbGlwcGFibGVYID0gdHJ1ZTsNCgkJfQ0KCQkvLyBJZiB0aGUgZWxlbWVudCdzIGJlaGF2aW9yWzFdWzFdIGluY2x1ZGVzICJGWSIsIHNldCBpdCdzIGZsaXBwYWJsZVkgdG8gdHJ1ZQ0KCQlpZiAoYmVoYXZpb3JDZW50ZXIuaW5kZXhPZigiRlkiKSAhPT0gLTEpIHsNCgkJCWVsZW1lbnRzW2tleV0uZmxpcHBhYmxlWSA9IHRydWU7DQoJCX0NCgkJLy8gSWYgdGhlIGVsZW1lbnQncyBiZWhhdmlvclsxXVsxXSBpbmNsdWRlcyAiUlQiLCBzZXQgaXQncyByb3RhdGFibGUgdG8gInRydWUiDQoJCWlmIChiZWhhdmlvckNlbnRlci5pbmRleE9mKCJSVCIpICE9PSAtMSkgew0KCQkJZWxlbWVudHNba2V5XS5yb3RhdGFibGUgPSB0cnVlOw0KCQl9DQoNCgkJLy8gSWYgdGhlIGVsZW1lbnQncyBiZWhhdmlvciBzdHJpbmdpZmllZCBpbmNsdWRlcyAiQk8iLCBsb29wIHRocm91Z2ggdGhlIGJlaGF2aW9yDQoJCWlmIChlbGVtZW50c1trZXldLmJlaGF2aW9yLnRvU3RyaW5nKCkuaW5kZXhPZigiQk8iKSAhPT0gLTEgJiYgIWVsZW1lbnRzW2tleV0ucm90YXRhYmxlKSB7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzW2tleV0uYmVoYXZpb3IubGVuZ3RoOyBpKyspIHsNCgkJCQkvLyBMb29wIHRocm91Z2ggZWFjaCBhcnJheSBpbiB0aGUgYmVoYXZpb3INCgkJCQlmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzW2tleV0uYmVoYXZpb3JbaV0ubGVuZ3RoOyBqKyspIHsNCgkJCQkJLy8gSWYgdGhlIGJlaGF2aW9yIGluY2x1ZGVzICJCTyIsIHNldCB0aGUgYmVoYXZpb3JPbiB0byB0aGUgYmVoYXZpb3INCgkJCQkJaWYgKGVsZW1lbnRzW2tleV0uYmVoYXZpb3JbaV1bal0uaW5kZXhPZigiQk8iKSAhPT0gLTEpIHsNCgkJCQkJCWlmICgoaT09MCAmJiBqPT0wKSB8fCAoaT09MCAmJiBqPT0yKSB8fCAoaT09MiAmJiBqPT0wKSAmJiAoaT09MiAmJiBqPT0yKSkgew0KCQkJCQkJCWVsZW1lbnRzW2tleV0uZmxpcHBhYmxlWCA9IHRydWU7DQoJCQkJCQkJZWxlbWVudHNba2V5XS5mbGlwcGFibGVZID0gdHJ1ZTsNCgkJCQkJCX0NCgkJCQkJCWVsc2UgaWYgKGk9PTAgfHwgaT09Mikgew0KCQkJCQkJCWVsZW1lbnRzW2tleV0uZmxpcHBhYmxlWSA9IHRydWU7DQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChqPT0wIHx8IGo9PTIpIHsNCgkJCQkJCQllbGVtZW50c1trZXldLmZsaXBwYWJsZVggPSB0cnVlOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgl9DQoNCgkvLyBJZiB0aGUgZWxlbWVudCdzIHN0YXRlIGlzICJnYXMiLCBpc0dhcyA9IHRydWUNCglpZiAoZWxlbWVudHNba2V5XS5zdGF0ZSA9PT0gImdhcyIpIHsNCgkJZWxlbWVudHNba2V5XS5pc0dhcyA9IHRydWU7DQoJfQ0KCWVsc2UgaWYgKGVsZW1lbnRzW2tleV0uc3RhdGUgIT09ICJsaXF1aWQiKSB7DQoJCS8vIEVsc2UgaWYgdGhlIHN0YXRlIGlzIG5vdCAic29saWQiIG9yICJsaXF1aWQiLCBkZWxldGUgaXQNCgkJaWYgKGVsZW1lbnRzW2tleV0uc3RhdGUgIT09ICJzb2xpZCIgJiYgZWxlbWVudHNba2V5XS5zdGF0ZSAhPT0gdW5kZWZpbmVkKSB7DQoJCQlkZWxldGUgZWxlbWVudHNba2V5XS5zdGF0ZTsNCgkJfQ0KCQkvLyBhZGQgaGVhdCBnbG93IHRvIHNvbGlkIGlmIGFwcGxpY2FibGUNCgkJZWxzZSBpZiAoZWxlbWVudHNba2V5XS50ZW1wSGlnaCA+IDQwMCAmJiBlbGVtZW50c1trZXldLnJlbmRlcmVyID09PSB1bmRlZmluZWQgJiYgZWxlbWVudHNbZWxlbWVudHNba2V5XS5zdGF0ZUhpZ2hdICYmIGVsZW1lbnRzW2VsZW1lbnRzW2tleV0uc3RhdGVIaWdoXS5zdGF0ZSA9PT0gImxpcXVpZCIpIHsNCgkJCWVsZW1lbnRzW2tleV0ucmVuZGVyZXIgPSByZW5kZXJQcmVzZXRzLkhFQVRHTE9XOw0KCQl9DQoJfQ0KCWVsc2Ugew0KCQkvLyBhZGQgbW9sdGVuIHJlbmRlcmVyIHRvIGhvdCBtb2x0ZW4gbGlxdWlkcw0KCQlpZiAoZWxlbWVudHNba2V5XS5zdGF0ZUxvdyAmJiBlbGVtZW50c1trZXldLnRlbXAgPiA1MDAgJiYgZWxlbWVudHNba2V5XS5yZW5kZXJlciA9PT0gdW5kZWZpbmVkKSB7DQoJCQllbGVtZW50c1trZXldLnJlbmRlcmVyID0gcmVuZGVyUHJlc2V0cy5NT0xURU47DQoJCX0NCgl9DQoNCglpZiAoZWxlbWVudHNba2V5XS5jb2xvclBhdHRlcm4pIHsNCgkJaWYgKCFlbGVtZW50c1trZXldLmNvbG9yS2V5KSB7DQoJCQlkZWxldGUgZWxlbWVudHNba2V5XS5jb2xvclBhdHRlcm47DQoJCX0NCgkJZWxzZSB7DQoJCXZhciBuZXdQYXR0ZXJuID0gW107DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNba2V5XS5jb2xvclBhdHRlcm4ubGVuZ3RoOyBpKyspIHsNCgkJCW5ld1BhdHRlcm4ucHVzaChbXSk7DQoJCQl2YXIgbGluZSA9IGVsZW1lbnRzW2tleV0uY29sb3JQYXR0ZXJuW2ldOw0KCQkJLy8gbG9vcCB0aHJvdWdoIGVhY2ggY2hhcmFjdGVyIGluIHRoZSBsaW5lDQoJCQlmb3IgKHZhciBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHsNCgkJCQl2YXIgY2hhciA9IGxpbmVbal07DQoJCQkJaWYgKGVsZW1lbnRzW2tleV0uY29sb3JLZXlbY2hhcl0pIHsNCgkJCQkJLy8gaWYgKGVsZW1lbnRzW2tleV0uY29sb3JLZXlbY2hhcl0uc3RhcnRzV2l0aCgiIyIpKSB7DQoJCQkJCS8vCSB2YXIgcmdiID0gaGV4VG9SR0IoZWxlbWVudHNba2V5XS5jb2xvcktleVtjaGFyXSk7DQoJCQkJCS8vCSBlbGVtZW50c1trZXldLmNvbG9yS2V5W2NoYXJdID0gInJnYigiK3JnYi5yKyIsIityZ2IuZysiLCIrcmdiLmIrIikiOw0KCQkJCQkvLyB9DQoJCQkJCW5ld1BhdHRlcm5baV0ucHVzaChlbGVtZW50c1trZXldLmNvbG9yS2V5W2NoYXJdKTsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCW5ld1BhdHRlcm5baV0ucHVzaCgiI2ZmZmZmZiIpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQllbGVtZW50c1trZXldLmNvbG9yUGF0dGVybiA9IG5ld1BhdHRlcm47DQoJCWRlbGV0ZSBlbGVtZW50c1trZXldLmNvbG9yS2V5Ow0KCQl9DQoJfQ0KfQ0KZnVuY3Rpb24gZmluYWxpemVFbGVtZW50KGtleSxvYmopIHsNCglmaW5hbGl6ZUNvbG9yKG9iaik7DQoJY2hlY2tBdXRvR2VuKGtleSxvYmopOw0KCWZpbmFsaXplRWxlbWVudEFmdGVyKGtleSk7DQp9DQpmdW5jdGlvbiBhZGRFbGVtZW50KGtleSxvYmopIHsNCglpZiAoZWxlbWVudHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7DQoJCWlmIChlbGVtZW50c1trZXldLmhpZGRlbiAmJiBzZXR0aW5ncy51bmhpZGUgIT09IDEpIHsNCgkJCWhpZGRlbkNvdW50LS07DQoJCX0NCgkJZWxlbWVudENvdW50LS07DQoJfQ0KCWVsZW1lbnRzW2tleV0gPSBvYmo7DQoJZmluYWxpemVDb2xvcihvYmopOw0KCWNoZWNrQXV0b0dlbihrZXksb2JqKTsNCglmaW5hbGl6ZUVsZW1lbnRBZnRlcihrZXkpOw0KCWVsZW1lbnRDb3VudCsrOw0KCWlmIChvbkFkZEVsZW1lbnRMaXN0Lmxlbmd0aCkgew0KCQlmb3IgKGxldCBpID0gMDsgaSA8IG9uQWRkRWxlbWVudExpc3QubGVuZ3RoOyBpKyspIHsNCgkJCW9uQWRkRWxlbWVudExpc3RbaV0oa2V5LG9iaik7DQoJCX0NCgl9DQoJaWYgKCFvYmouaGlkZGVuIHx8IHNldHRpbmdzLnVuaGlkZSA9PT0gMSkgew0KCQlsZXQgaXNDdXJyZW50ID0gZmFsc2UNCgkJbGV0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbGVtZW50QnV0dG9uLSIra2V5KTsNCgkJaWYgKGJ0bikgew0KCQkJaXNDdXJyZW50ID0gYnRuLmdldEF0dHJpYnV0ZSgiY3VycmVudCIpID09PSAidHJ1ZSI7DQoJCQlidG4ucmVtb3ZlKCk7DQoJCX0NCgkJY3JlYXRlRWxlbWVudEJ1dHRvbihrZXkpOw0KCQlpZiAoaXNDdXJyZW50KSB7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWxlbWVudEJ1dHRvbi0iK2tleSkuc2V0QXR0cmlidXRlKCJjdXJyZW50IiwidHJ1ZSIpOw0KCQl9DQoJfQ0KCWVsc2Ugew0KCQloaWRkZW5Db3VudCsrOw0KCX0NCglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWxlbWVudENvdW50U3BhbiIpLmlubmVyVGV4dCA9IGxhbmdLZXkoImd1aXRlbXBsYXRlLmVsZW1lbnRDb3VudCIsIiQxIGVsZW1lbnRzLCB3aXRoICQyIGhpZGRlbiIsezE6ZWxlbWVudENvdW50LDI6aGlkZGVuQ291bnR9KTsNCn0NCg0KLy9vbiB3aW5kb3cgbG9hZA0KZ2FtZUNhbnZhcyA9IG51bGw7DQpjYW52YXMgPSBudWxsOw0KY3R4ID0gbnVsbDsNCndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCglwYXVzZWQgPSBmYWxzZTsNCgkvLyBJZiB0aGUgYnJvd3NlciBpcyBGaXJlZm94LCBzZXQgI2NhdGVnb3J5Q29udHJvbHMgcGFkZGluZy1ib3R0b206MTFweDsNCgkvLyBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2ZpcmVmb3gnKSA+IC0xKSB7DQoJLy8JIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yeUNvbnRyb2xzIikuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICIxMXB4IjsNCgkvLyB9DQoNCgkvLyBMb29wIHRocm91Z2ggcnVuQWZ0ZXJMb2FkTGlzdCBhbmQgcnVuIGVhY2ggZnVuY3Rpb24NCglmb3IgKHZhciBpID0gMDsgaSA8IHJ1bkFmdGVyTG9hZExpc3QubGVuZ3RoOyBpKyspIHsNCgkJcnVuQWZ0ZXJMb2FkTGlzdFtpXSgpOw0KCX0NCg0KCS8vIFVua25vd24gZmFsbGJhY2sgZWxlbWVudA0KCWVsZW1lbnRzLnVua25vd24gPSB7DQoJCWhpZGRlbjogdHJ1ZSwNCgkJdG9vbDogZnVuY3Rpb24oKXt9LA0KCQljYW5QbGFjZTogZmFsc2UsDQoJCWV4Y2x1ZGVSYW5kb206IHRydWUsDQoJCWhvdmVyU3RhdDogZnVuY3Rpb24ocGl4ZWwpIHtyZXR1cm4gcGl4ZWwuaW52YWxpZEVsZW1lbnR8fCI/Pz8iO30sDQoJCSJkZXNjIjogIkZhbGxiYWNrIGZvciBpbnZhbGlkIGVsZW1lbnRzLiIsDQoJCWdyYWluOiAwLA0KCQljYXRlZ29yeTogInNwZWNpYWwiDQoJfQ0KDQoJLy8gTG9vcCB0aHJvdWdoIGJlaGF2aW9ycyBhbmQgZWFjaCBiZWhhdmlvciwgaWYgaXQgaXMgYSBzdHJpbmcsIHNwbGl0IHRoZSBpdGVtcyBhbmQgcmVwbGFjZSB0aGUgdmFsdWUgd2l0aCB0aGUgYXJyYXkNCglmb3IgKHZhciBiZWhhdmlvciBpbiBiZWhhdmlvcnMpIHsNCgkJaWYgKHR5cGVvZiBiZWhhdmlvcnNbYmVoYXZpb3JdWzBdID09PSAic3RyaW5nIikgew0KCQkJdmFyIG5ld2JlaGF2aW9yID0gW107DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJlaGF2aW9yc1tiZWhhdmlvcl0ubGVuZ3RoOyBpKyspIHsNCgkJCQluZXdiZWhhdmlvci5wdXNoKGJlaGF2aW9yc1tiZWhhdmlvcl1baV0uc3BsaXQoInwiKSk7DQoJCQl9DQoJCQliZWhhdmlvcnNbYmVoYXZpb3JdID0gbmV3YmVoYXZpb3I7DQoJCX0NCgl9DQoNCgkvLyBjb252ZXJ0IGV2ZXJ5IGNvbG9yIGluIHRoZSBlbGVtZW50cyBvYmplY3QgdG8gcmdiDQoJZm9yICh2YXIga2V5IGluIGVsZW1lbnRzKSB7DQoJCWZpbmFsaXplQ29sb3IoZWxlbWVudHNba2V5XSkNCg0KCQljaGVja0F1dG9HZW4oa2V5LGVsZW1lbnRzW2tleV0pDQoJfQ0KDQoJLy8gTG9vcCB0aHJvdWdoIGVhY2ggZWxlbWVudC4gSWYgaXQgaGFzIGEgdGVtcEhpZ2gsIGJ1dCBub3QgYSBzdGF0ZUhpZ2gsIGNyZWF0ZSBhIG5ldyBtb2x0ZW4gZWxlbWVudA0KCS8vIGZvciAoZWxlbWVudCBpbiBlbGVtZW50cykgew0KCS8vCSBjaGVja0F1dG9HZW4oZWxlbWVudCxlbGVtZW50c1tlbGVtZW50XSkNCgkvLyB9DQoJLy8gTG9vcCB0aHJvdWdoIHJ1bkFmdGVyQXV0b2dlbkxpc3QgYW5kIHJ1biBlYWNoIGZ1bmN0aW9uDQoJZm9yICh2YXIgaSA9IDA7IGkgPCBydW5BZnRlckF1dG9nZW5MaXN0Lmxlbmd0aDsgaSsrKSB7DQoJCXJ1bkFmdGVyQXV0b2dlbkxpc3RbaV0oKTsNCgl9DQoJDQoJLy8gTG9vcCB0aHJvdWdoIGVhY2ggZWxlbWVudCwgZmluYWwgY2hlY2tzDQoJZm9yICh2YXIga2V5IGluIGVsZW1lbnRzKSB7DQoJCWZpbmFsaXplRWxlbWVudEFmdGVyKGtleSk7DQoJfQ0KDQoJLy8gR2VuZXJhdGUgd29ybGRnZW4gb3B0aW9ucw0KCS8vIExvb3AgdGhyb3VnaCB0aGUgd29ybGRnZW50eXBlcyBvYmplY3QsIGFkZCB0aGUga2V5IHRvIHRoZSAjd29ybGRnZW5zZWxlY3Qgc2VsZWN0IGFzIGFuIG9wdGlvbiB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGFuZCB0aGUgbmFtZSBvZiB0aGUga2V5IGNhcGl0YWxpemVkIGFuZCB1bmRlcnNjb3JlcyByZXBsYWNlZCB3aXRoIHNwYWNlcw0KCWZvciAodmFyIGtleSBpbiB3b3JsZGdlbnR5cGVzKSB7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3b3JsZGdlbnNlbGVjdCIpLmlubmVySFRNTCArPSAiPG9wdGlvbiB2YWx1ZT0nIiArIGtleSArICInPiIgKyBrZXkucmVwbGFjZSgvXy9nLCAiICIpLnJlcGxhY2UoL1xiXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpICsgIjwvb3B0aW9uPiI7DQoJfQ0KCWlmIChzZXR0aW5nc1sid29ybGRnZW4iXSAmJiAhd29ybGRnZW50eXBlc1tzZXR0aW5nc1sid29ybGRnZW4iXV0pIHsNCgkJc2V0dGluZ3NbIndvcmxkZ2VuIl0gPSAib2ZmIjsNCgl9DQoNCgkvLyBMb29wIHRocm91Z2ggcmFuZG9tRXZlbnRDaG9pY2VzLCBhbmQgbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBvZiBlYWNoLiBJZiB0aGUgZWxlbWVudCBkb2Vzbid0IGV4aXN0LCByZW1vdmUgaXQgZnJvbSB0aGUgYXJyYXkuDQoJZm9yICh2YXIga2V5IGluIHJhbmRvbUV2ZW50Q2hvaWNlcykgew0KCQlmb3IgKHZhciBpID0gMDsgaSA8IHJhbmRvbUV2ZW50Q2hvaWNlc1trZXldLmxlbmd0aDsgaSsrKSB7DQoJCQlpZiAoIWVsZW1lbnRzW3JhbmRvbUV2ZW50Q2hvaWNlc1trZXldW2ldXSkgew0KCQkJCXJhbmRvbUV2ZW50Q2hvaWNlc1trZXldLnNwbGljZShpLDEpOw0KCQkJfQ0KCQl9DQoJfQ0KCQ0KCS8vIFBvaXNvbiA9PSBwb2lzb24gZ2FzIHJlYWN0aW9ucw0KCWlmIChlbGVtZW50cy5wb2lzb24gJiYgZWxlbWVudHMucG9pc29uX2dhcykgew0KCQlpZiAoZWxlbWVudHMucG9pc29uLnJlYWN0aW9ucykgew0KCQkJZWxlbWVudHMucG9pc29uX2dhcy5yZWFjdGlvbnMgPSBlbGVtZW50cy5wb2lzb24ucmVhY3Rpb25zOw0KCQl9DQoJfQ0KDQoJLy8gQWRkIHZpZXdzIHRvIHZpZXcgc2V0dGluZyBkcm9wZG93bg0KCWxldCB2aWV3U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZXdTZWxlY3QiKTsNCglmb3IgKGxldCB2aWV3TnVtIGluIHZpZXdJbmZvKSB7DQoJCWlmICh2aWV3TnVtID09PSAiMSIpIHtjb250aW51ZTt9DQoJCXZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsNCgkJb3B0LnZhbHVlID0gdmlld051bTsNCgkJb3B0LmlubmVyVGV4dCA9IHZpZXdJbmZvW3ZpZXdOdW1dLm5hbWUucmVwbGFjZSgvKF58ICkuL2csIGZ1bmN0aW9uIChtYXRjaCkge3JldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpO30pOw0KCQl2aWV3U2VsZWN0LmFwcGVuZENoaWxkKG9wdCk7DQoJfQ0KDQoJLy8gTG9hZCBzZXR0aW5ncw0KCS8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIGVsZW1lbnRzIHdpdGggc2V0dGluZy1zcGFuIGNsYXNzLg0KCS8vIElmIHRoZSBzcGFuJ3Mgc2V0dGluZyBhdHRyaWJ1dGUgaXMgaW4gc2V0dGluZ3MsIHNldCB0aGUgZmlyc3Qgc2VsZWN0IG9yIGlucHV0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgc2V0dGluZy4NCgl2YXIgc2V0dGluZ1NwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2V0dGluZy1zcGFuIik7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5nU3BhbnMubGVuZ3RoOyBpKyspIHsNCgkJdmFyIHNldHRpbmcgPSBzZXR0aW5nU3BhbnNbaV0uZ2V0QXR0cmlidXRlKCJzZXR0aW5nIik7DQoJCWlmIChzZXR0aW5nIGluIHNldHRpbmdzKSB7DQoJCQl2YXIgc2V0dGluZ1ZhbHVlID0gc2V0dGluZ3Nbc2V0dGluZ107DQoJCQl2YXIgdG9nZ2xlQnV0dG9ucyA9IHNldHRpbmdTcGFuc1tpXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0b2dnbGVJbnB1dCIpOw0KCQkJaWYgKHRvZ2dsZUJ1dHRvbnMubGVuZ3RoID4gMCkgew0KCQkJCWlmIChzZXR0aW5nVmFsdWUgPT0gMSkgew0KCQkJCQl0b2dnbGVCdXR0b25zWzBdLnNldEF0dHJpYnV0ZSgic3RhdGUiLCIxIik7DQoJCQkJCS8vIHRvZ2dsZUJ1dHRvbnNbMF0udmFsdWUgPSAiT04iOw0KCQkJCX0NCgkJCQllbHNlIHsNCgkJCQkJdG9nZ2xlQnV0dG9uc1swXS5zZXRBdHRyaWJ1dGUoInN0YXRlIiwiMCIpOw0KCQkJCQkvLyB0b2dnbGVCdXR0b25zWzBdLnZhbHVlID0gIk9GRiI7DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJdmFyIHNldHRpbmdFbGVtZW50cyA9IHNldHRpbmdTcGFuc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2VsZWN0IikNCgkJCQlpZiAoc2V0dGluZ0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkgew0KCQkJCQlzZXR0aW5nRWxlbWVudHMgPSBzZXR0aW5nU3BhbnNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7DQoJCQkJfQ0KCQkJCWlmIChzZXR0aW5nRWxlbWVudHMubGVuZ3RoID4gMCkgew0KCQkJCQlzZXR0aW5nRWxlbWVudHNbMF0udmFsdWUgPSBzZXR0aW5nVmFsdWU7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCQ0KCWlmIChzZXR0aW5ncy50aGVtZSkgc2V0VGhlbWVFbGVtZW50KHNldHRpbmdzLnRoZW1lKTsNCg0KCWdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZSIpOw0KCWNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYW1lIik7DQoJLy8gR2V0IGNvbnRleHQNCgljdHggPSBnYW1lQ2FudmFzLmdldENvbnRleHQoIjJkIik7DQoJaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzAwKSB7DQoJCXZhciBuZXdXaWR0aCA9IE1hdGguY2VpbCh3aW5kb3cuaW5uZXJXaWR0aCAvIHBpeGVsU2l6ZSkgKiBwaXhlbFNpemU7DQoJCXZhciBuZXdIZWlnaHQgPSBNYXRoLmNlaWwod2luZG93LmlubmVySGVpZ2h0KjAuNiAvIHBpeGVsU2l6ZSkgKiBwaXhlbFNpemU7DQoJfQ0KCWVsc2Ugew0KCQl2YXIgbmV3V2lkdGggID0gTWF0aC5jZWlsKHdpbmRvdy5pbm5lcldpZHRoKjAuOSAvIHBpeGVsU2l6ZSkgKiBwaXhlbFNpemU7DQoJCXZhciBuZXdIZWlnaHQgPSBNYXRoLmNlaWwod2luZG93LmlubmVySGVpZ2h0KjAuNjc1IC8gcGl4ZWxTaXplKSAqIHBpeGVsU2l6ZTsNCgl9DQoJLy8gSWYgdGhlIG5ldyB3aWR0aCBpcyBncmVhdGVyIHRoYW4gMTAwMCwgc2V0IGl0IHRvIDEwMDANCglpZiAobmV3V2lkdGggPiAxMDAwKSB7IG5ld1dpZHRoID0gMTAwMDsgfQ0KCS8vIElmIHdlIGFyZSBvbiBhIGRlc2t0b3AgYW5kIHRoZSBuZXcgaGVpZ2h0IGlzIGdyZWF0ZXIgdGhhbiA1MDAsIHNldCBpdCB0byA1MDANCglpZiAod2luZG93LmlubmVyV2lkdGggPiAxMDAwICYmIG5ld0hlaWdodCA+IDUwMCkgeyBuZXdIZWlnaHQgPSA1MDA7IH0NCgljYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2V0dGluZ3MuYmd8fCIjMDAwMDAwIjsNCg0KCWF1dG9SZXNpemVDYW52YXMgPSBmdW5jdGlvbihjbGVhcikgew0KCQlwaXhlbFNpemUgPSBwYXJzZUludChzZXR0aW5ncy5waXhlbHNpemUpIHx8IDY7DQoJCWlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDcwMCkgew0KCQkJcGl4ZWxTaXplLS07DQoJCX0NCgkJaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzAwKSB7DQoJCQl2YXIgbmV3V2lkdGggPSBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGggLyBwaXhlbFNpemUpICogcGl4ZWxTaXplOw0KCQkJdmFyIG5ld0hlaWdodCA9IE1hdGguY2VpbCh3aW5kb3cuaW5uZXJIZWlnaHQqMC42IC8gcGl4ZWxTaXplKSAqIHBpeGVsU2l6ZTsNCgkJfQ0KCQllbHNlIHsNCgkJCXZhciBuZXdXaWR0aCAgPSBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGgqMC45IC8gcGl4ZWxTaXplKSAqIHBpeGVsU2l6ZTsNCgkJCXZhciBuZXdIZWlnaHQgPSBNYXRoLmNlaWwod2luZG93LmlubmVySGVpZ2h0KjAuNjc1IC8gcGl4ZWxTaXplKSAqIHBpeGVsU2l6ZTsNCgkJfQ0KCQkvLyBJZiB0aGUgbmV3IHdpZHRoIGlzIGdyZWF0ZXIgdGhhbiAxMDAwLCBzZXQgaXQgdG8gMTAwMA0KCQlpZiAobmV3V2lkdGggPiAxMDAyKSB7IG5ld1dpZHRoID0gMTAwMjsgfQ0KCQkvLyBJZiB3ZSBhcmUgb24gYSBkZXNrdG9wIGFuZCB0aGUgbmV3IGhlaWdodCBpcyBncmVhdGVyIHRoYW4gNTAwLCBzZXQgaXQgdG8gNTAwDQoJCWlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMDAgJiYgbmV3SGVpZ2h0ID4gNTAwKSB7IG5ld0hlaWdodCA9IDUwMDsgfQ0KDQoJCW5ld0hlaWdodCAtPSBuZXdIZWlnaHQgJSBwaXhlbFNpemU7DQoJCW5ld1dpZHRoIC09IG5ld1dpZHRoICUgcGl4ZWxTaXplOw0KDQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYW1lRGl2IikuY2xhc3NMaXN0LnJlbW92ZSgiZ2FtZURpdi13aWRlIik7DQoJCWlmIChzZXR0aW5ncy5waXhlbHNpemUgJiYgc2V0dGluZ3MucGl4ZWxzaXplLnRvU3RyaW5nKCkuc2xpY2UoLTEpID09PSAidyIpIHsNCgkJCS8vIHJlc2l6ZUNhbnZhcyh3aW5kb3cuaW5uZXJIZWlnaHQvMS41LHdpbmRvdy5pbm5lcldpZHRoLTEwLHBpeGVsU2l6ZSk7DQoJCQluZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQvMS42Ow0KCQkJbmV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aC0xMDsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYW1lRGl2IikuY2xhc3NMaXN0LmFkZCgiZ2FtZURpdi13aWRlIik7DQoJCX0NCgkJcmVzaXplQ2FudmFzKG5ld0hlaWdodCxuZXdXaWR0aCxwaXhlbFNpemUsY2xlYXIpOw0KCX0NCglyZXNpemVDYW52YXMgPSBmdW5jdGlvbihuZXdIZWlnaHQsbmV3V2lkdGgsbmV3UGl4ZWxTaXplLGNsZWFyKSB7DQoJCXZhciBnYW1lQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhbWUiKTsNCgkJdmFyIGN0eCA9IGdhbWVDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCgkJY3R4LmNhbnZhcy53aWR0aCA9IG5ld1dpZHRoOw0KCQljdHguY2FudmFzLmhlaWdodCA9IG5ld0hlaWdodDsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhbWVEaXYiKS5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgInB4IjsNCgkJY3R4LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlOw0KCQljdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7DQoJCWN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTsNCgkJcGl4ZWxTaXplID0gbmV3UGl4ZWxTaXplOw0KCQlwaXhlbFNpemVIYWxmID0gbmV3UGl4ZWxTaXplLzI7DQoJCXBpeGVsU2l6ZTMgPSBuZXdQaXhlbFNpemUqMzsNCgkJaGVpZ2h0ID0gTWF0aC5yb3VuZChuZXdIZWlnaHQvbmV3UGl4ZWxTaXplKS0xOw0KCQl3aWR0aCA9IE1hdGgucm91bmQobmV3V2lkdGgvbmV3UGl4ZWxTaXplKS0xOw0KCQltb3VzZVBvcyA9IHt4Ok1hdGgucm91bmQod2lkdGgvMikseTpNYXRoLnJvdW5kKGhlaWdodC8yKX07DQoJCWlmIChjbGVhciE9PWZhbHNlKSB7IGNsZWFyQWxsKCk7IH0NCgkJdmFyIGNhbnZhc0xheWVyS2V5cyA9IE9iamVjdC5rZXlzKGNhbnZhc0xheWVycyk7DQoJCWZvciAobGV0IGkgPSAwOyBpIDwgY2FudmFzTGF5ZXJLZXlzLmxlbmd0aDsgaSsrKSB7DQoJCQljb25zdCBsYXllckNhbnZhcyA9IGNhbnZhc0xheWVyc1tjYW52YXNMYXllcktleXNbaV1dOw0KCQkJdmFyIGxheWVyQ3R4ID0gbGF5ZXJDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCgkJCWxheWVyQ3R4LmNhbnZhcy53aWR0aCA9IGN0eC5jYW52YXMud2lkdGg7DQoJCQlsYXllckN0eC5jYW52YXMuaGVpZ2h0ID0gY3R4LmNhbnZhcy5oZWlnaHQ7DQoJCQlsYXllckN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTsNCgkJCWxheWVyQ3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlOw0KCQkJbGF5ZXJDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7DQoJCX0NCgl9DQoJYXV0b1Jlc2l6ZUNhbnZhcyhmYWxzZSk7DQoNCglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZ1AiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXNEaXYiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCg0KCWNsZWFyQWxsKCk7DQoJLy8gcmFuZG9tQ2hvaWNlcyA9IHRoZSBrZXlzIG9mICJlbGVtZW50cyIgd2l0aCBhbnkgZWxlbWVudCB3aXRoIHRoZSBjYXRlZ29yeSAidG9vbHMiIG9yIHRoZSBwcm9wZXJ0eSBleGNsdWRlUmFuZG9tIHNldCB0byB0cnVlIHJlbW92ZWQNCglyYW5kb21DaG9pY2VzID0gT2JqZWN0LmtleXMoZWxlbWVudHMpLmZpbHRlcihmdW5jdGlvbihlKSB7DQoJCXJldHVybiBlbGVtZW50c1tlXS5leGNsdWRlUmFuZG9tICE9IHRydWUgJiYgZWxlbWVudHNbZV0uY2F0ZWdvcnkgIT09ICJ0b29scyIgJiYgIWVsZW1lbnRzW2VdLnRvb2w7DQoJfSk7DQoJZ2FtZUNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBtb3VzZUNsaWNrKTsNCglnYW1lQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpew0KCQlpZiAoZWxlbWVudHNbY3VycmVudEVsZW1lbnRdICYmIGVsZW1lbnRzW2N1cnJlbnRFbGVtZW50XS5vbk1vdXNlRG93bikgew0KCQkJZWxlbWVudHNbY3VycmVudEVsZW1lbnRdLm9uTW91c2VEb3duKGUpOw0KCQl9DQoJfSk7DQoJZ2FtZUNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgZnVuY3Rpb24oZSkgew0KCQlpZiAoZS50b3VjaGVzKSBlID0gZS50b3VjaGVzWzBdOw0KCQltb3VzZVBvcyA9IGdldE1vdXNlUG9zKGNhbnZhcywgZSk7DQoJCXJldHVybiBmYWxzZTsNCgl9KTsNCglnYW1lQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBtb3VzZUNsaWNrLCB7IHBhc3NpdmU6IGZhbHNlIH0pOw0KCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgbW91c2VVcCk7DQoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgbW91c2VVcCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsNCgl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgbW91c2VNb3ZlKTsNCglnYW1lQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIG1vdXNlTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9KTsNCglnYW1lQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndoZWVsIiwgd2hlZWxIYW5kbGUpOw0KCWdhbWVDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2VudGVyIiwgZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpO30pDQoJZ2FtZUNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJkcmFnb3ZlciIsIGZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTt9KQ0KCWdhbWVDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigiZHJvcCIsIGZ1bmN0aW9uKGUpew0KCQllLnN0b3BQcm9wYWdhdGlvbigpOw0KCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCXZhciB1cmwgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7DQoJCWlmICh1cmwpIHsNCgkJCXZhciBpbWcgPSBuZXcgSW1hZ2UoKTsNCgkJCWltZy5vbmxvYWQgPSBmdW5jdGlvbigpe3BsYWNpbmdJbWFnZSA9IGltZzsgcGxhY2VJbWFnZSgpOyBwbGFjaW5nSW1hZ2UgPSBudWxsO30NCgkJCWltZy5zcmMgPSB1cmw7DQoJCX0gZWxzZSB7DQoJCQlpZiAoIWUuZGF0YVRyYW5zZmVyLmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH0NCgkJCXZhciBmaWxlID0gZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF07DQoJCQkvLyBmb3IgaW1nIGZpbGUocyksIHJlYWQgdGhlIGZpbGUgJiBkcmF3IHRvIGNhbnZhcw0KCQkJaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZS8nKSAhPT0gLTEpIHsNCgkJCQl2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQoJCQkJaW1nLmNsYXNzTGlzdC5hZGQoIm9iaiIpOw0KCQkJCWltZy5maWxlID0gZmlsZTsNCgkJCQl2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCgkJCQlyZWFkZXIub25sb2FkID0gKGZ1bmN0aW9uKGFJbWcpew0KCQkJCQlyZXR1cm4gZnVuY3Rpb24oZSkgew0KCQkJCQkJYUltZy5vbmxvYWQ9ZnVuY3Rpb24oKXsNCgkJCQkJCQlwbGFjaW5nSW1hZ2UgPSBhSW1nOw0KCQkJCQkJCXBsYWNlSW1hZ2UoKTsNCgkJCQkJCQlwbGFjaW5nSW1hZ2UgPSBudWxsOw0KCQkJCQkJfQ0KCQkJCQkJLy8gZS50YXJnZXQucmVzdWx0IGlzIGEgZGF0YVVSTCBmb3IgdGhlIGltYWdlDQoJCQkJCQlhSW1nLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDsNCgkJCQkJfTsgDQoJCQkJfSkoaW1nKTsNCgkJCQlyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsNCgkJCX0NCgkJCWVsc2UgaWYgKGZpbGUubmFtZS5pbmRleE9mKCIuc2J4bHMiKSAhPT0gLTEgfHwgZmlsZS5uYW1lLmluZGV4T2YoIi5qc29uIikgIT09IC0xKSB7DQoJCQkJbGV0IGZuID0gZnVuY3Rpb24oKSB7DQoJCQkJCXZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KCQkJCQlyZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgew0KCQkJCQkJbGFzdFNhdmVKU09OID0gZS50YXJnZXQucmVzdWx0Ow0KCQkJCQkJbG9hZFNhdmUoSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpKTsNCgkJCQkJfQ0KCQkJCQlyZWFkZXIucmVhZEFzVGV4dChmaWxlKTsNCgkJCQkJY3VycmVudFNhdmVEYXRhLmZpbGVuYW1lID0gZmlsZS5uYW1lOw0KCQkJCX0NCgkJCQlpZiAoY3VycmVudFBpeGVscy5sZW5ndGggPT09IDAgfHwgc2V0dGluZ3MucmVzZXR3YXJuaW5nID09PSAwKSBmbigpOw0KCQkJCWVsc2Ugew0KCQkJCQlwcm9tcHRDb25maXJtKCJDbGVhciB0aGlzIHNjZW5lIGFuZCBsb2FkIHNhdmUgZmlsZT8iLCAocikgPT4geyBpZiAocikgZm4oKTsgfSwgIkNsZWFyIENhbnZhcyIgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9LCBmYWxzZSk7DQoJLy8gaGFuZGxlIHBhc3RpbmcNCgl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicGFzdGUiLCBmdW5jdGlvbihlKXsNCgkJaWYgKGUuY2xpcGJvYXJkRGF0YSkgew0KCQkJdmFyIGl0ZW1zID0gZS5jbGlwYm9hcmREYXRhLml0ZW1zOw0KCQkJaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCAmJiBlLmNsaXBib2FyZERhdGEuZmlsZXMubGVuZ3RoICE9PSAwKSB7DQoJCQkJaXRlbXMgPSBlLmNsaXBib2FyZERhdGEuZmlsZXM7DQoJCQl9DQoJCQlpZiAoIWl0ZW1zKSB7IHJldHVybjsgfQ0KCQkJdmFyIGl0ZW0gPSBpdGVtc1tpdGVtcy5sZW5ndGgtMV07DQoJCQlpZiAoaXRlbS50eXBlLmluZGV4T2YoJ2ltYWdlLycpICE9PSAtMSkgew0KCQkJCXZhciBibG9iID0gaXRlbS5nZXRBc0ZpbGUoKTsNCgkJCQl2YXIgVVJMT2JqID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOw0KCQkJCXZhciBzb3VyY2UgPSBVUkxPYmouY3JlYXRlT2JqZWN0VVJMKGJsb2IpOw0KCQkJCXZhciBpbWcgPSBuZXcgSW1hZ2UoKTsNCgkJCQlpbWcub25sb2FkID0gZnVuY3Rpb24oKXtwbGFjaW5nSW1hZ2UgPSBpbWc7IHBsYWNlSW1hZ2UoKTsgcGxhY2luZ0ltYWdlID0gbnVsbDt9DQoJCQkJaW1nLnNyYyA9IHNvdXJjZTsNCgkJCX0NCgkJCWVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gIiIgfHwgaXRlbS50eXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSAhPT0gLTEpIHsNCgkJCQlsZXQgZmlsZSA9IGl0ZW0uZ2V0QXNGaWxlKCk7DQoJCQkJdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQoJCQkJcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHsNCgkJCQkJbGFzdFNhdmVKU09OID0gZS50YXJnZXQucmVzdWx0Ow0KCQkJCQlsb2FkU2F2ZShKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCkpOw0KCQkJCQljdXJyZW50U2F2ZURhdGEuZmlsZW5hbWUgPSBmaWxlLm5hbWU7DQoJCQkJfQ0KCQkJCWxldCBmbiA9IGZ1bmN0aW9uKCkgew0KCQkJCQlyZWFkZXIucmVhZEFzVGV4dChmaWxlKTsNCgkJCQl9DQoJCQkJaWYgKGN1cnJlbnRQaXhlbHMubGVuZ3RoID09PSAwIHx8IHNldHRpbmdzLnJlc2V0d2FybmluZyA9PT0gMCkgZm4oKTsNCgkJCQllbHNlIHsNCgkJCQkJcHJvbXB0Q29uZmlybSgiQ2xlYXIgdGhpcyBzY2VuZSBhbmQgbG9hZCBzYXZlIGZpbGU/IiwgKHIpID0+IHsgaWYgKHIpIGZuKCk7IH0sICJDbGVhciBDYW52YXMiICk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfSwgZmFsc2UpOw0KCXdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCl7DQoJCWlmIChjdXJyZW50UGl4ZWxzLmxlbmd0aCA+IDAgJiYgIXN0YW5kYWxvbmUgJiYgIWZvcmNlUmVsb2FkKXsNCgkJCXJldHVybiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyc7DQoJCX0NCgl9Ow0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYW1lIikub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0NCglkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24oZSkgew0KCQl2YXIga2V5TmFtZSA9IGUuY29kZTsNCgkJaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHsNCgkJCWlmIChlLmtleUNvZGUgPT0gODMpIHsgLy8gQ3RybCtTID0gU2F2ZQ0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQlzYXZlVG9GaWxlKCk7DQoJCQkJaWYgKGUuc2hpZnRLZXkpIGNvbmZpcm1TYXZlKCk7DQoJCQl9DQoJCQllbHNlIGlmIChlLmtleUNvZGUgPT0gNzkpIHsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJaWYgKGUuc2hpZnRLZXkpIHsNCgkJCQkJaWYgKGxhc3RTYXZlSlNPTiAhPT0gbnVsbCkgbG9hZFNhdmUoSlNPTi5wYXJzZShsYXN0U2F2ZUpTT04pKTsNCgkJCQl9DQoJCQkJZWxzZSBsb2FkRnJvbUZpbGUoKTsNCgkJCX0NCgkJCXJldHVybg0KCQl9DQoJCS8vIGVsc2UgaWYgdGFiLCBzZXQgZG9jdW1lbnQuYm9keS5jbGFzcyB0byAidXNpbmdUYWIiDQoJCWVsc2UgaWYgKGUua2V5Q29kZSA9PSA5KSB7DQoJCQlkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoInVzaW5nVGFiIik7DQoJCX0NCgkJLy8gRjEgPSBoaWRlICN1bmRlckRpdiwgI2luZm9QYXJlbnQsICNtb2RQYXJlbnQsICNwYWdldGl0bGUsICNjb2xvclNlbGVjdG9yIGlmIHRoZXkgYXJlbid0IGhpZGRlbiwgb3RoZXJ3aXNlIHNob3cgdGhlbQ0KCQlpZiAoZS5rZXlDb2RlID09IDExMikgew0KCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bmRlckRpdiIpLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuZGVyRGl2Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhZ2V0aXRsZSIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJCWlmIChlbGVtZW50c1tjdXJyZW50RWxlbWVudF0uY3VzdG9tQ29sb3IpIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbG9yU2VsZWN0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsgfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib3R0b21JbmZvQm94Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQl9IGVsc2Ugew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bmRlckRpdiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJaWYgKHNob3dpbmdNZW51KSB7DQoJCQkJCWNsb3NlTWVudSgpDQoJCQkJfTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFnZXRpdGxlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29sb3JTZWxlY3RvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvdHRvbUluZm9Cb3giKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJfQ0KCQl9DQoJCWlmIChzaG93aW5nTWVudSkgew0KCQkJLy8gZXNjIG9yIC8gb3IgdGFiIC8gb3IgXCAod2hpbGUgaW4gc2V0dGluZ3MpIHRvIGNsb3NlDQoJCQlpZiAoZS5rZXlDb2RlID09IDI3IHx8IChlLmtleUNvZGUgPT0gMTkxICYmIHNob3dpbmdNZW51PT0iaW5mbyIpIHx8IGUua2V5Q29kZSA9PSA5IHx8IChlLmtleUNvZGUgPT0gMjIwICYmIHNob3dpbmdNZW51PT0ic2V0dGluZ3MiKSkgew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQljbG9zZU1lbnUoKTsNCgkJCX0NCgkJCS8vIGVudGVyIHRvIGNsZWFyIGluZm9TZWFyY2gNCgkJCWVsc2UgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiBzaG93aW5nTWVudSA9PSAiaW5mbyIpIHsNCgkJCQl2YXIgaW5mb1NlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmZvU2VhcmNoIik7DQoJCQkJaW5mb1NlYXJjaC52YWx1ZSA9ICIiOw0KCQkJCXNob3dJbmZvKCk7DQoJCQl9DQoJCQkvLyBlbnRlciB0byBjb25maXJtIHByb21wdA0KCQkJZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzICYmIHNob3dpbmdNZW51ID09ICJwcm9tcHQiICYmIHByb21wdFN0YXRlICYmIHByb21wdFN0YXRlLnR5cGUgIT09ICJpbnB1dCIgJiYgKGUudGFyZ2V0LnRhZ05hbWUgIT09ICJJTlBVVCIpKSB7DQoJCQkJaGFuZGxlUHJvbXB0KHRydWUpOw0KCQkJfQ0KCQkJLy8gbCB0byBjbG9zZU1lbnUoKSBpZiBzaG93aW5nIHNhdmVzDQoJCQllbHNlIGlmIChlLmtleUNvZGUgPT0gNzYgJiYgc2hvd2luZ01lbnUgPT0gInNhdmVzIiAmJiBlLnRhcmdldC50YWdOYW1lICE9PSAiSU5QVVQiKSB7DQoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCWNsb3NlTWVudSgpOw0KCQkJfQ0KCQkJcmV0dXJuOw0KCQl9DQoJCWVsc2Ugew0KCQkJaWYgKGUua2V5Q29kZSA9PSAyNykgew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQlpZiAobG9nSW50ZXJ2YWwpIHsNCgkJCQkJY2xlYXJMb2coKTsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCXNldFZpZXcoMSk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCS8vIGlmIHRoZSB1c2VyIGlzIGluIGFuIGlucHV0LCByZXR1cm4NCgkJaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gIklOUFVUIiB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09ICJURVhUQVJFQSIpIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCWlmIChlLmtleUNvZGUgPT0gMTYpIHsgLy8gc2hpZnQNCgkJCWlmIChldmVudC5sb2NhdGlvbiA9PT0gS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX0xFRlQpIHsNCgkJCQlzaGlmdERvd24gPSAxOw0KCQkJfSBlbHNlIGlmIChldmVudC5sb2NhdGlvbiA9PT0gS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX1JJR0hUKSB7DQoJCQkJc2hpZnREb3duID0gMzsNCgkJCX0NCgkJfQ0KCQllbHNlIGlmIChlLmtleUNvZGUgPT0gMTgpIHsgLy8gYWx0DQoJCQlpZiAoZXZlbnQubG9jYXRpb24gPT09IEtleWJvYXJkRXZlbnQuRE9NX0tFWV9MT0NBVElPTl9MRUZUKSB7DQoJCQkJc2hpZnREb3duID0gMjsNCgkJCX0gZWxzZSBpZiAoZXZlbnQubG9jYXRpb24gPT09IEtleWJvYXJkRXZlbnQuRE9NX0tFWV9MT0NBVElPTl9SSUdIVCkgew0KCQkJCXNoaWZ0RG93biA9IDQ7DQoJCQl9DQoJCX0NCg0KCQlpZiAoa2V5YmluZHNbZS5rZXldKSB7DQoJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQlrZXliaW5kc1tlLmtleV0oZSk7DQoJCQlyZXR1cm47DQoJCX0NCgkJaWYgKGtleWJpbmRzW2tleU5hbWVdKSB7DQoJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQlrZXliaW5kc1trZXlOYW1lXShlKTsNCgkJCXJldHVybjsNCgkJfQ0KCQlpZiAoa2V5YmluZHNba2V5TmFtZS50b0xvd2VyQ2FzZSgpXSkgew0KCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJa2V5YmluZHNba2V5TmFtZS50b0xvd2VyQ2FzZSgpXShlKTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCWlmIChlLmtleUNvZGUgPj0gNDggJiYgZS5rZXlDb2RlIDw9IDU3KSB7IC8vIDAtOSA9IENoYW5nZSB2aWV3DQoJCQlzZXRWaWV3KGUua2V5Q29kZS00OCk7DQoJCX0NCg0KCX0pOw0KCS8vIElmIHRoZSB1c2VyIHJlbGVhc2VzIGVpdGhlciBzaGlmdA0KCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgZnVuY3Rpb24oZSkgew0KCQlpZiAoZS5rZXlDb2RlID09IDE2IHx8IGUua2V5Q29kZSA9PSAxOCkgew0KCQkJaWYgKHNoaWZ0RG93bikgeyB0b2dnbGVTaGlmdCgpIH0NCgkJCWlmIChzaGFwaW5nKSB7DQoJCQkJc2hhcGluZyA9IDA7DQoJCQkJc2hhcGVTdGFydCA9IG51bGw7DQoJCQl9DQoJCX0NCgl9KTsNCgkvLyB3aGVuIHdpbmRvdyBibHVyLCBzaGlmdERvd24gPSAwDQoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCBmdW5jdGlvbihlKSB7DQoJCWlmIChzaGlmdERvd24pIHsgdG9nZ2xlU2hpZnQoKSB9DQoJCWlmIChzaGFwaW5nKSB7DQoJCQlzaGFwaW5nID0gMDsNCgkJCXNoYXBlU3RhcnQgPSBudWxsOw0KCQl9DQoJfSk7DQoJc3RhcnRpbmdXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KCXN0YXJ0aW5nV2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0Ow0KCS8vIG5vdGljZSB3aGVuIHdpbmRvdyBpcyByZXNpemVkDQoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGZ1bmN0aW9uKGUpIHsNCgkJaWYgKE1hdGguYWJzKHN0YXJ0aW5nV2luZG93V2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCkgPj0gMzAwKSB7DQoJCQlzdGFydGluZ1dpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7DQoJCQlzdGFydGluZ1dpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCgkJCWlmIChjdXJyZW50UGl4ZWxzLmxlbmd0aCA9PT0gMCkgew0KCQkJCWNsZWFyQWxsKCk7DQoJCQl9DQoJCQllbHNlIGlmICghc2V0dGluZ3MucmVzaXplTm90aWNlKSB7DQoJCQkJcHJvbXB0VGV4dCgiUmVzZXQgdGhlIGNhbnZhcyBieSBwcmVzc2luZyAnUicgb3IgdGhlICdSZXNldCcgYnV0dG9uLiIsKCk9Pnsgc2F2ZVNldHRpbmdzKCk7IH0sIldpbmRvdyBSZXNpemVkIikNCgkJCQlzZXR0aW5ncy5yZXNpemVOb3RpY2UgPSB0cnVlOw0KCQkJfQ0KCQl9DQoJfSk7DQoNCgkvLyBDcmVhdGUgYnV0dG9ucyBmb3IgZWxlbWVudHMNCgkvLyBGb3IgZWFjaCBlbGVtZW50IHR5cGUgaW4gZWxlbWVudHMsIGNyZWF0ZSBhIGJ1dHRvbiBpbiBjb250cm9scyB0aGF0IHNldHMgdGhlIGN1cnJlbnQgZWxlbWVudCB0byB0aGF0IHR5cGUNCgllbGVtZW50Q291bnQgPSAwOw0KCWhpZGRlbkNvdW50ID0gMDsNCgljYXRlZ29yeUxpc3QgPSBbXTsNCglmb3IgKHZhciBlbGVtZW50IGluIGVsZW1lbnRzKSB7DQoJCWlmIChlbGVtZW50Q291bnQgPT09IDApIHsgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50OyBmaXJzdEVsZW1lbnQgPSBlbGVtZW50IH0NCgkJZWxlbWVudENvdW50Kys7DQoJCWlmIChzZXR0aW5ncy5jaGVlcmZ1bCAmJiBlbGVtZW50c1tlbGVtZW50XS5ub2NoZWVyKSB7DQoJCQllbGVtZW50c1tlbGVtZW50XS5oaWRkZW4gPSB0cnVlOw0KCQkJaGlkZGVuQ291bnQrKzsNCgkJCWNvbnRpbnVlOw0KCQl9DQoJCWlmIChlbGVtZW50ID09PSAidW5rbm93biIpIHtjb250aW51ZTt9DQoJCXZhciBjYXRlZ29yeSA9IGVsZW1lbnRzW2VsZW1lbnRdLmNhdGVnb3J5Ow0KCQlpZiAoY2F0ZWdvcnk9PW51bGwpIHtjYXRlZ29yeT0ib3RoZXIifQ0KCQlpZiAoY2F0ZWdvcnlMaXN0LmluZGV4T2YoY2F0ZWdvcnkpID09PSAtMSkgew0KCQkJY2F0ZWdvcnlMaXN0LnB1c2goY2F0ZWdvcnkpOw0KCQl9DQoJCWlmIChlbGVtZW50c1tlbGVtZW50XS5oaWRkZW4gJiYgKCFzZXR0aW5nc1sidW5oaWRlIl0gfHwgKCBzZXR0aW5nc1sidW5oaWRlIl09PT0yICYmICFzZXR0aW5ncy51bmxvY2tlZFtlbGVtZW50XSApKSkgeyBoaWRkZW5Db3VudCsrOyBjb250aW51ZTsgfQ0KCQl2YXIgY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnktIitjYXRlZ29yeSk7DQoJCWlmIChjYXRlZ29yeURpdiA9PT0gbnVsbCkgew0KCQkJY3JlYXRlQ2F0ZWdvcnlEaXYoY2F0ZWdvcnkpOw0KCQkJY2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnktIitjYXRlZ29yeSk7DQoJCX0NCgkJY3JlYXRlRWxlbWVudEJ1dHRvbihlbGVtZW50KTsNCgl9DQoJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yeUJ1dHRvbi1zdGF0ZXMiKSkgew0KCQkvLyBtb3ZlIGl0IHRvIHRoZSBlbmQgb2YgaXRzIHBhcmVudA0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnlCdXR0b24tc3RhdGVzIikucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnlCdXR0b24tc3RhdGVzIikpOw0KCX0NCgkvLyBTZXQgdGhlIGZpcnN0IGJ1dHRvbiBpbiBjYXRlZ29yeUNvbnRyb2xzIGRpdiB0byBiZSB0aGUgY3VycmVudCBjYXRlZ29yeQ0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yeUNvbnRyb2xzIikuY2hpbGRyZW5bMF0uY2xpY2soKQ0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleHRyYUluZm8iKS5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsICI8c21hbGwgY2xhc3M9J2V4dHJhSW5mby1yaWdodCc+PHA+PHNwYW4gaWQ9J2V4dHJhSW5mby1uYW1lJz5TYW5kYm94ZWxzIDwvc3Bhbj52IiArIGN1cnJlbnR2ZXJzaW9uICsgIiDigKIgPHNwYW4gaWQ9J2VsZW1lbnRDb3VudFNwYW4nPiIgKw0KCQlsYW5nS2V5KCJndWl0ZW1wbGF0ZS5lbGVtZW50Q291bnQiLCIkMSBlbGVtZW50cywgd2l0aCAkMiBoaWRkZW4iLHsxOmVsZW1lbnRDb3VudCwyOmhpZGRlbkNvdW50fSkgKw0KCQkiPC9zcGFuPi48L3A+PC9zbWFsbD48c21hbGwgaWQ9J2F0dHJpYnV0aW9uJz48cD7CqTIwMjEtIiArIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArICIuIDxhIGhyZWY9J2h0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9saWNlbnNlLnR4dCcgcmVsPSdsaWNlbnNlJyB0YXJnZXQ9J19ibGFuaycgaWQ9J2NvcHlyaWdodExhYmVsJz5BbGwgUmlnaHRzIFJlc2VydmVkPC9hPi4gPGEgc3R5bGU9J2NvbG9yOiMwMGZmZmYnIHJlbD0nYXV0aG9yJyBocmVmPSdodHRwczovL3I3NG4uY29tJz5SNzRuPC9hPjwvcD48L3NtYWxsPiIpOw0KCXNlbGVjdEVsZW1lbnQoY3VycmVudEVsZW1lbnQpOw0KCWZvY3VzR2FtZSgpOw0KCS8vIEZvciBldmVyeSBidXR0b24gZWxlbWVudCwgb25rZXl1cD0iZXZlbnQucHJldmVudERlZmF1bHQoKSINCgl2YXIgYnV0dG9uRWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYnV0dG9uIik7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25FbGVtZW50cy5sZW5ndGg7IGkrKykgew0KCQlidXR0b25FbGVtZW50c1tpXS5vbmtleXVwID0gZnVuY3Rpb24oZSkgew0KCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQl9DQoJfQ0KDQoJaWYgKGxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucyAmJiBsb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnNbMF0gJiYgc3RhbmRhbG9uZVR5cGUgIT09ICJkaXNjb3JkIikgew0KCQkvL2xvbA0KCQl2YXIgXzB4M2Y0MDk0PV8weDJmMjk7ZnVuY3Rpb24gXzB4MmYyOShfMHgzYzk5MDUsXzB4NDNmYTJjKXt2YXIgXzB4MzUyMzBiPV8weDM1MjMoKTtyZXR1cm4gXzB4MmYyOT1mdW5jdGlvbihfMHgyZjI5YTEsXzB4MmM3Njc4KXtfMHgyZjI5YTE9XzB4MmYyOWExLTB4MTMzO3ZhciBfMHgxMjUxNGY9XzB4MzUyMzBiW18weDJmMjlhMV07cmV0dXJuIF8weDEyNTE0Zjt9LF8weDJmMjkoXzB4M2M5OTA1LF8weDQzZmEyYyk7fShmdW5jdGlvbihfMHg0MDgwNjgsXzB4MmM0NmNlKXt2YXIgXzB4MjIxNTVkPV8weDJmMjksXzB4OWM5MzlmPV8weDQwODA2OCgpO3doaWxlKCEhW10pe3RyeXt2YXIgXzB4MjQ3MGEwPS1wYXJzZUludChfMHgyMjE1NWQoMHgxM2QpKS8weDEqKHBhcnNlSW50KF8weDIyMTU1ZCgweDEzMykpLzB4MikrLXBhcnNlSW50KF8weDIyMTU1ZCgweDE0YykpLzB4MyooLXBhcnNlSW50KF8weDIyMTU1ZCgweDEzYykpLzB4NCkrLXBhcnNlSW50KF8weDIyMTU1ZCgweDEzNCkpLzB4NSoocGFyc2VJbnQoXzB4MjIxNTVkKDB4MTNhKSkvMHg2KSstcGFyc2VJbnQoXzB4MjIxNTVkKDB4MTQwKSkvMHg3K3BhcnNlSW50KF8weDIyMTU1ZCgweDE0YSkpLzB4OCstcGFyc2VJbnQoXzB4MjIxNTVkKDB4MTRkKSkvMHg5KihwYXJzZUludChfMHgyMjE1NWQoMHgxM2IpKS8weGEpKy1wYXJzZUludChfMHgyMjE1NWQoMHgxMzUpKS8weGIqKC1wYXJzZUludChfMHgyMjE1NWQoMHgxMzcpKS8weGMpO2lmKF8weDI0NzBhMD09PV8weDJjNDZjZSlicmVhaztlbHNlIF8weDljOTM5ZlsncHVzaCddKF8weDljOTM5Zlsnc2hpZnQnXSgpKTt9Y2F0Y2goXzB4ZmI4ZTQzKXtfMHg5YzkzOWZbJ3B1c2gnXShfMHg5YzkzOWZbJ3NoaWZ0J10oKSk7fX19KF8weDM1MjMsMHg2ODIzNSkpO2Z1bmN0aW9uIF8weDM1MjMoKXt2YXIgXzB4MjY4NjFiPVsnMzgxMzI1MFRxV1Z5RScsJ2FwcGVuZENoaWxkJywnY2xhc3NOYW1lJywnZGl2JywnYmxvY2snLCd2c2NvZGUnLCdzdHlsZScsJ2NyZWF0ZUVsZW1lbnQnLCdpbmRleE9mJywnaXRjaC5pbycsJzM1MTI3NDRUc3l1VEEnLCdhbmNlc3Rvck9yaWdpbnMnLCcxOTgwOTY5ZUNoaG90JywnMjdtWmdORHInLCdtZW51UGFyZW50JywnMjM3MjZ3VFhqWE8nLCczMTM0NVlRVG5jcycsJzEzMzA2ODc2ZnZveVRxJywnZGlzcGxheScsJzEyeEFTQnl2JywnaW5uZXJIVE1MJywnaG9zdCcsJzQ3NFZJWHJraCcsJzIwMTc3NDBGU1hwSlAnLCc0TUh0QkFlJywnMjBmRk1WVEsnLCc3NG4uY29tJywnaW5jbHVkZXMnXTtfMHgzNTIzPWZ1bmN0aW9uKCl7cmV0dXJuIF8weDI2ODYxYjt9O3JldHVybiBfMHgzNTIzKCk7fWlmKCh3aW5kb3dbJ3NlbGYnXSE9PXdpbmRvd1sndG9wJ118fGxvY2F0aW9uW18weDNmNDA5NCgweDEzOSldJiZsb2NhdGlvbltfMHgzZjQwOTQoMHgxMzkpXVtfMHgzZjQwOTQoMHgxNDgpXShfMHgzZjQwOTQoMHgxM2UpKT09PS0weDEpJiYhKGxvY2F0aW9uW18weDNmNDA5NCgweDE0YildWzB4MF1bXzB4M2Y0MDk0KDB4MTNmKV0oXzB4M2Y0MDk0KDB4MTQ5KSl8fGxvY2F0aW9uW18weDNmNDA5NCgweDE0YildWzB4MF1bXzB4M2Y0MDk0KDB4MTNmKV0oXzB4M2Y0MDk0KDB4MTQ1KSkpKXt2YXIgbWVudVBhcmVudD1kb2N1bWVudFtfMHgzZjQwOTQoMHgxNDcpXShfMHgzZjQwOTQoMHgxNDMpKTttZW51UGFyZW50W18weDNmNDA5NCgweDE0MildPV8weDNmNDA5NCgweDE0ZSksbWVudVBhcmVudFtfMHgzZjQwOTQoMHgxNDYpXVtfMHgzZjQwOTQoMHgxMzYpXT1fMHgzZjQwOTQoMHgxNDQpLG1lbnVQYXJlbnRbXzB4M2Y0MDk0KDB4MTM4KV09JzxkaXZceDIwY2xhc3M9XHgyMm1lbnVTY3JlZW5ceDIyPlx4MGE8YnV0dG9uXHgyMGNsYXNzPVx4MjJYQnV0dG9uXHgyMlx4MjBvbmNsaWNrPVx4MjJjbG9zZU1lbnUoKTtceDIyPi08L2J1dHRvbj5ceDBhPHNwYW5ceDIwY2xhc3M9XHgyMm1lbnVUaXRsZVx4MjI+JiM4NzsmIzY1OyYjODI7JiM3ODsmIzczOyYjNzg7JiM3MTs8L3NwYW4+XHgwYTxkaXZceDIwY2xhc3M9XHgyMm1lbnVUZXh0XHgyMlx4MjBzdHlsZT1ceDIycGFkZGluZy10b3A6MWVtXHgyMj5ceDBhXHgyMFx4MjBceDIwXHgyMCYjODk7JiMxMTE7JiMxMTc7XHgyMCYjMTA5OyYjOTc7JiMxMjE7XHgyMCYjOTg7JiMxMDE7XHgyMCYjMTExOyYjMTEwO1x4MjAmIzk3O1x4MjAmIzExOTsmIzEwMTsmIzk4OyYjMTE1OyYjMTA1OyYjMTE2OyYjMTAxO1x4MjAmIzExNjsmIzEwNDsmIzk3OyYjMTE2O1x4MjAmIzEwNDsmIzk3OyYjMTE1O1x4MjAmIzEwMTsmIzEwOTsmIzk4OyYjMTAxOyYjMTAwOyYjMTAwOyYjMTAxOyYjMTAwO1x4MjAmIzExMTsmIzExNzsmIzExNDtceDIwJiMxMTU7JiMxMDU7JiMxMDk7JiMxMTc7JiMxMDg7JiM5NzsmIzExNjsmIzExMTsmIzExNDtceDIwJiMxMDU7JiMxMTA7JiMxMTg7JiMxMTE7JiMxMDg7JiMxMTc7JiMxMTA7JiMxMTY7JiM5NzsmIzExNDsmIzEwNTsmIzEwODsmIzEyMTsmIzQ2O1x4MGE8YnI+PGJyPlx4MGEmIzg0OyYjMTA0OyYjMTAxO1x4MjAmIzExNDsmIzEwMTsmIzk3OyYjMTA4O1x4MjAmIzExMTsmIzExMDsmIzEwMTtceDIwJiMxMDU7JiMxMTU7XHgyMCYjOTc7JiMxMTY7XHgyMCYjMTE2OyYjMTA0OyYjMTA1OyYjMTE1O1x4MjAmIzg1OyYjODI7JiM3NjsmIzU4O1x4MjA8YVx4MjBocmVmPVx4MjJodHRwczovL3NhbmRib3hlbHMucjc0bi5jb21ceDIyXHgyMHRhcmdldD1ceDIyX2JsYW5rXHgyMj5zYW5kYm94ZWxzLlI3NG4uY29tPC9hPi5ceDBhPGJyPjxicj5ceDBhJiM4MDsmIzEwODsmIzEwMTsmIzk3OyYjMTE1OyYjMTAxO1x4MjAmIzExNzsmIzExNTsmIzEwMTtceDIwJiMxMTY7JiMxMDQ7JiMxMDE7XHgyMCYjMTA5OyYjOTc7JiMxMDU7JiMxMTA7XHgyMCYjMTE5OyYjMTAxOyYjOTg7JiMxMTU7JiMxMDU7JiMxMTY7JiMxMDE7XHgyMCYjMTE2OyYjMTExO1x4MjAmIzExNTsmIzExNzsmIzExMjsmIzExMjsmIzExMTsmIzExNDsmIzExNjtceDIwJiMxMTc7JiMxMTU7XHgyMCYjMTA1OyYjMTEwOyYjMTE1OyYjMTE2OyYjMTAxOyYjOTc7JiMxMDA7JiM0NjtceDBhPGJyPjxicj5ceDBhJiM4OTsmIzExMTsmIzExNztceDIwJiM5OTsmIzk3OyYjMTEwO1x4MjAmIzk3OyYjMTA4OyYjMTE1OyYjMTExO1x4MjAmIzEwNjsmIzExMTsmIzEwNTsmIzExMDtceDIwJiMxMTE7JiMxMTc7JiMxMTQ7XHgyMDxhXHgyMGhyZWY9XHgyMmh0dHBzOi8vZGlzY29yZC5nZy9lalVjNllQUXVTXHgyMlx4MjB0YXJnZXQ9XHgyMl9ibGFua1x4MjI+RGlzY29yZDwvYT5ceDIwJiMxMDU7JiMxMDI7XHgyMCYjMTE2OyYjMTA0OyYjOTc7JiMxMTY7XHgyMCYjMTA1OyYjMTE1OyYjMTEwOyYjMzk7JiMxMTY7XHgyMCYjMTEyOyYjMTExOyYjMTE1OyYjMTE1OyYjMTA1OyYjOTg7JiMxMDg7JiMxMDE7JiM0NjtceDBhPC9kaXY+XHgwYTxicj48YnI+PGJyPjxicj5ceDBhPC9kaXY+Jyxkb2N1bWVudFsnYm9keSddW18weDNmNDA5NCgweDE0MSldKG1lbnVQYXJlbnQpLHNob3dpbmdNZW51PSdhbGVydCc7fQ0KCQl2YXIgb3JpZ2luID0gbG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zWzBdOw0KCQlpZiAob3JpZ2luLmluZGV4T2YoImdhbWUiKSAhPT0gLTEgfHwgb3JpZ2luLmluZGV4T2YoImJyb3dzZXIiKSAhPT0gLTEgfHwgb3JpZ2luLmluZGV4T2YoInlpemhpZiIpICE9PSAtMSB8fCBvcmlnaW4uaW5kZXhPZigiLmlvIikgIT09IC0xKSB7DQoJCQlnYW1lQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCX0NCgl9DQoJLy9nZXQgdGhlIGZpcnN0IC5lbGVtZW50QnV0dG9uIGluIHRoZSBmaXJzdCAuY2F0ZWdvcnksIGFuZCBzZWxlY3RFbGVtZW50KGJ1dHRvbi5lbGVtZW50KQ0KCXZhciBmaXJzdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImNhdGVnb3J5IilbMF07DQoJdmFyIGZpcnN0RWxlbWVudEJ1dHRvbiA9IGZpcnN0RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImVsZW1lbnRCdXR0b24iKVswXTsNCglzZWxlY3RFbGVtZW50KGZpcnN0RWxlbWVudEJ1dHRvbi5nZXRBdHRyaWJ1dGUoImVsZW1lbnQiKSk7DQoNCgkvL3Bvc3QtbG9hZA0KCWxldCB0ZW1wU2F2ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJTYW5kYm94ZWxzVGVtcFNhdmUiKTsNCglpZiAodGVtcFNhdmUpIHsNCgkJbGV0IGpzb24gPSBKU09OLnBhcnNlKHRlbXBTYXZlKTsNCgkJbGFzdFNhdmVKU09OID0ganNvbjsNCgkJbG9hZFNhdmUoanNvbiwzLDMpDQoJCWxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJTYW5kYm94ZWxzVGVtcFNhdmUiKQ0KCX0NCgllbHNlIGlmICh1cmxQYXJhbXMuaGFzKCJkaXNjb3JkIikpIHsNCgkJbGV0IHNhdmVJRCA9IHBhcnNlSW50KHVybFBhcmFtcy5nZXQoImRpc2NvcmQiKSk7DQoJCWlmIChzYXZlSUQpIGxvYWRTYXZlVVJMKCJodHRwczovL3NhbmRib3hlbHMubGl2ZS9icm93c2VyL2FwaS9zYXZlLyIgKyB1cmxQYXJhbXMuZ2V0KCJkaXNjb3JkIikpOw0KCX0NCglsZXQgdGVtcE1vZHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiU2FuZGJveGVsc1RlbXBNb2RzIik7DQoJaWYgKHRlbXBNb2RzKSB7DQoJCUpTT04ucGFyc2UodGVtcE1vZHMpLmZvckVhY2goKG1vZCkgPT4gew0KCQkJcmVtb3ZlTW9kKG1vZCx0cnVlKTsNCgkJfSkNCgkJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oIlNhbmRib3hlbHNUZW1wTW9kcyIpDQoJfQ0KDQp9DQoJPC9zY3JpcHQ+DQoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0ic3R5bGUuY3NzP25vY2FjaGU9NCI+DQo8L2hlYWQ+DQoNCjxib2R5Pg0KCTxoMSBjbGFzcz0icGFnZXRpdGxlIiBpZD0icGFnZXRpdGxlIj48YSBocmVmPSJodHRwczovL1I3NG4uY29tIiBjbGFzcz0iYmFja2J1dHRvbiIgdGFyZ2V0PSJfYmxhbmsiPiZsdDs8L2E+PC9oMT4NCgk8bm9zY3JpcHQ+WW91IGRvbid0IGhhdmUgSmF2YVNjcmlwdCBlbmFibGVkISBKYXZhU2NyaXB0IGlzIHJlcXVpcmVkIHRvIHBsYXkgU2FuZGJveGVscywgYW5kIG1vc3Qgb3RoZXIgYnJvd3NlciB0b29scy48L25vc2NyaXB0Pg0KCTxkaXYgaWQ9InRvdGFsV3JhcHBlciI+DQoJPGRpdiBpZD0iZ2FtZVdyYXBwZXIiPg0KCTxkaXYgaWQ9ImdhbWVEaXYiPg0KCQk8cCBpZD0ibG9hZGluZ1AiIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtoZWlnaHQ6NTAwcHg7bGluZS1oZWlnaHQ6NTAwcHg7Ij5Mb2FkaW5nLi4uPC9wPg0KCQk8c2NyaXB0Pg0KCQkJaWYgKGVuYWJsZWRNb2RzLmxlbmd0aCA+IDApIHsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZ1AiKS5pbm5lckhUTUwgKz0gYCBOb3QgbG9hZGluZz8gPGEgaHJlZj0iIyIgb25jbGljaz0ibG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2VuYWJsZWRNb2RzJyk7bG9jYXRpb24ucmVsb2FkKCkiPkNsaWNrIHRvIENsZWFyIE1vZHM8L2E+YA0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2FkaW5nUCIpLnN0eWxlLmZvbnRTaXplID0gIjAuOGVtIg0KCQkJfQ0KCQk8L3NjcmlwdD4NCgkJPGRpdiBpZD0iY2FudmFzRGl2IiBzdHlsZT0iZGlzcGxheTpub25lIj4NCgkJCTxjYW52YXMgaWQ9ImdhbWUiIHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIj4NCgkJCQlZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgSFRNTDUgY2FudmFzIHRhZy48YnI+DQoJCQkJUGxlYXNlIHVwZGF0ZSB5b3VyIGJyb3dzZXIgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uLjxicj4NCgkJCQk8YSBocmVmPSJodHRwczovL3d3dy5nb29nbGUuY29tL2Nocm9tZS8iIHRhYmluZGV4PSItMSI+Q2hyb21lPC9hPiA0LjArPGJyPg0KCQkJCTxhIGhyZWY9Imh0dHBzOi8vd3d3Lm1vemlsbGEub3JnL2ZpcmVmb3gvbmV3LyIgdGFiaW5kZXg9Ii0xIj5GaXJlZm94PC9hPiAyLjArPGJyPg0KCQkJCTxhIGhyZWY9Imh0dHA6Ly93d3cuYXBwbGUuY29tL3NhZmFyaS8iIHRhYmluZGV4PSItMSI+U2FmYXJpPC9hPiAzLjErPGJyPg0KCQkJCTxhIGhyZWY9Imh0dHA6Ly93d3cub3BlcmEuY29tLyIgdGFiaW5kZXg9Ii0xIj5PcGVyYTwvYT4gOS4wKzxicj4NCgkJCQk8YSBocmVmPSJodHRwczovL3d3dy5taWNyb3NvZnQuY29tL2VkZ2UiIHRhYmluZGV4PSItMSI+TWljcm9zb2Z0IEVkZ2U8L2E+IDEyLjArPGJyPg0KCQkJPC9jYW52YXM+DQoJCQk8aW5wdXQgaWQ9ImNvbG9yU2VsZWN0b3IiIHR5cGU9ImNvbG9yIiB2YWx1ZT0iI2ZmMDAwMCIgb25jaGFuZ2U9ImN1cnJlbnRDb2xvck1hcFtjdXJyZW50RWxlbWVudF09dGhpcy52YWx1ZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50QnV0dG9uLScrY3VycmVudEVsZW1lbnQpLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdiYWNrZ3JvdW5kLWltYWdlJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudEJ1dHRvbi0nK2N1cnJlbnRFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kID0gY3VycmVudENvbG9yTWFwW2N1cnJlbnRFbGVtZW50XTsiIG9uaW5wdXQ9ImN1cnJlbnRDb2xvck1hcFtjdXJyZW50RWxlbWVudF09dGhpcy52YWx1ZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50QnV0dG9uLScrY3VycmVudEVsZW1lbnQpLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdiYWNrZ3JvdW5kLWltYWdlJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudEJ1dHRvbi0nK2N1cnJlbnRFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kID0gY3VycmVudENvbG9yTWFwW2N1cnJlbnRFbGVtZW50XTsiPg0KCQkJPGxhYmVsIGZvcj0iY29sb3JTZWxlY3RvciIgaGlkZGVuPkN1c3RvbSBjb2xvcjwvbGFiZWw+DQoJCQk8ZGl2IGlkPSJsb2dEaXYiPjxzcGFuIGlkPSJsb2dUZXh0Ij48L3NwYW4+PC9kaXY+DQoJCTwvZGl2Pg0KCQk8ZGl2IGlkPSJ1bmRlckRpdiI+DQoJCQk8ZGl2IGlkPSJzdGF0cyI+PC9kaXY+DQoJCQk8ZGl2IGlkPSJjb250cm9scyI+DQoJCQkJPGRpdiBpZD0idG9vbENvbnRyb2xzIj4NCgkJCQkJPGJ1dHRvbiBpZD0ic2hpZnRCdXR0b24iIHRpdGxlPSJUb2dnbGUgU2hpZnQga2V5IiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0ndG9nZ2xlU2hpZnQoKTtmb2N1c0dhbWUoKTsnIG9uPSJmYWxzZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+4oaRPC9idXR0b24+PGJ1dHRvbiBpZD0icGF1c2VCdXR0b24iIHRpdGxlPSJQYXVzZS9wbGF5IHRoZSBzaW11bGF0aW9uIiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0ndG9nZ2xlUGF1c2UoKTtmb2N1c0dhbWUoKTsnIG9uPSJmYWxzZSI+UGF1c2U8L2J1dHRvbj48YnV0dG9uIGlkPSJmcmFtZUJ1dHRvbiIgdGl0bGU9IlBhdXNlIGFuZCBwbGF5IG9uZSBmcmFtZSIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9J2RvRnJhbWUoKTtmb2N1c0dhbWUoKTsnIG9uPSJmYWxzZSI+Jmd0OzwvYnV0dG9uPjxidXR0b24gaWQ9InNpemVEb3duQnV0dG9uIiB0aXRsZT0iRGVjcmVhc2UgdGhlIGJydXNoIHNpemUiIGNsYXNzPSJjb250cm9sQnV0dG9uIiBvbmNsaWNrPSJtb3VzZVNpemUgLT0gc2hpZnREb3duP21vdXNlU2l6ZS0xOjI7Y2hlY2tNb3VzZVNpemUodHJ1ZSk7Y2VudGVyTW91c2UoKTtmb2N1c0dhbWUoKTsiPi08L2J1dHRvbj48YnV0dG9uIGlkPSJzaXplVXBCdXR0b24iIHRpdGxlPSJJbmNyZWFzZSB0aGUgYnJ1c2ggc2l6ZSIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9Im1vdXNlU2l6ZSArPSBzaGlmdERvd24/MTQ6MjtjaGVja01vdXNlU2l6ZSh0cnVlKTtjZW50ZXJNb3VzZSgpO2ZvY3VzR2FtZSgpOyI+KzwvYnV0dG9uPjxidXR0b24gaWQ9InJlc2V0QnV0dG9uIiB0aXRsZT0iQ2xlYXIgdGhlIGVudGlyZSBzY2VuZSIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9InJlc2V0UHJvbXB0KCk7Ij5SZXNldDwvYnV0dG9uPjxidXR0b24gaWQ9InJlcGxhY2VCdXR0b24iIHRpdGxlPSJPdmVycmlkZSBleGlzdGluZyBwaXhlbHMgd2hlbiBwbGFjaW5nIiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0naWYgKG1vZGUgPT0gInJlcGxhY2UiKSB7bW9kZSA9IG51bGw7dGhpcy5zZXRBdHRyaWJ1dGUoIm9uIiwiZmFsc2UiKTt9ZWxzZSB7bW9kZSA9ICJyZXBsYWNlIjt0aGlzLnNldEF0dHJpYnV0ZSgib24iLCJ0cnVlIik7fTtmb2N1c0dhbWUoKTsnIG9uPSJmYWxzZSI+UmVwbGFjZTwvYnV0dG9uPjxidXR0b24gaWQ9ImVsZW1TZWxlY3RCdXR0b24iIHRpdGxlPSJTZWxlY3QgYW4gZWxlbWVudCBieSBuYW1lIiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0nY2hvb3NlRWxlbWVudFByb21wdCgpOyc+RTwvYnV0dG9uPjxidXR0b24gaWQ9InRwc0J1dHRvbiIgdGl0bGU9IkNoYW5nZSB0aGUgc2ltdWxhdGlvbiBUaWNrcyBQZXIgU2Vjb25kIChUUFMpIiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0ndHBzUHJvbXB0KCknPlRwczwvYnV0dG9uPjwhLS08YnV0dG9uIGlkPSJoaWRlQnV0dG9uIiB0aXRsZT0iU3RvcHMgdXBkYXRpbmcgdGhlIHNjZW5lIHRvIGFsbG93IG1vcmUgcmVzb3VyY2VzIHRvd2FyZHMgc2ltdWxhdGlvbiIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9J2lmIChoaWRpbmcpIHtoaWRpbmcgPSBmYWxzZTt0aGlzLnNldEF0dHJpYnV0ZSgib24iLCJmYWxzZSIpO31lbHNlIHtoaWRpbmcgPSB0cnVlO3RoaXMuc2V0QXR0cmlidXRlKCJvbiIsInRydWUiKTt9O2ZvY3VzR2FtZSgpOycgb249ImZhbHNlIj5IaWRlPC9idXR0b24+LS0+PGJ1dHRvbiBpZD0iaW5mb0J1dHRvbiIgdGl0bGU9IkJyaW5ncyB1cCB0aGUgZWxlbWVudCBpbmZvIHNjcmVlbiIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9J2lmIChzaG93aW5nTWVudSE9ImluZm8iKXtjbG9zZU1lbnUoKTtzaG93SW5mbygiIil9ZWxzZXtjbG9zZU1lbnUoKX07JyBvbj0iZmFsc2UiPkluZm88L2J1dHRvbj48YnV0dG9uIGlkPSJzYXZlc0J1dHRvbiIgdGl0bGU9IkJyaW5ncyB1cCB0aGUgU2F2ZSAmIExvYWQgbWVudSIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9J2lmIChzaG93aW5nTWVudSE9InNhdmVzIil7Y2xvc2VNZW51KCk7c2hvd1NhdmVzKCl9ZWxzZXtjbG9zZU1lbnUoKX07JyBvbj0iZmFsc2UiPlNhdmVzPC9idXR0b24+PGJ1dHRvbiBpZD0ibW9kc0J1dHRvbiIgdGl0bGU9IkJyaW5ncyB1cCB0aGUgTW9kIE1hbmFnZXIiIGNsYXNzPSJjb250cm9sQnV0dG9uIiBvbmNsaWNrPSdpZiAoc2hvd2luZ01lbnUhPSJtb2RzIil7Y2xvc2VNZW51KCk7c2hvd01vZE1hbmFnZXIoKX1lbHNle2Nsb3NlTWVudSgpfTsnIG9uPSJmYWxzZSI+TW9kczwvYnV0dG9uPjxidXR0b24gaWQ9InNldHRpbmdzQnV0dG9uIiB0aXRsZT0iQnJpbmdzIHVwIHRoZSBzZXR0aW5ncyBzY3JlZW4iIGNsYXNzPSJjb250cm9sQnV0dG9uIiBvbmNsaWNrPSdpZiAoc2hvd2luZ01lbnUhPSJzZXR0aW5ncyIpe2Nsb3NlTWVudSgpO3Nob3dTZXR0aW5ncygpfWVsc2V7Y2xvc2VNZW51KCl9Oycgb249ImZhbHNlIj5TZXR0aW5nczwvYnV0dG9uPg0KCQkJCTwvZGl2Pg0KCQkJCTxzY3JpcHQ+DQoJCQkJCS8vIGlmIGl0IGlzIHRoZSAxc3Qgb2YgQXByaWwsIGFkZCBhIHJhaW5ib3ctY29sb3JlZCBidXR0b24NCgkJCQkJaWYgKCFzdGFuZGFsb25lICYmIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSA9PSAzICYmIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIDw9IDMpIHsNCgkJCQkJCS8vIGlmIHVybCBjb250YWlucyAiZm9vbHM9dHJ1ZSINCgkJCQkJCWlmICghd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoImZvb2xzPXRydWUiKSkgew0KCQkJCQkJCXZhciBmb29sc0J1dHRvbiA9IGA8YnV0dG9uIGlkPSJmb29sc0J1dHRvbiIgdGl0bGU9IkVuYWJsZSBGT09MUyBNb2RlIiBjbGFzcz0iY29udHJvbEJ1dHRvbiIgb25jbGljaz0id2luZG93LmxvY2F0aW9uLmhyZWYgPSAnP2Zvb2xzPXRydWUnIiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZmYwMDAwLCAjZmY3ZjAwLCAjZmZmZjAwLCAjMDBmZjAwLCAjMDAwMGZmLCAjNGIwMDgyLCAjOTQwMGQzKTsgYmFja2dyb3VuZC1zaXplOiA4MDAlIDgwMCU7IGFuaW1hdGlvbjogcmFpbmJvdyAxNXMgZWFzZSBpbmZpbml0ZTsgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7IC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLWNvbG9yOiAjZmYwMGZmOyBvdXRsaW5lOiBub25lOyB0ZXh0LXNoYWRvdzogMHB4IDBweCAxMHB4ICNmZjAwZmY7Ij5Gb29sczwvYnV0dG9uPmANCgkJCQkJCX0NCgkJCQkJCWVsc2Ugew0KCQkJCQkJCXZhciBmb29sc0J1dHRvbiA9IGA8YnV0dG9uIGlkPSJmb29sc0J1dHRvbiIgdGl0bGU9IkRpc2FibGUgRk9PTFMgTW9kZSIgY2xhc3M9ImNvbnRyb2xCdXR0b24iIG9uY2xpY2s9IndpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9mb29scz1mYWxzZSciIHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNmZjAwMDAsICNmZjdmMDAsICNmZmZmMDAsICMwMGZmMDAsICMwMDAwZmYsICM0YjAwODIsICM5NDAwZDMpOyBiYWNrZ3JvdW5kLXNpemU6IDgwMCUgODAwJTsgYW5pbWF0aW9uOiByYWluYm93IDE1cyBlYXNlIGluZmluaXRlOyAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OyBib3JkZXItY29sb3I6ICNmZjAwZmY7IHRleHQtc2hhZG93OiAwcHggMHB4IDEwcHggI2ZmMDBmZjsiPkVzY2FwZTwvYnV0dG9uPmANCgkJCQkJCX0NCgkJCQkJCS8vIGluc2VydCBiZWZvcmUgcGF1c2VCdXR0b24NCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXVzZUJ1dHRvbiIpLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlYmVnaW4iLCBmb29sc0J1dHRvbik7DQoJCQkJCX0NCgkJCQkJaWYgKGlzTW9iaWxlKSB7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2hpZnRCdXR0b24iKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7DQoJCQkJCX0NCgkJCQk8L3NjcmlwdD4NCgkJCQk8ZGl2IGlkPSJjYXRlZ29yeS10b29scyIgY2F0ZWdvcnk9InRvb2xzIiBzdHlsZT0iZGlzcGxheTogZmxleDsiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNhdGVnb3J5Q29udHJvbHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImVsZW1lbnRDb250cm9scyI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxuYXYgaWQ9ImV4dHJhSW5mbyI+PHNtYWxsIGlkPSJleHRyYUxpbmtzIj48YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMucjc0bi5jb20vY2hhbmdlbG9nIiBpZD0iY2hhbmdlbG9nQnV0dG9uIiB0YXJnZXQ9Il9ibGFuayI+Q2hhbmdlbG9nPC9hPiA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vZmVlZGJhY2siIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6bGltZTsiIGlkPSJmZWVkYmFja0J1dHRvbiI+RmVlZGJhY2s8L2E+IDxhIGhyZWY9Imh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvMzY2NDgyMC9TYW5kYm94ZWxzLyIgdGFyZ2V0PSJfYmxhbmsiIGlkPSJzdGVhbUJ1dHRvbiIgdGl0bGU9IlZpZXcgU2FuZGJveGVscyBvbiBTdGVhbSIgc3R5bGU9ImNvbG9yOiMyY2I0ZWU7Ij5TVEVBTTwvYT4gPGEgaHJlZj0iaHR0cHM6Ly9zYW5kYm94ZWxzLndpa2kuZ2cvIiB0YXJnZXQ9Il9ibGFuayIgaWQ9Indpa2lCdXR0b24iIHRpdGxlPSJPZmZpY2lhbCBTYW5kYm94ZWxzIFdpa2kgLSB3aWtpLmdnIiBzdHlsZT0iY29sb3I6d2hpdGU7Ij5XaWtpPC9hPiA8YSBpZD0ibW9yZVNvY2lhbCIgaHJlZj0iaHR0cHM6Ly90d2l0dGVyLmNvbS9SNzRuQ29tIiByZWw9Im1lIiB0YXJnZXQ9Il9ibGFuayI+VHdpdHRlcjwvYT4gPGEgaHJlZj0iaHR0cHM6Ly9kaXNjb3JkLmdnL2VqVWM2WVBRdVMiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzJmNjBmZjsiPkRpc2NvcmQ8L2E+PHNwYW4gaWQ9Imluc3RhbGwtYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj4mbmJzcDs8YSBvbmNsaWNrPSJkZWZlcnJlZFByb21wdC5wcm9tcHQoKTsgcmV0dXJuIGZhbHNlIiBocmVmPSIjIiBzdHlsZT0idGV4dC1zaGFkb3c6IDBweCAycHggMTBweCAjZmYwMGZmOyBjdXJzb3I6cG9pbnRlciI+SW5zdGFsbCBPZmZsaW5lPC9hPjwvc3Bhbj4NCgkJCQk8IS0tPGJyPjxicj48YSBzdHlsZT0iY29sb3I6bGltZSIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2Zvcm1zL2QvZS8xRkFJcFFMU2VZTWJuZ3RiQkhaN2hrejhqcGJIbDdUaUFJdHF1a3JodG50S2dBSGpIMzBmWTA4QS92aWV3Zm9ybT91c3A9c2ZfbGluayI+RklMTCBPVVQgVEhFIENFTlNVUzxzcGFuIHN0eWxlPSJjb2xvcjpyZWQiPihORVcpPC9zcGFuPjwvYT4tLT4NCgkJCQk8IS0tIDxicj48YnI+PGEgc3R5bGU9ImNvbG9yOmxpbWUiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLzM2NjQ4MjAvU2FuZGJveGVscy8iPlNBTkRCT1hFTFMgT04gU1RFQU08c3BhbiBzdHlsZT0iY29sb3I6cmVkIj4oTkVXKTwvc3Bhbj48L2E+IC0tPg0KCQkJCTwhLS08YnI+PGJyPjxhIHN0eWxlPSJjb2xvcjpsaW1lIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9yNzRuLmNvbS8iPlBMQVkgQUQtRlJFRSBPTiBTVEVBTTxzcGFuIHN0eWxlPSJjb2xvcjpyZWQiPihORVcpPC9zcGFuPjwvYT4tLT4NCgkJCTwvc21hbGw+PC9uYXY+DQoJCQk8c2NyaXB0Pg0KCQkJCS8vIHZlcnNpb24gY2hlY2sNCgkJCQlpZiAoIXNldHRpbmdzWyJsYXN0dmVyc2lvbiJdIHx8IHNldHRpbmdzWyJsYXN0dmVyc2lvbiJdIT09Y3VycmVudHZlcnNpb24pIHsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYW5nZWxvZ0J1dHRvbiIpLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIixgPHNwYW4gc3R5bGU9ImNvbG9yOnJlZCI+KE5FVyk8L3NwYW4+YCk7DQoJCQkJfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFuZ2Vsb2dCdXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhbmdlbG9nQnV0dG9uIikuaW5uZXJUZXh0ID0gbGFuZ1siZ3VpLmNoYW5nZWxvZ0J1dHRvbiJdIHx8ICJDaGFuZ2Vsb2ciOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhbmdlbG9nQnV0dG9uIikuaW5uZXJUZXh0ID0gbGFuZ0tleSgiZ3VpLmNoYW5nZWxvZ0J1dHRvbiIsIkNoYW5nZWxvZyIpDQoJCQkJCXNldFNldHRpbmcoImxhc3R2ZXJzaW9uIixjdXJyZW50dmVyc2lvbik7DQoJCQkJfSk7DQoJCQkJLy8gd2lraSBjbGlja2VkIGNoZWNrDQoJCQkJLyppZiAoIXNldHRpbmdzWyJjbGlja2Vkd2lraSJdKSB7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3aWtpQnV0dG9uIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLGA8c3BhbiBzdHlsZT0iY29sb3I6cmVkIj4oTkVXKTwvc3Bhbj5gKTsNCgkJCQl9DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndpa2lCdXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2lraUJ1dHRvbiIpLmlubmVySFRNTCA9ICJXaWtpIjsNCgkJCQkJc2V0U2V0dGluZygiY2xpY2tlZHdpa2kiLHRydWUpOw0KCQkJCX0pOyovDQoJCQkJdmFyIHNvY2lhbHMgPSB7DQoJCQkJCSI8c3BhbiBzdHlsZT0nY29sb3I6IzFEQTFGMic+VHdpdHRlcjwvc3Bhbj4iOiAiaHR0cHM6Ly94LmNvbS9pbnRlbnQvZm9sbG93P3NvdXJjZT1mb2xsb3didXR0b24mdmFyaWFudD0xLjAmc2NyZWVuX25hbWU9Ujc0bkNvbSIsDQoJCQkJCSI8c3BhbiBzdHlsZT0nY29sb3I6I0ZGNTcwMCc+UmVkZGl0PC9zcGFuPiI6ICJodHRwczovL3JlZGRpdC5jb20vci9TYW5kYm94ZWxzIiwNCgkJCQkJIjxzcGFuIHN0eWxlPSdjb2xvcjojMjA4QkZFJz5CbHVlc2t5PC9zcGFuPiI6ICJodHRwczovL2Jza3kuYXBwL3Byb2ZpbGUvcjc0bi5jb20iLA0KCQkJCQkiPHNwYW4gc3R5bGU9J2NvbG9yOiMwMGYyZWEnPlRpazwvc3Bhbj48c3BhbiBzdHlsZT0nY29sb3I6I2ZmMDA1MCc+VG9rPC9zcGFuPiI6ICJodHRwczovL3Rpa3Rvay5jb20vQHI3NG4uY29tIiwNCgkJCQkJIjxzcGFuIHN0eWxlPSdjb2xvcjojZmYwMDU1Jz5JbnN0YWdyYW08L3NwYW4+IjogImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vcjc0bmRldi9yZWVscy8iLA0KCQkJCQkiPHNwYW4gc3R5bGU9J2NvbG9yOiNGRkZGRkYnPllvdTwvc3Bhbj48c3BhbiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojRkYwMDAwO2NvbG9yOiNGRkZGRkYnPlR1YmU8L3NwYW4+IjogImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL0BSNzRuL3Nob3J0cz9zdWJfY29uZmlybWF0aW9uPTEiDQoJCQkJfTsNCgkJCQkvLyByZXBsYWNlICNtb3JlU29jaWFsIHdpdGggYSByYW5kb20gc29jaWFsIGxpbmsgKGtleT10aXRsZSwgdmFsdWU9dXJsKQ0KCQkJCWlmIChPYmplY3Qua2V5cyhzb2NpYWxzKS5sZW5ndGggPiAwKSB7DQoJCQkJCXZhciBzb2NpYWxLZXlzID0gT2JqZWN0LmtleXMoc29jaWFscyk7DQoJCQkJCXZhciByYW5kb21Tb2NpYWwgPSBzb2NpYWxLZXlzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNvY2lhbEtleXMubGVuZ3RoKV07DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3JlU29jaWFsIikuaW5uZXJIVE1MID0gcmFuZG9tU29jaWFsOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9yZVNvY2lhbCIpLmhyZWYgPSBzb2NpYWxzW3JhbmRvbVNvY2lhbF07DQoJCQkJfQ0KCQkJPC9zY3JpcHQ+DQoJCTwvZGl2Pg0KCQk8ZGl2IGlkPSJpbmZvUGFyZW50Ij4NCgkJCTxkaXYgaWQ9ImluZm9TY3JlZW4iPiA8IS0tRWxlbWVudCBJbmZvIFBhZ2UtLT4NCgkJCQk8YnV0dG9uIGNsYXNzPSJYQnV0dG9uIiBvbmNsaWNrPSJjbG9zZU1lbnUoKTsiPi08L2J1dHRvbj4NCgkJCQk8c3BhbiBjbGFzcz0naW5mb0xpbmsgbm9zZWxlY3QnIGlkPSJpbmZvQmFja0J1dHRvbiIgb25jbGljaz0naW5mb0JhY2soKScgc3R5bGU9J3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtkaXNwbGF5Om5vbmUnPuKGkCZuYnNwOzwvc3Bhbj48c3BhbiBjbGFzcz0ibWVudVRpdGxlIiBpZD0iaW5mb1RpdGxlIj5UaXRsZTwvc3Bhbj4NCgkJCQk8ZGl2IGNsYXNzPSJtZW51VGV4dCIgaWQ9ImluZm9UZXh0Ij5UZXh0PC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaW5mb1NlYXJjaCIgcGxhY2Vob2xkZXI9IkVsZW1lbnQuLi4iIG9uaW5wdXQ9InNob3dJbmZvKHRoaXMudmFsdWUpOyIgZW50ZXJrZXloaW50PSJkb25lIj48L2lucHV0Pg0KCQk8L2Rpdj4NCgkNCgkJPCEtLU1vZCBNYW5hZ2VyIFBhZ2Ugd2l0aCB0aGUgbGlzdCBvZiBjdXJyZW50IG1vZHMgYW5kIGEgdXJsIGlucHV0IGJveCB3aXRoIGEgcGx1cyBidXR0b24gdG8gYWRkIGl0LS0+DQoJCTxkaXYgaWQ9Im1vZFBhcmVudCI+DQoJCQk8ZGl2IGlkPSJtb2RNYW5hZ2VyIj4NCgkJCQk8YnV0dG9uIGNsYXNzPSJYQnV0dG9uIiBvbmNsaWNrPSJjbG9zZU1lbnUoKTsiPi08L2J1dHRvbj4NCgkJCQk8c3BhbiBjbGFzcz0ibWVudVRpdGxlIj5FbmFibGVkIE1vZHM8L3NwYW4+DQoJCQkJPHVsIGNsYXNzPSJtZW51VGV4dCIgaWQ9Im1vZE1hbmFnZXJMaXN0Ij48L3VsPg0KCQkJCTxzcGFuIGlkPSJub01vZHMiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPllvdSBoYXZlIG5vIG1vZHMgZW5hYmxlZC48YnI+PGJyPjwvc3Bhbj4NCgkJCQk8c2NyaXB0Pg0KCQkJCQkvLyBJZiBlbmFibGVkTW9kcyBoYXMgaXRlbXMsIGFkZCBhbiBsaSB0byBtb2RNYW5hZ2VyTGlzdCBmb3IgZWFjaCBpdGVtIHdpdGggdGhlIGhyZWYgdG8gdGhlIGl0ZW0sIHRhcmdldCBibGFuaywgYW5kIHRoZSBpdGVtJ3MgbmFtZSwgd2l0aCAiPHNwYW4gY2xhc3M9InJlbW92ZU1vZFgiIG9uY2xpY2s9J3JlbW92ZU1vZCgnPlg8L3NwYW4+IiBhZnRlciB0aGUgbGluaw0KCQkJCQlpZiAoZW5hYmxlZE1vZHMubGVuZ3RoID4gMCkgew0KCQkJCQkJbW9kTWFuYWdlckxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kTWFuYWdlckxpc3QiKTsNCgkJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgZW5hYmxlZE1vZHMubGVuZ3RoOyBpKyspIHsNCgkJCQkJCQl2YXIgbW9kID0gZW5hYmxlZE1vZHNbaV07DQoJCQkJCQkJLy8gbW9kTmFtZSBpcyB0aGUgbGFzdCBwYXJ0IG9mIHRoZSBtb2QncyBwYXRoDQoJCQkJCQkJdmFyIG1vZE5hbWUgPSBtb2Quc3BsaXQoIi8iKS5wb3AoKTsNCgkJCQkJCQltb2RNYW5hZ2VyTGlzdC5pbm5lckhUTUwgKz0gYDxsaT48YSBocmVmPSIke21vZC5yZXBsYWNlQWxsKCciJywnJyl9IiB0YXJnZXQ9Il9ibGFuayI+JHttb2ROYW1lfTwvYT4gPHNwYW4gY2xhc3M9InJlbW92ZU1vZFgiIG9uY2xpY2s9J3JlbW92ZU1vZCgiJHttb2QucmVwbGFjZUFsbCgnIicsJ1xcXCInKX0iKSc+WDwvc3Bhbj48L2xpPmANCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQllbHNlIHsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub01vZHMiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCQkJfQ0KCQkJCTwvc2NyaXB0Pg0KCQkJCTxzcGFuIGlkPSJtb2RNYW5hZ2VyVGFnbGluZSI+U2VlIHRoZSA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vbW9kLWxpc3QiIHRhcmdldD0iX2JsYW5rIj5Nb2QgTGlzdDwvYT4gb3IgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL1I3NG5Db20vc2FuZGJveGVscy8iIHRhcmdldD0iX2JsYW5rIj5HaXRIdWI8L2E+Ljwvc3Bhbj4NCgkJCQk8YSBpZD0ibW9kTWFuYWdlclJlZnJlc2giIHN0eWxlPSJwYWRkaW5nLXRvcDoxZW07ZGlzcGxheTpub25lIiBocmVmPSIjIiBvbmNsaWNrPSJsb2NhdGlvbi5yZWxvYWQoKTtyZXR1cm4gZmFsc2U7Ij5SZWxvYWQgdG8gYXBwbHkgY2hhbmdlcyE8L2E+DQoJCQkJPGlucHV0IHR5cGU9InRleHQiIGlkPSJtb2RNYW5hZ2VyVXJsIiBwbGFjZWhvbGRlcj0iLkpTIG9yIFVSTC4uLiIgb25rZXlkb3duPSJpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge2FkZE1vZCh0aGlzLnZhbHVlKTt0aGlzLnZhbHVlID0gJyc7fTt0aGlzLmZvY3VzKCk7IiBlbnRlcmtleWhpbnQ9ImRvbmUiPjwvaW5wdXQ+DQoJCQk8L2Rpdj4NCgkJCTwhLS0gPGJ1dHRvbiBpZD0ibW9kTWFuYWdlckFkZCIgb25jbGljaz0iYWRkTW9kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RNYW5hZ2VyVXJsJykudmFsdWUpOyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kTWFuYWdlclVybCcpLnZhbHVlID0gJyc7Ij4rPC9idXR0b24+IC0tPg0KCQk8L2Rpdj4NCg0KCQk8ZGl2IGlkPSJzYXZlc1BhcmVudCIgY2xhc3M9Im1lbnVQYXJlbnQiPg0KCQkJPGRpdiBpZD0ic2F2ZXNNZW51IiBjbGFzcz0ibWVudVNjcmVlbiI+DQoJCQkJPGJ1dHRvbiBjbGFzcz0iWEJ1dHRvbiIgb25jbGljaz0iY2xvc2VNZW51KCk7Ij4tPC9idXR0b24+DQoJCQkJPHNwYW4gY2xhc3M9Im1lbnVUaXRsZSIgaWQ9InNhdmVzTWVudVRpdGxlIj5TYXZlICYgTG9hZDwvc3Bhbj4NCgkJCQk8ZGl2IGNsYXNzPSJtZW51VGFicyI+DQoJCQkJCTxidXR0b24gY2xhc3M9Im1lbnVUYWIgc2VsZWN0ZWQiIG9uY2xpY2s9ImhhbmRsZVRhYih0aGlzKSIgZGF0YS10YWI9ImxvY2FsIiBpZD0ic2F2ZXNUYWJMb2NhbCI+TG9jYWw8L2J1dHRvbj4NCgkJCQkJPGJ1dHRvbiBjbGFzcz0ibWVudVRhYiIgb25jbGljaz0iaGFuZGxlVGFiKHRoaXMpOyBzaG93RmVhdHVyZWRTYXZlcygpOyIgZGF0YS10YWI9ImZlYXR1cmVkIiBpZD0ic2F2ZXNUYWJGZWF0dXJlZCI+RmVhdHVyZWQ8L2J1dHRvbj4NCgkJCQkJPGJ1dHRvbiBjbGFzcz0ibWVudVRhYiIgb25jbGljaz0ic2hvd09ubGluZVdhcm5pbmcoKCkgPT4ge2lmIChzaG93aW5nTWVudSAhPT0gJ3NhdmVzJykgc2hvd1NhdmVzKCk7IGhhbmRsZVRhYih0aGlzKTsgc2hvd0Rpc2NvcmRTYXZlcygpfSkiIGRhdGEtdGFiPSJkaXNjb3JkIiBpZD0ic2F2ZXNUYWJEaXNjb3JkIj5EaXNjb3JkPC9idXR0b24+DQoJCQkJCTxidXR0b24gY2xhc3M9Im1lbnVUYWIiIG9uY2xpY2s9ImlmICh3aW5kb3cuc2hvd1dvcmtzaG9wU2F2ZXMpIHNob3dPbmxpbmVXYXJuaW5nKCgpID0+IHtpZiAoc2hvd2luZ01lbnUgIT09ICdzYXZlcycpIHNob3dTYXZlcygpOyBoYW5kbGVUYWIodGhpcyk7IHNob3dXb3Jrc2hvcFNhdmVzKCl9KTsgZWxzZSBoYW5kbGVUYWIodGhpcyk7IiBkYXRhLXRhYj0id29ya3Nob3AiIGlkPSJzYXZlc1RhYldvcmtzaG9wIj5TdGVhbTwvYnV0dG9uPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9Im1lbnVUYWIgc2VsZWN0ZWQiIGRhdGEtdGFiPSJsb2NhbCI+DQoJCQkJCTxkaXYgY2xhc3M9Im1lbnVUZXh0IiBpZD0ic2F2ZVNsb3RMaXN0Ij48L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9Im1lbnVCb3R0b21CdXR0b24gaGFsZkxlZnQiIGlkPSJzYXZlRmlsZSIgb25jbGljaz0ic2F2ZVRvRmlsZSgpIj5TYXZlIHRvIEZpbGU8L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJtZW51Qm90dG9tQnV0dG9uIGhhbGZSaWdodCIgaWQ9ImxvYWRGaWxlIiBvbmNsaWNrPSJsb2FkRnJvbUZpbGUoKSI+TG9hZCBGaWxlPC9zcGFuPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9Im1lbnVUYWIiIGRhdGEtdGFiPSJmZWF0dXJlZCI+DQoJCQkJCTxkaXYgY2xhc3M9Im1lbnVUZXh0IiBpZD0ic2F2ZUZlYXR1cmVkTGlzdCI+TG9hZGluZyBzYXZlcy4uLjwvZGl2Pg0KCQkJCQk8c3BhbiBjbGFzcz0ibWVudUJvdHRvbUJ1dHRvbiIgb25jbGljaz0id2luZG93Lm9wZW4oJ2h0dHBzOi8vZ2l0aHViLmNvbS9SNzRuQ29tL1NhbmRib3hlbHMtRmVhdHVyZWQtU2F2ZXMvdHJlZS9tYWluJywgJ19ibGFuaycpLmZvY3VzKCk7Ij5WaWV3IFNvdXJjZTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJtZW51VGFiIiBkYXRhLXRhYj0id29ya3Nob3AiPg0KCQkJCQk8c3BhbiBjbGFzcz0ibWVudVRvcEJhciIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+DQoJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlNlYXJjaC4uLiIgaWQ9IndvcmtzaG9wU2VhcmNoIj4NCgkJCQkJCTxzZWxlY3QgaWQ9IndvcmtzaG9wRmlsdGVyIj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIiIGRpc2FibGVkIHNlbGVjdGVkPkZpbHRlci4uLjwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjAiPkFsbCBTYXZlczwvb3B0aW9uPg0KCQkJCQkJPC9zZWxlY3Q+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPGRpdiBjbGFzcz0ibWVudVRleHQiIGlkPSJzYXZlV29ya3Nob3BMaXN0Ij4NCgkJCQkJCTxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MWVtIj5HZXQgPGEgaHJlZj0iaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8zNjY0ODIwL1NhbmRib3hlbHMvIiB0YXJnZXQ9Il9ibGFuayI+U2FuZGJveGVscyBvbiBTdGVhbTwvYT4gdG8gYnJvd3NlIHNhdmVzIGFuZCBwdWJsaXNoIHlvdXIgb3duITwvZGl2Pg0KCQkJCQk8L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9Im1lbnVCb3R0b21CdXR0b24iIG9uY2xpY2s9Im9wZW5Xb3Jrc2hvcFBvcHVwKCk7IiBzdHlsZT0iZGlzcGxheTpub25lIiBpZD0ic2F2ZXNPcGVuV29ya3Nob3AiPk9wZW4gV29ya3Nob3A8L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJtZW51Qm90dG9tQnV0dG9uIiBvbmNsaWNrPSJ3aW5kb3cub3BlbignaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8zNjY0ODIwL1NhbmRib3hlbHMvJywgJ19ibGFuaycpLmZvY3VzKCk7IiBpZD0ic2F2ZXNHZXRPblN0ZWFtIj5HZXQgb24gU3RlYW08L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQkJPGRpdiBjbGFzcz0ibWVudVRhYiIgZGF0YS10YWI9ImRpc2NvcmQiIG9uc2Nyb2xsPSJoYW5kbGVEaXNjb3JkU2Nyb2xsKHRoaXMpIj4NCgkJCQkJPHNwYW4gY2xhc3M9Im1lbnVUb3BCYXIiPg0KCQkJCQkJPGlucHV0IHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJTZWFyY2guLi4iIGlkPSJkaXNjb3JkU2VhcmNoIiBvbmlucHV0PSJkaXNjb3JkU2VhcmNoQ2hhbmdlKCk7Ij4NCgkJCQkJCTxzZWxlY3QgaWQ9ImRpc2NvcmRGaWx0ZXIiIG9uY2hhbmdlPSJzaG93RGlzY29yZFNhdmVzKCk7Ij4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIiIGRpc2FibGVkIHNlbGVjdGVkPkZpbHRlci4uLjwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IlBvcHVsYXIiPlBvcHVsYXI8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJSZWNlbnQiPlJlY2VudDwvb3B0aW9uPg0KCQkJCQkJPC9zZWxlY3Q+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPGRpdiBjbGFzcz0ibWVudVRleHQiIGlkPSJzYXZlRGlzY29yZExpc3QiPkxvYWRpbmcgc2F2ZXMuLi48L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9Im1lbnVCb3R0b21CdXR0b24iIG9uY2xpY2s9IndpbmRvdy5vcGVuKCdodHRwczovL2Rpc2NvcmQuZ2cvZWpVYzZZUFF1UycsICdfYmxhbmsnKS5mb2N1cygpOyI+Sm9pbiBTZXJ2ZXI8L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgaWQ9InNhdmVQcm9tcHRQYXJlbnQiIGNsYXNzPSJtZW51UGFyZW50Ij4NCgkJCTxkaXYgaWQ9InNhdmVQcm9tcHRNZW51IiBjbGFzcz0ibWVudVNjcmVlbiI+DQoJCQkJPGJ1dHRvbiBjbGFzcz0iWEJ1dHRvbiIgb25jbGljaz0iY2xvc2VNZW51KCk7Ij4tPC9idXR0b24+DQoJCQkJPHNwYW4gY2xhc3M9Im1lbnVUaXRsZSI+U2F2ZSB0byBTbG90PC9zcGFuPg0KCQkJCTxkaXYgY2xhc3M9Im1lbnVUZXh0IiBzdHlsZT0icGFkZGluZy10b3A6MWVtIj4NCgkJCQkJPHNwYW4gY2xhc3M9InNldHRpbmctc3BhbiI+PHNwYW4gaWQ9InNhdmVOYW1lTGFiZWwiPk5hbWU8L3NwYW4+OiA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNhdmVOYW1lIiBwbGFjZWhvbGRlcj0iU2F2ZSBOYW1lLi4uIj48L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIj4NCgkJCQkJCTxzcGFuIGlkPSJzYXZlSW5jbHVkZSI+SW5jbHVkZTwvc3Bhbj46DQoJCQkJCQk8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iVGVtcGVyYXR1cmUiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcyx1bmRlZmluZWQsZmFsc2UpIiBzdGF0ZT0iMSIgaWQ9InNhdmVUZW1wIj4NCgkJCQkJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJDb2xvcnMiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcyx1bmRlZmluZWQsZmFsc2UpIiBzdGF0ZT0iMCIgaWQ9InNhdmVDb2xvcnMiPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlNldHRpbmdzIiBjbGFzcz0idG9nZ2xlSW5wdXQiIG9uY2xpY2s9InRvZ2dsZUlucHV0KHRoaXMsdW5kZWZpbmVkLGZhbHNlKSIgc3RhdGU9IjAiIGlkPSJzYXZlU2V0dGluZ3MiPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9Ik1vZHMiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcyx1bmRlZmluZWQsZmFsc2UpIiBzdGF0ZT0iMCIgaWQ9InNhdmVNb2RzIj4NCgkJCQkJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJSYXcgRGF0YSIgY2xhc3M9InRvZ2dsZUlucHV0IiBvbmNsaWNrPSJ0b2dnbGVJbnB1dCh0aGlzLHVuZGVmaW5lZCxmYWxzZSkiIHN0YXRlPSIwIiBpZD0ic2F2ZVJhdyI+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gaWQ9InNhdmVXYXJuaW5nIj48L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLXNwYW4iPjxzcGFuIGlkPSJzYXZlQXV0aG9yTGFiZWwiPkJ5PC9zcGFuPjogPGlucHV0IHR5cGU9InRleHQiIGlkPSJzYXZlQXV0aG9yIiBwbGFjZWhvbGRlcj0iWW91ciBOYW1lLi4uIj48L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLXNwYW4iPjxzcGFuIGlkPSJzYXZlRGVzY0xhYmVsIj5BYm91dDwvc3Bhbj46IDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2F2ZURlc2MiIHBsYWNlaG9sZGVyPSJTaG9ydCBEZXNjcmlwdGlvbi4uLiIgZW50ZXJrZXloaW50PSJkb25lIj48L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLXNwYW4iIGlkPSJzYXZlVGFnc1NwYW4iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjxzcGFuIGlkPSJzYXZlVGFnc0xhYmVsIj5UYWdzPC9zcGFuPjoNCgkJCQkJCTxzcGFuIGlkPSJzYXZlVGFncyI+PC9zcGFuPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxicj48YnI+PGJyPg0KCQkJCQk8c3BhbiBpZD0ic2F2ZUNvbmZpcm0iIG9uY2xpY2s9ImNvbmZpcm1TYXZlKCk7Ij5TYXZlPC9zcGFuPg0KCQkJCTwvZGl2Pg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCQk8ZGl2IGlkPSJwcm9tcHRQYXJlbnQiIGNsYXNzPSJtZW51UGFyZW50Ij4NCgkJCTxkaXYgaWQ9InByb21wdE1lbnUiIGNsYXNzPSJtZW51U2NyZWVuIj4NCgkJCQk8YnV0dG9uIGNsYXNzPSJYQnV0dG9uIiBvbmNsaWNrPSJjbG9zZU1lbnUoKTsiPi08L2J1dHRvbj4NCgkJCQk8c3BhbiBjbGFzcz0ibWVudVRpdGxlIj5Qcm9tcHQ8L3NwYW4+DQoJCQkJPGRpdiBjbGFzcz0ibWVudVRleHQiIHN0eWxlPSJwYWRkaW5nLXRvcDoxZW0iPg0KCQkJCQk8c3BhbiBpZD0icHJvbXB0TWVudVRleHQiPkFyZSB5b3Ugc3VyZT88L3NwYW4+DQoJCQkJCTxicj48YnI+PGJyPg0KCQkJCQk8c3BhbiBpZD0icHJvbXB0T0siIGNsYXNzPSJwcm9tcHRPSyIgb25jbGljaz0iaGFuZGxlUHJvbXB0KCkiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPk9LPC9zcGFuPg0KCQkJCQk8c3BhbiBpZD0icHJvbXB0Q2FuY2VsIiBvbmNsaWNrPSJoYW5kbGVQcm9tcHQoZmFsc2UpIiBzdHlsZT0iZGlzcGxheTpub25lIj5DYW5jZWw8L3NwYW4+DQoJCQkJCTxzcGFuIGlkPSJwcm9tcHRDb25maXJtIiBvbmNsaWNrPSJoYW5kbGVQcm9tcHQodHJ1ZSkiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkNvbmZpcm08L3NwYW4+DQoJCQkJCTxzcGFuIGlkPSJwcm9tcHRDaG9pY2VzIiBjbGFzcz0icHJvbXB0Q2hvaWNlcyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+DQoJCQkJCQk8IS0tIDxzcGFuIGNsYXNzPSJwcm9tcHRDaG9pY2UiIG9uY2xpY2s9ImhhbmRsZVByb21wdCh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpKSIgZGF0YS12YWx1ZT0ib25lIj5DaG9pY2U8L3NwYW4+IC0tPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIGlkPSJwcm9tcHREaXJzIiBjbGFzcz0icHJvbXB0Q2hvaWNlcyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+DQoJCQkJCQk8IS0tIHJpZ2h0ID0gMCwgZG93biA9IDEsIGxlZnQgPSAyLCB1cCA9IDMgLS0+DQoJCQkJCQk8c3BhbiBjbGFzcz0icHJvbXB0Q2hvaWNlIiBvbmNsaWNrPSJoYW5kbGVQcm9tcHQoMykiPuKGkTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJwcm9tcHRDaG9pY2VzU3ViIj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0icHJvbXB0Q2hvaWNlIiBvbmNsaWNrPSJoYW5kbGVQcm9tcHQoMikiPuKGkDwvc3Bhbj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0icHJvbXB0Q2hvaWNlIiBvbmNsaWNrPSJoYW5kbGVQcm9tcHQoMCkiPuKGkjwvc3Bhbj4NCgkJCQkJCTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJwcm9tcHRDaG9pY2UiIG9uY2xpY2s9ImhhbmRsZVByb21wdCgxKSI+4oaTPC9zcGFuPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvbXB0SW5wdXQiIHBsYWNlaG9sZGVyPSJJbnB1dC4uLiIgb25rZXlkb3duPSJpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge2hhbmRsZVByb21wdCh0aGlzLnZhbHVlIHx8IG51bGwpO30iIGVudGVya2V5aGludD0iZG9uZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgYXV0b2NvbXBsZXRlPSJvZmYiPjwvaW5wdXQ+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgaWQ9ImdlbmVyaWNQYXJlbnQiIGNsYXNzPSJtZW51UGFyZW50Ij4NCgkJCTxkaXYgaWQ9ImdlbmVyaWNNZW51IiBjbGFzcz0ibWVudVNjcmVlbiI+DQoJCQkJPGJ1dHRvbiBjbGFzcz0iWEJ1dHRvbiIgb25jbGljaz0iY2xvc2VNZW51KCk7Ij4tPC9idXR0b24+DQoJCQkJPHNwYW4gY2xhc3M9Im1lbnVUaXRsZSIgaWQ9ImdlbmVyaWNNZW51VGl0bGUiPk1lbnU8L3NwYW4+DQoJCQkJPGRpdiBjbGFzcz0ibWVudVRleHQiIHN0eWxlPSJwYWRkaW5nLXRvcDoxZW0iPg0KCQkJCQk8ZGl2IGlkPSJnZW5lcmljTWVudVRleHQiPk1lbnUgdGV4dDwvZGl2Pg0KCQkJCQk8YnI+PGJyPjxicj4NCgkJCQkJPHNwYW4gaWQ9ImdlbmVyaWNNZW51T0siIGNsYXNzPSJwcm9tcHRPSyIgb25jbGljaz0iaWYgKGdlbmVyaWNNZW51SGFuZGxlcil7Z2VuZXJpY01lbnVIYW5kbGVyKCk7IGdlbmVyaWNNZW51SGFuZGxlcj1udWxsfSBjbG9zZU1lbnUoKSI+T0s8L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJDQoJCTwhLS1TZXR0aW5ncyBNZW51LS0+DQoJCTxkaXYgaWQ9InNldHRpbmdzUGFyZW50Ij4NCgkJCTxkaXYgaWQ9InNldHRpbmdzTWVudSI+DQoJCQkJPGJ1dHRvbiBjbGFzcz0iWEJ1dHRvbiIgb25jbGljaz0iY2xvc2VNZW51KCk7Ij4tPC9idXR0b24+DQoJCQkJPHNwYW4gY2xhc3M9Im1lbnVUaXRsZSIgaWQ9InNldHRpbmdzTWVudVRpdGxlIj5TZXR0aW5nczwvc3Bhbj4NCgkJCQk8ZGl2IGNsYXNzPSJtZW51VGV4dCIgc3R5bGU9InBhZGRpbmctdG9wOjFlbSI+DQoJCQkJCTxzcGFuIHNldHRpbmc9InVuaXRzIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IE1ldHJpYyI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLXVuaXRzIj5Vbml0czwvc3Bhbj4gPHNlbGVjdCBvbmNoYW5nZT0ic2V0U2V0dGluZygndW5pdHMnLHRoaXMudmFsdWUpOyI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0ibSIgaWQ9InNldHRpbmctdW5pdHMtbSIgc2VsZWN0ZWQ+TWV0cmljPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iaSIgaWQ9InNldHRpbmctdW5pdHMtaSI+SW1wZXJpYWw8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJzIiBpZD0ic2V0dGluZy11bml0cy1zIj5TSTwvb3B0aW9uPg0KCQkJCQkJPC9zZWxlY3Q+DQoJCQkJCQkmbmJzcDsNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJiZyIgY2xhc3M9InNldHRpbmctc3BhbiBtdWx0aXNldHRpbmciIHRpdGxlPSJEZWZhdWx0OiBCbGFjayAoIzAwMDAwMCkiPg0KCQkJCQkJPHNwYW4gaWQ9InNldHRpbmdMYWJlbC1iZyI+QmFja2dyb3VuZDwvc3Bhbj4gPGlucHV0IG9uY2hhbmdlPSJzZXRTZXR0aW5nKCdiZycsdGhpcy52YWx1ZSk7IiBvbmlucHV0PSJzZXRTZXR0aW5nKCdiZycsdGhpcy52YWx1ZSk7IiB0eXBlPSJjb2xvciIgdmFsdWU9IiMwMDAwMDAiPg0KCQkJCQkJJm5ic3A7DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0idGhlbWUiIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogRGFyayI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLXRoZW1lIj5UaGVtZTwvc3Bhbj4gPHNlbGVjdCBvbmNoYW5nZT0ic2V0U2V0dGluZygndGhlbWUnLHRoaXMudmFsdWUpOyBzZXRUaGVtZUVsZW1lbnQodGhpcy52YWx1ZSkiPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IiIgaWQ9InNldHRpbmctdGhlbWUtZGVmYXVsdCIgc2VsZWN0ZWQ+RGFyazwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9ImJyaWNrIiBpZD0ic2V0dGluZy10aGVtZS1icmljayI+QnJpY2s8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJmaXJlIiBpZD0ic2V0dGluZy10aGVtZS1maXJlIj5GaXJlPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0ianVpY2UiIGlkPSJzZXR0aW5nLXRoZW1lLWp1aWNlIj5KdWljZTwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9InBsYW50IiBpZD0ic2V0dGluZy10aGVtZS1wbGFudCI+UGxhbnQ8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJzdGVhbSIgaWQ9InNldHRpbmctdGhlbWUtc3RlYW0iPlN0ZWFtPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0id2F0ZXIiIGlkPSJzZXR0aW5nLXRoZW1lLXdhdGVyIj5XYXRlcjwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9InBsYXNtYSIgaWQ9InNldHRpbmctdGhlbWUtcGxhc21hIj5QbGFzbWE8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJzbm93IiBpZD0ic2V0dGluZy10aGVtZS1zbm93Ij5Tbm93PC9vcHRpb24+DQoJCQkJCQk8L3NlbGVjdD4NCgkJCQkJCSZuYnNwOw0KCQkJCQk8L3NwYW4+DQoJCQkJCTxicj4NCgkJCQkJPHNwYW4gc2V0dGluZz0idW5oaWRlIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IEhpZGUgU29tZSBFbGVtZW50cyI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLXVuaGlkZSI+SGlkaW5nPC9zcGFuPiA8c2VsZWN0IG9uY2hhbmdlPSJzZXRTZXR0aW5nKCd1bmhpZGUnLHBhcnNlSW50KHRoaXMudmFsdWUpKTt0aGlzLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQ9bGFuZ0tleSgnZ3VpLnNldHRpbmdzUmVmcmVzaCcsJ1JlZnJlc2ggUGFnZScpIj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIwIiBpZD0ic2V0dGluZy11bmhpZGUtMCIgc2VsZWN0ZWQ+SGlkZSBTb21lIEVsZW1lbnRzPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMSIgaWQ9InNldHRpbmctdW5oaWRlLTEiPlVuaGlkZSBBbGwgRWxlbWVudHM8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIyIiBpZD0ic2V0dGluZy11bmhpZGUtMiI+VW5sb2NrIGFzIERpc2NvdmVyZWQ8L29wdGlvbj4NCgkJCQkJCTwvc2VsZWN0Pg0KCQkJCQkJPGEgb25jbGljaz0id2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyIgaHJlZj0iIyIgY2xhc3M9InNldHRpbmdzUmVmcmVzaCI+PC9hPg0KCQkJCQkJJm5ic3A7DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0idmlldyIgY2xhc3M9InNldHRpbmctc3BhbiBtdWx0aXNldHRpbmciIHRpdGxlPSJEZWZhdWx0OiBVbnNldCI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLXZpZXciPkRlZmF1bHQgVmlldzwvc3Bhbj4gPHNlbGVjdCBpZD0idmlld1NlbGVjdCIgb25jaGFuZ2U9InNldFNldHRpbmcoJ3ZpZXcnLHBhcnNlSW50KHRoaXMudmFsdWUpKTtzZXRWaWV3KHBhcnNlSW50KHRoaXMudmFsdWUpKSI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMCIgaWQ9InNldHRpbmctdmlldy0wIiBzZWxlY3RlZD5VbnNldDwvb3B0aW9uPg0KCQkJCQkJPC9zZWxlY3Q+DQoJCQkJCTwvc3Bhbj48YnI+DQoJCQkJCTxzcGFuIHNldHRpbmc9InBpeGVsc2l6ZSIgY2xhc3M9InNldHRpbmctc3BhbiBtdWx0aXNldHRpbmciIHRpdGxlPSJEZWZhdWx0OiBNZWRpdW0iPg0KCQkJCQkJPHNwYW4gaWQ9InNldHRpbmdMYWJlbC1waXhlbHNpemUiPkNhbnZhcyBTaXplPC9zcGFuPiA8c2VsZWN0IG9uY2hhbmdlPSJzZXRTZXR0aW5nKCdwaXhlbHNpemUnLHRoaXMudmFsdWUpOyBpZighY3VycmVudFBpeGVscy5sZW5ndGgpe2F1dG9SZXNpemVDYW52YXMoKX0gZWxzZSB7dGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuaW5uZXJUZXh0PWxhbmdLZXkoJ2d1aS5zZXR0aW5nc1Jlc2V0JywnUmVzZXQgU2NlbmUnKX0iPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjEyIiBpZD0ic2V0dGluZy1waXhlbHNpemUtMTIiPlRpbnk8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSI4IiBpZD0ic2V0dGluZy1waXhlbHNpemUtOCI+U21hbGw8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSI2IiBpZD0ic2V0dGluZy1waXhlbHNpemUtNiIgc2VsZWN0ZWQ+TWVkaXVtPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iNnciIGlkPSJzZXR0aW5nLXBpeGVsc2l6ZS02dyI+V2lkZTwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjQiIGlkPSJzZXR0aW5nLXBpeGVsc2l6ZS00Ij5MYXJnZTwvb3B0aW9uPg0KCQkJCQkJPC9zZWxlY3Q+DQoJCQkJCQk8c3BhbiBvbmNsaWNrPSJyZXNldFByb21wdCgpIiBjbGFzcz0ic2V0dGluZ3NSZXNldCI+PC9zcGFuPg0KCQkJCQkJJm5ic3A7DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0iYm9yZGVyIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IFNvbGlkIj4NCgkJCQkJCTxzcGFuIGlkPSJzZXR0aW5nTGFiZWwtYm9yZGVyIj5Cb3JkZXI8L3NwYW4+IDxzZWxlY3Qgb25jaGFuZ2U9InNldFNldHRpbmcoJ2JvcmRlcicsaXNOYU4odGhpcy52YWx1ZSkgPyB0aGlzLnZhbHVlIDogcGFyc2VJbnQodGhpcy52YWx1ZSkpO3VwZGF0ZUJvcmRlcigpOyI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMCIgaWQ9InNldHRpbmctYm9yZGVyLTAiIHNlbGVjdGVkPlNvbGlkPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMSIgaWQ9InNldHRpbmctYm9yZGVyLTEiPlZvaWQ8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIyIiBpZD0ic2V0dGluZy1ib3JkZXItMiI+TG9vcCBBbGw8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSIzIiBpZD0ic2V0dGluZy1ib3JkZXItMyI+TG9vcCBIb3Jpem9udGFsPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iZ2xhc3MiIGlkPSJzZXR0aW5nLWJvcmRlci1kZXN0cm95YWJsZSI+RGVzdHJveWFibGU8L29wdGlvbj4NCgkJCQkJCTwvc2VsZWN0Pg0KCQkJCQk8L3NwYW4+PGJyPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJzdGFpbiIgY2xhc3M9InNldHRpbmctc3BhbiBtdWx0aXNldHRpbmciIHRpdGxlPSJEZWZhdWx0OiBPTiI+DQoJCQkJCQk8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iU3RhaW5pbmciIGlkPSJzZXR0aW5nTGFiZWwtc3RhaW4iIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcywnc3RhaW4nLGZhbHNlKTsgaWYoIXNldHRpbmdzLnN0YWluKXtjbGVhckFsbFN0YWlucygpfSIgc3RhdGU9IjEiPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9ImJ1cm4iIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogT04iPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkJ1cm5pbmciIGlkPSJzZXR0aW5nTGFiZWwtYnVybiIgY2xhc3M9InRvZ2dsZUlucHV0IiBvbmNsaWNrPSJ0b2dnbGVJbnB1dCh0aGlzLCdidXJuJyxmYWxzZSkiIHN0YXRlPSIxIj4NCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJjbG91ZHMiIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogT04iPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkNsb3VkcyIgaWQ9InNldHRpbmdMYWJlbC1jbG91ZHMiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcywnY2xvdWRzJyxmYWxzZSkiIHN0YXRlPSIxIj4NCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJyZXNldHdhcm5pbmciIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogT04iPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlJlc2V0IFdhcm5pbmciIGlkPSJzZXR0aW5nTGFiZWwtcmVzZXR3YXJuaW5nIiBjbGFzcz0idG9nZ2xlSW5wdXQiIG9uY2xpY2s9InRvZ2dsZUlucHV0KHRoaXMsJ3Jlc2V0d2FybmluZycsZmFsc2UpIiBzdGF0ZT0iMSI+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0idGV4dHVyZXMiIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogT04iPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkZhbmN5IFBpeGVscyIgaWQ9InNldHRpbmdMYWJlbC10ZXh0dXJlcyIgY2xhc3M9InRvZ2dsZUlucHV0IiBvbmNsaWNrPSJ0b2dnbGVJbnB1dCh0aGlzLCd0ZXh0dXJlcycsZmFsc2UpIiBzdGF0ZT0iMSI+PHNwYW4gY2xhc3M9ImhlbHBNYXJrIiB0aXRsZT0iVG9nZ2xlcyBzcGVjaWFsIHRleHR1cmVzLCBsaWtlIEJyaWNrLCBhbmQgZWxlbWVudC1zcGVjaWZpYyByZW5kZXJlcnMsIGxpa2UgaGVhdCBnbG93LiBNYXkgZGVjcmVhc2UgcGVyZm9ybWFuY2UuIj4/PC9zcGFuPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9InByZWNpc2lvbiIgY2xhc3M9InNldHRpbmctc3BhbiBtdWx0aXNldHRpbmciIHRpdGxlPSJEZWZhdWx0OiBPRkYiPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlByZWNpc2lvbiBEb3QiIGlkPSJzZXR0aW5nTGFiZWwtcHJlY2lzaW9uIiBjbGFzcz0idG9nZ2xlSW5wdXQiIG9uY2xpY2s9InRvZ2dsZUlucHV0KHRoaXMsJ3ByZWNpc2lvbicsZmFsc2UpIiBzdGF0ZT0iMCI+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0iaW52ZXJ0c2Nyb2xsIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IE9GRiI+DQoJCQkJCQk8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iSW52ZXJ0IFNjcm9sbCIgaWQ9InNldHRpbmdMYWJlbC1pbnZlcnRzY3JvbGwiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcywnaW52ZXJ0c2Nyb2xsJyxmYWxzZSkiIHN0YXRlPSIwIj4NCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJsaW1pdGxlc3MiIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iRGVmYXVsdDogT0ZGIj4NCgkJCQkJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJMaW1pdGxlc3MiIGlkPSJzZXR0aW5nTGFiZWwtbGltaXRsZXNzIiBjbGFzcz0idG9nZ2xlSW5wdXQiIG9uY2xpY2s9InRvZ2dsZUlucHV0KHRoaXMsJ2xpbWl0bGVzcycsZmFsc2UpOyByZWZyZXNoTWF4UGl4ZWxzKCk7IGNoZWNrTW91c2VTaXplKHRydWUpOyIgc3RhdGU9IjAiPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9ImNoZWVyZnVsIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyI+DQoJCQkJCQk8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iQ2hlZXJmdWwgTW9kZSIgaWQ9InNldHRpbmdMYWJlbC1jaGVlcmZ1bCIgY2xhc3M9InRvZ2dsZUlucHV0IiBvbmNsaWNrPSJ0b2dnbGVJbnB1dCh0aGlzLCdjaGVlcmZ1bCcsZmFsc2UpO3RoaXMubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQ9bGFuZ0tleSgnZ3VpLnNldHRpbmdzUmVmcmVzaCcsJ1JlZnJlc2ggUGFnZScpIiBzdGF0ZT0iMCI+PHNwYW4gY2xhc3M9ImhlbHBNYXJrIiB0aXRsZT0iSWYgeW91J3JlIGdvaW5nIHRocm91Z2ggYSBiYWQgdGltZSwgZW5hYmxlIHRoaXMgdG8gaGlkZSB0aGVzZSBlbGVtZW50cyBmcm9tIHRoZSBtZW51Og0KQ2FuY2VyLCBMYW5kbWluZSwgR3JlbmFkZSwgU21va2UgR3JlbmFkZSI+Pzwvc3Bhbj4NCgkJCQkJCTxhIG9uY2xpY2s9IndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsiIGhyZWY9IiMiIGNsYXNzPSJzZXR0aW5nc1JlZnJlc2giPjwvYT4NCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJsYW5nIiBjbGFzcz0ic2V0dGluZy1zcGFuIiB0aXRsZT0iRGVmYXVsdDogRGlzYWJsZWQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIGlkPSJzZXR0aW5nLXNwYW4tbGFuZyI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLWxhbmciPkxhbmd1YWdlPC9zcGFuPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9ImV2ZW50cyIgY2xhc3M9InNldHRpbmctc3BhbiIgdGl0bGU9IkRlZmF1bHQ6IERpc2FibGVkIj4NCgkJCQkJCTxzcGFuIGlkPSJzZXR0aW5nTGFiZWwtZXZlbnRzIj5SYW5kb20gRXZlbnRzPC9zcGFuPiA8c2VsZWN0IG9uY2hhbmdlPSJzZXRTZXR0aW5nKCdldmVudHMnLHBhcnNlRmxvYXQodGhpcy52YWx1ZSkpOyI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMCIgaWQ9InNldHRpbmctZXZlbnRzLTAiIHNlbGVjdGVkPkRpc2FibGVkPC9vcHRpb24+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iMC4wMDUiIGlkPSJzZXR0aW5nLWV2ZW50cy0wLjAwNSI+UmFyZSAoRm9yIGNhc3VhbCBwbGF5KTwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjAuMDI1IiBpZD0ic2V0dGluZy1ldmVudHMtMC4wMjUiPkNvbW1vbjwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjAuMDUiIGlkPSJzZXR0aW5nLWV2ZW50cy0wLjA1Ij5Bbm5veWluZzwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9IjAuMjUiIGlkPSJzZXR0aW5nLWV2ZW50cy0wLjI1Ij5PdmVyZHJpdmUgKERBTkdFUk9VUyk8L29wdGlvbj4NCgkJCQkJCTwvc2VsZWN0Pg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9ImFpcnRlbXAiIGNsYXNzPSJzZXR0aW5nLXNwYW4gbXVsdGlzZXR0aW5nIiB0aXRsZT0iVGVtcGVyYXR1cmUgdGhhdCBwaXhlbHMgc3Bhd24gaW4gYXQuIERlZmF1bHQ6IDIwICjCsEMpIj4NCgkJCQkJCTxzcGFuIGlkPSJzZXR0aW5nTGFiZWwtYWlydGVtcCI+QWlyIFRlbXA8L3NwYW4+IDxpbnB1dCB0eXBlPSJudW1iZXIiIHZhbHVlPSIyMCIgcGxhY2Vob2xkZXI9IjIwIiBvbmNoYW5nZT0iaWYodGhpcy52YWx1ZT09PScnKXt0aGlzLnZhbHVlPTIwfSBhaXJUZW1wPXBhcnNlRmxvYXQodGhpcy52YWx1ZSk7IHNldFNldHRpbmcoJ2FpcnRlbXAnLGFpclRlbXApIj4mbmJzcDsNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJhaXJkZW5zaXR5IiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkhvdyBkZW5zZSBhaXIgaXMuIERlZmF1bHQ6IDEuMjI1IChrZy9twrMpIj4NCgkJCQkJCTxzcGFuIGlkPSJzZXR0aW5nTGFiZWwtYWlyZGVuc2l0eSI+QWlyIERlbnNpdHk8L3NwYW4+IDxpbnB1dCB0eXBlPSJudW1iZXIiIHZhbHVlPSIxLjIyNSIgcGxhY2Vob2xkZXI9IjEuMjI1IiBvbmNoYW5nZT0iaWYodGhpcy52YWx1ZT09PScnKXt0aGlzLnZhbHVlPTEuMjI1fSBhaXJEZW5zaXR5PXBhcnNlRmxvYXQodGhpcy52YWx1ZSk7IHNldFNldHRpbmcoJ2FpcmRlbnNpdHknLGFpckRlbnNpdHkpIj4mbmJzcDsNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJhYnN6ZXJvIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9Ik1pbmltdW0gcG9zc2libGUgdGVtcGVyYXR1cmUuIERlZmF1bHQ6IC0yNzMuMTUgKMKwQykiPg0KCQkJCQkJPHNwYW4gaWQ9InNldHRpbmdMYWJlbC1hYnN6ZXJvIj5BYnMgWmVybzwvc3Bhbj4gPGlucHV0IHR5cGU9Im51bWJlciIgdmFsdWU9Ii0yNzMuMTUiIHBsYWNlaG9sZGVyPSItMjczLjE1IiBvbmNoYW5nZT0iaWYodGhpcy52YWx1ZT09PScnKXt0aGlzLnZhbHVlPS0yNzMuMTV9IGFic29sdXRlWmVybz1wYXJzZUZsb2F0KHRoaXMudmFsdWUpOyBzZXRTZXR0aW5nKCdhYnN6ZXJvJyxhYnNvbHV0ZVplcm8pIj4mbmJzcDsNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1zcGFuIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlJlc2V0IERpc2NvdmVyZWQiIGlkPSJyZXNldERpc2NvdmVyZWQiIG9uY2xpY2s9InByb21wdENvbmZpcm0oJ1RoaXMgYWN0aW9uIHdpbGwgUkVTRVQgQUxMIERJU0NPVkVSRUQgRUxFTUVOVFMgYW5kIHJlZnJlc2ggdGhlIHBhZ2UuJywgKHIpPT57aWYgKCFyKXJldHVybjtzZXR0aW5ncy51bmxvY2tlZD17fTtzYXZlU2V0dGluZ3MoKTtsb2NhdGlvbi5yZWxvYWQoKX0sICdXQVJOSU5HJywgdHJ1ZSkiIGNsYXNzPSJzZXR0aW5nc0J1dHRvbiI+DQoJCQkJCQk8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iUmVzZXQgQWxsIiBpZD0icmVzZXRBbGwiIG9uY2xpY2s9InByb21wdENvbmZpcm0oJ1RoaXMgYWN0aW9uIHdpbGwgUkVTRVQgQUxMIFlPVVIgREFUQSwgbm90IGluY2x1ZGluZyBzYXZlIHNsb3RzLCBhbmQgcmVmcmVzaCB0aGUgcGFnZS4nLCAocik9PntpZiAoIXIpcmV0dXJuO2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXR0aW5ncycpO2xvY2F0aW9uLnJlbG9hZCgpfSwgJ1dBUk5JTkcnLCB0cnVlKSIgY2xhc3M9InNldHRpbmdzQnV0dG9uIj4NCgkJCQkJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJDbGVhciBNb2RzIiBpZD0iY2xlYXJNb2RzIiBvbmNsaWNrPSJwcm9tcHRDb25maXJtKCdUaGlzIGFjdGlvbiB3aWxsIHJlbW92ZSBhbGwgZW5hYmxlZCBtb2RzIGFuZCByZWZyZXNoIHRoZSBwYWdlLicsIChyKT0+e2lmICghcilyZXR1cm47bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2VuYWJsZWRNb2RzJyk7bG9jYXRpb24ucmVsb2FkKCl9LCAnV0FSTklORycsIHRydWUpIiBjbGFzcz0ic2V0dGluZ3NCdXR0b24iPg0KCQkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkNsZWFyIFNhdmVzIiBpZD0iY2xlYXJTYXZlcyIgb25jbGljaz0icHJvbXB0Q29uZmlybSgnVGhpcyBhY3Rpb24gd2lsbCBQRVJNQU5FTlRMWSBFUkFTRSBhbGwgbG9jYWwgc2F2ZSBzbG90cy4nLCAocik9PntpZiAoIXIpcmV0dXJuO2ZvciAodmFyIGkgPSAxOyBpIDw9IDEyOyBpKyspIHtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnU2FuZGJveGVsc1NhdmVzLycraSl9fSwgJ1dBUk5JTkcnLCB0cnVlKSIgY2xhc3M9InNldHRpbmdzQnV0dG9uIj4NCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBzZXR0aW5nPSJ3b3JsZGdlbiIgc3R5bGU9InBhZGRpbmctYm90dG9tOjAiIGNsYXNzPSJzZXR0aW5nLXNwYW4iIHRpdGxlPSJEZWZhdWx0OiBEaXNhYmxlZCI+DQoJCQkJCQk8c3BhbiBpZD0ic2V0dGluZ0xhYmVsLXdvcmxkZ2VuIj5Xb3JsZCBHZW48L3NwYW4+IDxzbWFsbD5bQmV0YV08L3NtYWxsPiA8c2VsZWN0IGlkPSJ3b3JsZGdlbnNlbGVjdCIgb25jaGFuZ2U9InNldFNldHRpbmcoJ3dvcmxkZ2VuJyx0aGlzLnZhbHVlKTsgaWYoIWN1cnJlbnRQaXhlbHMubGVuZ3RoKXthdXRvUmVzaXplQ2FudmFzKCl9IGVsc2Uge3RoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVyVGV4dD1sYW5nS2V5KCdndWkuc2V0dGluZ3NSZXNldCcsJ1Jlc2V0IFNjZW5lJyl9Ij4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJvZmYiIGlkPSJzZXR0aW5nLXdvcmxkZ2VuLW9mZiIgc2VsZWN0ZWQ+RGlzYWJsZWQ8L29wdGlvbj4NCgkJCQkJCTwvc2VsZWN0Pg0KCQkJCQkJPHNwYW4gb25jbGljaz0icmVzZXRQcm9tcHQoKTsiIGNsYXNzPSJzZXR0aW5nc1Jlc2V0Ij48L3NwYW4+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gc2V0dGluZz0iaW1hZ2VlbGVtIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IFdvb2QiPg0KCQkJCQkJPHNwYW4gaWQ9InNldHRpbmdMYWJlbC1pbWFnZWVsZW0iPkltYWdlIEVsZW08L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0id29vZCIgcGxhY2Vob2xkZXI9Indvb2QiIG9uY2hhbmdlPSJpZih0aGlzLnZhbHVlPT09Jycpe3RoaXMudmFsdWU9J3dvb2QnfTsgc2V0U2V0dGluZygnaW1hZ2VlbGVtJyx0aGlzLnZhbHVlLnRyaW0oKSkiPg0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIHNldHRpbmc9ImltYWdlc21vb3RoIiBjbGFzcz0ic2V0dGluZy1zcGFuIG11bHRpc2V0dGluZyIgdGl0bGU9IkRlZmF1bHQ6IE9OIj4NCgkJCQkJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJTbW9vdGhpbmciIGlkPSJzZXR0aW5nTGFiZWwtaW1hZ2VzbW9vdGgiIGNsYXNzPSJ0b2dnbGVJbnB1dCIgb25jbGljaz0idG9nZ2xlSW5wdXQodGhpcywnaW1hZ2VzbW9vdGgnLGZhbHNlKSIgc3RhdGU9IjEiPg0KCQkJCQk8L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJPC9kaXY+DQoNCjwvZGl2Pg0KDQo8ZGl2IGlkPSJib3R0b21JbmZvQm94Ij4NCgk8ZGl2IGlkPSJib3R0b21Ub3BCb3giPg0KCQk8IS0tIDxpZnJhbWUgc3JjPSJwcm9tby5odG1sIiBzdHlsZT0iYm9yZGVyOm5vbmU7d2lkdGg6IDMwMHB4OyBoZWlnaHQ6IDI1MHB4OyI+PC9pZnJhbWU+IC0tPg0KCQk8IS0tIEFmZmlsaWF0ZSBMaW5rcyAtLT4NCgkJPCEtLSA8cCBzdHlsZT0iZm9udC1zaXplOjEuMmVtO2Rpc3BsYXk6bm9uZSIgaWQ9ImFmZiI+PGEgaWQ9ImFmZkxpbmsiIGhyZWY9IiMiIHRhcmdldD0iX2JsYW5rIiByZWw9InNwb25zb3JlZCI+TG9hZGluZy4uLjwvYT48L3A+DQoJCTxzY3JpcHQ+DQoJCQl2YXIgYWZmID0ge307DQoJCQl2YXIgYWZmUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KCQkJYWZmUmVxdWVzdC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly9zYW5kYm94ZWxzLlI3NG4uY29tL2FmZi5qc29uIiwgdHJ1ZSk7DQoJCQlhZmZSZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgew0KCQkJCWlmIChhZmZSZXF1ZXN0LnN0YXR1cyA+PSAyMDAgJiYgYWZmUmVxdWVzdC5zdGF0dXMgPCA0MDApIHsNCgkJCQkJYWZmID0gSlNPTi5wYXJzZShhZmZSZXF1ZXN0LnJlc3BvbnNlVGV4dCk7DQoJCQkJCXZhciBhZmZLZXlzID0gT2JqZWN0LmtleXMoYWZmKTsNCgkJCQkJdmFyIHJhbmRvbUFmZiA9IGFmZktleXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWZmS2V5cy5sZW5ndGgpXTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFmZkxpbmsiKS5pbm5lckhUTUwgPSBhZmZbcmFuZG9tQWZmXTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFmZkxpbmsiKS5ocmVmID0gcmFuZG9tQWZmOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWZmIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJfQ0KCQkJfTsNCgkJCWFmZlJlcXVlc3Quc2VuZCgpOw0KCQk8L3NjcmlwdD4gLS0+DQoJCTxwIGlkPSJsYW5nU2VsZWN0UCI+8J+MkCA8c3BhbiBpZD0ibGFuZ1NlbGVjdExhYmVsIj5MYW5ndWFnZTwvc3Bhbj4gPGEgaHJlZj0iaHR0cHM6Ly9zYW5kYm94ZWxzLlI3NG4uY29tL3RyYW5zbGF0ZSIgdGFyZ2V0PSJfYmxhbmsiPltCRVRBXTwvYT46IDxzZWxlY3Qgb25jaGFuZ2U9ImlmICh0aGlzLnZhbHVlID09PSAnZW4nKXtzZXRTZXR0aW5nKCdsYW5nJyxudWxsKX1lbHNle3NldFNldHRpbmcoJ2xhbmcnLHRoaXMudmFsdWUpfXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSIgaWQ9ImxhbmdTZWxlY3QiPg0KCQkJPG9wdGlvbiBzZWxlY3RlZCB2YWx1ZT0iZW4iPkVuZ2xpc2ggKEFtZXJpY2FuKTwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iZW5fZ2IiPkVuZ2xpc2ggKEJyaXRpc2gpPC9vcHRpb24+DQoJCQk8b3B0aW9uIHZhbHVlPSJlbl9jYSI+RW5nbGlzaCAoQ2FuYWRpYW4pPC9vcHRpb24+DQoJCQk8b3B0aW9uIHZhbHVlPSJlbl9hdSI+RW5nbGlzaCAoQXVzdHJhbGlhbik8L29wdGlvbj4NCgkJCTxvcHRpb24gdmFsdWU9ImVzIj5Fc3Bhw7FvbDwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iY3MiPsSMZcWhdGluYTwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iZGUiPkRldXRzY2g8L29wdGlvbj4NCgkJCTxvcHRpb24gdmFsdWU9ImZpIj5TdW9taTwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iZnIiPkZyYW7Dp2Fpczwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iaHUiPk1hZ3lhcjwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iaWQiPkJhaGFzYSBJbmRvbmVzaWE8L29wdGlvbj4NCgkJCTxvcHRpb24gdmFsdWU9Iml0Ij5JdGFsaWFubzwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0ia28iPu2VnOq1reyWtDwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0icGwiPlBvbHNraTwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0icHRfYnIiPlBvcnR1Z3XDqnMgKEJyYXNpbCk8L29wdGlvbj4NCgkJCTxvcHRpb24gdmFsdWU9InFoYSI+SGFsYWNhZTwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0icnUiPtCg0YPRgdGB0LrQuNC5INCv0LfRi9C6PC9vcHRpb24+DQoJCQk8b3B0aW9uIHZhbHVlPSJzciI+0KHRgNC/0YHQutC4PC9vcHRpb24+DQoJCQk8b3B0aW9uIHZhbHVlPSJ0ciI+VMO8cmvDp2U8L29wdGlvbj4NCgkJCTxvcHRpb24gdmFsdWU9InZpIj5UaeG6v25nIFZp4buHdDwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iemhfY24iPueugOS9k+S4reaWhzwvb3B0aW9uPg0KCQkJPG9wdGlvbiB2YWx1ZT0iemhfaGFudCI+57mB6auU5Lit5paHPC9vcHRpb24+DQoJCQk8b3B0Z3JvdXAgbGFiZWw9IkluY29tcGxldGUiPg0KCQkJCTxvcHRpb24gdmFsdWU9Im5sIj5OZWRlcmxhbmRzPC9vcHRpb24+DQoJCQkJPG9wdGlvbiB2YWx1ZT0idG9rIj5Ub2tpIFBvbmE8L29wdGlvbj4NCgkJCQk8b3B0aW9uIHZhbHVlPSJ1ayI+0KPQutGA0LDRl9C90YHRjNC60LAg0JzQvtCy0LA8L29wdGlvbj4NCgkJCQk8b3B0aW9uIHZhbHVlPSJ4ZW0iPvCfmILwn5ejPC9vcHRpb24+DQoJCQk8L29wdGdyb3VwPg0KCQk8L3NlbGVjdD4NCgkNCgkJPCEtLSA8aW5wdXQgaWQ9InBsYXlsaWdodEJ1dHRvbiIgdHlwZT0ic3VibWl0IiBvbmNsaWNrPSJsb2FkUGxheWxpZ2h0KCk7IiB2YWx1ZT0iTW9yZSBHYW1lcyIgc3R5bGU9ImJhY2tncm91bmQ6IHJnYigyMywgMTY2LCAyNTUpOyBwYWRkaW5nOjE1cHg7IGJvcmRlci1yYWRpdXM6IDIwcHgiPjwvaW5wdXQ+PC9wPiAtLT4NCgkJPHNjcmlwdD4NCgkJCWlmIChzdGFuZGFsb25lKSB7IC8vIG1vdmUgbGFuZ1NlbGVjdCB0byBTZXR0aW5ncw0KCQkJCWxldCBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNldHRpbmctc3Bhbi1sYW5nIik7DQoJCQkJc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFuZ1NlbGVjdCIpKTsNCgkJCQlzcGFuLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsYW5nU2VsZWN0UCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQl9DQoJCQllbHNlIHsNCi8qUjc0biBPYnNlcnZlcg0KICBEb24ndCB3b3JyeSwgSSdtIGhhcm1sZXNzISovDQppZiAoZG9jdW1lbnQucmVmZXJyZXIgJiYgZG9jdW1lbnQucmVmZXJyZXIuaW5kZXhPZigicjc0bi4iKSA9PT0gLTEpIHsNCgljb25zdCByZWZkb21haW4gPSBkb2N1bWVudC5yZWZlcnJlci5yZXBsYWNlKC9eaHR0cHM/OlwvXC8vZywgIiIpLnJlcGxhY2UoL153d3dcLi9nLCAiIikucmVwbGFjZSgvXC8kL2csICIiKTsNCiAgICBkb2N1bWVudC5jb29raWUgPSAiUjc0blJlZj0iK3JlZmRvbWFpbisiO21heC1hZ2U9ODY0MDA7cGF0aD0vO2RvbWFpbj1yNzRuLmNvbSI7DQp9DQoJCQkNCgkJCQlmdW5jdGlvbiBsb2FkUGxheWxpZ2h0KCkgew0KCQkJCQlpZiAoIWlzT25TaXRlKSB7IGxvY2F0aW9uLmhyZWYgPSAiaHR0cHM6Ly9yNzRuLmNvbSI7IHJldHVybiB9DQoJCQkJCWlmICh0eXBlb2YgcGxheWxpZ2h0U0RLID09PSAidW5kZWZpbmVkIikgew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXlsaWdodEJ1dHRvbiIpLnZhbHVlID0gIkxvYWRpbmcuLi4iOw0KCQkJCQkJZG9jdW1lbnQuaGVhZC5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsYDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9zZGsucGxheWxpZ2h0LmRldi9wbGF5bGlnaHQtc2RrLmNzcyI+YCk7DQoJCQkJCQlsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQoJCQkJCQlzY3JpcHQuc2V0QXR0cmlidXRlKCJ0eXBlIiwibW9kdWxlIik7DQoJCQkJCQlzY3JpcHQuaW5uZXJIVE1MID0gYHRyeSB7DQogICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KCJodHRwczovL3Nkay5wbGF5bGlnaHQuZGV2L3BsYXlsaWdodC1zZGsuZXMuanMiKTsNCiAgICBjb25zdCBwbGF5bGlnaHRTREsgPSBtb2R1bGUuZGVmYXVsdDsNCiAgICBhd2FpdCBwbGF5bGlnaHRTREsuaW5pdCh7DQoJCWJ1dHRvbjogew0KCQkJdmlzaWJsZTogZmFsc2UNCgkJfSwNCgkJZXhpdEludGVudDogew0KCQkJZW5hYmxlZDogZmFsc2UNCgkJfQ0KCX0pOw0KCXBsYXlsaWdodFNESy5zZXREaXNjb3ZlcnkodHJ1ZSk7DQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXlsaWdodEJ1dHRvbiIpLnZhbHVlID0gIk1vcmUgR2FtZXMiOw0KICB9IGNhdGNoIChlcnJvcikgew0KICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGxvYWRpbmcgdGhlIFBsYXlsaWdodCBTREs6IiwgZXJyb3IpOw0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5bGlnaHRCdXR0b24iKS52YWx1ZSA9ICJFcnJvci4uLiI7DQogIH1gOw0KCQkJCQkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJcGxheWxpZ2h0U0RLLnNldERpc2NvdmVyeSh0cnVlKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJPC9zY3JpcHQ+DQoJCTxkaXYgaWQ9ImJvdHRvbVRvcEJveENvbHVtbnMiPg0KCQkJPGRpdj4NCgkJCQk8ZGl2IGlkPSJuZXdzbGV0dGVyRnJhbWUiPjxhIGhyZWY9Imh0dHBzOi8vbmV3cy5yNzRuLmNvbS8iIHRhcmdldD0iX2JsYW5rIj5SNzRuIE5ld3NsZXR0ZXI8L2E+OiBCZSBub3RpZmllZCB3aGVuIFNhbmRib3hlbHMgYW5kIG90aGVyIFI3NG4gcHJvamVjdHMgYXJlIHVwZGF0ZWQsIGFsb25nIHdpdGggcmFtYmxpbmdzIGZyb20gdGhlIGRldmVsb3BlciE8YnI+PGJyPg0KCQkJCQk8Zm9ybSBhY3Rpb249Imh0dHBzOi8vbmV3cy5yNzRuLmNvbS9hcGkvdjEvZnJlZT9ub2pzPXRydWUiIG1ldGhvZD0icG9zdCIgY2xhc3M9ImZvcm0gX2Zvcm1fMW14dm5fNiIgbm92YWxpZGF0ZT0iIiB0YXJnZXQ9Il9ibGFuayI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZmlyc3RfdXJsIiB2YWx1ZT0iaHR0cHM6Ly9uZXdzLnI3NG4uY29tL2VtYmVkIj48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJmaXJzdF9yZWZlcnJlciI+PGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY3VycmVudF91cmwiIHZhbHVlPSJodHRwczovL25ld3Mucjc0bi5jb20vZW1iZWQiPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImN1cnJlbnRfcmVmZXJyZXIiPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InJlZmVycmFsX2NvZGUiPjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNvdXJjZSIgdmFsdWU9ImVtYmVkIj48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJyZWZlcnJpbmdfcHViX2lkIj48aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhZGRpdGlvbmFsX3JlZmVycmluZ19wdWJfaWRzIj4NCgkJCQkJPGlucHV0IHR5cGU9ImVtYWlsIiBwbGFjZWhvbGRlcj0iVHlwZSB5b3VyIGVtYWlsLi4uIiBuYW1lPSJlbWFpbCIgc3R5bGU9InBhZGRpbmc6MTVweDttYXJnaW4tcmlnaHQ6MDtib3JkZXItY29sb3I6I0Y0QUJGRjtib3JkZXItcmlnaHQ6bm9uZSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1YnNjcmliZSIgc3R5bGU9ImJhY2tncm91bmQ6ICNGNEFCRkY7IHBhZGRpbmc6MTVweDsgYm9yZGVyOnNvbGlkIDJweCAjRjRBQkZGOyBib3JkZXItcmFkaXVzOiAwIj48L2lucHV0Pg0KCQkJCQk8L2Zvcm0+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxkaXY+DQoJCQkJPHA+TW9yZSBSNzRuIGdhbWVzOiA8YSBocmVmPSJodHRwczovL1I3NG4uY29tL2dlbnRvd24vIiB0YXJnZXQ9Il9ibGFuayI+R2VuVG93biA8c3BhbiBzdHlsZT0iY29sb3I6cmVkIj4oTkVXKTwvc3Bhbj4sIDxhIGhyZWY9Imh0dHBzOi8vUjc0bi5jb20vY29vay8iIHRhcmdldD0iX2JsYW5rIj5JbmZpbml0ZSBDaGVmPC9hPjwvYT48L3A+DQoJCQkJPHA+RW1haWwgdXMgYXQgPGEgaHJlZj0ibWFpbHRvOmNvbnRhY3RAUjc0bi5jb20/c3ViamVjdD0lNUJTYW5kYm94ZWxzJTVEIj5jb250YWN0QFI3NG4uY29tPC9hPiBmb3IgYWR2ZXJ0aXNpbmcsIGhlbHAsIG9yIGVkdWNhdGlvbiE8L3A+DQoJCQkJPHA+U3VwcG9ydCBkZXZlbG9wbWVudCBieSBzdWJzY3JpYmluZyBvbiA8YSBocmVmPSJodHRwczovL3d3dy5wYXRyZW9uLmNvbS9SNzRuIiBzdHlsZT0iY29sb3I6I2Y5Njg1NCIgcmVsPSJtZSIgdGFyZ2V0PSJfYmxhbmsiPm91ciBQYXRyZW9uPC9hPiEgTWFueSBiZW5lZml0cyEhPC9wPg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCQk8c3R5bGU+DQoJCQkjbmV3c2xldHRlckZyYW1lIHsNCgkJCQltYXgtd2lkdGg6IDYwMHB4Ow0KCQkJCW1hcmdpbjogYXV0bzsNCgkJCQlwYWRkaW5nOiA1cHg7DQoJCQkJcGFkZGluZy10b3A6IDE1cHg7DQoJCQkJcGFkZGluZy1ib3R0b206IDE1cHg7DQoJCQkJYm9yZGVyOiAycHggc29saWQgdmFyKC0tdGhlbWUpOw0KCQkJfQ0KCQk8L3N0eWxlPg0KCQk8IS0tIDxpZnJhbWUgaWQ9Im5ld3NsZXR0ZXJpZnJhbWUiIHdpZHRoPSI0NTAiIGhlaWdodD0iMjUwIiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCAjRUVFOyBiYWNrZ3JvdW5kOmJsYWNrOyBtYXgtd2lkdGg6OTAlIiBmcmFtZWJvcmRlcj0iMCIgc2Nyb2xsaW5nPSJubyI+PC9pZnJhbWU+IC0tPg0KCQk8c2NyaXB0Pg0KCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHsNCgkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV3c2xldHRlcmlmcmFtZSIpLnNyYyA9ICJodHRwczovL25ld3Mucjc0bi5jb20vZW1iZWQiOw0KCQkJCXZhciBsYW5nU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxhbmdTZWxlY3QiKTsNCgkJCQlpZiAobGFuZ0NvZGUpIHsgbGFuZ1NlbGVjdC52YWx1ZSA9IGxhbmdDb2RlIH0NCgkJCQllbHNlIGlmIChzZXR0aW5ncy5sYW5nKSB7IGxhbmdTZWxlY3QudmFsdWUgPSBzZXR0aW5ncy5sYW5nIH0NCgkJCQllbHNlIHsgbGFuZ1NlbGVjdC52YWx1ZSA9ICJlbiIgfQ0KCQkJCWlmIChsYW5nWyIjbGFuZy5jcmVkaXQiXSkgew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFuZ0NyZWRpdCIpLmlubmVyVGV4dCA9ICJUcmFuc2xhdGlvbiBieSAiK2xhbmdbIiNsYW5nLmNyZWRpdCJdDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsYW5nQ3JlZGl0Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJfQ0KCQkJfSkNCgkJPC9zY3JpcHQ+DQoJPC9kaXY+DQoNCgk8ZGl2IGlkPSJib3R0b21MZWZ0Qm94Ij4NCgkJPGgyIGlkPSJpbnRyb1RpdGxlIj5TYW5kYm94ZWxzIEludHJvZHVjdGlvbjwvaDI+DQoJCTxwIGlkPSJpbnRybzEiPjxzdHJvbmc+PGRmbj5TYW5kYm94ZWxzPC9kZm4+PC9zdHJvbmc+IGlzIGEgZnJlZSBmYWxsaW5nLXNhbmQgc2ltdWxhdG9yIHRoYXQgY2FuIGJlIHBsYXllZCBpbiB5b3VyIGJyb3dzZXIuIEl0IGZlYXR1cmVzIGhlYXQgc2ltdWxhdGlvbiwgZWxlY3RyaWNpdHksIGRlbnNpdHksIGNoZW1pY2FsIHJlYWN0aW9ucywgY29va2luZywgYW5kIGZpcmUgc3ByZWFkLiBXaXRoIG92ZXIgNTAwIHVuaXF1ZSBlbGVtZW50cyB0byBwbGF5IHdpdGgsIFNhbmRib3hlbHMgaXMgYSBncmVhdCB3YXkgdG8gcGFzcyB0aGUgdGltZSBhbmQgcmVsYXguPC9wPg0KCQk8cCBpZD0iaW50cm8yIj5UaGVyZSBhcmUgdGhvdXNhbmRzIG9mIGludGVyYWN0aW9ucyBiZXR3ZWVuIHRoZSBtYW55IG1hdGVyaWFscywgcGxhbnRzLCBhbmltYWxzLCBmbHVpZHMsIGFuZCBwb3dkZXJzIGluIHRoZSBnYW1lLjwvcD4NCgkJPHAgaWQ9ImludHJvMyI+RmFsbGluZy1zYW5kIGdhbWVzIGFyZSBhIGdlbnJlIG9mIHNhbmRib3ggZ2FtZXMgY2hhcmFjdGVyaXplZCBieSBmYWxsaW5nIHBhcnRpY2xlcyBvZiB2YXJpb3VzIHR5cGVzLjwvcD4NCgkJPHAgaWQ9ImludHJvNCI+U2ltcGx5IGNsaWNrIG9yIHVzZSB5b3VyIHRvdWNoc2NyZWVuIHRvIHNlbGVjdCBhIGNhdGVnb3J5LCBsaWtlIDxzdHJvbmc+TGlxdWlkczwvc3Ryb25nPiwgdGhlbiBwaWNrIGFuIGVsZW1lbnQsIGxpa2UgPHN0cm9uZz5XYXRlcjwvc3Ryb25nPi4gRHJhZyBvbiB0aGUgY2FudmFzIGFib3ZlIHRvIHBsYWNlIHlvdXIgcGl4ZWxzLCBhbmQgd2F0Y2ggdGhlbSBpbnRlcmFjdCB3aXRoIG90aGVycyE8L3A+DQoJCTxpbWcgaWQ9ImludHJvSW1hZ2UiIHNyYz0iaWNvbnMvY292ZXItMzg0MHgxMjQwcHgud2VicCIgc3R5bGU9IndpZHRoOjEwMCUiIGFsdD0iTWFnbWEgZmFsbGluZyBpbnRvIFdhdGVyLCBjcmVhdGluZyBCYXNhbHQgYW5kIFN0ZWFtIiB0aXRsZT0iTWFnbWEgZmFsbGluZyBpbnRvIFdhdGVyLCBjcmVhdGluZyBCYXNhbHQgYW5kIFN0ZWFtIj4NCgkJPHAgaWQ9ImludHJvNSI+U2FuZGJveGVscyBoYXMgbWFueSA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vZWR1Y2F0aW9uLXVzZSI+YXBwbGljYXRpb25zIGluIGVkdWNhdGlvbjwvYT4uIFdpdGggYSBoYW5kcy1vbiBleHBlcmllbmNlLCBpdCBjYW4gZ2l2ZSBzdHVkZW50cyBhbiB1bmRlcnN0YW5kaW5nIG9mIGVtZXJnaW5nIHBoZW5vbWVuYSBpbiBtYW55IGZpZWxkcywgc3VjaCBhcyBiaW9sb2d5LCBjaGVtaXN0cnksIGVjb2xvZ3ksIGdlb2xvZ3ksIGNvb2tpbmcsIGFuZCBldmVuIHZpcm9sb2d5LiBUaGVyZSBhcmUgY291bnRsZXNzIGFzcGVjdHMgdG8gZGlzY292ZXIuPC9wPg0KCQk8cCBpZD0iaW50cm82Ij5XZSBoYXZlIGEgdGhyaXZpbmcgY29tbXVuaXR5IG9uIDxhIGhyZWY9Imh0dHBzOi8vZGlzY29yZC5nZy9lalVjNllQUXVTIiB0YXJnZXQ9Il9ibGFuayI+RGlzY29yZDwvYT4hIFRoZXJlIHlvdSBjYW4gcG9zdCBmZWVkYmFjayBvciBzaGFyZSB5b3VyIGNyZWF0aW9ucy48L3A+DQoJCTwhLS0gPHA+SWYgeW91J2QgbGlrZSB0byBzdXBwb3J0IHVzLCBjb25zaWRlciBkb25hdGluZyBvbiA8YSBocmVmPSJodHRwczovL3d3dy5wYXlwYWwuY29tL2RvbmF0ZS8/aG9zdGVkX2J1dHRvbl9pZD1HQ1g0VkhRN1NaV1ROIiB0YXJnZXQ9Il9ibGFuayI+UGF5UGFsPC9hPiBvciA8YSBocmVmPSJodHRwczovL2Nhc2guYXBwLyRlbW9qaWFydGlzdCIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSIkZW1vamlhcnRpc3QiPkNhc2hBcHA8L2E+LCBvciBzdWJzY3JpYmluZyBvbiBEaXNjb3JkLjwvcD4gLS0+DQoJCTxwIGlkPSJpbnRybzciPkJ1c2luZXNzIGlucXVpcmllcz8gRWR1Y2F0aW9uIHN0b3JpZXM/IEhlbHAgbmVlZGVkPyBFbWFpbCB1cyBhdCA8YSBocmVmPSJtYWlsdG86Y29udGFjdEBSNzRuLmNvbT9zdWJqZWN0PSU1QlNhbmRib3hlbHMlNUQiPmNvbnRhY3RAUjc0bi5jb208L2E+ITwvcD4NCgkJPHAgaWQ9ImludHJvTGlua3MiPk1vcmUgbGlua3M6IDxhIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9oZWxwIiByZWw9ImhlbHAiPkhlbHA8L2E+IOKAoiA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vdGlwcyI+VGlwczwvYT4g4oCiIDxhIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9tb2QtbGlzdCI+TW9kczwvYT4g4oCiIDxhIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5SNzRuLmNvbS9tb2JpbGUtdXNlIj5Nb2JpbGU8L2E+IOKAoiA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vb2ZmbGluZS11c2UiPk9mZmxpbmU8L2E+IOKAoiA8YSBocmVmPSJodHRwczovL3NhbmRib3hlbHMuUjc0bi5jb20vcHJlc3NraXQiPlByZXNzPC9hPiDigKIgPGEgaHJlZj0iaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8zNjY0ODIwL1NhbmRib3hlbHMvIiB0YXJnZXQ9Il9ibGFuayI+U3RlYW08L2E+IOKAoiA8YSBocmVmPSJodHRwczovL1I3NG4uY29tL3ByaXZhY3kiPlByaXZhY3k8L2E+PC9wPg0KCQk8cD48c3BhbiBpZD0icGF0cm9uVGhhbmtzIj5UaGFua3MgdG8gb3VyIFBhdHJvbnM8L3NwYW4+OiBTZXJpb3VzdGFyLCBnZ29kLCBwZXJzb25tYW4sIGZubDR5LCBQaXRzUG93ZXIsIHN3YWdnIGJvaSwgbW9zcywgU3VzcywgZXBzaWxvbmVyaWRhbmksIFRlbXBlc3QgdGhlIFNsaW1lLCBNaWRpX3BuZywgV2VpQ2hlaSwgVHJlbnQsIHUyY2U8L3A+DQoJCTxwIHN0eWxlPSJkaXNwbGF5Om5vbmUiIGlkPSJsYW5nQ3JlZGl0Ij5UcmFuc2xhdGlvbiBieSBSNzRuPC9wPg0KCQk8cCBpZD0ib3V0cm8iPlNhbmRib3hlbHMgaXMgZGV2ZWxvcGVkIGJ5IFI3NG4uIENoZWNrIG91dCA8YSBocmVmPSJodHRwczovL1I3NG4uY29tIiByZWw9ImF1dGhvciIgdGFyZ2V0PSJfYmxhbmsiPm91ciBvdGhlciBwcm9qZWN0czwvYT4hPC9wPg0KCQk8c2NyaXB0Pg0KCQkJLy8gYWRkIHRoZSBhYm92ZSBlbGVtZW50cyBwcm9ncmFtbWF0aWNhbGx5IHdoZW4gdGhlIHBhZ2UgbG9hZHMNCgkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7DQoJCQkJaWYgKHN0YW5kYWxvbmUpIHJldHVybjsNCgkJCQlpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAiZmlsZToiKSByZXR1cm47DQoJCQkJdmFyIGFkc2NyaXB0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0KCQkJCWFkc2NyaXB0MS5zcmMgPSAiaHR0cHM6Ly9wYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9wYWdlYWQvanMvYWRzYnlnb29nbGUuanM/Y2xpZW50PWNhLXB1Yi04NDg1Mjg0NjMwNzg1NzQwIjsNCgkJCQlhZHNjcmlwdDEuY3Jvc3NvcmlnaW4gPSAiYW5vbnltb3VzIjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90dG9tTGVmdEJveCcpLmFwcGVuZENoaWxkKGFkc2NyaXB0MSk7DQoJCQkJdmFyIGluczEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnMnKTsNCgkJCQlpbnMxLmNsYXNzTmFtZSA9ICJhZHNieWdvb2dsZSI7DQoJCQkJaW5zMS5zdHlsZSA9ICJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDo3MjhweDtoZWlnaHQ6OTBweCI7DQoJCQkJaW5zMS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWQtY2xpZW50JywgImNhLXB1Yi04NDg1Mjg0NjMwNzg1NzQwIik7DQoJCQkJaW5zMS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWQtc2xvdCcsICI5NDg0NjcyMDc5Iik7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvdHRvbUxlZnRCb3gnKS5hcHBlbmRDaGlsZChpbnMxKTsNCgkJCQl2YXIgYWRzY3JpcHQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQoJCQkJYWRzY3JpcHQyLmlubmVySFRNTCA9ICIoYWRzYnlnb29nbGUgPSB3aW5kb3cuYWRzYnlnb29nbGUgfHwgW10pLnB1c2goe30pOyI7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvdHRvbUxlZnRCb3gnKS5hcHBlbmRDaGlsZChhZHNjcmlwdDIpOw0KCQkJfSkNCgkJPC9zY3JpcHQ+DQoJPC9kaXY+DQoJPGRpdiBpZD0iYm90dG9tUmlnaHRCb3giPg0KCQk8aDI+Q29udHJvbHM8L2gyPg0KCQk8dGFibGUgaWQ9ImNvbnRyb2xzVGFibGUiPg0KCQkJPHRyPjx0ZD5EcmF3IHBpeGVsczwvdGQ+ICAgPHRkPjxrYmQ+TGVmdCBDbGljazwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+RXJhc2UgcGl4ZWxzPC90ZD4gICA8dGQ+PGtiZD5SaWdodCBDbGljazwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+UGljayBlbGVtZW50PC90ZD4gICA8dGQ+PGtiZD5NaWRkbGUgQ2xpY2s8L2tiZD48L3RkPjwvdHI+DQoJCQk8dHI+PHRkPlBhdXNlIHNpbXVsYXRpb248L3RkPiAgIDx0ZD48a2JkPlNwYWNlPC9rYmQ+IG9yIDxrYmQ+UDwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+SW50ZW5zaWZ5IGVmZmVjdDwvdGQ+ICAgPHRkPjxrYmQ+U2hpZnQ8L2tiZD4gKyA8a2JkIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnJlZDsiPkhlYXQ8L2tiZD4vPGtiZCBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpibHVlOyI+Q29vbDwva2JkPi88a2JkIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNjMWNmYjY7Y29sb3I6YmxhY2siPkRyYWc8L2tiZD4vPGtiZCBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmNGI1O2NvbG9yOmJsYWNrIj5NaXg8L2tiZD48L3RkPjwvdHI+DQoJCQk8dHI+PHRkPkRyYXcgbGluZTwvdGQ+ICAgPHRkPjxrYmQ+U2hpZnQ8L2tiZD4gKyA8a2JkPkNsaWNrPC9rYmQ+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZD5DaGFuZ2UgY3Vyc29yIHNpemU8L3RkPiAgIDx0ZD48a2JkPlNjcm9sbDwva2JkPiBvciA8a2JkPis8L2tiZD48a2JkPi08L2tiZD4gb3IgPGtiZD5bPC9rYmQ+PGtiZD5dPC9rYmQ+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZD5DaGFuZ2UgY2F0ZWdvcnk8L3RkPiAgIDx0ZD48a2JkPuKGkDwva2JkPjxrYmQ+4oaSPC9rYmQ+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZD5TZWxlY3QgYnkgbmFtZTwvdGQ+ICAgPHRkPjxrYmQ+RTwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+RWxlbWVudCBpbmZvPC90ZD4gICA8dGQ+PGtiZD5JPC9rYmQ+IG9yIDxrYmQ+Lzwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+T3BlbiBzZXR0aW5nczwvdGQ+ICAgPHRkPjxrYmQ+XDwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+UmVzZXQgY2FudmFzPC90ZD4gICA8dGQ+PGtiZD5SPC9rYmQ+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZD5TaW5nbGUgc3RlcDwvdGQ+ICAgPHRkPjxrYmQ+Jmd0Ozwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+RnVsbHNjcmVlbjwvdGQ+ICAgPHRkPjxrYmQ+Rjwva2JkPiBvciA8a2JkPkYxMTwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQ+Q2hhbmdlIHZpZXc8L3RkPiAgIDx0ZD48a2JkPjE8L2tiZD48a2JkPjI8L2tiZD48a2JkPjM8L2tiZD48a2JkPjQ8L2tiZD48L3RkPjwvdHI+DQoJCQk8dHI+PHRkPlRvZ2dsZSBHVUk8L3RkPiAgIDx0ZD48a2JkPkYxPC9rYmQ+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZD5DYXB0dXJlIHNjcmVlbnNob3Q8L3RkPiAgIDx0ZD48a2JkPkM8L2tiZD4gb3IgPGtiZD5GMjwva2JkPjwvdGQ+PC90cj4NCgkJCTx0cj48dGQgY29sc3Bhbj0iMiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48c3Ryb25nPjxhIGhyZWY9Imh0dHBzOi8vc2FuZGJveGVscy5yNzRuLmNvbS9jb250cm9scyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJPcGVuIHRoZSBjb250cm9scyBmaWxlIj5Nb3JlIGNvbnRyb2xzPC9hPjwvc3Ryb25nPjwvdGQ+PC90cj4NCgkJPC90YWJsZT4NCgk8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQoJbGV0IGRlZmVycmVkUHJvbXB0Ow0KCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVpbnN0YWxscHJvbXB0JywgKGUpID0+IHsNCgkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQlkZWZlcnJlZFByb21wdCA9IGU7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnN0YWxsLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsNCgkJLy9zaG93SW5BcHBJbnN0YWxsUHJvbW90aW9uKCk7DQoJfSk7DQo8L3NjcmlwdD4NCg0KPHNjcmlwdD4NCgkvLyBMYW5ndWFnZSBMb2FkZXIgUGFydCAzIChHVUkpDQoJaWYgKGxhbmcpIHsNCgkJZm9yIChsZXQga2V5IGluIGxhbmcpIHsNCgkJCWlmICghbGFuZ1trZXldKSBjb250aW51ZTsNCgkJCWlmIChrZXkuaW5kZXhPZigiZ3VpLiIpID09PSAwKSB7DQoJCQkJbGV0IGlkID0ga2V5LnN1YnN0cig0KTsNCgkJCQlsZXQgcXVhbDsNCgkJCQlpZiAoaWQuaW5kZXhPZigiLiIpICE9PSAtMSkgew0KCQkJCQlsZXQgc3BsaXQgPSBpZC5zcGxpdCgiLiIpOw0KCQkJCQlpZCA9IHNwbGl0WzBdOw0KCQkJCQlxdWFsID0gc3BsaXRbMV07DQoJCQkJfQ0KCQkJCWxldCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KCQkJCWlmIChlKSB7DQoJCQkJCWlmICghcXVhbCkgew0KCQkJCQkJaWYgKGUuZ2V0QXR0cmlidXRlKCJ0eXBlIikgPT09ICJidXR0b24iKSBlLnZhbHVlID0gbGFuZ1trZXldOw0KCQkJCQkJaWYgKGUuaGFzQXR0cmlidXRlKCJwbGFjZWhvbGRlciIpKSBlLnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLGxhbmdba2V5XSk7DQoJCQkJCQlpZiAoZS5oYXNBdHRyaWJ1dGUoImNvbnRlbnQiKSkgZS5zZXRBdHRyaWJ1dGUoImNvbnRlbnQiLGxhbmdba2V5XSk7DQoJCQkJCQllbHNlIGUuaW5uZXJUZXh0ID0gbGFuZ1trZXldOw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYgKHF1YWwgPT09ICJ0aXRsZSIpIGUudGl0bGUgPSBsYW5nW2tleV07DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQljb25zb2xlLmxvZyhsYW5nQ29kZSsiIEludmFsaWQgR1VJIEVsZW1lbnQgJyIraWQrIiciKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJbGV0IHRoZW1lT3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNwYW5bc2V0dGluZz10aGVtZV0gc2VsZWN0Iikub3B0aW9uczsNCgkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVtZU9wdGlvbnMubGVuZ3RoOyBpKyspIHsNCgkJCWNvbnN0IG9wdCA9IHRoZW1lT3B0aW9uc1tpXTsNCgkJCWlmIChsYW5nW29wdC52YWx1ZV0pIG9wdC5pbm5lclRleHQgPSBlbGVtVGl0bGVDYXNlKGxhbmdbb3B0LnZhbHVlXSk7DQoJCX0NCgl9DQoNCglpZiAoc3RhbmRhbG9uZSkgew0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm90dG9tSW5mb0JveCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYWdldGl0bGUiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm9Nb2RzIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlcmVuZCIsIlJlcXVpcmVzIEludGVybmV0IGNvbm5lY3Rpb24uPGJyPjxicj4iKQ0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZURpdiIpLmNsYXNzTGlzdC5hZGQoInN0YW5kYWxvbmUiKTsNCgkJaWYgKGlzTW9iaWxlKSB7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FtZURpdiIpLmNsYXNzTGlzdC5hZGQoIm1vYmlsZSIpOw0KCQl9DQoJCWlmIChzdGFuZGFsb25lVHlwZSA9PT0gImRpc2NvcmQiKSB7DQoJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZXNCdXR0b24iKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NhdmVzTWVudSAubWVudVRhYnMiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NhdmVzTWVudSBkaXYubWVudVRhYltkYXRhLXRhYj0nbG9jYWwnXSIpLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIik7DQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2F2ZXNNZW51IGRpdi5tZW51VGFiW2RhdGEtdGFiPSdkaXNjb3JkJ10iKS5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOw0KCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NhdmVzTWVudSBidXR0b24ubWVudVRhYltkYXRhLXRhYj0nbG9jYWwnXSIpLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIik7DQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2F2ZXNNZW51IGJ1dHRvbi5tZW51VGFiW2RhdGEtdGFiPSdkaXNjb3JkJ10iKS5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOw0KCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3NhdmVzTWVudSBidXR0b24ubWVudVRhYiIpLmZvckVhY2goKGUpID0+IHsNCgkJCQlpZiAoZS5pZCAhPT0gInNhdmVzVGFiRGlzY29yZCIpIGUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCX0pDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZXNCdXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHNob3dEaXNjb3JkU2F2ZXMpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZHNCdXR0b24iKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQl9DQoJCWlmIChzdGFuZGFsb25lVHlwZSA9PT0gInN0ZWFtIikgew0KCQkJLy8gSGlkZSBzY3JvbGxiYXJzDQoJCQlkb2N1bWVudC5oZWFkLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIixgPHN0eWxlPjo6LXdlYmtpdC1zY3JvbGxiYXIgeyBkaXNwbGF5OiBub25lOyB9PC9zdHlsZT5gKQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNldHRpbmctcGl4ZWxzaXplLTZ3IikudmFsdWUgPSAiN3ciOw0KCQl9DQoJfQ0KPC9zY3JpcHQ+DQoNCjwhLS0gR2xvYmFsIHNpdGUgdGFnIChndGFnLmpzKSAtIEdvb2dsZSBBbmFseXRpY3MgLS0+DQo8c2NyaXB0IGFzeW5jIHNyYz0iaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RhZy9qcz9pZD1VQS05MzcyMDM0OS05Ij48L3NjcmlwdD4NCjxzY3JpcHQ+DQoJd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107DQoJZnVuY3Rpb24gZ3RhZygpe2RhdGFMYXllci5wdXNoKGFyZ3VtZW50cyk7fQ0KCWd0YWcoJ2pzJywgbmV3IERhdGUoKSk7DQoJZ3RhZygnY29uZmlnJywgJ1VBLTkzNzIwMzQ5LTknKTsNCjwvc2NyaXB0Pg0KDQo8L2JvZHk+DQoNCjwvaHRtbD4=";
