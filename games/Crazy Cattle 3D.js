window.game = "PCFET0NUWVBFIGh0bWw+DQoNCg0KPCEtLSBVbHRpbWF0ZSBHYW1lIFN0YXNoIGZpbGUtLT4gDQo8IS0tIEZvciB0aGUgcmVndWxhcmx5IHVwZGF0aW5nIGRvYyBnbyB0byBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFfRm1IM0JsU0JRSTdGR2dBUUw1OS1aUGU4ZUN4czM1d2VsNkpVeVZhRzhRLyAtLT4NCg0KDQoNCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIHVzZXItc2NhbGFibGU9bm8sIGluaXRpYWwtc2NhbGU9MS4wIj4NCiAgPHRpdGxlPkNyYXp5Q2F0dGxlM0Q8L3RpdGxlPg0KICA8c3R5bGU+DQogICAgaHRtbCwNCiAgICBib2R5LA0KICAgICNjYW52YXMgew0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgcGFkZGluZzogMDsNCiAgICAgIGJvcmRlcjogMDsNCiAgICB9DQoNCiAgICBib2R5IHsNCiAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIHRvdWNoLWFjdGlvbjogbm9uZTsNCiAgICB9DQoNCiAgICAjY2FudmFzIHsNCiAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIH0NCg0KICAgICNjYW52YXM6Zm9jdXMgew0KICAgICAgb3V0bGluZTogbm9uZTsNCiAgICB9DQoNCiAgICAjc3RhdHVzLA0KICAgICNzdGF0dXMtc3BsYXNoLCANCiAgICAjc3RhdHVzLXByb2dyZXNzIHsgDQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICBsZWZ0OiAwOw0KICAgICAgcmlnaHQ6IDA7DQogICAgfQ0KDQogICAgI3N0YXR1cywNCiAgICAjc3RhdHVzLXNwbGFzaCB7DQogICAgICB0b3A6IDA7DQogICAgICBib3R0b206IDA7DQogICAgfQ0KDQogICAgI3N0YXR1cyB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICB2aXNpYmlsaXR5OiBoaWRkZW47DQogICAgfQ0KDQogICAgI3N0YXR1cy1zcGxhc2ggew0KICAgICAgbWF4LWhlaWdodDogMTAwJTsNCiAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgIG1hcmdpbjogYXV0bzsNCiAgICB9DQoNCiAgICAjc3RhdHVzLXNwbGFzaC5zaG93LWltYWdlLS1mYWxzZSB7DQogICAgICBkaXNwbGF5OiBub25lOw0KICAgIH0NCg0KICAgICNzdGF0dXMtc3BsYXNoLmZ1bGxzaXplLS10cnVlIHsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgb2JqZWN0LWZpdDogY29udGFpbjsNCiAgICB9DQoNCiAgICAjc3RhdHVzLXNwbGFzaC51c2UtZmlsdGVyLS1mYWxzZSB7DQogICAgICBpbWFnZS1yZW5kZXJpbmc6IHBpeGVsYXRlZDsNCiAgICB9DQoNCiAgICAjc3RhdHVzLXByb2dyZXNzLA0KICAgICNzdGF0dXMtbm90aWNlIHsNCiAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgfQ0KDQogICAgI3N0YXR1cy1wcm9ncmVzcyB7DQogICAgICBib3R0b206IDEwJTsNCiAgICAgIHdpZHRoOiA1MCU7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQoNCiAgICAjc3RhdHVzLW5vdGljZSB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWIzOTQzOw0KICAgICAgYm9yZGVyLXJhZGl1czogMC41cmVtOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgIzliMzk0MzsNCiAgICAgIGNvbG9yOiAjZTBlMGUwOw0KICAgICAgZm9udC1mYW1pbHk6ICdOb3RvIFNhbnMnLCAnRHJvaWQgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmOw0KICAgICAgbGluZS1oZWlnaHQ6IDEuMzsNCiAgICAgIG1hcmdpbjogMCAycmVtOw0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIHBhZGRpbmc6IDFyZW07DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICB6LWluZGV4OiAxOw0KICAgIH0NCiAgPC9zdHlsZT4NCiAgPGxpbmsgaWQ9Ii1nZC1lbmdpbmUtaWNvbiIgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvY2MzZC1tZXJnZS9pbmRleC5pY29uLnBuZyIgLz4NCiAgPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL2NjM2QtbWVyZ2UvaW5kZXguYXBwbGUtdG91Y2gtaWNvbi5wbmciIC8+DQoNCiAgPHNjcmlwdD4NCg0KICAgIGNvbnN0IENETl9CQVNFID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvY2MzZC1tZXJnZS8nOw0KICAgIA0KICAgIGFzeW5jIGZ1bmN0aW9uIG1lcmdlU3BsaXRGaWxlcyhiYXNlTmFtZSwgbnVtUGFydHMpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHBhcnRzID0gW107DQogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bVBhcnRzOyBpKyspIHsNCiAgICAgICAgICBwYXJ0cy5wdXNoKGAke0NETl9CQVNFfSR7YmFzZU5hbWV9LnBhcnQke2l9YCk7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zb2xlLmxvZyhgTWVyZ2luZyAke2Jhc2VOYW1lfSBmcm9tICR7bnVtUGFydHN9IHBhcnRzLi4uYCk7DQogICAgICAgIA0KICAgICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChwYXJ0cy5tYXAocGFydCA9PiANCiAgICAgICAgICBmZXRjaChwYXJ0KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoICR7cGFydH06YCwgZXJyKTsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtwYXJ0fWApOw0KICAgICAgICAgIH0pDQogICAgICAgICkpOw0KICAgICAgICANCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAoIXJlc3BvbnNlc1tpXS5vaykgew0KICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCAke3BhcnRzW2ldfTogJHtyZXNwb25zZXNbaV0uc3RhdHVzfSAke3Jlc3BvbnNlc1tpXS5zdGF0dXNUZXh0fWApOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXNwb25zZXMubWFwKHIgPT4gci5hcnJheUJ1ZmZlcigpKSk7DQogICAgICAgIA0KICAgICAgICBjb25zdCB0b3RhbFNpemUgPSBidWZmZXJzLnJlZHVjZSgoc3VtLCBidWYpID0+IHN1bSArIGJ1Zi5ieXRlTGVuZ3RoLCAwKTsNCiAgICAgICAgDQoNCiAgICAgICAgY29uc3QgbWVyZ2VkQXJyYXkgPSBuZXcgVWludDhBcnJheSh0b3RhbFNpemUpOw0KICAgICAgICBsZXQgb2Zmc2V0ID0gMDsNCiAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykgew0KICAgICAgICAgIG1lcmdlZEFycmF5LnNldChuZXcgVWludDhBcnJheShidWZmZXIpLCBvZmZzZXQpOw0KICAgICAgICAgIG9mZnNldCArPSBidWZmZXIuYnl0ZUxlbmd0aDsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnNvbGUubG9nKGAke2Jhc2VOYW1lfSBtZXJnZWQgc3VjY2Vzc2Z1bGx5OiAke3RvdGFsU2l6ZX0gYnl0ZXNgKTsNCiAgICAgICAgcmV0dXJuIG1lcmdlZEFycmF5LmJ1ZmZlcjsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG1lcmdpbmcgJHtiYXNlTmFtZX06YCwgZXJyb3IpOw0KICAgICAgICB0aHJvdyBlcnJvcjsNCiAgICAgIH0NCiAgICB9DQoNCiAgICB3aW5kb3cubWVyZ2VkRmlsZXMgPSB7DQogICAgICBwY2s6IG51bGwsDQogICAgICB3YXNtOiBudWxsDQogICAgfTsNCg0KICAgIGlmICghd2luZG93Lm9yaWdpbmFsRmV0Y2gpIHsNCiAgICAgIHdpbmRvdy5vcmlnaW5hbEZldGNoID0gd2luZG93LmZldGNoOw0KICAgIH0NCg0KICAgIHdpbmRvdy5mZXRjaCA9IGZ1bmN0aW9uKHVybCwgLi4uYXJncykgew0KICAgICAgY29uc3QgdXJsU3RyID0gdHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyB1cmwgOiB1cmwudG9TdHJpbmcoKTsNCiAgICAgIA0KICAgICAgaWYgKHVybFN0ci5pbmNsdWRlcygnaW5kZXgucGNrJykgJiYgIXVybFN0ci5pbmNsdWRlcygnLnBhcnQnKSkgew0KICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJjZXB0aW5nIGluZGV4LnBjayByZXF1ZXN0Jyk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgIGNvbnN0IGNoZWNrRGF0YSA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgICAgICAgIGlmICh3aW5kb3cubWVyZ2VkRmlsZXMucGNrKSB7DQogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tEYXRhKTsNCiAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2Uod2luZG93Lm1lcmdlZEZpbGVzLnBjaywgew0KICAgICAgICAgICAgICAgIHN0YXR1czogMjAwLA0KICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdPSycsDQogICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLA0KICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogd2luZG93Lm1lcmdlZEZpbGVzLnBjay5ieXRlTGVuZ3RoDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwgNTApOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgaWYgKHVybFN0ci5pbmNsdWRlcygnaW5kZXgud2FzbScpICYmICF1cmxTdHIuaW5jbHVkZXMoJy5wYXJ0JykpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ0ludGVyY2VwdGluZyBpbmRleC53YXNtIHJlcXVlc3QnKTsNCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7DQogICAgICAgICAgY29uc3QgY2hlY2tEYXRhID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgaWYgKHdpbmRvdy5tZXJnZWRGaWxlcy53YXNtKSB7DQogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tEYXRhKTsNCiAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2Uod2luZG93Lm1lcmdlZEZpbGVzLndhc20sIHsNCiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCwNCiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnT0snLA0KICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vd2FzbScsDQogICAgICAgICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiB3aW5kb3cubWVyZ2VkRmlsZXMud2FzbS5ieXRlTGVuZ3RoDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwgNTApOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgcmV0dXJuIHdpbmRvdy5vcmlnaW5hbEZldGNoLmNhbGwodGhpcywgdXJsLCAuLi5hcmdzKTsNCiAgICB9Ow0KDQogICAgKGFzeW5jIGZ1bmN0aW9uKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgW3Bja0J1ZmZlciwgd2FzbUJ1ZmZlcl0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgbWVyZ2VTcGxpdEZpbGVzKCdpbmRleC5wY2snLCAzKSwNCiAgICAgICAgICBtZXJnZVNwbGl0RmlsZXMoJ2luZGV4Lndhc20nLCAzKQ0KICAgICAgICBdKTsNCiAgICAgICAgDQogICAgICAgIHdpbmRvdy5tZXJnZWRGaWxlcy5wY2sgPSBwY2tCdWZmZXI7DQogICAgICAgIHdpbmRvdy5tZXJnZWRGaWxlcy53YXNtID0gd2FzbUJ1ZmZlcjsNCiAgICAgICAgDQogICAgICAgIGNvbnNvbGUubG9nKCdBbGwgZmlsZXMgbWVyZ2VkIGFuZCByZWFkeSEnKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBtZXJnZSBmaWxlczonLCBlcnJvcik7DQogICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gbG9hZCBnYW1lIGZpbGVzLiBQbGVhc2UgY2hlY2sgdGhhdCBhbGwgLnBhcnQgZmlsZXMgYXJlIHVwbG9hZGVkIHRvIHlvdXIgQ0ROLlxuXG5FcnJvcjogJyArIGVycm9yLm1lc3NhZ2UpOw0KICAgICAgfQ0KICAgIH0pKCk7DQogIDwvc2NyaXB0Pg0KPC9oZWFkPg0KDQo8Ym9keT4NCiAgPGNhbnZhcyBpZD0iY2FudmFzIj4NCiAgICBZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FudmFzIHRhZy4NCiAgPC9jYW52YXM+DQoNCiAgPG5vc2NyaXB0Pg0KICAgIFlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IEphdmFTY3JpcHQuDQogIDwvbm9zY3JpcHQ+DQoNCiAgPGRpdiBpZD0ic3RhdHVzIj4NCiAgICA8aW1nIGlkPSJzdGF0dXMtc3BsYXNoIiBjbGFzcz0ic2hvdy1pbWFnZS0tdHJ1ZSBmdWxsc2l6ZS0tdHJ1ZSB1c2UtZmlsdGVyLS10cnVlIiBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvY2MzZC1tZXJnZS9pbmRleC5wbmciIGFsdD0iIj4NCiAgICA8cHJvZ3Jlc3MgaWQ9InN0YXR1cy1wcm9ncmVzcyI+PC9wcm9ncmVzcz4NCiAgICA8ZGl2IGlkPSJzdGF0dXMtbm90aWNlIj48L2Rpdj4NCiAgPC9kaXY+DQoNCiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9idWJibHMvY2MzZC1tZXJnZS9pbmRleC5qcyI+PC9zY3JpcHQ+DQogIDxzY3JpcHQ+IA0KICAgIGNvbnN0IEdPRE9UX0NPTkZJRyA9IHsNCiAgICAgICJhcmdzIjogW10sDQogICAgICAiY2FudmFzUmVzaXplUG9saWN5IjogMiwNCiAgICAgICJlbnN1cmVDcm9zc09yaWdpbklzb2xhdGlvbkhlYWRlcnMiOiB0cnVlLA0KICAgICAgImV4ZWN1dGFibGUiOiAiaW5kZXgiLA0KICAgICAgImV4cGVyaW1lbnRhbFZLIjogZmFsc2UsDQogICAgICAiZmlsZVNpemVzIjogew0KICAgICAgICAiaW5kZXgucGNrIjogNDIzMzYxNzYsDQogICAgICAgICJpbmRleC53YXNtIjogNDM2OTkxOTANCiAgICAgIH0sDQogICAgICAiZm9jdXNDYW52YXMiOiB0cnVlLA0KICAgICAgImdkZXh0ZW5zaW9uTGlicyI6IFtdDQogICAgfTsNCiAgICBjb25zdCBHT0RPVF9USFJFQURTX0VOQUJMRUQgPSBmYWxzZTsNCiAgICBjb25zdCBlbmdpbmUgPSBuZXcgRW5naW5lKEdPRE9UX0NPTkZJRyk7DQoNCiAgICAoZnVuY3Rpb24oKSB7DQogICAgICBjb25zdCBzdGF0dXNPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpOw0KICAgICAgY29uc3Qgc3RhdHVzUHJvZ3Jlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLXByb2dyZXNzJyk7DQogICAgICBjb25zdCBzdGF0dXNOb3RpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLW5vdGljZScpOw0KDQogICAgICBsZXQgaW5pdGlhbGl6aW5nID0gdHJ1ZTsNCiAgICAgIGxldCBzdGF0dXNNb2RlID0gJyc7DQoNCiAgICAgIGZ1bmN0aW9uIHNldFN0YXR1c01vZGUobW9kZSkgew0KICAgICAgICBpZiAoc3RhdHVzTW9kZSA9PT0gbW9kZSB8fCAhaW5pdGlhbGl6aW5nKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmIChtb2RlID09PSAnaGlkZGVuJykgew0KICAgICAgICAgIHN0YXR1c092ZXJsYXkucmVtb3ZlKCk7DQogICAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHN0YXR1c092ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsNCiAgICAgICAgc3RhdHVzUHJvZ3Jlc3Muc3R5bGUuZGlzcGxheSA9IG1vZGUgPT09ICdwcm9ncmVzcycgPyAnYmxvY2snIDogJ25vbmUnOw0KICAgICAgICBzdGF0dXNOb3RpY2Uuc3R5bGUuZGlzcGxheSA9IG1vZGUgPT09ICdub3RpY2UnID8gJ2Jsb2NrJyA6ICdub25lJzsNCiAgICAgICAgc3RhdHVzTW9kZSA9IG1vZGU7DQogICAgICB9DQoNCiAgICAgIGZ1bmN0aW9uIHNldFN0YXR1c05vdGljZSh0ZXh0KSB7DQogICAgICAgIHdoaWxlIChzdGF0dXNOb3RpY2UubGFzdENoaWxkKSB7DQogICAgICAgICAgc3RhdHVzTm90aWNlLnJlbW92ZUNoaWxkKHN0YXR1c05vdGljZS5sYXN0Q2hpbGQpOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdCgnXG4nKTsNCiAgICAgICAgbGluZXMuZm9yRWFjaCgobGluZSkgPT4gew0KICAgICAgICAgIHN0YXR1c05vdGljZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsaW5lKSk7DQogICAgICAgICAgc3RhdHVzTm90aWNlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgZnVuY3Rpb24gZGlzcGxheUZhaWx1cmVOb3RpY2UoZXJyKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsNCiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7DQogICAgICAgICAgc2V0U3RhdHVzTm90aWNlKGVyci5tZXNzYWdlKTsNCiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyID09PSAnc3RyaW5nJykgew0KICAgICAgICAgIHNldFN0YXR1c05vdGljZShlcnIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHNldFN0YXR1c05vdGljZSgnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nKTsNCiAgICAgICAgfQ0KICAgICAgICBzZXRTdGF0dXNNb2RlKCdub3RpY2UnKTsNCiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7DQogICAgICB9DQoNCiAgICAgIGNvbnN0IG1pc3NpbmcgPSBFbmdpbmUuZ2V0TWlzc2luZ0ZlYXR1cmVzKHsNCiAgICAgICAgdGhyZWFkczogR09ET1RfVEhSRUFEU19FTkFCTEVELA0KICAgICAgfSk7DQoNCiAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBjb25zdCBtaXNzaW5nTXNnID0gJ0Vycm9yXG5UaGUgZm9sbG93aW5nIGZlYXR1cmVzIHJlcXVpcmVkIHRvIHJ1biBHb2RvdCBwcm9qZWN0cyBvbiB0aGUgV2ViIGFyZSBtaXNzaW5nOlxuJzsNCiAgICAgICAgZGlzcGxheUZhaWx1cmVOb3RpY2UobWlzc2luZ01zZyArIG1pc3Npbmcuam9pbignXG4nKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBzZXRTdGF0dXNNb2RlKCdwcm9ncmVzcycpOw0KICAgICAgICBlbmdpbmUuc3RhcnRHYW1lKHsNCiAgICAgICAgICAnb25Qcm9ncmVzcyc6IGZ1bmN0aW9uKGN1cnJlbnQsIHRvdGFsKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudCA+IDAgJiYgdG90YWwgPiAwKSB7DQogICAgICAgICAgICAgIHN0YXR1c1Byb2dyZXNzLnZhbHVlID0gY3VycmVudDsNCiAgICAgICAgICAgICAgc3RhdHVzUHJvZ3Jlc3MubWF4ID0gdG90YWw7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBzdGF0dXNQcm9ncmVzcy5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7DQogICAgICAgICAgICAgIHN0YXR1c1Byb2dyZXNzLnJlbW92ZUF0dHJpYnV0ZSgnbWF4Jyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgc2V0U3RhdHVzTW9kZSgnaGlkZGVuJyk7DQogICAgICAgIH0sIGRpc3BsYXlGYWlsdXJlTm90aWNlKTsNCiAgICAgIH0NCiAgICB9KCkpOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4=";
