window.game = "PCFET0NUWVBFIGh0bWw+DQo8IS0tIFVsdGltYXRlIEdhbWUgU3Rhc2ggZmlsZS0tPiANCjwhLS0gRm9yIHRoZSByZWd1bGFybHkgdXBkYXRpbmcgZG9jIGdvIHRvIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMV9GbUgzQmxTQlFJN0ZHZ0FRTDU5LVpQZThlQ3hzMzV3ZWw2SlV5VmFHOFEvIC0tPg0KPGh0bWwgbGFuZz0iZW4iPg0KICA8YmFzZSBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYnViYmxzL3Vnc3NAbWFpbi96b21ib3BhY2FseXBzZTIvIj4NCjxoZWFkPg0KICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQogIDxtZXRhIGh0dHAtZXF1aXY9IngtdWEtY29tcGF0aWJsZSIgY29udGVudD0iaWU9ZWRnZSI+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vIj4NCiAgPHRpdGxlPnJlYWxseSBjb29sIGZsYXNoIGdhbWUgPC90aXRsZT4NCiAgPHN0eWxlPg0KICAgIGh0bWwsIGJvZHkgew0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgcGFkZGluZzogMDsNCiAgICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgIH0NCiAgICAjZmxhc2gtY29udGFpbmVyIHsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHRvcDogNTAlOw0KICAgICAgbGVmdDogNTAlOw0KICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7DQogICAgICBiYWNrZ3JvdW5kOiBibGFjazsNCiAgICB9DQogICAgcnVmZmxlLXBsYXllciB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgfQ0KICAgICNsb2FkaW5nLXRleHQgew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgdG9wOiA1MCU7DQogICAgICBsZWZ0OiA1MCU7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOw0KICAgICAgZm9udC1zaXplOiAyNHB4Ow0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgei1pbmRleDogMTAwMDsNCiAgICB9DQogIDwvc3R5bGU+DQogIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BydWZmbGUtcnMvcnVmZmxlQDAuMi4wLW5pZ2h0bHkuMjAyNS4xMC4yL3J1ZmZsZS5taW4uanMiPjwvc2NyaXB0Pg0KPC9oZWFkPg0KPGJvZHk+DQogIDxkaXYgaWQ9ImxvYWRpbmctdGV4dCI+TG9hZGluZyBnYW1lLi4uIDAlPC9kaXY+DQogIDxkaXYgaWQ9ImZsYXNoLWNvbnRhaW5lciI+PC9kaXY+DQogIDxzY3JpcHQ+DQogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZsYXNoLWNvbnRhaW5lciIpOw0KICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmctdGV4dCIpOw0KDQogICAgZnVuY3Rpb24gbWVyZ2VTV0ZQYXJ0cyhmaWxlUGFydHMpIHsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIGxldCBidWZmZXJzID0gW107DQogICAgICAgIGxldCB0b3RhbFNpemUgPSAwOw0KICAgICAgICBsZXQgbG9hZGVkU2l6ZSA9IDA7DQoNCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKSB7DQogICAgICAgICAgaWYgKHRvdGFsU2l6ZSA+IDApIHsNCiAgICAgICAgICAgIGNvbnN0IHBjdCA9IE1hdGgucm91bmQoKGxvYWRlZFNpemUgLyB0b3RhbFNpemUpICogMTAwKTsNCiAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9IGBMb2FkaW5nIGdhbWUuLi4gJHtwY3R9JWA7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZmV0Y2hQYXJ0KGkpIHsNCiAgICAgICAgICBpZiAoaSA+PSBmaWxlUGFydHMubGVuZ3RoKSB7DQogICAgICAgICAgICBpZiAobG9hZGluZ1RleHQpIHsNCiAgICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSAnTWVyZ2luZyBmaWxlcy4uLic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgbWVyZ2VkQmxvYiA9IG5ldyBCbG9iKGJ1ZmZlcnMsIHsgdHlwZTogJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJyB9KTsNCiAgICAgICAgICAgIGxldCBtZXJnZWRVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1lcmdlZEJsb2IpOw0KICAgICAgICAgICAgcmVzb2x2ZShtZXJnZWRVcmwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGZldGNoKGZpbGVQYXJ0c1tpXSkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtmaWxlUGFydHNbaV19OiAke3Jlc3BvbnNlLnN0YXR1c31gKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJyk7DQogICAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgdG90YWxTaXplICs9IHBhcnNlSW50KGNvbnRlbnRMZW5ndGgpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7DQogICAgICAgICAgICAgIGxvYWRlZFNpemUgKz0gZGF0YS5ieXRlTGVuZ3RoOw0KICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzcygpOw0KICAgICAgICAgICAgICBmZXRjaFBhcnQoaSArIDEpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpOw0KICAgICAgICB9DQoNCiAgICAgICAgZmV0Y2hQYXJ0KDApOw0KICAgICAgfSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0U1dGUGFydHMoYmFzZUZpbGUsIHN0YXJ0LCBlbmQpIHsNCiAgICAgIGxldCBhcnIgPSBbXTsNCiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykgew0KICAgICAgICBhcnIucHVzaChgJHtiYXNlRmlsZX0ucGFydCR7aX1gKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBhcnI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcmVzaXplR2FtZSgpIHsNCiAgICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7DQogICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7DQogICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IDQgLyAzOw0KICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcih3aW5kb3dXaWR0aCk7DQogICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcih3aW5kb3dXaWR0aCAvIGFzcGVjdFJhdGlvKTsNCiAgICAgIGlmIChoZWlnaHQgPiB3aW5kb3dIZWlnaHQpIHsNCiAgICAgICAgaGVpZ2h0ID0gTWF0aC5mbG9vcih3aW5kb3dIZWlnaHQpOw0KICAgICAgICB3aWR0aCA9IE1hdGguZmxvb3IoaGVpZ2h0ICogYXNwZWN0UmF0aW8pOw0KICAgICAgfQ0KICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgOw0KICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7DQogICAgfQ0KDQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZUdhbWUpOw0KDQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCAoKSA9PiB7DQogICAgICByZXNpemVHYW1lKCk7DQogICAgICANCiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBTV0YgbWVyZ2UuLi4nKTsNCiAgICAgIA0KICAgICAgY29uc3Qgc3dmUGFydHMgPSBnZXRTV0ZQYXJ0cygnem9tYm9jYWx5cHNlMi5zd2YnLCAxLCAyKTsgDQogICAgICANCiAgICAgIGNvbnN0IHVzZVNpbmdsZUZpbGUgPSBmYWxzZTsgDQogICAgICBjb25zdCBzaW5nbGVGaWxlVXJsID0gInpvbWJvY2FseXBzZTIuc3dmIjsNCg0KICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB1c2VTaW5nbGVGaWxlIA0KICAgICAgICA/IFByb21pc2UucmVzb2x2ZShzaW5nbGVGaWxlVXJsKQ0KICAgICAgICA6IG1lcmdlU1dGUGFydHMoc3dmUGFydHMpOw0KDQogICAgICBsb2FkUHJvbWlzZQ0KICAgICAgICAudGhlbihzd2ZVcmwgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdTV0YgcmVhZHksIGxvYWRpbmcgaW50byBSdWZmbGUuLi4nKTsNCiAgICAgICAgICBpZiAobG9hZGluZ1RleHQpIHsNCiAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ1N0YXJ0aW5nIGdhbWUuLi4nOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGNvbnN0IHJ1ZmZsZSA9IHdpbmRvdy5SdWZmbGVQbGF5ZXI/Lm5ld2VzdCgpIHx8IHdpbmRvdy5SdWZmbGVQbGF5ZXI/LmNyZWF0ZVBsYXllcigpOw0KICAgICAgICAgIGlmIChydWZmbGUgJiYgY29udGFpbmVyKSB7DQogICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBydWZmbGUuY3JlYXRlUGxheWVyKCk7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgICAgICBwbGF5ZXIuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgICAgICAgcGxheWVyLnN0eWxlLmJhY2tncm91bmQgPSAiYmxhY2siOw0KICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllcik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHBsYXllci5sb2FkKHN3ZlVybCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIGxvYWRlZCBzdWNjZXNzZnVsbHknKTsNCiAgICAgICAgICAgICAgaWYgKGxvYWRpbmdUZXh0KSB7DQogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQucmVtb3ZlKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1J1ZmZsZSBsb2FkIGVycm9yOicsIGVycik7DQogICAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0LnRleHRDb250ZW50ID0gJ0Vycm9yIGxvYWRpbmcgZ2FtZTogJyArIGVyci5tZXNzYWdlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignUnVmZmxlIG5vdCBhdmFpbGFibGUnKTsNCiAgICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICJSdWZmbGUgZmFpbGVkIHRvIGxvYWQuIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NXRiBtZXJnZSBlcnJvcjonLCBlcnIpOw0KICAgICAgICAgIGlmIChsb2FkaW5nVGV4dCkgew0KICAgICAgICAgICAgbG9hZGluZ1RleHQudGV4dENvbnRlbnQgPSAnRXJyb3IgbG9hZGluZyBnYW1lIGZpbGVzOiAnICsgZXJyLm1lc3NhZ2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9KTsNCiAgPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+";
